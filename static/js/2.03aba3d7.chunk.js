/*! For license information please see 2.03aba3d7.chunk.js.LICENSE.txt */
(this.webpackJsonpthreejs=this.webpackJsonpthreejs||[]).push([[2],[function(e,t,n){"use strict";n.r(t),n.d(t,"ACESFilmicToneMapping",(function(){return he})),n.d(t,"AddEquation",(function(){return P})),n.d(t,"AddOperation",(function(){return se})),n.d(t,"AdditiveAnimationBlendMode",(function(){return nn})),n.d(t,"AdditiveBlending",(function(){return I})),n.d(t,"AlphaFormat",(function(){return Xe})),n.d(t,"AlwaysDepth",(function(){return K})),n.d(t,"AlwaysStencilFunc",(function(){return Ln})),n.d(t,"AmbientLight",(function(){return Ud})),n.d(t,"AmbientLightProbe",(function(){return uh})),n.d(t,"AnimationClip",(function(){return qc})),n.d(t,"AnimationLoader",(function(){return td})),n.d(t,"AnimationMixer",(function(){return Bh})),n.d(t,"AnimationObjectGroup",(function(){return Uh})),n.d(t,"AnimationUtils",(function(){return Lc})),n.d(t,"ArcCurve",(function(){return ud})),n.d(t,"ArrayCamera",(function(){return Bs})),n.d(t,"ArrowHelper",(function(){return Df})),n.d(t,"Audio",(function(){return xh})),n.d(t,"AudioAnalyser",(function(){return Th})),n.d(t,"AudioContext",(function(){return oh})),n.d(t,"AudioListener",(function(){return bh})),n.d(t,"AudioLoader",(function(){return sh})),n.d(t,"AxesHelper",(function(){return Lf})),n.d(t,"AxisHelper",(function(){return Dp})),n.d(t,"BackSide",(function(){return E})),n.d(t,"BasicDepthPacking",(function(){return mn})),n.d(t,"BasicShadowMap",(function(){return x})),n.d(t,"BinaryTextureLoader",(function(){return Fp})),n.d(t,"Bone",(function(){return wl})),n.d(t,"BooleanKeyframeTrack",(function(){return Uc})),n.d(t,"BoundingBoxHelper",(function(){return Lp})),n.d(t,"Box2",(function(){return Kh})),n.d(t,"Box3",(function(){return dr})),n.d(t,"Box3Helper",(function(){return kf})),n.d(t,"BoxBufferGeometry",(function(){return Ea})),n.d(t,"BoxGeometry",(function(){return ru})),n.d(t,"BoxHelper",(function(){return Of})),n.d(t,"BufferAttribute",(function(){return Ni})),n.d(t,"BufferGeometry",(function(){return ia})),n.d(t,"BufferGeometryLoader",(function(){return Yd})),n.d(t,"ByteType",(function(){return Pe})),n.d(t,"Cache",(function(){return Qc})),n.d(t,"Camera",(function(){return ka})),n.d(t,"CameraHelper",(function(){return Sf})),n.d(t,"CanvasRenderer",(function(){return zp})),n.d(t,"CanvasTexture",(function(){return Zl})),n.d(t,"CatmullRomCurve3",(function(){return md})),n.d(t,"CineonToneMapping",(function(){return de})),n.d(t,"CircleBufferGeometry",(function(){return iu})),n.d(t,"CircleGeometry",(function(){return au})),n.d(t,"ClampToEdgeWrapping",(function(){return Me})),n.d(t,"Clock",(function(){return fh})),n.d(t,"ClosedSplineCurve3",(function(){return kp})),n.d(t,"Color",(function(){return Oi})),n.d(t,"ColorKeyframeTrack",(function(){return zc})),n.d(t,"CompressedTexture",(function(){return Ql})),n.d(t,"CompressedTextureLoader",(function(){return nd})),n.d(t,"ConeBufferGeometry",(function(){return uu})),n.d(t,"ConeGeometry",(function(){return lu})),n.d(t,"CubeCamera",(function(){return Da})),n.d(t,"CubeGeometry",(function(){return ru})),n.d(t,"CubeReflectionMapping",(function(){return me})),n.d(t,"CubeRefractionMapping",(function(){return ve})),n.d(t,"CubeTexture",(function(){return La})),n.d(t,"CubeTextureLoader",(function(){return id})),n.d(t,"CubeUVReflectionMapping",(function(){return be})),n.d(t,"CubeUVRefractionMapping",(function(){return xe})),n.d(t,"CubicBezierCurve",(function(){return bd})),n.d(t,"CubicBezierCurve3",(function(){return xd})),n.d(t,"CubicInterpolant",(function(){return Nc})),n.d(t,"CullFaceBack",(function(){return g})),n.d(t,"CullFaceFront",(function(){return y})),n.d(t,"CullFaceFrontBack",(function(){return b})),n.d(t,"CullFaceNone",(function(){return v})),n.d(t,"Curve",(function(){return sd})),n.d(t,"CurvePath",(function(){return Ad})),n.d(t,"CustomBlending",(function(){return L})),n.d(t,"CustomToneMapping",(function(){return fe})),n.d(t,"CylinderBufferGeometry",(function(){return ou})),n.d(t,"CylinderGeometry",(function(){return su})),n.d(t,"Cylindrical",(function(){return Zh})),n.d(t,"DataTexture",(function(){return Na})),n.d(t,"DataTexture2DArray",(function(){return oo})),n.d(t,"DataTexture3D",(function(){return so})),n.d(t,"DataTextureLoader",(function(){return ad})),n.d(t,"DataUtils",(function(){return jf})),n.d(t,"DecrementStencilOp",(function(){return _n})),n.d(t,"DecrementWrapStencilOp",(function(){return En})),n.d(t,"DefaultLoadingManager",(function(){return $c})),n.d(t,"DepthFormat",(function(){return Ke})),n.d(t,"DepthStencilFormat",(function(){return Je})),n.d(t,"DepthTexture",(function(){return $l})),n.d(t,"DirectionalLight",(function(){return Gd})),n.d(t,"DirectionalLightHelper",(function(){return wf})),n.d(t,"DiscreteInterpolant",(function(){return Fc})),n.d(t,"DodecahedronBufferGeometry",(function(){return du})),n.d(t,"DodecahedronGeometry",(function(){return hu})),n.d(t,"DoubleSide",(function(){return T})),n.d(t,"DstAlphaFactor",(function(){return X})),n.d(t,"DstColorFactor",(function(){return Y})),n.d(t,"DynamicBufferAttribute",(function(){return xp})),n.d(t,"DynamicCopyUsage",(function(){return Bn})),n.d(t,"DynamicDrawUsage",(function(){return Nn})),n.d(t,"DynamicReadUsage",(function(){return Gn})),n.d(t,"EdgesGeometry",(function(){return gu})),n.d(t,"EdgesHelper",(function(){return Pp})),n.d(t,"EllipseCurve",(function(){return ld})),n.d(t,"EqualDepth",(function(){return te})),n.d(t,"EqualStencilFunc",(function(){return On})),n.d(t,"EquirectangularReflectionMapping",(function(){return ge})),n.d(t,"EquirectangularRefractionMapping",(function(){return ye})),n.d(t,"Euler",(function(){return Hr})),n.d(t,"EventDispatcher",(function(){return Xn})),n.d(t,"ExtrudeBufferGeometry",(function(){return Xu})),n.d(t,"ExtrudeGeometry",(function(){return Yu})),n.d(t,"Face3",(function(){return ki})),n.d(t,"Face4",(function(){return ap})),n.d(t,"FaceColors",(function(){return up})),n.d(t,"FileLoader",(function(){return ed})),n.d(t,"FlatShading",(function(){return A})),n.d(t,"Float16BufferAttribute",(function(){return Hi})),n.d(t,"Float32Attribute",(function(){return Rp})),n.d(t,"Float32BufferAttribute",(function(){return Wi})),n.d(t,"Float64Attribute",(function(){return Op})),n.d(t,"Float64BufferAttribute",(function(){return Xi})),n.d(t,"FloatType",(function(){return Ue})),n.d(t,"Fog",(function(){return Zs})),n.d(t,"FogExp2",(function(){return Qs})),n.d(t,"Font",(function(){return nh})),n.d(t,"FontLoader",(function(){return ah})),n.d(t,"FrontSide",(function(){return S})),n.d(t,"Frustum",(function(){return Ga})),n.d(t,"GLBufferAttribute",(function(){return Wh})),n.d(t,"GLSL1",(function(){return Hn})),n.d(t,"GLSL3",(function(){return Wn})),n.d(t,"GammaEncoding",(function(){return un})),n.d(t,"Geometry",(function(){return nu})),n.d(t,"GeometryUtils",(function(){return Up})),n.d(t,"GreaterDepth",(function(){return re})),n.d(t,"GreaterEqualDepth",(function(){return ne})),n.d(t,"GreaterEqualStencilFunc",(function(){return Dn})),n.d(t,"GreaterStencilFunc",(function(){return In})),n.d(t,"GridHelper",(function(){return vf})),n.d(t,"Group",(function(){return Vs})),n.d(t,"HalfFloatType",(function(){return ze})),n.d(t,"HemisphereLight",(function(){return Id})),n.d(t,"HemisphereLightHelper",(function(){return mf})),n.d(t,"HemisphereLightProbe",(function(){return lh})),n.d(t,"IcosahedronBufferGeometry",(function(){return Qu})),n.d(t,"IcosahedronGeometry",(function(){return Zu})),n.d(t,"ImageBitmapLoader",(function(){return eh})),n.d(t,"ImageLoader",(function(){return rd})),n.d(t,"ImageUtils",(function(){return er})),n.d(t,"ImmediateRenderObject",(function(){return nf})),n.d(t,"IncrementStencilOp",(function(){return Mn})),n.d(t,"IncrementWrapStencilOp",(function(){return Sn})),n.d(t,"InstancedBufferAttribute",(function(){return qd})),n.d(t,"InstancedBufferGeometry",(function(){return Xd})),n.d(t,"InstancedInterleavedBuffer",(function(){return Hh})),n.d(t,"InstancedMesh",(function(){return Ol})),n.d(t,"Int16Attribute",(function(){return Sp})),n.d(t,"Int16BufferAttribute",(function(){return Ui})),n.d(t,"Int32Attribute",(function(){return Tp})),n.d(t,"Int32BufferAttribute",(function(){return Bi})),n.d(t,"Int8Attribute",(function(){return wp})),n.d(t,"Int8BufferAttribute",(function(){return ji})),n.d(t,"IntType",(function(){return Fe})),n.d(t,"InterleavedBuffer",(function(){return Ks})),n.d(t,"InterleavedBufferAttribute",(function(){return tl})),n.d(t,"Interpolant",(function(){return Pc})),n.d(t,"InterpolateDiscrete",(function(){return Qt})),n.d(t,"InterpolateLinear",(function(){return Zt})),n.d(t,"InterpolateSmooth",(function(){return $t})),n.d(t,"InvertStencilOp",(function(){return Tn})),n.d(t,"JSONLoader",(function(){return Bp})),n.d(t,"KeepStencilOp",(function(){return xn})),n.d(t,"KeyframeTrack",(function(){return Gc})),n.d(t,"LOD",(function(){return bl})),n.d(t,"LatheBufferGeometry",(function(){return $u})),n.d(t,"LatheGeometry",(function(){return Ku})),n.d(t,"Layers",(function(){return qr})),n.d(t,"LensFlare",(function(){return Hp})),n.d(t,"LessDepth",(function(){return J})),n.d(t,"LessEqualDepth",(function(){return ee})),n.d(t,"LessEqualStencilFunc",(function(){return kn})),n.d(t,"LessStencilFunc",(function(){return Rn})),n.d(t,"Light",(function(){return kd})),n.d(t,"LightProbe",(function(){return Vd})),n.d(t,"Line",(function(){return Nl})),n.d(t,"Line3",(function(){return tf})),n.d(t,"LineBasicMaterial",(function(){return kl})),n.d(t,"LineCurve",(function(){return wd})),n.d(t,"LineCurve3",(function(){return Md})),n.d(t,"LineDashedMaterial",(function(){return Cc})),n.d(t,"LineLoop",(function(){return Ul})),n.d(t,"LinePieces",(function(){return sp})),n.d(t,"LineSegments",(function(){return Gl})),n.d(t,"LineStrip",(function(){return op})),n.d(t,"LinearEncoding",(function(){return sn})),n.d(t,"LinearFilter",(function(){return Oe})),n.d(t,"LinearInterpolant",(function(){return jc})),n.d(t,"LinearMipMapLinearFilter",(function(){return De})),n.d(t,"LinearMipMapNearestFilter",(function(){return Ie})),n.d(t,"LinearMipmapLinearFilter",(function(){return Ce})),n.d(t,"LinearMipmapNearestFilter",(function(){return ke})),n.d(t,"LinearToneMapping",(function(){return ue})),n.d(t,"Loader",(function(){return Kc})),n.d(t,"LoaderUtils",(function(){return Wd})),n.d(t,"LoadingManager",(function(){return Zc})),n.d(t,"LogLuvEncoding",(function(){return dn})),n.d(t,"LoopOnce",(function(){return Xt})),n.d(t,"LoopPingPong",(function(){return Yt})),n.d(t,"LoopRepeat",(function(){return qt})),n.d(t,"LuminanceAlphaFormat",(function(){return Ze})),n.d(t,"LuminanceFormat",(function(){return Qe})),n.d(t,"MOUSE",(function(){return p})),n.d(t,"Material",(function(){return Ci})),n.d(t,"MaterialLoader",(function(){return Hd})),n.d(t,"Math",(function(){return $n})),n.d(t,"MathUtils",(function(){return $n})),n.d(t,"Matrix3",(function(){return Jn})),n.d(t,"Matrix4",(function(){return Nr})),n.d(t,"MaxEquation",(function(){return G})),n.d(t,"Mesh",(function(){return Ma})),n.d(t,"MeshBasicMaterial",(function(){return Di})),n.d(t,"MeshDepthMaterial",(function(){return Ns})),n.d(t,"MeshDistanceMaterial",(function(){return js})),n.d(t,"MeshFaceMaterial",(function(){return dp})),n.d(t,"MeshLambertMaterial",(function(){return kc})),n.d(t,"MeshMatcapMaterial",(function(){return Ic})),n.d(t,"MeshNormalMaterial",(function(){return Oc})),n.d(t,"MeshPhongMaterial",(function(){return Ac})),n.d(t,"MeshPhysicalMaterial",(function(){return Tc})),n.d(t,"MeshStandardMaterial",(function(){return Ec})),n.d(t,"MeshToonMaterial",(function(){return Rc})),n.d(t,"MinEquation",(function(){return F})),n.d(t,"MirroredRepeatWrapping",(function(){return _e})),n.d(t,"MixOperation",(function(){return oe})),n.d(t,"MultiMaterial",(function(){return hp})),n.d(t,"MultiplyBlending",(function(){return D})),n.d(t,"MultiplyOperation",(function(){return ae})),n.d(t,"NearestFilter",(function(){return Se})),n.d(t,"NearestMipMapLinearFilter",(function(){return Re})),n.d(t,"NearestMipMapNearestFilter",(function(){return Te})),n.d(t,"NearestMipmapLinearFilter",(function(){return Ae})),n.d(t,"NearestMipmapNearestFilter",(function(){return Ee})),n.d(t,"NeverDepth",(function(){return $})),n.d(t,"NeverStencilFunc",(function(){return An})),n.d(t,"NoBlending",(function(){return O})),n.d(t,"NoColors",(function(){return lp})),n.d(t,"NoToneMapping",(function(){return le})),n.d(t,"NormalAnimationBlendMode",(function(){return tn})),n.d(t,"NormalBlending",(function(){return k})),n.d(t,"NotEqualDepth",(function(){return ie})),n.d(t,"NotEqualStencilFunc",(function(){return Cn})),n.d(t,"NumberKeyframeTrack",(function(){return Bc})),n.d(t,"Object3D",(function(){return si})),n.d(t,"ObjectLoader",(function(){return Zd})),n.d(t,"ObjectSpaceNormalMap",(function(){return yn})),n.d(t,"OctahedronBufferGeometry",(function(){return Ju})),n.d(t,"OctahedronGeometry",(function(){return ec})),n.d(t,"OneFactor",(function(){return z})),n.d(t,"OneMinusDstAlphaFactor",(function(){return q})),n.d(t,"OneMinusDstColorFactor",(function(){return Q})),n.d(t,"OneMinusSrcAlphaFactor",(function(){return W})),n.d(t,"OneMinusSrcColorFactor",(function(){return V})),n.d(t,"OrthographicCamera",(function(){return jd})),n.d(t,"PCFShadowMap",(function(){return w})),n.d(t,"PCFSoftShadowMap",(function(){return M})),n.d(t,"PMREMGenerator",(function(){return Kf})),n.d(t,"ParametricBufferGeometry",(function(){return tc})),n.d(t,"ParametricGeometry",(function(){return nc})),n.d(t,"Particle",(function(){return pp})),n.d(t,"ParticleBasicMaterial",(function(){return gp})),n.d(t,"ParticleSystem",(function(){return mp})),n.d(t,"ParticleSystemMaterial",(function(){return yp})),n.d(t,"Path",(function(){return Rd})),n.d(t,"PerspectiveCamera",(function(){return Ia})),n.d(t,"Plane",(function(){return di})),n.d(t,"PlaneBufferGeometry",(function(){return Ba})),n.d(t,"PlaneGeometry",(function(){return rc})),n.d(t,"PlaneHelper",(function(){return If})),n.d(t,"PointCloud",(function(){return fp})),n.d(t,"PointCloudMaterial",(function(){return vp})),n.d(t,"PointLight",(function(){return Nd})),n.d(t,"PointLightHelper",(function(){return df})),n.d(t,"Points",(function(){return Xl})),n.d(t,"PointsMaterial",(function(){return zl})),n.d(t,"PolarGridHelper",(function(){return gf})),n.d(t,"PolyhedronBufferGeometry",(function(){return cu})),n.d(t,"PolyhedronGeometry",(function(){return ic})),n.d(t,"PositionalAudio",(function(){return Eh})),n.d(t,"PropertyBinding",(function(){return Gh})),n.d(t,"PropertyMixer",(function(){return Ah})),n.d(t,"QuadraticBezierCurve",(function(){return _d})),n.d(t,"QuadraticBezierCurve3",(function(){return Sd})),n.d(t,"Quaternion",(function(){return sr})),n.d(t,"QuaternionKeyframeTrack",(function(){return Hc})),n.d(t,"QuaternionLinearInterpolant",(function(){return Vc})),n.d(t,"REVISION",(function(){return f})),n.d(t,"RGBADepthPacking",(function(){return vn})),n.d(t,"RGBAFormat",(function(){return Ye})),n.d(t,"RGBAIntegerFormat",(function(){return at})),n.d(t,"RGBA_ASTC_10x10_Format",(function(){return Rt})),n.d(t,"RGBA_ASTC_10x5_Format",(function(){return Et})),n.d(t,"RGBA_ASTC_10x6_Format",(function(){return Tt})),n.d(t,"RGBA_ASTC_10x8_Format",(function(){return At})),n.d(t,"RGBA_ASTC_12x10_Format",(function(){return Ot})),n.d(t,"RGBA_ASTC_12x12_Format",(function(){return kt})),n.d(t,"RGBA_ASTC_4x4_Format",(function(){return gt})),n.d(t,"RGBA_ASTC_5x4_Format",(function(){return yt})),n.d(t,"RGBA_ASTC_5x5_Format",(function(){return bt})),n.d(t,"RGBA_ASTC_6x5_Format",(function(){return xt})),n.d(t,"RGBA_ASTC_6x6_Format",(function(){return wt})),n.d(t,"RGBA_ASTC_8x5_Format",(function(){return Mt})),n.d(t,"RGBA_ASTC_8x6_Format",(function(){return _t})),n.d(t,"RGBA_ASTC_8x8_Format",(function(){return St})),n.d(t,"RGBA_BPTC_Format",(function(){return It})),n.d(t,"RGBA_ETC2_EAC_Format",(function(){return vt})),n.d(t,"RGBA_PVRTC_2BPPV1_Format",(function(){return ft})),n.d(t,"RGBA_PVRTC_4BPPV1_Format",(function(){return ht})),n.d(t,"RGBA_S3TC_DXT1_Format",(function(){return st})),n.d(t,"RGBA_S3TC_DXT3_Format",(function(){return lt})),n.d(t,"RGBA_S3TC_DXT5_Format",(function(){return ut})),n.d(t,"RGBDEncoding",(function(){return pn})),n.d(t,"RGBEEncoding",(function(){return cn})),n.d(t,"RGBEFormat",(function(){return $e})),n.d(t,"RGBFormat",(function(){return qe})),n.d(t,"RGBIntegerFormat",(function(){return it})),n.d(t,"RGBM16Encoding",(function(){return fn})),n.d(t,"RGBM7Encoding",(function(){return hn})),n.d(t,"RGB_ETC1_Format",(function(){return pt})),n.d(t,"RGB_ETC2_Format",(function(){return mt})),n.d(t,"RGB_PVRTC_2BPPV1_Format",(function(){return dt})),n.d(t,"RGB_PVRTC_4BPPV1_Format",(function(){return ct})),n.d(t,"RGB_S3TC_DXT1_Format",(function(){return ot})),n.d(t,"RGFormat",(function(){return nt})),n.d(t,"RGIntegerFormat",(function(){return rt})),n.d(t,"RawShaderMaterial",(function(){return Sc})),n.d(t,"Ray",(function(){return Pr})),n.d(t,"Raycaster",(function(){return Xh})),n.d(t,"RectAreaLight",(function(){return zd})),n.d(t,"RedFormat",(function(){return et})),n.d(t,"RedIntegerFormat",(function(){return tt})),n.d(t,"ReinhardToneMapping",(function(){return ce})),n.d(t,"RepeatWrapping",(function(){return we})),n.d(t,"ReplaceStencilOp",(function(){return wn})),n.d(t,"ReverseSubtractEquation",(function(){return j})),n.d(t,"RingBufferGeometry",(function(){return ac})),n.d(t,"RingGeometry",(function(){return oc})),n.d(t,"SRGB8_ALPHA8_ASTC_10x10_Format",(function(){return Vt})),n.d(t,"SRGB8_ALPHA8_ASTC_10x5_Format",(function(){return Ut})),n.d(t,"SRGB8_ALPHA8_ASTC_10x6_Format",(function(){return zt})),n.d(t,"SRGB8_ALPHA8_ASTC_10x8_Format",(function(){return Bt})),n.d(t,"SRGB8_ALPHA8_ASTC_12x10_Format",(function(){return Ht})),n.d(t,"SRGB8_ALPHA8_ASTC_12x12_Format",(function(){return Wt})),n.d(t,"SRGB8_ALPHA8_ASTC_4x4_Format",(function(){return Ct})),n.d(t,"SRGB8_ALPHA8_ASTC_5x4_Format",(function(){return Dt})),n.d(t,"SRGB8_ALPHA8_ASTC_5x5_Format",(function(){return Lt})),n.d(t,"SRGB8_ALPHA8_ASTC_6x5_Format",(function(){return Pt})),n.d(t,"SRGB8_ALPHA8_ASTC_6x6_Format",(function(){return Nt})),n.d(t,"SRGB8_ALPHA8_ASTC_8x5_Format",(function(){return jt})),n.d(t,"SRGB8_ALPHA8_ASTC_8x6_Format",(function(){return Ft})),n.d(t,"SRGB8_ALPHA8_ASTC_8x8_Format",(function(){return Gt})),n.d(t,"Scene",(function(){return $s})),n.d(t,"SceneUtils",(function(){return Vp})),n.d(t,"ShaderChunk",(function(){return Va})),n.d(t,"ShaderLib",(function(){return Wa})),n.d(t,"ShaderMaterial",(function(){return Oa})),n.d(t,"ShadowMaterial",(function(){return _c})),n.d(t,"Shape",(function(){return Od})),n.d(t,"ShapeBufferGeometry",(function(){return sc})),n.d(t,"ShapeGeometry",(function(){return lc})),n.d(t,"ShapePath",(function(){return th})),n.d(t,"ShapeUtils",(function(){return Vu})),n.d(t,"ShortType",(function(){return Ne})),n.d(t,"Skeleton",(function(){return Sl})),n.d(t,"SkeletonHelper",(function(){return uf})),n.d(t,"SkinnedMesh",(function(){return xl})),n.d(t,"SmoothShading",(function(){return R})),n.d(t,"Sphere",(function(){return Ar})),n.d(t,"SphereBufferGeometry",(function(){return uc})),n.d(t,"SphereGeometry",(function(){return cc})),n.d(t,"Spherical",(function(){return Qh})),n.d(t,"SphericalHarmonics3",(function(){return Bd})),n.d(t,"Spline",(function(){return Cp})),n.d(t,"SplineCurve",(function(){return Ed})),n.d(t,"SplineCurve3",(function(){return Ip})),n.d(t,"SpotLight",(function(){return Ld})),n.d(t,"SpotLightHelper",(function(){return af})),n.d(t,"Sprite",(function(){return ml})),n.d(t,"SpriteMaterial",(function(){return nl})),n.d(t,"SrcAlphaFactor",(function(){return H})),n.d(t,"SrcAlphaSaturateFactor",(function(){return Z})),n.d(t,"SrcColorFactor",(function(){return B})),n.d(t,"StaticCopyUsage",(function(){return zn})),n.d(t,"StaticDrawUsage",(function(){return Pn})),n.d(t,"StaticReadUsage",(function(){return Fn})),n.d(t,"StereoCamera",(function(){return hh})),n.d(t,"StreamCopyUsage",(function(){return Vn})),n.d(t,"StreamDrawUsage",(function(){return jn})),n.d(t,"StreamReadUsage",(function(){return Un})),n.d(t,"StringKeyframeTrack",(function(){return Wc})),n.d(t,"SubtractEquation",(function(){return N})),n.d(t,"SubtractiveBlending",(function(){return C})),n.d(t,"TOUCH",(function(){return m})),n.d(t,"TangentSpaceNormalMap",(function(){return gn})),n.d(t,"TetrahedronBufferGeometry",(function(){return dc})),n.d(t,"TetrahedronGeometry",(function(){return hc})),n.d(t,"TextBufferGeometry",(function(){return fc})),n.d(t,"TextGeometry",(function(){return pc})),n.d(t,"Texture",(function(){return nr})),n.d(t,"TextureLoader",(function(){return od})),n.d(t,"TorusBufferGeometry",(function(){return mc})),n.d(t,"TorusGeometry",(function(){return vc})),n.d(t,"TorusKnotBufferGeometry",(function(){return gc})),n.d(t,"TorusKnotGeometry",(function(){return yc})),n.d(t,"Triangle",(function(){return Mi})),n.d(t,"TriangleFanDrawMode",(function(){return on})),n.d(t,"TriangleStripDrawMode",(function(){return an})),n.d(t,"TrianglesDrawMode",(function(){return rn})),n.d(t,"TubeBufferGeometry",(function(){return bc})),n.d(t,"TubeGeometry",(function(){return xc})),n.d(t,"UVMapping",(function(){return pe})),n.d(t,"Uint16Attribute",(function(){return Ep})),n.d(t,"Uint16BufferAttribute",(function(){return zi})),n.d(t,"Uint32Attribute",(function(){return Ap})),n.d(t,"Uint32BufferAttribute",(function(){return Vi})),n.d(t,"Uint8Attribute",(function(){return Mp})),n.d(t,"Uint8BufferAttribute",(function(){return Fi})),n.d(t,"Uint8ClampedAttribute",(function(){return _p})),n.d(t,"Uint8ClampedBufferAttribute",(function(){return Gi})),n.d(t,"Uniform",(function(){return Vh})),n.d(t,"UniformsLib",(function(){return Ha})),n.d(t,"UniformsUtils",(function(){return Ra})),n.d(t,"UnsignedByteType",(function(){return Le})),n.d(t,"UnsignedInt248Type",(function(){return We})),n.d(t,"UnsignedIntType",(function(){return Ge})),n.d(t,"UnsignedShort4444Type",(function(){return Be})),n.d(t,"UnsignedShort5551Type",(function(){return Ve})),n.d(t,"UnsignedShort565Type",(function(){return He})),n.d(t,"UnsignedShortType",(function(){return je})),n.d(t,"VSMShadowMap",(function(){return _})),n.d(t,"Vector2",(function(){return Kn})),n.d(t,"Vector3",(function(){return lr})),n.d(t,"Vector4",(function(){return ir})),n.d(t,"VectorKeyframeTrack",(function(){return Xc})),n.d(t,"Vertex",(function(){return bp})),n.d(t,"VertexColors",(function(){return cp})),n.d(t,"VideoTexture",(function(){return Yl})),n.d(t,"WebGL1Renderer",(function(){return Ys})),n.d(t,"WebGLCubeRenderTarget",(function(){return Pa})),n.d(t,"WebGLMultisampleRenderTarget",(function(){return or})),n.d(t,"WebGLRenderTarget",(function(){return ar})),n.d(t,"WebGLRenderTargetCube",(function(){return Gp})),n.d(t,"WebGLRenderer",(function(){return qs})),n.d(t,"WebGLUtils",(function(){return zs})),n.d(t,"WireframeGeometry",(function(){return wc})),n.d(t,"WireframeHelper",(function(){return Np})),n.d(t,"WrapAroundEnding",(function(){return en})),n.d(t,"XHRLoader",(function(){return jp})),n.d(t,"ZeroCurvatureEnding",(function(){return Kt})),n.d(t,"ZeroFactor",(function(){return U})),n.d(t,"ZeroSlopeEnding",(function(){return Jt})),n.d(t,"ZeroStencilOp",(function(){return bn})),n.d(t,"sRGBEncoding",(function(){return ln}));var r,i=n(73),a=n(26),o=n(19),s=n(17),l=n(28),u=n(5),c=n(6),d=n(4),h=n(8),f="123",p={LEFT:0,MIDDLE:1,RIGHT:2,ROTATE:0,DOLLY:1,PAN:2},m={ROTATE:0,PAN:1,DOLLY_PAN:2,DOLLY_ROTATE:3},v=0,g=1,y=2,b=3,x=0,w=1,M=2,_=3,S=0,E=1,T=2,A=1,R=2,O=0,k=1,I=2,C=3,D=4,L=5,P=100,N=101,j=102,F=103,G=104,U=200,z=201,B=202,V=203,H=204,W=205,X=206,q=207,Y=208,Q=209,Z=210,$=0,K=1,J=2,ee=3,te=4,ne=5,re=6,ie=7,ae=0,oe=1,se=2,le=0,ue=1,ce=2,de=3,he=4,fe=5,pe=300,me=301,ve=302,ge=303,ye=304,be=306,xe=307,we=1e3,Me=1001,_e=1002,Se=1003,Ee=1004,Te=1004,Ae=1005,Re=1005,Oe=1006,ke=1007,Ie=1007,Ce=1008,De=1008,Le=1009,Pe=1010,Ne=1011,je=1012,Fe=1013,Ge=1014,Ue=1015,ze=1016,Be=1017,Ve=1018,He=1019,We=1020,Xe=1021,qe=1022,Ye=1023,Qe=1024,Ze=1025,$e=Ye,Ke=1026,Je=1027,et=1028,tt=1029,nt=1030,rt=1031,it=1032,at=1033,ot=33776,st=33777,lt=33778,ut=33779,ct=35840,dt=35841,ht=35842,ft=35843,pt=36196,mt=37492,vt=37496,gt=37808,yt=37809,bt=37810,xt=37811,wt=37812,Mt=37813,_t=37814,St=37815,Et=37816,Tt=37817,At=37818,Rt=37819,Ot=37820,kt=37821,It=36492,Ct=37840,Dt=37841,Lt=37842,Pt=37843,Nt=37844,jt=37845,Ft=37846,Gt=37847,Ut=37848,zt=37849,Bt=37850,Vt=37851,Ht=37852,Wt=37853,Xt=2200,qt=2201,Yt=2202,Qt=2300,Zt=2301,$t=2302,Kt=2400,Jt=2401,en=2402,tn=2500,nn=2501,rn=0,an=1,on=2,sn=3e3,ln=3001,un=3007,cn=3002,dn=3003,hn=3004,fn=3005,pn=3006,mn=3200,vn=3201,gn=0,yn=1,bn=0,xn=7680,wn=7681,Mn=7682,_n=7683,Sn=34055,En=34056,Tn=5386,An=512,Rn=513,On=514,kn=515,In=516,Cn=517,Dn=518,Ln=519,Pn=35044,Nn=35048,jn=35040,Fn=35045,Gn=35049,Un=35041,zn=35046,Bn=35050,Vn=35042,Hn="100",Wn="300 es";function Xn(){}Object.assign(Xn.prototype,{addEventListener:function(e,t){void 0===this._listeners&&(this._listeners={});var n=this._listeners;void 0===n[e]&&(n[e]=[]),-1===n[e].indexOf(t)&&n[e].push(t)},hasEventListener:function(e,t){if(void 0===this._listeners)return!1;var n=this._listeners;return void 0!==n[e]&&-1!==n[e].indexOf(t)},removeEventListener:function(e,t){if(void 0!==this._listeners){var n=this._listeners[e];if(void 0!==n){var r=n.indexOf(t);-1!==r&&n.splice(r,1)}}},dispatchEvent:function(e){if(void 0!==this._listeners){var t=this._listeners[e.type];if(void 0!==t){e.target=this;for(var n=t.slice(0),r=0,i=n.length;r<i;r++)n[r].call(this,e)}}}});for(var qn=[],Yn=0;Yn<256;Yn++)qn[Yn]=(Yn<16?"0":"")+Yn.toString(16);var Qn,Zn=1234567,$n={DEG2RAD:Math.PI/180,RAD2DEG:180/Math.PI,generateUUID:function(){var e=4294967295*Math.random()|0,t=4294967295*Math.random()|0,n=4294967295*Math.random()|0,r=4294967295*Math.random()|0;return(qn[255&e]+qn[e>>8&255]+qn[e>>16&255]+qn[e>>24&255]+"-"+qn[255&t]+qn[t>>8&255]+"-"+qn[t>>16&15|64]+qn[t>>24&255]+"-"+qn[63&n|128]+qn[n>>8&255]+"-"+qn[n>>16&255]+qn[n>>24&255]+qn[255&r]+qn[r>>8&255]+qn[r>>16&255]+qn[r>>24&255]).toUpperCase()},clamp:function(e,t,n){return Math.max(t,Math.min(n,e))},euclideanModulo:function(e,t){return(e%t+t)%t},mapLinear:function(e,t,n,r,i){return r+(e-t)*(i-r)/(n-t)},lerp:function(e,t,n){return(1-n)*e+n*t},smoothstep:function(e,t,n){return e<=t?0:e>=n?1:(e=(e-t)/(n-t))*e*(3-2*e)},smootherstep:function(e,t,n){return e<=t?0:e>=n?1:(e=(e-t)/(n-t))*e*e*(e*(6*e-15)+10)},randInt:function(e,t){return e+Math.floor(Math.random()*(t-e+1))},randFloat:function(e,t){return e+Math.random()*(t-e)},randFloatSpread:function(e){return e*(.5-Math.random())},seededRandom:function(e){return void 0!==e&&(Zn=e%2147483647),((Zn=16807*Zn%2147483647)-1)/2147483646},degToRad:function(e){return e*$n.DEG2RAD},radToDeg:function(e){return e*$n.RAD2DEG},isPowerOfTwo:function(e){return 0===(e&e-1)&&0!==e},ceilPowerOfTwo:function(e){return Math.pow(2,Math.ceil(Math.log(e)/Math.LN2))},floorPowerOfTwo:function(e){return Math.pow(2,Math.floor(Math.log(e)/Math.LN2))},setQuaternionFromProperEuler:function(e,t,n,r,i){var a=Math.cos,o=Math.sin,s=a(n/2),l=o(n/2),u=a((t+r)/2),c=o((t+r)/2),d=a((t-r)/2),h=o((t-r)/2),f=a((r-t)/2),p=o((r-t)/2);switch(i){case"XYX":e.set(s*c,l*d,l*h,s*u);break;case"YZY":e.set(l*h,s*c,l*d,s*u);break;case"ZXZ":e.set(l*d,l*h,s*c,s*u);break;case"XZX":e.set(s*c,l*p,l*f,s*u);break;case"YXY":e.set(l*f,s*c,l*p,s*u);break;case"ZYZ":e.set(l*p,l*f,s*c,s*u);break;default:console.warn("THREE.MathUtils: .setQuaternionFromProperEuler() encountered an unknown order: "+i)}}},Kn=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;Object(d.a)(this,e),Object.defineProperty(this,"isVector2",{value:!0}),this.x=t,this.y=n}return Object(h.a)(e,[{key:"set",value:function(e,t){return this.x=e,this.y=t,this}},{key:"setScalar",value:function(e){return this.x=e,this.y=e,this}},{key:"setX",value:function(e){return this.x=e,this}},{key:"setY",value:function(e){return this.y=e,this}},{key:"setComponent",value:function(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;default:throw new Error("index is out of range: "+e)}return this}},{key:"getComponent",value:function(e){switch(e){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+e)}}},{key:"clone",value:function(){return new this.constructor(this.x,this.y)}},{key:"copy",value:function(e){return this.x=e.x,this.y=e.y,this}},{key:"add",value:function(e,t){return void 0!==t?(console.warn("THREE.Vector2: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(e,t)):(this.x+=e.x,this.y+=e.y,this)}},{key:"addScalar",value:function(e){return this.x+=e,this.y+=e,this}},{key:"addVectors",value:function(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this}},{key:"addScaledVector",value:function(e,t){return this.x+=e.x*t,this.y+=e.y*t,this}},{key:"sub",value:function(e,t){return void 0!==t?(console.warn("THREE.Vector2: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(e,t)):(this.x-=e.x,this.y-=e.y,this)}},{key:"subScalar",value:function(e){return this.x-=e,this.y-=e,this}},{key:"subVectors",value:function(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this}},{key:"multiply",value:function(e){return this.x*=e.x,this.y*=e.y,this}},{key:"multiplyScalar",value:function(e){return this.x*=e,this.y*=e,this}},{key:"divide",value:function(e){return this.x/=e.x,this.y/=e.y,this}},{key:"divideScalar",value:function(e){return this.multiplyScalar(1/e)}},{key:"applyMatrix3",value:function(e){var t=this.x,n=this.y,r=e.elements;return this.x=r[0]*t+r[3]*n+r[6],this.y=r[1]*t+r[4]*n+r[7],this}},{key:"min",value:function(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this}},{key:"max",value:function(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this}},{key:"clamp",value:function(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this}},{key:"clampScalar",value:function(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this}},{key:"clampLength",value:function(e,t){var n=this.length();return this.divideScalar(n||1).multiplyScalar(Math.max(e,Math.min(t,n)))}},{key:"floor",value:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this}},{key:"ceil",value:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this}},{key:"round",value:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}},{key:"roundToZero",value:function(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this}},{key:"negate",value:function(){return this.x=-this.x,this.y=-this.y,this}},{key:"dot",value:function(e){return this.x*e.x+this.y*e.y}},{key:"cross",value:function(e){return this.x*e.y-this.y*e.x}},{key:"lengthSq",value:function(){return this.x*this.x+this.y*this.y}},{key:"length",value:function(){return Math.sqrt(this.x*this.x+this.y*this.y)}},{key:"manhattanLength",value:function(){return Math.abs(this.x)+Math.abs(this.y)}},{key:"normalize",value:function(){return this.divideScalar(this.length()||1)}},{key:"angle",value:function(){var e=Math.atan2(-this.y,-this.x)+Math.PI;return e}},{key:"distanceTo",value:function(e){return Math.sqrt(this.distanceToSquared(e))}},{key:"distanceToSquared",value:function(e){var t=this.x-e.x,n=this.y-e.y;return t*t+n*n}},{key:"manhattanDistanceTo",value:function(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)}},{key:"setLength",value:function(e){return this.normalize().multiplyScalar(e)}},{key:"lerp",value:function(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this}},{key:"lerpVectors",value:function(e,t,n){return this.x=e.x+(t.x-e.x)*n,this.y=e.y+(t.y-e.y)*n,this}},{key:"equals",value:function(e){return e.x===this.x&&e.y===this.y}},{key:"fromArray",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this.x=e[t],this.y=e[t+1],this}},{key:"toArray",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return e[t]=this.x,e[t+1]=this.y,e}},{key:"fromBufferAttribute",value:function(e,t,n){return void 0!==n&&console.warn("THREE.Vector2: offset has been removed from .fromBufferAttribute()."),this.x=e.getX(t),this.y=e.getY(t),this}},{key:"rotateAround",value:function(e,t){var n=Math.cos(t),r=Math.sin(t),i=this.x-e.x,a=this.y-e.y;return this.x=i*n-a*r+e.x,this.y=i*r+a*n+e.y,this}},{key:"random",value:function(){return this.x=Math.random(),this.y=Math.random(),this}},{key:"width",get:function(){return this.x},set:function(e){this.x=e}},{key:"height",get:function(){return this.y},set:function(e){this.y=e}}]),e}(),Jn=function(){function e(){Object(d.a)(this,e),Object.defineProperty(this,"isMatrix3",{value:!0}),this.elements=[1,0,0,0,1,0,0,0,1],arguments.length>0&&console.error("THREE.Matrix3: the constructor no longer reads arguments. use .set() instead.")}return Object(h.a)(e,[{key:"set",value:function(e,t,n,r,i,a,o,s,l){var u=this.elements;return u[0]=e,u[1]=r,u[2]=o,u[3]=t,u[4]=i,u[5]=s,u[6]=n,u[7]=a,u[8]=l,this}},{key:"identity",value:function(){return this.set(1,0,0,0,1,0,0,0,1),this}},{key:"clone",value:function(){return(new this.constructor).fromArray(this.elements)}},{key:"copy",value:function(e){var t=this.elements,n=e.elements;return t[0]=n[0],t[1]=n[1],t[2]=n[2],t[3]=n[3],t[4]=n[4],t[5]=n[5],t[6]=n[6],t[7]=n[7],t[8]=n[8],this}},{key:"extractBasis",value:function(e,t,n){return e.setFromMatrix3Column(this,0),t.setFromMatrix3Column(this,1),n.setFromMatrix3Column(this,2),this}},{key:"setFromMatrix4",value:function(e){var t=e.elements;return this.set(t[0],t[4],t[8],t[1],t[5],t[9],t[2],t[6],t[10]),this}},{key:"multiply",value:function(e){return this.multiplyMatrices(this,e)}},{key:"premultiply",value:function(e){return this.multiplyMatrices(e,this)}},{key:"multiplyMatrices",value:function(e,t){var n=e.elements,r=t.elements,i=this.elements,a=n[0],o=n[3],s=n[6],l=n[1],u=n[4],c=n[7],d=n[2],h=n[5],f=n[8],p=r[0],m=r[3],v=r[6],g=r[1],y=r[4],b=r[7],x=r[2],w=r[5],M=r[8];return i[0]=a*p+o*g+s*x,i[3]=a*m+o*y+s*w,i[6]=a*v+o*b+s*M,i[1]=l*p+u*g+c*x,i[4]=l*m+u*y+c*w,i[7]=l*v+u*b+c*M,i[2]=d*p+h*g+f*x,i[5]=d*m+h*y+f*w,i[8]=d*v+h*b+f*M,this}},{key:"multiplyScalar",value:function(e){var t=this.elements;return t[0]*=e,t[3]*=e,t[6]*=e,t[1]*=e,t[4]*=e,t[7]*=e,t[2]*=e,t[5]*=e,t[8]*=e,this}},{key:"determinant",value:function(){var e=this.elements,t=e[0],n=e[1],r=e[2],i=e[3],a=e[4],o=e[5],s=e[6],l=e[7],u=e[8];return t*a*u-t*o*l-n*i*u+n*o*s+r*i*l-r*a*s}},{key:"invert",value:function(){var e=this.elements,t=e[0],n=e[1],r=e[2],i=e[3],a=e[4],o=e[5],s=e[6],l=e[7],u=e[8],c=u*a-o*l,d=o*s-u*i,h=l*i-a*s,f=t*c+n*d+r*h;if(0===f)return this.set(0,0,0,0,0,0,0,0,0);var p=1/f;return e[0]=c*p,e[1]=(r*l-u*n)*p,e[2]=(o*n-r*a)*p,e[3]=d*p,e[4]=(u*t-r*s)*p,e[5]=(r*i-o*t)*p,e[6]=h*p,e[7]=(n*s-l*t)*p,e[8]=(a*t-n*i)*p,this}},{key:"transpose",value:function(){var e,t=this.elements;return e=t[1],t[1]=t[3],t[3]=e,e=t[2],t[2]=t[6],t[6]=e,e=t[5],t[5]=t[7],t[7]=e,this}},{key:"getNormalMatrix",value:function(e){return this.setFromMatrix4(e).copy(this).invert().transpose()}},{key:"transposeIntoArray",value:function(e){var t=this.elements;return e[0]=t[0],e[1]=t[3],e[2]=t[6],e[3]=t[1],e[4]=t[4],e[5]=t[7],e[6]=t[2],e[7]=t[5],e[8]=t[8],this}},{key:"setUvTransform",value:function(e,t,n,r,i,a,o){var s=Math.cos(i),l=Math.sin(i);this.set(n*s,n*l,-n*(s*a+l*o)+a+e,-r*l,r*s,-r*(-l*a+s*o)+o+t,0,0,1)}},{key:"scale",value:function(e,t){var n=this.elements;return n[0]*=e,n[3]*=e,n[6]*=e,n[1]*=t,n[4]*=t,n[7]*=t,this}},{key:"rotate",value:function(e){var t=Math.cos(e),n=Math.sin(e),r=this.elements,i=r[0],a=r[3],o=r[6],s=r[1],l=r[4],u=r[7];return r[0]=t*i+n*s,r[3]=t*a+n*l,r[6]=t*o+n*u,r[1]=-n*i+t*s,r[4]=-n*a+t*l,r[7]=-n*o+t*u,this}},{key:"translate",value:function(e,t){var n=this.elements;return n[0]+=e*n[2],n[3]+=e*n[5],n[6]+=e*n[8],n[1]+=t*n[2],n[4]+=t*n[5],n[7]+=t*n[8],this}},{key:"equals",value:function(e){for(var t=this.elements,n=e.elements,r=0;r<9;r++)if(t[r]!==n[r])return!1;return!0}},{key:"fromArray",value:function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=0;n<9;n++)this.elements[n]=e[n+t];return this}},{key:"toArray",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=this.elements;return e[t]=n[0],e[t+1]=n[1],e[t+2]=n[2],e[t+3]=n[3],e[t+4]=n[4],e[t+5]=n[5],e[t+6]=n[6],e[t+7]=n[7],e[t+8]=n[8],e}}]),e}(),er={getDataURL:function(e){if(/^data:/i.test(e.src))return e.src;if("undefined"==typeof HTMLCanvasElement)return e.src;var t;if(e instanceof HTMLCanvasElement)t=e;else{void 0===Qn&&(Qn=document.createElementNS("http://www.w3.org/1999/xhtml","canvas")),Qn.width=e.width,Qn.height=e.height;var n=Qn.getContext("2d");e instanceof ImageData?n.putImageData(e,0,0):n.drawImage(e,0,0,e.width,e.height),t=Qn}return t.width>2048||t.height>2048?t.toDataURL("image/jpeg",.6):t.toDataURL("image/png")}},tr=0;function nr(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:nr.DEFAULT_IMAGE,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:nr.DEFAULT_MAPPING,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Me,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:Me,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:Oe,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:Ce,o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:Ye,s=arguments.length>7&&void 0!==arguments[7]?arguments[7]:Le,l=arguments.length>8&&void 0!==arguments[8]?arguments[8]:1,u=arguments.length>9&&void 0!==arguments[9]?arguments[9]:sn;Object.defineProperty(this,"id",{value:tr++}),this.uuid=$n.generateUUID(),this.name="",this.image=e,this.mipmaps=[],this.mapping=t,this.wrapS=n,this.wrapT=r,this.magFilter=i,this.minFilter=a,this.anisotropy=l,this.format=o,this.internalFormat=null,this.type=s,this.offset=new Kn(0,0),this.repeat=new Kn(1,1),this.center=new Kn(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new Jn,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,this.encoding=u,this.version=0,this.onUpdate=null}function rr(e){return"undefined"!==typeof HTMLImageElement&&e instanceof HTMLImageElement||"undefined"!==typeof HTMLCanvasElement&&e instanceof HTMLCanvasElement||"undefined"!==typeof ImageBitmap&&e instanceof ImageBitmap?er.getDataURL(e):e.data?{data:Array.prototype.slice.call(e.data),width:e.width,height:e.height,type:e.data.constructor.name}:(console.warn("THREE.Texture: Unable to serialize Texture."),{})}nr.DEFAULT_IMAGE=void 0,nr.DEFAULT_MAPPING=pe,nr.prototype=Object.assign(Object.create(Xn.prototype),{constructor:nr,isTexture:!0,updateMatrix:function(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)},clone:function(){return(new this.constructor).copy(this)},copy:function(e){return this.name=e.name,this.image=e.image,this.mipmaps=e.mipmaps.slice(0),this.mapping=e.mapping,this.wrapS=e.wrapS,this.wrapT=e.wrapT,this.magFilter=e.magFilter,this.minFilter=e.minFilter,this.anisotropy=e.anisotropy,this.format=e.format,this.internalFormat=e.internalFormat,this.type=e.type,this.offset.copy(e.offset),this.repeat.copy(e.repeat),this.center.copy(e.center),this.rotation=e.rotation,this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrix.copy(e.matrix),this.generateMipmaps=e.generateMipmaps,this.premultiplyAlpha=e.premultiplyAlpha,this.flipY=e.flipY,this.unpackAlignment=e.unpackAlignment,this.encoding=e.encoding,this},toJSON:function(e){var t=void 0===e||"string"===typeof e;if(!t&&void 0!==e.textures[this.uuid])return e.textures[this.uuid];var n={metadata:{version:4.5,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,mapping:this.mapping,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,type:this.type,encoding:this.encoding,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};if(void 0!==this.image){var r=this.image;if(void 0===r.uuid&&(r.uuid=$n.generateUUID()),!t&&void 0===e.images[r.uuid]){var i;if(Array.isArray(r)){i=[];for(var a=0,o=r.length;a<o;a++)r[a].isDataTexture?i.push(rr(r[a].image)):i.push(rr(r[a]))}else i=rr(r);e.images[r.uuid]={uuid:r.uuid,url:i}}n.image=r.uuid}return t||(e.textures[this.uuid]=n),n},dispose:function(){this.dispatchEvent({type:"dispose"})},transformUv:function(e){if(this.mapping!==pe)return e;if(e.applyMatrix3(this.matrix),e.x<0||e.x>1)switch(this.wrapS){case we:e.x=e.x-Math.floor(e.x);break;case Me:e.x=e.x<0?0:1;break;case _e:1===Math.abs(Math.floor(e.x)%2)?e.x=Math.ceil(e.x)-e.x:e.x=e.x-Math.floor(e.x)}if(e.y<0||e.y>1)switch(this.wrapT){case we:e.y=e.y-Math.floor(e.y);break;case Me:e.y=e.y<0?0:1;break;case _e:1===Math.abs(Math.floor(e.y)%2)?e.y=Math.ceil(e.y)-e.y:e.y=e.y-Math.floor(e.y)}return this.flipY&&(e.y=1-e.y),e}}),Object.defineProperty(nr.prototype,"needsUpdate",{set:function(e){!0===e&&this.version++}});var ir=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;Object(d.a)(this,e),Object.defineProperty(this,"isVector4",{value:!0}),this.x=t,this.y=n,this.z=r,this.w=i}return Object(h.a)(e,[{key:"set",value:function(e,t,n,r){return this.x=e,this.y=t,this.z=n,this.w=r,this}},{key:"setScalar",value:function(e){return this.x=e,this.y=e,this.z=e,this.w=e,this}},{key:"setX",value:function(e){return this.x=e,this}},{key:"setY",value:function(e){return this.y=e,this}},{key:"setZ",value:function(e){return this.z=e,this}},{key:"setW",value:function(e){return this.w=e,this}},{key:"setComponent",value:function(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;case 3:this.w=t;break;default:throw new Error("index is out of range: "+e)}return this}},{key:"getComponent",value:function(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+e)}}},{key:"clone",value:function(){return new this.constructor(this.x,this.y,this.z,this.w)}},{key:"copy",value:function(e){return this.x=e.x,this.y=e.y,this.z=e.z,this.w=void 0!==e.w?e.w:1,this}},{key:"add",value:function(e,t){return void 0!==t?(console.warn("THREE.Vector4: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(e,t)):(this.x+=e.x,this.y+=e.y,this.z+=e.z,this.w+=e.w,this)}},{key:"addScalar",value:function(e){return this.x+=e,this.y+=e,this.z+=e,this.w+=e,this}},{key:"addVectors",value:function(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this.w=e.w+t.w,this}},{key:"addScaledVector",value:function(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this.w+=e.w*t,this}},{key:"sub",value:function(e,t){return void 0!==t?(console.warn("THREE.Vector4: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(e,t)):(this.x-=e.x,this.y-=e.y,this.z-=e.z,this.w-=e.w,this)}},{key:"subScalar",value:function(e){return this.x-=e,this.y-=e,this.z-=e,this.w-=e,this}},{key:"subVectors",value:function(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this.w=e.w-t.w,this}},{key:"multiplyScalar",value:function(e){return this.x*=e,this.y*=e,this.z*=e,this.w*=e,this}},{key:"applyMatrix4",value:function(e){var t=this.x,n=this.y,r=this.z,i=this.w,a=e.elements;return this.x=a[0]*t+a[4]*n+a[8]*r+a[12]*i,this.y=a[1]*t+a[5]*n+a[9]*r+a[13]*i,this.z=a[2]*t+a[6]*n+a[10]*r+a[14]*i,this.w=a[3]*t+a[7]*n+a[11]*r+a[15]*i,this}},{key:"divideScalar",value:function(e){return this.multiplyScalar(1/e)}},{key:"setAxisAngleFromQuaternion",value:function(e){this.w=2*Math.acos(e.w);var t=Math.sqrt(1-e.w*e.w);return t<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=e.x/t,this.y=e.y/t,this.z=e.z/t),this}},{key:"setAxisAngleFromRotationMatrix",value:function(e){var t,n,r,i,a=.01,o=.1,s=e.elements,l=s[0],u=s[4],c=s[8],d=s[1],h=s[5],f=s[9],p=s[2],m=s[6],v=s[10];if(Math.abs(u-d)<a&&Math.abs(c-p)<a&&Math.abs(f-m)<a){if(Math.abs(u+d)<o&&Math.abs(c+p)<o&&Math.abs(f+m)<o&&Math.abs(l+h+v-3)<o)return this.set(1,0,0,0),this;t=Math.PI;var g=(l+1)/2,y=(h+1)/2,b=(v+1)/2,x=(u+d)/4,w=(c+p)/4,M=(f+m)/4;return g>y&&g>b?g<a?(n=0,r=.707106781,i=.707106781):(r=x/(n=Math.sqrt(g)),i=w/n):y>b?y<a?(n=.707106781,r=0,i=.707106781):(n=x/(r=Math.sqrt(y)),i=M/r):b<a?(n=.707106781,r=.707106781,i=0):(n=w/(i=Math.sqrt(b)),r=M/i),this.set(n,r,i,t),this}var _=Math.sqrt((m-f)*(m-f)+(c-p)*(c-p)+(d-u)*(d-u));return Math.abs(_)<.001&&(_=1),this.x=(m-f)/_,this.y=(c-p)/_,this.z=(d-u)/_,this.w=Math.acos((l+h+v-1)/2),this}},{key:"min",value:function(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this.w=Math.min(this.w,e.w),this}},{key:"max",value:function(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this.w=Math.max(this.w,e.w),this}},{key:"clamp",value:function(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this.z=Math.max(e.z,Math.min(t.z,this.z)),this.w=Math.max(e.w,Math.min(t.w,this.w)),this}},{key:"clampScalar",value:function(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this.z=Math.max(e,Math.min(t,this.z)),this.w=Math.max(e,Math.min(t,this.w)),this}},{key:"clampLength",value:function(e,t){var n=this.length();return this.divideScalar(n||1).multiplyScalar(Math.max(e,Math.min(t,n)))}},{key:"floor",value:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this}},{key:"ceil",value:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this}},{key:"round",value:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this}},{key:"roundToZero",value:function(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this.w=this.w<0?Math.ceil(this.w):Math.floor(this.w),this}},{key:"negate",value:function(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this}},{key:"dot",value:function(e){return this.x*e.x+this.y*e.y+this.z*e.z+this.w*e.w}},{key:"lengthSq",value:function(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w}},{key:"length",value:function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}},{key:"manhattanLength",value:function(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)}},{key:"normalize",value:function(){return this.divideScalar(this.length()||1)}},{key:"setLength",value:function(e){return this.normalize().multiplyScalar(e)}},{key:"lerp",value:function(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this.w+=(e.w-this.w)*t,this}},{key:"lerpVectors",value:function(e,t,n){return this.x=e.x+(t.x-e.x)*n,this.y=e.y+(t.y-e.y)*n,this.z=e.z+(t.z-e.z)*n,this.w=e.w+(t.w-e.w)*n,this}},{key:"equals",value:function(e){return e.x===this.x&&e.y===this.y&&e.z===this.z&&e.w===this.w}},{key:"fromArray",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this.x=e[t],this.y=e[t+1],this.z=e[t+2],this.w=e[t+3],this}},{key:"toArray",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e[t+3]=this.w,e}},{key:"fromBufferAttribute",value:function(e,t,n){return void 0!==n&&console.warn("THREE.Vector4: offset has been removed from .fromBufferAttribute()."),this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this.w=e.getW(t),this}},{key:"random",value:function(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this.w=Math.random(),this}},{key:"width",get:function(){return this.z},set:function(e){this.z=e}},{key:"height",get:function(){return this.w},set:function(e){this.w=e}}]),e}();function ar(e,t,n){this.width=e,this.height=t,this.scissor=new ir(0,0,e,t),this.scissorTest=!1,this.viewport=new ir(0,0,e,t),n=n||{},this.texture=new nr(void 0,n.mapping,n.wrapS,n.wrapT,n.magFilter,n.minFilter,n.format,n.type,n.anisotropy,n.encoding),this.texture.image={},this.texture.image.width=e,this.texture.image.height=t,this.texture.generateMipmaps=void 0!==n.generateMipmaps&&n.generateMipmaps,this.texture.minFilter=void 0!==n.minFilter?n.minFilter:Oe,this.depthBuffer=void 0===n.depthBuffer||n.depthBuffer,this.stencilBuffer=void 0!==n.stencilBuffer&&n.stencilBuffer,this.depthTexture=void 0!==n.depthTexture?n.depthTexture:null}function or(e,t,n){ar.call(this,e,t,n),this.samples=4}ar.prototype=Object.assign(Object.create(Xn.prototype),{constructor:ar,isWebGLRenderTarget:!0,setSize:function(e,t){this.width===e&&this.height===t||(this.width=e,this.height=t,this.texture.image.width=e,this.texture.image.height=t,this.dispose()),this.viewport.set(0,0,e,t),this.scissor.set(0,0,e,t)},clone:function(){return(new this.constructor).copy(this)},copy:function(e){return this.width=e.width,this.height=e.height,this.viewport.copy(e.viewport),this.texture=e.texture.clone(),this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,this.depthTexture=e.depthTexture,this},dispose:function(){this.dispatchEvent({type:"dispose"})}}),or.prototype=Object.assign(Object.create(ar.prototype),{constructor:or,isWebGLMultisampleRenderTarget:!0,copy:function(e){return ar.prototype.copy.call(this,e),this.samples=e.samples,this}});var sr=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;Object(d.a)(this,e),Object.defineProperty(this,"isQuaternion",{value:!0}),this._x=t,this._y=n,this._z=r,this._w=i}return Object(h.a)(e,[{key:"set",value:function(e,t,n,r){return this._x=e,this._y=t,this._z=n,this._w=r,this._onChangeCallback(),this}},{key:"clone",value:function(){return new this.constructor(this._x,this._y,this._z,this._w)}},{key:"copy",value:function(e){return this._x=e.x,this._y=e.y,this._z=e.z,this._w=e.w,this._onChangeCallback(),this}},{key:"setFromEuler",value:function(e,t){if(!e||!e.isEuler)throw new Error("THREE.Quaternion: .setFromEuler() now expects an Euler rotation rather than a Vector3 and order.");var n=e._x,r=e._y,i=e._z,a=e._order,o=Math.cos,s=Math.sin,l=o(n/2),u=o(r/2),c=o(i/2),d=s(n/2),h=s(r/2),f=s(i/2);switch(a){case"XYZ":this._x=d*u*c+l*h*f,this._y=l*h*c-d*u*f,this._z=l*u*f+d*h*c,this._w=l*u*c-d*h*f;break;case"YXZ":this._x=d*u*c+l*h*f,this._y=l*h*c-d*u*f,this._z=l*u*f-d*h*c,this._w=l*u*c+d*h*f;break;case"ZXY":this._x=d*u*c-l*h*f,this._y=l*h*c+d*u*f,this._z=l*u*f+d*h*c,this._w=l*u*c-d*h*f;break;case"ZYX":this._x=d*u*c-l*h*f,this._y=l*h*c+d*u*f,this._z=l*u*f-d*h*c,this._w=l*u*c+d*h*f;break;case"YZX":this._x=d*u*c+l*h*f,this._y=l*h*c+d*u*f,this._z=l*u*f-d*h*c,this._w=l*u*c-d*h*f;break;case"XZY":this._x=d*u*c-l*h*f,this._y=l*h*c-d*u*f,this._z=l*u*f+d*h*c,this._w=l*u*c+d*h*f;break;default:console.warn("THREE.Quaternion: .setFromEuler() encountered an unknown order: "+a)}return!1!==t&&this._onChangeCallback(),this}},{key:"setFromAxisAngle",value:function(e,t){var n=t/2,r=Math.sin(n);return this._x=e.x*r,this._y=e.y*r,this._z=e.z*r,this._w=Math.cos(n),this._onChangeCallback(),this}},{key:"setFromRotationMatrix",value:function(e){var t=e.elements,n=t[0],r=t[4],i=t[8],a=t[1],o=t[5],s=t[9],l=t[2],u=t[6],c=t[10],d=n+o+c;if(d>0){var h=.5/Math.sqrt(d+1);this._w=.25/h,this._x=(u-s)*h,this._y=(i-l)*h,this._z=(a-r)*h}else if(n>o&&n>c){var f=2*Math.sqrt(1+n-o-c);this._w=(u-s)/f,this._x=.25*f,this._y=(r+a)/f,this._z=(i+l)/f}else if(o>c){var p=2*Math.sqrt(1+o-n-c);this._w=(i-l)/p,this._x=(r+a)/p,this._y=.25*p,this._z=(s+u)/p}else{var m=2*Math.sqrt(1+c-n-o);this._w=(a-r)/m,this._x=(i+l)/m,this._y=(s+u)/m,this._z=.25*m}return this._onChangeCallback(),this}},{key:"setFromUnitVectors",value:function(e,t){var n=e.dot(t)+1;return n<1e-6?(n=0,Math.abs(e.x)>Math.abs(e.z)?(this._x=-e.y,this._y=e.x,this._z=0,this._w=n):(this._x=0,this._y=-e.z,this._z=e.y,this._w=n)):(this._x=e.y*t.z-e.z*t.y,this._y=e.z*t.x-e.x*t.z,this._z=e.x*t.y-e.y*t.x,this._w=n),this.normalize()}},{key:"angleTo",value:function(e){return 2*Math.acos(Math.abs($n.clamp(this.dot(e),-1,1)))}},{key:"rotateTowards",value:function(e,t){var n=this.angleTo(e);if(0===n)return this;var r=Math.min(1,t/n);return this.slerp(e,r),this}},{key:"identity",value:function(){return this.set(0,0,0,1)}},{key:"invert",value:function(){return this.conjugate()}},{key:"conjugate",value:function(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this}},{key:"dot",value:function(e){return this._x*e._x+this._y*e._y+this._z*e._z+this._w*e._w}},{key:"lengthSq",value:function(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}},{key:"length",value:function(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}},{key:"normalize",value:function(){var e=this.length();return 0===e?(this._x=0,this._y=0,this._z=0,this._w=1):(e=1/e,this._x=this._x*e,this._y=this._y*e,this._z=this._z*e,this._w=this._w*e),this._onChangeCallback(),this}},{key:"multiply",value:function(e,t){return void 0!==t?(console.warn("THREE.Quaternion: .multiply() now only accepts one argument. Use .multiplyQuaternions( a, b ) instead."),this.multiplyQuaternions(e,t)):this.multiplyQuaternions(this,e)}},{key:"premultiply",value:function(e){return this.multiplyQuaternions(e,this)}},{key:"multiplyQuaternions",value:function(e,t){var n=e._x,r=e._y,i=e._z,a=e._w,o=t._x,s=t._y,l=t._z,u=t._w;return this._x=n*u+a*o+r*l-i*s,this._y=r*u+a*s+i*o-n*l,this._z=i*u+a*l+n*s-r*o,this._w=a*u-n*o-r*s-i*l,this._onChangeCallback(),this}},{key:"slerp",value:function(e,t){if(0===t)return this;if(1===t)return this.copy(e);var n=this._x,r=this._y,i=this._z,a=this._w,o=a*e._w+n*e._x+r*e._y+i*e._z;if(o<0?(this._w=-e._w,this._x=-e._x,this._y=-e._y,this._z=-e._z,o=-o):this.copy(e),o>=1)return this._w=a,this._x=n,this._y=r,this._z=i,this;var s=1-o*o;if(s<=Number.EPSILON){var l=1-t;return this._w=l*a+t*this._w,this._x=l*n+t*this._x,this._y=l*r+t*this._y,this._z=l*i+t*this._z,this.normalize(),this._onChangeCallback(),this}var u=Math.sqrt(s),c=Math.atan2(u,o),d=Math.sin((1-t)*c)/u,h=Math.sin(t*c)/u;return this._w=a*d+this._w*h,this._x=n*d+this._x*h,this._y=r*d+this._y*h,this._z=i*d+this._z*h,this._onChangeCallback(),this}},{key:"equals",value:function(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._w===this._w}},{key:"fromArray",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this._x=e[t],this._y=e[t+1],this._z=e[t+2],this._w=e[t+3],this._onChangeCallback(),this}},{key:"toArray",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._w,e}},{key:"fromBufferAttribute",value:function(e,t){return this._x=e.getX(t),this._y=e.getY(t),this._z=e.getZ(t),this._w=e.getW(t),this}},{key:"_onChange",value:function(e){return this._onChangeCallback=e,this}},{key:"_onChangeCallback",value:function(){}},{key:"x",get:function(){return this._x},set:function(e){this._x=e,this._onChangeCallback()}},{key:"y",get:function(){return this._y},set:function(e){this._y=e,this._onChangeCallback()}},{key:"z",get:function(){return this._z},set:function(e){this._z=e,this._onChangeCallback()}},{key:"w",get:function(){return this._w},set:function(e){this._w=e,this._onChangeCallback()}}],[{key:"slerp",value:function(e,t,n,r){return n.copy(e).slerp(t,r)}},{key:"slerpFlat",value:function(e,t,n,r,i,a,o){var s=n[r+0],l=n[r+1],u=n[r+2],c=n[r+3],d=i[a+0],h=i[a+1],f=i[a+2],p=i[a+3];if(c!==p||s!==d||l!==h||u!==f){var m=1-o,v=s*d+l*h+u*f+c*p,g=v>=0?1:-1,y=1-v*v;if(y>Number.EPSILON){var b=Math.sqrt(y),x=Math.atan2(b,v*g);m=Math.sin(m*x)/b,o=Math.sin(o*x)/b}var w=o*g;if(s=s*m+d*w,l=l*m+h*w,u=u*m+f*w,c=c*m+p*w,m===1-o){var M=1/Math.sqrt(s*s+l*l+u*u+c*c);s*=M,l*=M,u*=M,c*=M}}e[t]=s,e[t+1]=l,e[t+2]=u,e[t+3]=c}},{key:"multiplyQuaternionsFlat",value:function(e,t,n,r,i,a){var o=n[r],s=n[r+1],l=n[r+2],u=n[r+3],c=i[a],d=i[a+1],h=i[a+2],f=i[a+3];return e[t]=o*f+u*c+s*h-l*d,e[t+1]=s*f+u*d+l*c-o*h,e[t+2]=l*f+u*h+o*d-s*c,e[t+3]=u*f-o*c-s*d-l*h,e}}]),e}(),lr=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;Object(d.a)(this,e),Object.defineProperty(this,"isVector3",{value:!0}),this.x=t,this.y=n,this.z=r}return Object(h.a)(e,[{key:"set",value:function(e,t,n){return void 0===n&&(n=this.z),this.x=e,this.y=t,this.z=n,this}},{key:"setScalar",value:function(e){return this.x=e,this.y=e,this.z=e,this}},{key:"setX",value:function(e){return this.x=e,this}},{key:"setY",value:function(e){return this.y=e,this}},{key:"setZ",value:function(e){return this.z=e,this}},{key:"setComponent",value:function(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;default:throw new Error("index is out of range: "+e)}return this}},{key:"getComponent",value:function(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+e)}}},{key:"clone",value:function(){return new this.constructor(this.x,this.y,this.z)}},{key:"copy",value:function(e){return this.x=e.x,this.y=e.y,this.z=e.z,this}},{key:"add",value:function(e,t){return void 0!==t?(console.warn("THREE.Vector3: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(e,t)):(this.x+=e.x,this.y+=e.y,this.z+=e.z,this)}},{key:"addScalar",value:function(e){return this.x+=e,this.y+=e,this.z+=e,this}},{key:"addVectors",value:function(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this}},{key:"addScaledVector",value:function(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this}},{key:"sub",value:function(e,t){return void 0!==t?(console.warn("THREE.Vector3: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(e,t)):(this.x-=e.x,this.y-=e.y,this.z-=e.z,this)}},{key:"subScalar",value:function(e){return this.x-=e,this.y-=e,this.z-=e,this}},{key:"subVectors",value:function(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this}},{key:"multiply",value:function(e,t){return void 0!==t?(console.warn("THREE.Vector3: .multiply() now only accepts one argument. Use .multiplyVectors( a, b ) instead."),this.multiplyVectors(e,t)):(this.x*=e.x,this.y*=e.y,this.z*=e.z,this)}},{key:"multiplyScalar",value:function(e){return this.x*=e,this.y*=e,this.z*=e,this}},{key:"multiplyVectors",value:function(e,t){return this.x=e.x*t.x,this.y=e.y*t.y,this.z=e.z*t.z,this}},{key:"applyEuler",value:function(e){return e&&e.isEuler||console.error("THREE.Vector3: .applyEuler() now expects an Euler rotation rather than a Vector3 and order."),this.applyQuaternion(cr.setFromEuler(e))}},{key:"applyAxisAngle",value:function(e,t){return this.applyQuaternion(cr.setFromAxisAngle(e,t))}},{key:"applyMatrix3",value:function(e){var t=this.x,n=this.y,r=this.z,i=e.elements;return this.x=i[0]*t+i[3]*n+i[6]*r,this.y=i[1]*t+i[4]*n+i[7]*r,this.z=i[2]*t+i[5]*n+i[8]*r,this}},{key:"applyNormalMatrix",value:function(e){return this.applyMatrix3(e).normalize()}},{key:"applyMatrix4",value:function(e){var t=this.x,n=this.y,r=this.z,i=e.elements,a=1/(i[3]*t+i[7]*n+i[11]*r+i[15]);return this.x=(i[0]*t+i[4]*n+i[8]*r+i[12])*a,this.y=(i[1]*t+i[5]*n+i[9]*r+i[13])*a,this.z=(i[2]*t+i[6]*n+i[10]*r+i[14])*a,this}},{key:"applyQuaternion",value:function(e){var t=this.x,n=this.y,r=this.z,i=e.x,a=e.y,o=e.z,s=e.w,l=s*t+a*r-o*n,u=s*n+o*t-i*r,c=s*r+i*n-a*t,d=-i*t-a*n-o*r;return this.x=l*s+d*-i+u*-o-c*-a,this.y=u*s+d*-a+c*-i-l*-o,this.z=c*s+d*-o+l*-a-u*-i,this}},{key:"project",value:function(e){return this.applyMatrix4(e.matrixWorldInverse).applyMatrix4(e.projectionMatrix)}},{key:"unproject",value:function(e){return this.applyMatrix4(e.projectionMatrixInverse).applyMatrix4(e.matrixWorld)}},{key:"transformDirection",value:function(e){var t=this.x,n=this.y,r=this.z,i=e.elements;return this.x=i[0]*t+i[4]*n+i[8]*r,this.y=i[1]*t+i[5]*n+i[9]*r,this.z=i[2]*t+i[6]*n+i[10]*r,this.normalize()}},{key:"divide",value:function(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this}},{key:"divideScalar",value:function(e){return this.multiplyScalar(1/e)}},{key:"min",value:function(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this}},{key:"max",value:function(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this}},{key:"clamp",value:function(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this.z=Math.max(e.z,Math.min(t.z,this.z)),this}},{key:"clampScalar",value:function(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this.z=Math.max(e,Math.min(t,this.z)),this}},{key:"clampLength",value:function(e,t){var n=this.length();return this.divideScalar(n||1).multiplyScalar(Math.max(e,Math.min(t,n)))}},{key:"floor",value:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}},{key:"ceil",value:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}},{key:"round",value:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}},{key:"roundToZero",value:function(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this}},{key:"negate",value:function(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}},{key:"dot",value:function(e){return this.x*e.x+this.y*e.y+this.z*e.z}},{key:"lengthSq",value:function(){return this.x*this.x+this.y*this.y+this.z*this.z}},{key:"length",value:function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}},{key:"manhattanLength",value:function(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}},{key:"normalize",value:function(){return this.divideScalar(this.length()||1)}},{key:"setLength",value:function(e){return this.normalize().multiplyScalar(e)}},{key:"lerp",value:function(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this}},{key:"lerpVectors",value:function(e,t,n){return this.x=e.x+(t.x-e.x)*n,this.y=e.y+(t.y-e.y)*n,this.z=e.z+(t.z-e.z)*n,this}},{key:"cross",value:function(e,t){return void 0!==t?(console.warn("THREE.Vector3: .cross() now only accepts one argument. Use .crossVectors( a, b ) instead."),this.crossVectors(e,t)):this.crossVectors(this,e)}},{key:"crossVectors",value:function(e,t){var n=e.x,r=e.y,i=e.z,a=t.x,o=t.y,s=t.z;return this.x=r*s-i*o,this.y=i*a-n*s,this.z=n*o-r*a,this}},{key:"projectOnVector",value:function(e){var t=e.lengthSq();if(0===t)return this.set(0,0,0);var n=e.dot(this)/t;return this.copy(e).multiplyScalar(n)}},{key:"projectOnPlane",value:function(e){return ur.copy(this).projectOnVector(e),this.sub(ur)}},{key:"reflect",value:function(e){return this.sub(ur.copy(e).multiplyScalar(2*this.dot(e)))}},{key:"angleTo",value:function(e){var t=Math.sqrt(this.lengthSq()*e.lengthSq());if(0===t)return Math.PI/2;var n=this.dot(e)/t;return Math.acos($n.clamp(n,-1,1))}},{key:"distanceTo",value:function(e){return Math.sqrt(this.distanceToSquared(e))}},{key:"distanceToSquared",value:function(e){var t=this.x-e.x,n=this.y-e.y,r=this.z-e.z;return t*t+n*n+r*r}},{key:"manhattanDistanceTo",value:function(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)+Math.abs(this.z-e.z)}},{key:"setFromSpherical",value:function(e){return this.setFromSphericalCoords(e.radius,e.phi,e.theta)}},{key:"setFromSphericalCoords",value:function(e,t,n){var r=Math.sin(t)*e;return this.x=r*Math.sin(n),this.y=Math.cos(t)*e,this.z=r*Math.cos(n),this}},{key:"setFromCylindrical",value:function(e){return this.setFromCylindricalCoords(e.radius,e.theta,e.y)}},{key:"setFromCylindricalCoords",value:function(e,t,n){return this.x=e*Math.sin(t),this.y=n,this.z=e*Math.cos(t),this}},{key:"setFromMatrixPosition",value:function(e){var t=e.elements;return this.x=t[12],this.y=t[13],this.z=t[14],this}},{key:"setFromMatrixScale",value:function(e){var t=this.setFromMatrixColumn(e,0).length(),n=this.setFromMatrixColumn(e,1).length(),r=this.setFromMatrixColumn(e,2).length();return this.x=t,this.y=n,this.z=r,this}},{key:"setFromMatrixColumn",value:function(e,t){return this.fromArray(e.elements,4*t)}},{key:"setFromMatrix3Column",value:function(e,t){return this.fromArray(e.elements,3*t)}},{key:"equals",value:function(e){return e.x===this.x&&e.y===this.y&&e.z===this.z}},{key:"fromArray",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this.x=e[t],this.y=e[t+1],this.z=e[t+2],this}},{key:"toArray",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e}},{key:"fromBufferAttribute",value:function(e,t,n){return void 0!==n&&console.warn("THREE.Vector3: offset has been removed from .fromBufferAttribute()."),this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this}},{key:"random",value:function(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}}]),e}(),ur=new lr,cr=new sr,dr=function(){function e(t,n){Object(d.a)(this,e),Object.defineProperty(this,"isBox3",{value:!0}),this.min=void 0!==t?t:new lr(1/0,1/0,1/0),this.max=void 0!==n?n:new lr(-1/0,-1/0,-1/0)}return Object(h.a)(e,[{key:"set",value:function(e,t){return this.min.copy(e),this.max.copy(t),this}},{key:"setFromArray",value:function(e){for(var t=1/0,n=1/0,r=1/0,i=-1/0,a=-1/0,o=-1/0,s=0,l=e.length;s<l;s+=3){var u=e[s],c=e[s+1],d=e[s+2];u<t&&(t=u),c<n&&(n=c),d<r&&(r=d),u>i&&(i=u),c>a&&(a=c),d>o&&(o=d)}return this.min.set(t,n,r),this.max.set(i,a,o),this}},{key:"setFromBufferAttribute",value:function(e){for(var t=1/0,n=1/0,r=1/0,i=-1/0,a=-1/0,o=-1/0,s=0,l=e.count;s<l;s++){var u=e.getX(s),c=e.getY(s),d=e.getZ(s);u<t&&(t=u),c<n&&(n=c),d<r&&(r=d),u>i&&(i=u),c>a&&(a=c),d>o&&(o=d)}return this.min.set(t,n,r),this.max.set(i,a,o),this}},{key:"setFromPoints",value:function(e){this.makeEmpty();for(var t=0,n=e.length;t<n;t++)this.expandByPoint(e[t]);return this}},{key:"setFromCenterAndSize",value:function(e,t){var n=pr.copy(t).multiplyScalar(.5);return this.min.copy(e).sub(n),this.max.copy(e).add(n),this}},{key:"setFromObject",value:function(e){return this.makeEmpty(),this.expandByObject(e)}},{key:"clone",value:function(){return(new this.constructor).copy(this)}},{key:"copy",value:function(e){return this.min.copy(e.min),this.max.copy(e.max),this}},{key:"makeEmpty",value:function(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this}},{key:"isEmpty",value:function(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z}},{key:"getCenter",value:function(e){return void 0===e&&(console.warn("THREE.Box3: .getCenter() target is now required"),e=new lr),this.isEmpty()?e.set(0,0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}},{key:"getSize",value:function(e){return void 0===e&&(console.warn("THREE.Box3: .getSize() target is now required"),e=new lr),this.isEmpty()?e.set(0,0,0):e.subVectors(this.max,this.min)}},{key:"expandByPoint",value:function(e){return this.min.min(e),this.max.max(e),this}},{key:"expandByVector",value:function(e){return this.min.sub(e),this.max.add(e),this}},{key:"expandByScalar",value:function(e){return this.min.addScalar(-e),this.max.addScalar(e),this}},{key:"expandByObject",value:function(e){e.updateWorldMatrix(!1,!1);var t=e.geometry;void 0!==t&&(null===t.boundingBox&&t.computeBoundingBox(),mr.copy(t.boundingBox),mr.applyMatrix4(e.matrixWorld),this.union(mr));for(var n=e.children,r=0,i=n.length;r<i;r++)this.expandByObject(n[r]);return this}},{key:"containsPoint",value:function(e){return!(e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y||e.z<this.min.z||e.z>this.max.z)}},{key:"containsBox",value:function(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y&&this.min.z<=e.min.z&&e.max.z<=this.max.z}},{key:"getParameter",value:function(e,t){return void 0===t&&(console.warn("THREE.Box3: .getParameter() target is now required"),t=new lr),t.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y),(e.z-this.min.z)/(this.max.z-this.min.z))}},{key:"intersectsBox",value:function(e){return!(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y||e.max.z<this.min.z||e.min.z>this.max.z)}},{key:"intersectsSphere",value:function(e){return this.clampPoint(e.center,pr),pr.distanceToSquared(e.center)<=e.radius*e.radius}},{key:"intersectsPlane",value:function(e){var t,n;return e.normal.x>0?(t=e.normal.x*this.min.x,n=e.normal.x*this.max.x):(t=e.normal.x*this.max.x,n=e.normal.x*this.min.x),e.normal.y>0?(t+=e.normal.y*this.min.y,n+=e.normal.y*this.max.y):(t+=e.normal.y*this.max.y,n+=e.normal.y*this.min.y),e.normal.z>0?(t+=e.normal.z*this.min.z,n+=e.normal.z*this.max.z):(t+=e.normal.z*this.max.z,n+=e.normal.z*this.min.z),t<=-e.constant&&n>=-e.constant}},{key:"intersectsTriangle",value:function(e){if(this.isEmpty())return!1;this.getCenter(Mr),_r.subVectors(this.max,Mr),vr.subVectors(e.a,Mr),gr.subVectors(e.b,Mr),yr.subVectors(e.c,Mr),br.subVectors(gr,vr),xr.subVectors(yr,gr),wr.subVectors(vr,yr);var t=[0,-br.z,br.y,0,-xr.z,xr.y,0,-wr.z,wr.y,br.z,0,-br.x,xr.z,0,-xr.x,wr.z,0,-wr.x,-br.y,br.x,0,-xr.y,xr.x,0,-wr.y,wr.x,0];return!!hr(t,vr,gr,yr,_r)&&(!!hr(t=[1,0,0,0,1,0,0,0,1],vr,gr,yr,_r)&&(Sr.crossVectors(br,xr),hr(t=[Sr.x,Sr.y,Sr.z],vr,gr,yr,_r)))}},{key:"clampPoint",value:function(e,t){return void 0===t&&(console.warn("THREE.Box3: .clampPoint() target is now required"),t=new lr),t.copy(e).clamp(this.min,this.max)}},{key:"distanceToPoint",value:function(e){return pr.copy(e).clamp(this.min,this.max).sub(e).length()}},{key:"getBoundingSphere",value:function(e){return void 0===e&&console.error("THREE.Box3: .getBoundingSphere() target is now required"),this.getCenter(e.center),e.radius=.5*this.getSize(pr).length(),e}},{key:"intersect",value:function(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}},{key:"union",value:function(e){return this.min.min(e.min),this.max.max(e.max),this}},{key:"applyMatrix4",value:function(e){return this.isEmpty()||(fr[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(e),fr[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(e),fr[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(e),fr[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(e),fr[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(e),fr[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(e),fr[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(e),fr[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(e),this.setFromPoints(fr)),this}},{key:"translate",value:function(e){return this.min.add(e),this.max.add(e),this}},{key:"equals",value:function(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}]),e}();function hr(e,t,n,r,i){for(var a=0,o=e.length-3;a<=o;a+=3){Er.fromArray(e,a);var s=i.x*Math.abs(Er.x)+i.y*Math.abs(Er.y)+i.z*Math.abs(Er.z),l=t.dot(Er),u=n.dot(Er),c=r.dot(Er);if(Math.max(-Math.max(l,u,c),Math.min(l,u,c))>s)return!1}return!0}var fr=[new lr,new lr,new lr,new lr,new lr,new lr,new lr,new lr],pr=new lr,mr=new dr,vr=new lr,gr=new lr,yr=new lr,br=new lr,xr=new lr,wr=new lr,Mr=new lr,_r=new lr,Sr=new lr,Er=new lr,Tr=new dr,Ar=function(){function e(t,n){Object(d.a)(this,e),this.center=void 0!==t?t:new lr,this.radius=void 0!==n?n:-1}return Object(h.a)(e,[{key:"set",value:function(e,t){return this.center.copy(e),this.radius=t,this}},{key:"setFromPoints",value:function(e,t){var n=this.center;void 0!==t?n.copy(t):Tr.setFromPoints(e).getCenter(n);for(var r=0,i=0,a=e.length;i<a;i++)r=Math.max(r,n.distanceToSquared(e[i]));return this.radius=Math.sqrt(r),this}},{key:"clone",value:function(){return(new this.constructor).copy(this)}},{key:"copy",value:function(e){return this.center.copy(e.center),this.radius=e.radius,this}},{key:"isEmpty",value:function(){return this.radius<0}},{key:"makeEmpty",value:function(){return this.center.set(0,0,0),this.radius=-1,this}},{key:"containsPoint",value:function(e){return e.distanceToSquared(this.center)<=this.radius*this.radius}},{key:"distanceToPoint",value:function(e){return e.distanceTo(this.center)-this.radius}},{key:"intersectsSphere",value:function(e){var t=this.radius+e.radius;return e.center.distanceToSquared(this.center)<=t*t}},{key:"intersectsBox",value:function(e){return e.intersectsSphere(this)}},{key:"intersectsPlane",value:function(e){return Math.abs(e.distanceToPoint(this.center))<=this.radius}},{key:"clampPoint",value:function(e,t){var n=this.center.distanceToSquared(e);return void 0===t&&(console.warn("THREE.Sphere: .clampPoint() target is now required"),t=new lr),t.copy(e),n>this.radius*this.radius&&(t.sub(this.center).normalize(),t.multiplyScalar(this.radius).add(this.center)),t}},{key:"getBoundingBox",value:function(e){return void 0===e&&(console.warn("THREE.Sphere: .getBoundingBox() target is now required"),e=new dr),this.isEmpty()?(e.makeEmpty(),e):(e.set(this.center,this.center),e.expandByScalar(this.radius),e)}},{key:"applyMatrix4",value:function(e){return this.center.applyMatrix4(e),this.radius=this.radius*e.getMaxScaleOnAxis(),this}},{key:"translate",value:function(e){return this.center.add(e),this}},{key:"equals",value:function(e){return e.center.equals(this.center)&&e.radius===this.radius}}]),e}(),Rr=new lr,Or=new lr,kr=new lr,Ir=new lr,Cr=new lr,Dr=new lr,Lr=new lr,Pr=function(){function e(t,n){Object(d.a)(this,e),this.origin=void 0!==t?t:new lr,this.direction=void 0!==n?n:new lr(0,0,-1)}return Object(h.a)(e,[{key:"set",value:function(e,t){return this.origin.copy(e),this.direction.copy(t),this}},{key:"clone",value:function(){return(new this.constructor).copy(this)}},{key:"copy",value:function(e){return this.origin.copy(e.origin),this.direction.copy(e.direction),this}},{key:"at",value:function(e,t){return void 0===t&&(console.warn("THREE.Ray: .at() target is now required"),t=new lr),t.copy(this.direction).multiplyScalar(e).add(this.origin)}},{key:"lookAt",value:function(e){return this.direction.copy(e).sub(this.origin).normalize(),this}},{key:"recast",value:function(e){return this.origin.copy(this.at(e,Rr)),this}},{key:"closestPointToPoint",value:function(e,t){void 0===t&&(console.warn("THREE.Ray: .closestPointToPoint() target is now required"),t=new lr),t.subVectors(e,this.origin);var n=t.dot(this.direction);return n<0?t.copy(this.origin):t.copy(this.direction).multiplyScalar(n).add(this.origin)}},{key:"distanceToPoint",value:function(e){return Math.sqrt(this.distanceSqToPoint(e))}},{key:"distanceSqToPoint",value:function(e){var t=Rr.subVectors(e,this.origin).dot(this.direction);return t<0?this.origin.distanceToSquared(e):(Rr.copy(this.direction).multiplyScalar(t).add(this.origin),Rr.distanceToSquared(e))}},{key:"distanceSqToSegment",value:function(e,t,n,r){Or.copy(e).add(t).multiplyScalar(.5),kr.copy(t).sub(e).normalize(),Ir.copy(this.origin).sub(Or);var i,a,o,s,l=.5*e.distanceTo(t),u=-this.direction.dot(kr),c=Ir.dot(this.direction),d=-Ir.dot(kr),h=Ir.lengthSq(),f=Math.abs(1-u*u);if(f>0)if(a=u*c-d,s=l*f,(i=u*d-c)>=0)if(a>=-s)if(a<=s){var p=1/f;o=(i*=p)*(i+u*(a*=p)+2*c)+a*(u*i+a+2*d)+h}else a=l,o=-(i=Math.max(0,-(u*a+c)))*i+a*(a+2*d)+h;else a=-l,o=-(i=Math.max(0,-(u*a+c)))*i+a*(a+2*d)+h;else a<=-s?o=-(i=Math.max(0,-(-u*l+c)))*i+(a=i>0?-l:Math.min(Math.max(-l,-d),l))*(a+2*d)+h:a<=s?(i=0,o=(a=Math.min(Math.max(-l,-d),l))*(a+2*d)+h):o=-(i=Math.max(0,-(u*l+c)))*i+(a=i>0?l:Math.min(Math.max(-l,-d),l))*(a+2*d)+h;else a=u>0?-l:l,o=-(i=Math.max(0,-(u*a+c)))*i+a*(a+2*d)+h;return n&&n.copy(this.direction).multiplyScalar(i).add(this.origin),r&&r.copy(kr).multiplyScalar(a).add(Or),o}},{key:"intersectSphere",value:function(e,t){Rr.subVectors(e.center,this.origin);var n=Rr.dot(this.direction),r=Rr.dot(Rr)-n*n,i=e.radius*e.radius;if(r>i)return null;var a=Math.sqrt(i-r),o=n-a,s=n+a;return o<0&&s<0?null:o<0?this.at(s,t):this.at(o,t)}},{key:"intersectsSphere",value:function(e){return this.distanceSqToPoint(e.center)<=e.radius*e.radius}},{key:"distanceToPlane",value:function(e){var t=e.normal.dot(this.direction);if(0===t)return 0===e.distanceToPoint(this.origin)?0:null;var n=-(this.origin.dot(e.normal)+e.constant)/t;return n>=0?n:null}},{key:"intersectPlane",value:function(e,t){var n=this.distanceToPlane(e);return null===n?null:this.at(n,t)}},{key:"intersectsPlane",value:function(e){var t=e.distanceToPoint(this.origin);return 0===t||e.normal.dot(this.direction)*t<0}},{key:"intersectBox",value:function(e,t){var n,r,i,a,o,s,l=1/this.direction.x,u=1/this.direction.y,c=1/this.direction.z,d=this.origin;return l>=0?(n=(e.min.x-d.x)*l,r=(e.max.x-d.x)*l):(n=(e.max.x-d.x)*l,r=(e.min.x-d.x)*l),u>=0?(i=(e.min.y-d.y)*u,a=(e.max.y-d.y)*u):(i=(e.max.y-d.y)*u,a=(e.min.y-d.y)*u),n>a||i>r?null:((i>n||n!==n)&&(n=i),(a<r||r!==r)&&(r=a),c>=0?(o=(e.min.z-d.z)*c,s=(e.max.z-d.z)*c):(o=(e.max.z-d.z)*c,s=(e.min.z-d.z)*c),n>s||o>r?null:((o>n||n!==n)&&(n=o),(s<r||r!==r)&&(r=s),r<0?null:this.at(n>=0?n:r,t)))}},{key:"intersectsBox",value:function(e){return null!==this.intersectBox(e,Rr)}},{key:"intersectTriangle",value:function(e,t,n,r,i){Cr.subVectors(t,e),Dr.subVectors(n,e),Lr.crossVectors(Cr,Dr);var a,o=this.direction.dot(Lr);if(o>0){if(r)return null;a=1}else{if(!(o<0))return null;a=-1,o=-o}Ir.subVectors(this.origin,e);var s=a*this.direction.dot(Dr.crossVectors(Ir,Dr));if(s<0)return null;var l=a*this.direction.dot(Cr.cross(Ir));if(l<0)return null;if(s+l>o)return null;var u=-a*Ir.dot(Lr);return u<0?null:this.at(u/o,i)}},{key:"applyMatrix4",value:function(e){return this.origin.applyMatrix4(e),this.direction.transformDirection(e),this}},{key:"equals",value:function(e){return e.origin.equals(this.origin)&&e.direction.equals(this.direction)}}]),e}(),Nr=function(){function e(){Object(d.a)(this,e),Object.defineProperty(this,"isMatrix4",{value:!0}),this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],arguments.length>0&&console.error("THREE.Matrix4: the constructor no longer reads arguments. use .set() instead.")}return Object(h.a)(e,[{key:"set",value:function(e,t,n,r,i,a,o,s,l,u,c,d,h,f,p,m){var v=this.elements;return v[0]=e,v[4]=t,v[8]=n,v[12]=r,v[1]=i,v[5]=a,v[9]=o,v[13]=s,v[2]=l,v[6]=u,v[10]=c,v[14]=d,v[3]=h,v[7]=f,v[11]=p,v[15]=m,this}},{key:"identity",value:function(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}},{key:"clone",value:function(){return(new e).fromArray(this.elements)}},{key:"copy",value:function(e){var t=this.elements,n=e.elements;return t[0]=n[0],t[1]=n[1],t[2]=n[2],t[3]=n[3],t[4]=n[4],t[5]=n[5],t[6]=n[6],t[7]=n[7],t[8]=n[8],t[9]=n[9],t[10]=n[10],t[11]=n[11],t[12]=n[12],t[13]=n[13],t[14]=n[14],t[15]=n[15],this}},{key:"copyPosition",value:function(e){var t=this.elements,n=e.elements;return t[12]=n[12],t[13]=n[13],t[14]=n[14],this}},{key:"extractBasis",value:function(e,t,n){return e.setFromMatrixColumn(this,0),t.setFromMatrixColumn(this,1),n.setFromMatrixColumn(this,2),this}},{key:"makeBasis",value:function(e,t,n){return this.set(e.x,t.x,n.x,0,e.y,t.y,n.y,0,e.z,t.z,n.z,0,0,0,0,1),this}},{key:"extractRotation",value:function(e){var t=this.elements,n=e.elements,r=1/jr.setFromMatrixColumn(e,0).length(),i=1/jr.setFromMatrixColumn(e,1).length(),a=1/jr.setFromMatrixColumn(e,2).length();return t[0]=n[0]*r,t[1]=n[1]*r,t[2]=n[2]*r,t[3]=0,t[4]=n[4]*i,t[5]=n[5]*i,t[6]=n[6]*i,t[7]=0,t[8]=n[8]*a,t[9]=n[9]*a,t[10]=n[10]*a,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this}},{key:"makeRotationFromEuler",value:function(e){e&&e.isEuler||console.error("THREE.Matrix4: .makeRotationFromEuler() now expects a Euler rotation rather than a Vector3 and order.");var t=this.elements,n=e.x,r=e.y,i=e.z,a=Math.cos(n),o=Math.sin(n),s=Math.cos(r),l=Math.sin(r),u=Math.cos(i),c=Math.sin(i);if("XYZ"===e.order){var d=a*u,h=a*c,f=o*u,p=o*c;t[0]=s*u,t[4]=-s*c,t[8]=l,t[1]=h+f*l,t[5]=d-p*l,t[9]=-o*s,t[2]=p-d*l,t[6]=f+h*l,t[10]=a*s}else if("YXZ"===e.order){var m=s*u,v=s*c,g=l*u,y=l*c;t[0]=m+y*o,t[4]=g*o-v,t[8]=a*l,t[1]=a*c,t[5]=a*u,t[9]=-o,t[2]=v*o-g,t[6]=y+m*o,t[10]=a*s}else if("ZXY"===e.order){var b=s*u,x=s*c,w=l*u,M=l*c;t[0]=b-M*o,t[4]=-a*c,t[8]=w+x*o,t[1]=x+w*o,t[5]=a*u,t[9]=M-b*o,t[2]=-a*l,t[6]=o,t[10]=a*s}else if("ZYX"===e.order){var _=a*u,S=a*c,E=o*u,T=o*c;t[0]=s*u,t[4]=E*l-S,t[8]=_*l+T,t[1]=s*c,t[5]=T*l+_,t[9]=S*l-E,t[2]=-l,t[6]=o*s,t[10]=a*s}else if("YZX"===e.order){var A=a*s,R=a*l,O=o*s,k=o*l;t[0]=s*u,t[4]=k-A*c,t[8]=O*c+R,t[1]=c,t[5]=a*u,t[9]=-o*u,t[2]=-l*u,t[6]=R*c+O,t[10]=A-k*c}else if("XZY"===e.order){var I=a*s,C=a*l,D=o*s,L=o*l;t[0]=s*u,t[4]=-c,t[8]=l*u,t[1]=I*c+L,t[5]=a*u,t[9]=C*c-D,t[2]=D*c-C,t[6]=o*u,t[10]=L*c+I}return t[3]=0,t[7]=0,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this}},{key:"makeRotationFromQuaternion",value:function(e){return this.compose(Gr,e,Ur)}},{key:"lookAt",value:function(e,t,n){var r=this.elements;return Vr.subVectors(e,t),0===Vr.lengthSq()&&(Vr.z=1),Vr.normalize(),zr.crossVectors(n,Vr),0===zr.lengthSq()&&(1===Math.abs(n.z)?Vr.x+=1e-4:Vr.z+=1e-4,Vr.normalize(),zr.crossVectors(n,Vr)),zr.normalize(),Br.crossVectors(Vr,zr),r[0]=zr.x,r[4]=Br.x,r[8]=Vr.x,r[1]=zr.y,r[5]=Br.y,r[9]=Vr.y,r[2]=zr.z,r[6]=Br.z,r[10]=Vr.z,this}},{key:"multiply",value:function(e,t){return void 0!==t?(console.warn("THREE.Matrix4: .multiply() now only accepts one argument. Use .multiplyMatrices( a, b ) instead."),this.multiplyMatrices(e,t)):this.multiplyMatrices(this,e)}},{key:"premultiply",value:function(e){return this.multiplyMatrices(e,this)}},{key:"multiplyMatrices",value:function(e,t){var n=e.elements,r=t.elements,i=this.elements,a=n[0],o=n[4],s=n[8],l=n[12],u=n[1],c=n[5],d=n[9],h=n[13],f=n[2],p=n[6],m=n[10],v=n[14],g=n[3],y=n[7],b=n[11],x=n[15],w=r[0],M=r[4],_=r[8],S=r[12],E=r[1],T=r[5],A=r[9],R=r[13],O=r[2],k=r[6],I=r[10],C=r[14],D=r[3],L=r[7],P=r[11],N=r[15];return i[0]=a*w+o*E+s*O+l*D,i[4]=a*M+o*T+s*k+l*L,i[8]=a*_+o*A+s*I+l*P,i[12]=a*S+o*R+s*C+l*N,i[1]=u*w+c*E+d*O+h*D,i[5]=u*M+c*T+d*k+h*L,i[9]=u*_+c*A+d*I+h*P,i[13]=u*S+c*R+d*C+h*N,i[2]=f*w+p*E+m*O+v*D,i[6]=f*M+p*T+m*k+v*L,i[10]=f*_+p*A+m*I+v*P,i[14]=f*S+p*R+m*C+v*N,i[3]=g*w+y*E+b*O+x*D,i[7]=g*M+y*T+b*k+x*L,i[11]=g*_+y*A+b*I+x*P,i[15]=g*S+y*R+b*C+x*N,this}},{key:"multiplyScalar",value:function(e){var t=this.elements;return t[0]*=e,t[4]*=e,t[8]*=e,t[12]*=e,t[1]*=e,t[5]*=e,t[9]*=e,t[13]*=e,t[2]*=e,t[6]*=e,t[10]*=e,t[14]*=e,t[3]*=e,t[7]*=e,t[11]*=e,t[15]*=e,this}},{key:"determinant",value:function(){var e=this.elements,t=e[0],n=e[4],r=e[8],i=e[12],a=e[1],o=e[5],s=e[9],l=e[13],u=e[2],c=e[6],d=e[10],h=e[14];return e[3]*(+i*s*c-r*l*c-i*o*d+n*l*d+r*o*h-n*s*h)+e[7]*(+t*s*h-t*l*d+i*a*d-r*a*h+r*l*u-i*s*u)+e[11]*(+t*l*c-t*o*h-i*a*c+n*a*h+i*o*u-n*l*u)+e[15]*(-r*o*u-t*s*c+t*o*d+r*a*c-n*a*d+n*s*u)}},{key:"transpose",value:function(){var e,t=this.elements;return e=t[1],t[1]=t[4],t[4]=e,e=t[2],t[2]=t[8],t[8]=e,e=t[6],t[6]=t[9],t[9]=e,e=t[3],t[3]=t[12],t[12]=e,e=t[7],t[7]=t[13],t[13]=e,e=t[11],t[11]=t[14],t[14]=e,this}},{key:"setPosition",value:function(e,t,n){var r=this.elements;return e.isVector3?(r[12]=e.x,r[13]=e.y,r[14]=e.z):(r[12]=e,r[13]=t,r[14]=n),this}},{key:"invert",value:function(){var e=this.elements,t=e[0],n=e[1],r=e[2],i=e[3],a=e[4],o=e[5],s=e[6],l=e[7],u=e[8],c=e[9],d=e[10],h=e[11],f=e[12],p=e[13],m=e[14],v=e[15],g=c*m*l-p*d*l+p*s*h-o*m*h-c*s*v+o*d*v,y=f*d*l-u*m*l-f*s*h+a*m*h+u*s*v-a*d*v,b=u*p*l-f*c*l+f*o*h-a*p*h-u*o*v+a*c*v,x=f*c*s-u*p*s-f*o*d+a*p*d+u*o*m-a*c*m,w=t*g+n*y+r*b+i*x;if(0===w)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);var M=1/w;return e[0]=g*M,e[1]=(p*d*i-c*m*i-p*r*h+n*m*h+c*r*v-n*d*v)*M,e[2]=(o*m*i-p*s*i+p*r*l-n*m*l-o*r*v+n*s*v)*M,e[3]=(c*s*i-o*d*i-c*r*l+n*d*l+o*r*h-n*s*h)*M,e[4]=y*M,e[5]=(u*m*i-f*d*i+f*r*h-t*m*h-u*r*v+t*d*v)*M,e[6]=(f*s*i-a*m*i-f*r*l+t*m*l+a*r*v-t*s*v)*M,e[7]=(a*d*i-u*s*i+u*r*l-t*d*l-a*r*h+t*s*h)*M,e[8]=b*M,e[9]=(f*c*i-u*p*i-f*n*h+t*p*h+u*n*v-t*c*v)*M,e[10]=(a*p*i-f*o*i+f*n*l-t*p*l-a*n*v+t*o*v)*M,e[11]=(u*o*i-a*c*i-u*n*l+t*c*l+a*n*h-t*o*h)*M,e[12]=x*M,e[13]=(u*p*r-f*c*r+f*n*d-t*p*d-u*n*m+t*c*m)*M,e[14]=(f*o*r-a*p*r-f*n*s+t*p*s+a*n*m-t*o*m)*M,e[15]=(a*c*r-u*o*r+u*n*s-t*c*s-a*n*d+t*o*d)*M,this}},{key:"scale",value:function(e){var t=this.elements,n=e.x,r=e.y,i=e.z;return t[0]*=n,t[4]*=r,t[8]*=i,t[1]*=n,t[5]*=r,t[9]*=i,t[2]*=n,t[6]*=r,t[10]*=i,t[3]*=n,t[7]*=r,t[11]*=i,this}},{key:"getMaxScaleOnAxis",value:function(){var e=this.elements,t=e[0]*e[0]+e[1]*e[1]+e[2]*e[2],n=e[4]*e[4]+e[5]*e[5]+e[6]*e[6],r=e[8]*e[8]+e[9]*e[9]+e[10]*e[10];return Math.sqrt(Math.max(t,n,r))}},{key:"makeTranslation",value:function(e,t,n){return this.set(1,0,0,e,0,1,0,t,0,0,1,n,0,0,0,1),this}},{key:"makeRotationX",value:function(e){var t=Math.cos(e),n=Math.sin(e);return this.set(1,0,0,0,0,t,-n,0,0,n,t,0,0,0,0,1),this}},{key:"makeRotationY",value:function(e){var t=Math.cos(e),n=Math.sin(e);return this.set(t,0,n,0,0,1,0,0,-n,0,t,0,0,0,0,1),this}},{key:"makeRotationZ",value:function(e){var t=Math.cos(e),n=Math.sin(e);return this.set(t,-n,0,0,n,t,0,0,0,0,1,0,0,0,0,1),this}},{key:"makeRotationAxis",value:function(e,t){var n=Math.cos(t),r=Math.sin(t),i=1-n,a=e.x,o=e.y,s=e.z,l=i*a,u=i*o;return this.set(l*a+n,l*o-r*s,l*s+r*o,0,l*o+r*s,u*o+n,u*s-r*a,0,l*s-r*o,u*s+r*a,i*s*s+n,0,0,0,0,1),this}},{key:"makeScale",value:function(e,t,n){return this.set(e,0,0,0,0,t,0,0,0,0,n,0,0,0,0,1),this}},{key:"makeShear",value:function(e,t,n){return this.set(1,t,n,0,e,1,n,0,e,t,1,0,0,0,0,1),this}},{key:"compose",value:function(e,t,n){var r=this.elements,i=t._x,a=t._y,o=t._z,s=t._w,l=i+i,u=a+a,c=o+o,d=i*l,h=i*u,f=i*c,p=a*u,m=a*c,v=o*c,g=s*l,y=s*u,b=s*c,x=n.x,w=n.y,M=n.z;return r[0]=(1-(p+v))*x,r[1]=(h+b)*x,r[2]=(f-y)*x,r[3]=0,r[4]=(h-b)*w,r[5]=(1-(d+v))*w,r[6]=(m+g)*w,r[7]=0,r[8]=(f+y)*M,r[9]=(m-g)*M,r[10]=(1-(d+p))*M,r[11]=0,r[12]=e.x,r[13]=e.y,r[14]=e.z,r[15]=1,this}},{key:"decompose",value:function(e,t,n){var r=this.elements,i=jr.set(r[0],r[1],r[2]).length(),a=jr.set(r[4],r[5],r[6]).length(),o=jr.set(r[8],r[9],r[10]).length();this.determinant()<0&&(i=-i),e.x=r[12],e.y=r[13],e.z=r[14],Fr.copy(this);var s=1/i,l=1/a,u=1/o;return Fr.elements[0]*=s,Fr.elements[1]*=s,Fr.elements[2]*=s,Fr.elements[4]*=l,Fr.elements[5]*=l,Fr.elements[6]*=l,Fr.elements[8]*=u,Fr.elements[9]*=u,Fr.elements[10]*=u,t.setFromRotationMatrix(Fr),n.x=i,n.y=a,n.z=o,this}},{key:"makePerspective",value:function(e,t,n,r,i,a){void 0===a&&console.warn("THREE.Matrix4: .makePerspective() has been redefined and has a new signature. Please check the docs.");var o=this.elements,s=2*i/(t-e),l=2*i/(n-r),u=(t+e)/(t-e),c=(n+r)/(n-r),d=-(a+i)/(a-i),h=-2*a*i/(a-i);return o[0]=s,o[4]=0,o[8]=u,o[12]=0,o[1]=0,o[5]=l,o[9]=c,o[13]=0,o[2]=0,o[6]=0,o[10]=d,o[14]=h,o[3]=0,o[7]=0,o[11]=-1,o[15]=0,this}},{key:"makeOrthographic",value:function(e,t,n,r,i,a){var o=this.elements,s=1/(t-e),l=1/(n-r),u=1/(a-i),c=(t+e)*s,d=(n+r)*l,h=(a+i)*u;return o[0]=2*s,o[4]=0,o[8]=0,o[12]=-c,o[1]=0,o[5]=2*l,o[9]=0,o[13]=-d,o[2]=0,o[6]=0,o[10]=-2*u,o[14]=-h,o[3]=0,o[7]=0,o[11]=0,o[15]=1,this}},{key:"equals",value:function(e){for(var t=this.elements,n=e.elements,r=0;r<16;r++)if(t[r]!==n[r])return!1;return!0}},{key:"fromArray",value:function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=0;n<16;n++)this.elements[n]=e[n+t];return this}},{key:"toArray",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=this.elements;return e[t]=n[0],e[t+1]=n[1],e[t+2]=n[2],e[t+3]=n[3],e[t+4]=n[4],e[t+5]=n[5],e[t+6]=n[6],e[t+7]=n[7],e[t+8]=n[8],e[t+9]=n[9],e[t+10]=n[10],e[t+11]=n[11],e[t+12]=n[12],e[t+13]=n[13],e[t+14]=n[14],e[t+15]=n[15],e}}]),e}(),jr=new lr,Fr=new Nr,Gr=new lr(0,0,0),Ur=new lr(1,1,1),zr=new lr,Br=new lr,Vr=new lr,Hr=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:e.DefaultOrder;Object(d.a)(this,e),Object.defineProperty(this,"isEuler",{value:!0}),this._x=t,this._y=n,this._z=r,this._order=i}return Object(h.a)(e,[{key:"set",value:function(e,t,n,r){return this._x=e,this._y=t,this._z=n,this._order=r||this._order,this._onChangeCallback(),this}},{key:"clone",value:function(){return new this.constructor(this._x,this._y,this._z,this._order)}},{key:"copy",value:function(e){return this._x=e._x,this._y=e._y,this._z=e._z,this._order=e._order,this._onChangeCallback(),this}},{key:"setFromRotationMatrix",value:function(e,t,n){var r=$n.clamp,i=e.elements,a=i[0],o=i[4],s=i[8],l=i[1],u=i[5],c=i[9],d=i[2],h=i[6],f=i[10];switch(t=t||this._order){case"XYZ":this._y=Math.asin(r(s,-1,1)),Math.abs(s)<.9999999?(this._x=Math.atan2(-c,f),this._z=Math.atan2(-o,a)):(this._x=Math.atan2(h,u),this._z=0);break;case"YXZ":this._x=Math.asin(-r(c,-1,1)),Math.abs(c)<.9999999?(this._y=Math.atan2(s,f),this._z=Math.atan2(l,u)):(this._y=Math.atan2(-d,a),this._z=0);break;case"ZXY":this._x=Math.asin(r(h,-1,1)),Math.abs(h)<.9999999?(this._y=Math.atan2(-d,f),this._z=Math.atan2(-o,u)):(this._y=0,this._z=Math.atan2(l,a));break;case"ZYX":this._y=Math.asin(-r(d,-1,1)),Math.abs(d)<.9999999?(this._x=Math.atan2(h,f),this._z=Math.atan2(l,a)):(this._x=0,this._z=Math.atan2(-o,u));break;case"YZX":this._z=Math.asin(r(l,-1,1)),Math.abs(l)<.9999999?(this._x=Math.atan2(-c,u),this._y=Math.atan2(-d,a)):(this._x=0,this._y=Math.atan2(s,f));break;case"XZY":this._z=Math.asin(-r(o,-1,1)),Math.abs(o)<.9999999?(this._x=Math.atan2(h,u),this._y=Math.atan2(s,a)):(this._x=Math.atan2(-c,f),this._y=0);break;default:console.warn("THREE.Euler: .setFromRotationMatrix() encountered an unknown order: "+t)}return this._order=t,!1!==n&&this._onChangeCallback(),this}},{key:"setFromQuaternion",value:function(e,t,n){return Wr.makeRotationFromQuaternion(e),this.setFromRotationMatrix(Wr,t,n)}},{key:"setFromVector3",value:function(e,t){return this.set(e.x,e.y,e.z,t||this._order)}},{key:"reorder",value:function(e){return Xr.setFromEuler(this),this.setFromQuaternion(Xr,e)}},{key:"equals",value:function(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._order===this._order}},{key:"fromArray",value:function(e){return this._x=e[0],this._y=e[1],this._z=e[2],void 0!==e[3]&&(this._order=e[3]),this._onChangeCallback(),this}},{key:"toArray",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._order,e}},{key:"toVector3",value:function(e){return e?e.set(this._x,this._y,this._z):new lr(this._x,this._y,this._z)}},{key:"_onChange",value:function(e){return this._onChangeCallback=e,this}},{key:"_onChangeCallback",value:function(){}},{key:"x",get:function(){return this._x},set:function(e){this._x=e,this._onChangeCallback()}},{key:"y",get:function(){return this._y},set:function(e){this._y=e,this._onChangeCallback()}},{key:"z",get:function(){return this._z},set:function(e){this._z=e,this._onChangeCallback()}},{key:"order",get:function(){return this._order},set:function(e){this._order=e,this._onChangeCallback()}}]),e}();Hr.DefaultOrder="XYZ",Hr.RotationOrders=["XYZ","YZX","ZXY","XZY","YXZ","ZYX"];var Wr=new Nr,Xr=new sr,qr=function(){function e(){Object(d.a)(this,e),this.mask=1}return Object(h.a)(e,[{key:"set",value:function(e){this.mask=1<<e|0}},{key:"enable",value:function(e){this.mask|=1<<e|0}},{key:"enableAll",value:function(){this.mask=-1}},{key:"toggle",value:function(e){this.mask^=1<<e|0}},{key:"disable",value:function(e){this.mask&=~(1<<e|0)}},{key:"disableAll",value:function(){this.mask=0}},{key:"test",value:function(e){return 0!==(this.mask&e.mask)}}]),e}(),Yr=0,Qr=new lr,Zr=new sr,$r=new Nr,Kr=new lr,Jr=new lr,ei=new lr,ti=new sr,ni=new lr(1,0,0),ri=new lr(0,1,0),ii=new lr(0,0,1),ai={type:"added"},oi={type:"removed"};function si(){Object.defineProperty(this,"id",{value:Yr++}),this.uuid=$n.generateUUID(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=si.DefaultUp.clone();var e=new lr,t=new Hr,n=new sr,r=new lr(1,1,1);t._onChange((function(){n.setFromEuler(t,!1)})),n._onChange((function(){t.setFromQuaternion(n,void 0,!1)})),Object.defineProperties(this,{position:{configurable:!0,enumerable:!0,value:e},rotation:{configurable:!0,enumerable:!0,value:t},quaternion:{configurable:!0,enumerable:!0,value:n},scale:{configurable:!0,enumerable:!0,value:r},modelViewMatrix:{value:new Nr},normalMatrix:{value:new Jn}}),this.matrix=new Nr,this.matrixWorld=new Nr,this.matrixAutoUpdate=si.DefaultMatrixAutoUpdate,this.matrixWorldNeedsUpdate=!1,this.layers=new qr,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.animations=[],this.userData={}}si.DefaultUp=new lr(0,1,0),si.DefaultMatrixAutoUpdate=!0,si.prototype=Object.assign(Object.create(Xn.prototype),{constructor:si,isObject3D:!0,onBeforeRender:function(){},onAfterRender:function(){},applyMatrix4:function(e){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(e),this.matrix.decompose(this.position,this.quaternion,this.scale)},applyQuaternion:function(e){return this.quaternion.premultiply(e),this},setRotationFromAxisAngle:function(e,t){this.quaternion.setFromAxisAngle(e,t)},setRotationFromEuler:function(e){this.quaternion.setFromEuler(e,!0)},setRotationFromMatrix:function(e){this.quaternion.setFromRotationMatrix(e)},setRotationFromQuaternion:function(e){this.quaternion.copy(e)},rotateOnAxis:function(e,t){return Zr.setFromAxisAngle(e,t),this.quaternion.multiply(Zr),this},rotateOnWorldAxis:function(e,t){return Zr.setFromAxisAngle(e,t),this.quaternion.premultiply(Zr),this},rotateX:function(e){return this.rotateOnAxis(ni,e)},rotateY:function(e){return this.rotateOnAxis(ri,e)},rotateZ:function(e){return this.rotateOnAxis(ii,e)},translateOnAxis:function(e,t){return Qr.copy(e).applyQuaternion(this.quaternion),this.position.add(Qr.multiplyScalar(t)),this},translateX:function(e){return this.translateOnAxis(ni,e)},translateY:function(e){return this.translateOnAxis(ri,e)},translateZ:function(e){return this.translateOnAxis(ii,e)},localToWorld:function(e){return e.applyMatrix4(this.matrixWorld)},worldToLocal:function(e){return e.applyMatrix4($r.copy(this.matrixWorld).invert())},lookAt:function(e,t,n){e.isVector3?Kr.copy(e):Kr.set(e,t,n);var r=this.parent;this.updateWorldMatrix(!0,!1),Jr.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?$r.lookAt(Jr,Kr,this.up):$r.lookAt(Kr,Jr,this.up),this.quaternion.setFromRotationMatrix($r),r&&($r.extractRotation(r.matrixWorld),Zr.setFromRotationMatrix($r),this.quaternion.premultiply(Zr.invert()))},add:function(e){if(arguments.length>1){for(var t=0;t<arguments.length;t++)this.add(arguments[t]);return this}return e===this?(console.error("THREE.Object3D.add: object can't be added as a child of itself.",e),this):(e&&e.isObject3D?(null!==e.parent&&e.parent.remove(e),e.parent=this,this.children.push(e),e.dispatchEvent(ai)):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",e),this)},remove:function(e){if(arguments.length>1){for(var t=0;t<arguments.length;t++)this.remove(arguments[t]);return this}var n=this.children.indexOf(e);return-1!==n&&(e.parent=null,this.children.splice(n,1),e.dispatchEvent(oi)),this},clear:function(){for(var e=0;e<this.children.length;e++){var t=this.children[e];t.parent=null,t.dispatchEvent(oi)}return this.children.length=0,this},attach:function(e){return this.updateWorldMatrix(!0,!1),$r.copy(this.matrixWorld).invert(),null!==e.parent&&(e.parent.updateWorldMatrix(!0,!1),$r.multiply(e.parent.matrixWorld)),e.applyMatrix4($r),e.updateWorldMatrix(!1,!1),this.add(e),this},getObjectById:function(e){return this.getObjectByProperty("id",e)},getObjectByName:function(e){return this.getObjectByProperty("name",e)},getObjectByProperty:function(e,t){if(this[e]===t)return this;for(var n=0,r=this.children.length;n<r;n++){var i=this.children[n].getObjectByProperty(e,t);if(void 0!==i)return i}},getWorldPosition:function(e){return void 0===e&&(console.warn("THREE.Object3D: .getWorldPosition() target is now required"),e=new lr),this.updateWorldMatrix(!0,!1),e.setFromMatrixPosition(this.matrixWorld)},getWorldQuaternion:function(e){return void 0===e&&(console.warn("THREE.Object3D: .getWorldQuaternion() target is now required"),e=new sr),this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(Jr,e,ei),e},getWorldScale:function(e){return void 0===e&&(console.warn("THREE.Object3D: .getWorldScale() target is now required"),e=new lr),this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(Jr,ti,e),e},getWorldDirection:function(e){void 0===e&&(console.warn("THREE.Object3D: .getWorldDirection() target is now required"),e=new lr),this.updateWorldMatrix(!0,!1);var t=this.matrixWorld.elements;return e.set(t[8],t[9],t[10]).normalize()},raycast:function(){},traverse:function(e){e(this);for(var t=this.children,n=0,r=t.length;n<r;n++)t[n].traverse(e)},traverseVisible:function(e){if(!1!==this.visible){e(this);for(var t=this.children,n=0,r=t.length;n<r;n++)t[n].traverseVisible(e)}},traverseAncestors:function(e){var t=this.parent;null!==t&&(e(t),t.traverseAncestors(e))},updateMatrix:function(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0},updateMatrixWorld:function(e){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||e)&&(null===this.parent?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),this.matrixWorldNeedsUpdate=!1,e=!0);for(var t=this.children,n=0,r=t.length;n<r;n++)t[n].updateMatrixWorld(e)},updateWorldMatrix:function(e,t){var n=this.parent;if(!0===e&&null!==n&&n.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),null===this.parent?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),!0===t)for(var r=this.children,i=0,a=r.length;i<a;i++)r[i].updateWorldMatrix(!1,!0)},toJSON:function(e){var t=void 0===e||"string"===typeof e,n={};t&&(e={geometries:{},materials:{},textures:{},images:{},shapes:{},skeletons:{},animations:{}},n.metadata={version:4.5,type:"Object",generator:"Object3D.toJSON"});var r={};function i(t,n){return void 0===t[n.uuid]&&(t[n.uuid]=n.toJSON(e)),n.uuid}if(r.uuid=this.uuid,r.type=this.type,""!==this.name&&(r.name=this.name),!0===this.castShadow&&(r.castShadow=!0),!0===this.receiveShadow&&(r.receiveShadow=!0),!1===this.visible&&(r.visible=!1),!1===this.frustumCulled&&(r.frustumCulled=!1),0!==this.renderOrder&&(r.renderOrder=this.renderOrder),"{}"!==JSON.stringify(this.userData)&&(r.userData=this.userData),r.layers=this.layers.mask,r.matrix=this.matrix.toArray(),!1===this.matrixAutoUpdate&&(r.matrixAutoUpdate=!1),this.isInstancedMesh&&(r.type="InstancedMesh",r.count=this.count,r.instanceMatrix=this.instanceMatrix.toJSON()),this.isMesh||this.isLine||this.isPoints){r.geometry=i(e.geometries,this.geometry);var a=this.geometry.parameters;if(void 0!==a&&void 0!==a.shapes){var o=a.shapes;if(Array.isArray(o))for(var s=0,l=o.length;s<l;s++){var u=o[s];i(e.shapes,u)}else i(e.shapes,o)}}if(this.isSkinnedMesh&&(r.bindMode=this.bindMode,r.bindMatrix=this.bindMatrix.toArray(),void 0!==this.skeleton&&(i(e.skeletons,this.skeleton),r.skeleton=this.skeleton.uuid)),void 0!==this.material)if(Array.isArray(this.material)){for(var c=[],d=0,h=this.material.length;d<h;d++)c.push(i(e.materials,this.material[d]));r.material=c}else r.material=i(e.materials,this.material);if(this.children.length>0){r.children=[];for(var f=0;f<this.children.length;f++)r.children.push(this.children[f].toJSON(e).object)}if(this.animations.length>0){r.animations=[];for(var p=0;p<this.animations.length;p++){var m=this.animations[p];r.animations.push(i(e.animations,m))}}if(t){var v=_(e.geometries),g=_(e.materials),y=_(e.textures),b=_(e.images),x=_(e.shapes),w=_(e.skeletons),M=_(e.animations);v.length>0&&(n.geometries=v),g.length>0&&(n.materials=g),y.length>0&&(n.textures=y),b.length>0&&(n.images=b),x.length>0&&(n.shapes=x),w.length>0&&(n.skeletons=w),M.length>0&&(n.animations=M)}return n.object=r,n;function _(e){var t=[];for(var n in e){var r=e[n];delete r.metadata,t.push(r)}return t}},clone:function(e){return(new this.constructor).copy(this,e)},copy:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(this.name=e.name,this.up.copy(e.up),this.position.copy(e.position),this.rotation.order=e.rotation.order,this.quaternion.copy(e.quaternion),this.scale.copy(e.scale),this.matrix.copy(e.matrix),this.matrixWorld.copy(e.matrixWorld),this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrixWorldNeedsUpdate=e.matrixWorldNeedsUpdate,this.layers.mask=e.layers.mask,this.visible=e.visible,this.castShadow=e.castShadow,this.receiveShadow=e.receiveShadow,this.frustumCulled=e.frustumCulled,this.renderOrder=e.renderOrder,this.userData=JSON.parse(JSON.stringify(e.userData)),!0===t)for(var n=0;n<e.children.length;n++){var r=e.children[n];this.add(r.clone())}return this}});var li=new lr,ui=new lr,ci=new Jn,di=function(){function e(t,n){Object(d.a)(this,e),Object.defineProperty(this,"isPlane",{value:!0}),this.normal=void 0!==t?t:new lr(1,0,0),this.constant=void 0!==n?n:0}return Object(h.a)(e,[{key:"set",value:function(e,t){return this.normal.copy(e),this.constant=t,this}},{key:"setComponents",value:function(e,t,n,r){return this.normal.set(e,t,n),this.constant=r,this}},{key:"setFromNormalAndCoplanarPoint",value:function(e,t){return this.normal.copy(e),this.constant=-t.dot(this.normal),this}},{key:"setFromCoplanarPoints",value:function(e,t,n){var r=li.subVectors(n,t).cross(ui.subVectors(e,t)).normalize();return this.setFromNormalAndCoplanarPoint(r,e),this}},{key:"clone",value:function(){return(new this.constructor).copy(this)}},{key:"copy",value:function(e){return this.normal.copy(e.normal),this.constant=e.constant,this}},{key:"normalize",value:function(){var e=1/this.normal.length();return this.normal.multiplyScalar(e),this.constant*=e,this}},{key:"negate",value:function(){return this.constant*=-1,this.normal.negate(),this}},{key:"distanceToPoint",value:function(e){return this.normal.dot(e)+this.constant}},{key:"distanceToSphere",value:function(e){return this.distanceToPoint(e.center)-e.radius}},{key:"projectPoint",value:function(e,t){return void 0===t&&(console.warn("THREE.Plane: .projectPoint() target is now required"),t=new lr),t.copy(this.normal).multiplyScalar(-this.distanceToPoint(e)).add(e)}},{key:"intersectLine",value:function(e,t){void 0===t&&(console.warn("THREE.Plane: .intersectLine() target is now required"),t=new lr);var n=e.delta(li),r=this.normal.dot(n);if(0===r)return 0===this.distanceToPoint(e.start)?t.copy(e.start):void 0;var i=-(e.start.dot(this.normal)+this.constant)/r;return i<0||i>1?void 0:t.copy(n).multiplyScalar(i).add(e.start)}},{key:"intersectsLine",value:function(e){var t=this.distanceToPoint(e.start),n=this.distanceToPoint(e.end);return t<0&&n>0||n<0&&t>0}},{key:"intersectsBox",value:function(e){return e.intersectsPlane(this)}},{key:"intersectsSphere",value:function(e){return e.intersectsPlane(this)}},{key:"coplanarPoint",value:function(e){return void 0===e&&(console.warn("THREE.Plane: .coplanarPoint() target is now required"),e=new lr),e.copy(this.normal).multiplyScalar(-this.constant)}},{key:"applyMatrix4",value:function(e,t){var n=t||ci.getNormalMatrix(e),r=this.coplanarPoint(li).applyMatrix4(e),i=this.normal.applyMatrix3(n).normalize();return this.constant=-r.dot(i),this}},{key:"translate",value:function(e){return this.constant-=e.dot(this.normal),this}},{key:"equals",value:function(e){return e.normal.equals(this.normal)&&e.constant===this.constant}}]),e}(),hi=new lr,fi=new lr,pi=new lr,mi=new lr,vi=new lr,gi=new lr,yi=new lr,bi=new lr,xi=new lr,wi=new lr,Mi=function(){function e(t,n,r){Object(d.a)(this,e),this.a=void 0!==t?t:new lr,this.b=void 0!==n?n:new lr,this.c=void 0!==r?r:new lr}return Object(h.a)(e,[{key:"set",value:function(e,t,n){return this.a.copy(e),this.b.copy(t),this.c.copy(n),this}},{key:"setFromPointsAndIndices",value:function(e,t,n,r){return this.a.copy(e[t]),this.b.copy(e[n]),this.c.copy(e[r]),this}},{key:"clone",value:function(){return(new this.constructor).copy(this)}},{key:"copy",value:function(e){return this.a.copy(e.a),this.b.copy(e.b),this.c.copy(e.c),this}},{key:"getArea",value:function(){return hi.subVectors(this.c,this.b),fi.subVectors(this.a,this.b),.5*hi.cross(fi).length()}},{key:"getMidpoint",value:function(e){return void 0===e&&(console.warn("THREE.Triangle: .getMidpoint() target is now required"),e=new lr),e.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)}},{key:"getNormal",value:function(t){return e.getNormal(this.a,this.b,this.c,t)}},{key:"getPlane",value:function(e){return void 0===e&&(console.warn("THREE.Triangle: .getPlane() target is now required"),e=new di),e.setFromCoplanarPoints(this.a,this.b,this.c)}},{key:"getBarycoord",value:function(t,n){return e.getBarycoord(t,this.a,this.b,this.c,n)}},{key:"getUV",value:function(t,n,r,i,a){return e.getUV(t,this.a,this.b,this.c,n,r,i,a)}},{key:"containsPoint",value:function(t){return e.containsPoint(t,this.a,this.b,this.c)}},{key:"isFrontFacing",value:function(t){return e.isFrontFacing(this.a,this.b,this.c,t)}},{key:"intersectsBox",value:function(e){return e.intersectsTriangle(this)}},{key:"closestPointToPoint",value:function(e,t){void 0===t&&(console.warn("THREE.Triangle: .closestPointToPoint() target is now required"),t=new lr);var n,r,i=this.a,a=this.b,o=this.c;vi.subVectors(a,i),gi.subVectors(o,i),bi.subVectors(e,i);var s=vi.dot(bi),l=gi.dot(bi);if(s<=0&&l<=0)return t.copy(i);xi.subVectors(e,a);var u=vi.dot(xi),c=gi.dot(xi);if(u>=0&&c<=u)return t.copy(a);var d=s*c-u*l;if(d<=0&&s>=0&&u<=0)return n=s/(s-u),t.copy(i).addScaledVector(vi,n);wi.subVectors(e,o);var h=vi.dot(wi),f=gi.dot(wi);if(f>=0&&h<=f)return t.copy(o);var p=h*l-s*f;if(p<=0&&l>=0&&f<=0)return r=l/(l-f),t.copy(i).addScaledVector(gi,r);var m=u*f-h*c;if(m<=0&&c-u>=0&&h-f>=0)return yi.subVectors(o,a),r=(c-u)/(c-u+(h-f)),t.copy(a).addScaledVector(yi,r);var v=1/(m+p+d);return n=p*v,r=d*v,t.copy(i).addScaledVector(vi,n).addScaledVector(gi,r)}},{key:"equals",value:function(e){return e.a.equals(this.a)&&e.b.equals(this.b)&&e.c.equals(this.c)}}],[{key:"getNormal",value:function(e,t,n,r){void 0===r&&(console.warn("THREE.Triangle: .getNormal() target is now required"),r=new lr),r.subVectors(n,t),hi.subVectors(e,t),r.cross(hi);var i=r.lengthSq();return i>0?r.multiplyScalar(1/Math.sqrt(i)):r.set(0,0,0)}},{key:"getBarycoord",value:function(e,t,n,r,i){hi.subVectors(r,t),fi.subVectors(n,t),pi.subVectors(e,t);var a=hi.dot(hi),o=hi.dot(fi),s=hi.dot(pi),l=fi.dot(fi),u=fi.dot(pi),c=a*l-o*o;if(void 0===i&&(console.warn("THREE.Triangle: .getBarycoord() target is now required"),i=new lr),0===c)return i.set(-2,-1,-1);var d=1/c,h=(l*s-o*u)*d,f=(a*u-o*s)*d;return i.set(1-h-f,f,h)}},{key:"containsPoint",value:function(e,t,n,r){return this.getBarycoord(e,t,n,r,mi),mi.x>=0&&mi.y>=0&&mi.x+mi.y<=1}},{key:"getUV",value:function(e,t,n,r,i,a,o,s){return this.getBarycoord(e,t,n,r,mi),s.set(0,0),s.addScaledVector(i,mi.x),s.addScaledVector(a,mi.y),s.addScaledVector(o,mi.z),s}},{key:"isFrontFacing",value:function(e,t,n,r){return hi.subVectors(n,t),fi.subVectors(e,t),hi.cross(fi).dot(r)<0}}]),e}(),_i={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},Si={h:0,s:0,l:0},Ei={h:0,s:0,l:0};function Ti(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+6*(t-e)*n:n<.5?t:n<2/3?e+6*(t-e)*(2/3-n):e}function Ai(e){return e<.04045?.0773993808*e:Math.pow(.9478672986*e+.0521327014,2.4)}function Ri(e){return e<.0031308?12.92*e:1.055*Math.pow(e,.41666)-.055}var Oi=function(){function e(t,n,r){return Object(d.a)(this,e),Object.defineProperty(this,"isColor",{value:!0}),void 0===n&&void 0===r?this.set(t):this.setRGB(t,n,r)}return Object(h.a)(e,[{key:"set",value:function(e){return e&&e.isColor?this.copy(e):"number"===typeof e?this.setHex(e):"string"===typeof e&&this.setStyle(e),this}},{key:"setScalar",value:function(e){return this.r=e,this.g=e,this.b=e,this}},{key:"setHex",value:function(e){return e=Math.floor(e),this.r=(e>>16&255)/255,this.g=(e>>8&255)/255,this.b=(255&e)/255,this}},{key:"setRGB",value:function(e,t,n){return this.r=e,this.g=t,this.b=n,this}},{key:"setHSL",value:function(e,t,n){if(e=$n.euclideanModulo(e,1),t=$n.clamp(t,0,1),n=$n.clamp(n,0,1),0===t)this.r=this.g=this.b=n;else{var r=n<=.5?n*(1+t):n+t-n*t,i=2*n-r;this.r=Ti(i,r,e+1/3),this.g=Ti(i,r,e),this.b=Ti(i,r,e-1/3)}return this}},{key:"setStyle",value:function(e){function t(t){void 0!==t&&parseFloat(t)<1&&console.warn("THREE.Color: Alpha component of "+e+" will be ignored.")}var n;if(n=/^((?:rgb|hsl)a?)\(\s*([^\)]*)\)/.exec(e)){var r,i=n[1],a=n[2];switch(i){case"rgb":case"rgba":if(r=/^(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(,\s*([0-9]*\.?[0-9]+)\s*)?$/.exec(a))return this.r=Math.min(255,parseInt(r[1],10))/255,this.g=Math.min(255,parseInt(r[2],10))/255,this.b=Math.min(255,parseInt(r[3],10))/255,t(r[5]),this;if(r=/^(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(,\s*([0-9]*\.?[0-9]+)\s*)?$/.exec(a))return this.r=Math.min(100,parseInt(r[1],10))/100,this.g=Math.min(100,parseInt(r[2],10))/100,this.b=Math.min(100,parseInt(r[3],10))/100,t(r[5]),this;break;case"hsl":case"hsla":if(r=/^([0-9]*\.?[0-9]+)\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(,\s*([0-9]*\.?[0-9]+)\s*)?$/.exec(a)){var o=parseFloat(r[1])/360,s=parseInt(r[2],10)/100,l=parseInt(r[3],10)/100;return t(r[5]),this.setHSL(o,s,l)}}}else if(n=/^\#([A-Fa-f0-9]+)$/.exec(e)){var u=n[1],c=u.length;if(3===c)return this.r=parseInt(u.charAt(0)+u.charAt(0),16)/255,this.g=parseInt(u.charAt(1)+u.charAt(1),16)/255,this.b=parseInt(u.charAt(2)+u.charAt(2),16)/255,this;if(6===c)return this.r=parseInt(u.charAt(0)+u.charAt(1),16)/255,this.g=parseInt(u.charAt(2)+u.charAt(3),16)/255,this.b=parseInt(u.charAt(4)+u.charAt(5),16)/255,this}return e&&e.length>0?this.setColorName(e):this}},{key:"setColorName",value:function(e){var t=_i[e];return void 0!==t?this.setHex(t):console.warn("THREE.Color: Unknown color "+e),this}},{key:"clone",value:function(){return new this.constructor(this.r,this.g,this.b)}},{key:"copy",value:function(e){return this.r=e.r,this.g=e.g,this.b=e.b,this}},{key:"copyGammaToLinear",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;return this.r=Math.pow(e.r,t),this.g=Math.pow(e.g,t),this.b=Math.pow(e.b,t),this}},{key:"copyLinearToGamma",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2,n=t>0?1/t:1;return this.r=Math.pow(e.r,n),this.g=Math.pow(e.g,n),this.b=Math.pow(e.b,n),this}},{key:"convertGammaToLinear",value:function(e){return this.copyGammaToLinear(this,e),this}},{key:"convertLinearToGamma",value:function(e){return this.copyLinearToGamma(this,e),this}},{key:"copySRGBToLinear",value:function(e){return this.r=Ai(e.r),this.g=Ai(e.g),this.b=Ai(e.b),this}},{key:"copyLinearToSRGB",value:function(e){return this.r=Ri(e.r),this.g=Ri(e.g),this.b=Ri(e.b),this}},{key:"convertSRGBToLinear",value:function(){return this.copySRGBToLinear(this),this}},{key:"convertLinearToSRGB",value:function(){return this.copyLinearToSRGB(this),this}},{key:"getHex",value:function(){return 255*this.r<<16^255*this.g<<8^255*this.b<<0}},{key:"getHexString",value:function(){return("000000"+this.getHex().toString(16)).slice(-6)}},{key:"getHSL",value:function(e){void 0===e&&(console.warn("THREE.Color: .getHSL() target is now required"),e={h:0,s:0,l:0});var t,n,r=this.r,i=this.g,a=this.b,o=Math.max(r,i,a),s=Math.min(r,i,a),l=(s+o)/2;if(s===o)t=0,n=0;else{var u=o-s;switch(n=l<=.5?u/(o+s):u/(2-o-s),o){case r:t=(i-a)/u+(i<a?6:0);break;case i:t=(a-r)/u+2;break;case a:t=(r-i)/u+4}t/=6}return e.h=t,e.s=n,e.l=l,e}},{key:"getStyle",value:function(){return"rgb("+(255*this.r|0)+","+(255*this.g|0)+","+(255*this.b|0)+")"}},{key:"offsetHSL",value:function(e,t,n){return this.getHSL(Si),Si.h+=e,Si.s+=t,Si.l+=n,this.setHSL(Si.h,Si.s,Si.l),this}},{key:"add",value:function(e){return this.r+=e.r,this.g+=e.g,this.b+=e.b,this}},{key:"addColors",value:function(e,t){return this.r=e.r+t.r,this.g=e.g+t.g,this.b=e.b+t.b,this}},{key:"addScalar",value:function(e){return this.r+=e,this.g+=e,this.b+=e,this}},{key:"sub",value:function(e){return this.r=Math.max(0,this.r-e.r),this.g=Math.max(0,this.g-e.g),this.b=Math.max(0,this.b-e.b),this}},{key:"multiply",value:function(e){return this.r*=e.r,this.g*=e.g,this.b*=e.b,this}},{key:"multiplyScalar",value:function(e){return this.r*=e,this.g*=e,this.b*=e,this}},{key:"lerp",value:function(e,t){return this.r+=(e.r-this.r)*t,this.g+=(e.g-this.g)*t,this.b+=(e.b-this.b)*t,this}},{key:"lerpHSL",value:function(e,t){this.getHSL(Si),e.getHSL(Ei);var n=$n.lerp(Si.h,Ei.h,t),r=$n.lerp(Si.s,Ei.s,t),i=$n.lerp(Si.l,Ei.l,t);return this.setHSL(n,r,i),this}},{key:"equals",value:function(e){return e.r===this.r&&e.g===this.g&&e.b===this.b}},{key:"fromArray",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this.r=e[t],this.g=e[t+1],this.b=e[t+2],this}},{key:"toArray",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return e[t]=this.r,e[t+1]=this.g,e[t+2]=this.b,e}},{key:"fromBufferAttribute",value:function(e,t){return this.r=e.getX(t),this.g=e.getY(t),this.b=e.getZ(t),!0===e.normalized&&(this.r/=255,this.g/=255,this.b/=255),this}},{key:"toJSON",value:function(){return this.getHex()}}]),e}();Oi.NAMES=_i,Oi.prototype.r=1,Oi.prototype.g=1,Oi.prototype.b=1;var ki=function(){function e(t,n,r,i,a){var o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0;Object(d.a)(this,e),this.a=t,this.b=n,this.c=r,this.normal=i&&i.isVector3?i:new lr,this.vertexNormals=Array.isArray(i)?i:[],this.color=a&&a.isColor?a:new Oi,this.vertexColors=Array.isArray(a)?a:[],this.materialIndex=o}return Object(h.a)(e,[{key:"clone",value:function(){return(new this.constructor).copy(this)}},{key:"copy",value:function(e){this.a=e.a,this.b=e.b,this.c=e.c,this.normal.copy(e.normal),this.color.copy(e.color),this.materialIndex=e.materialIndex;for(var t=0,n=e.vertexNormals.length;t<n;t++)this.vertexNormals[t]=e.vertexNormals[t].clone();for(var r=0,i=e.vertexColors.length;r<i;r++)this.vertexColors[r]=e.vertexColors[r].clone();return this}}]),e}(),Ii=0;function Ci(){Object.defineProperty(this,"id",{value:Ii++}),this.uuid=$n.generateUUID(),this.name="",this.type="Material",this.fog=!0,this.blending=k,this.side=S,this.flatShading=!1,this.vertexColors=!1,this.opacity=1,this.transparent=!1,this.blendSrc=H,this.blendDst=W,this.blendEquation=P,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.depthFunc=ee,this.depthTest=!0,this.depthWrite=!0,this.stencilWriteMask=255,this.stencilFunc=Ln,this.stencilRef=0,this.stencilFuncMask=255,this.stencilFail=xn,this.stencilZFail=xn,this.stencilZPass=xn,this.stencilWrite=!1,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaTest=0,this.premultipliedAlpha=!1,this.visible=!0,this.toneMapped=!0,this.userData={},this.version=0}function Di(e){Ci.call(this),this.type="MeshBasicMaterial",this.color=new Oi(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=ae,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.skinning=!1,this.morphTargets=!1,this.setValues(e)}Ci.prototype=Object.assign(Object.create(Xn.prototype),{constructor:Ci,isMaterial:!0,onBeforeCompile:function(){},customProgramCacheKey:function(){return this.onBeforeCompile.toString()},setValues:function(e){if(void 0!==e)for(var t in e){var n=e[t];if(void 0!==n)if("shading"!==t){var r=this[t];void 0!==r?r&&r.isColor?r.set(n):r&&r.isVector3&&n&&n.isVector3?r.copy(n):this[t]=n:console.warn("THREE."+this.type+": '"+t+"' is not a property of this material.")}else console.warn("THREE."+this.type+": .shading has been removed. Use the boolean .flatShading instead."),this.flatShading=n===A;else console.warn("THREE.Material: '"+t+"' parameter is undefined.")}},toJSON:function(e){var t=void 0===e||"string"===typeof e;t&&(e={textures:{},images:{}});var n={metadata:{version:4.5,type:"Material",generator:"Material.toJSON"}};function r(e){var t=[];for(var n in e){var r=e[n];delete r.metadata,t.push(r)}return t}if(n.uuid=this.uuid,n.type=this.type,""!==this.name&&(n.name=this.name),this.color&&this.color.isColor&&(n.color=this.color.getHex()),void 0!==this.roughness&&(n.roughness=this.roughness),void 0!==this.metalness&&(n.metalness=this.metalness),this.sheen&&this.sheen.isColor&&(n.sheen=this.sheen.getHex()),this.emissive&&this.emissive.isColor&&(n.emissive=this.emissive.getHex()),this.emissiveIntensity&&1!==this.emissiveIntensity&&(n.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(n.specular=this.specular.getHex()),void 0!==this.shininess&&(n.shininess=this.shininess),void 0!==this.clearcoat&&(n.clearcoat=this.clearcoat),void 0!==this.clearcoatRoughness&&(n.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatMap&&this.clearcoatMap.isTexture&&(n.clearcoatMap=this.clearcoatMap.toJSON(e).uuid),this.clearcoatRoughnessMap&&this.clearcoatRoughnessMap.isTexture&&(n.clearcoatRoughnessMap=this.clearcoatRoughnessMap.toJSON(e).uuid),this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(n.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(e).uuid,n.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),this.map&&this.map.isTexture&&(n.map=this.map.toJSON(e).uuid),this.matcap&&this.matcap.isTexture&&(n.matcap=this.matcap.toJSON(e).uuid),this.alphaMap&&this.alphaMap.isTexture&&(n.alphaMap=this.alphaMap.toJSON(e).uuid),this.lightMap&&this.lightMap.isTexture&&(n.lightMap=this.lightMap.toJSON(e).uuid),this.aoMap&&this.aoMap.isTexture&&(n.aoMap=this.aoMap.toJSON(e).uuid,n.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(n.bumpMap=this.bumpMap.toJSON(e).uuid,n.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(n.normalMap=this.normalMap.toJSON(e).uuid,n.normalMapType=this.normalMapType,n.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(n.displacementMap=this.displacementMap.toJSON(e).uuid,n.displacementScale=this.displacementScale,n.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(n.roughnessMap=this.roughnessMap.toJSON(e).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(n.metalnessMap=this.metalnessMap.toJSON(e).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(n.emissiveMap=this.emissiveMap.toJSON(e).uuid),this.specularMap&&this.specularMap.isTexture&&(n.specularMap=this.specularMap.toJSON(e).uuid),this.envMap&&this.envMap.isTexture&&(n.envMap=this.envMap.toJSON(e).uuid,n.reflectivity=this.reflectivity,n.refractionRatio=this.refractionRatio,void 0!==this.combine&&(n.combine=this.combine),void 0!==this.envMapIntensity&&(n.envMapIntensity=this.envMapIntensity)),this.gradientMap&&this.gradientMap.isTexture&&(n.gradientMap=this.gradientMap.toJSON(e).uuid),void 0!==this.size&&(n.size=this.size),void 0!==this.sizeAttenuation&&(n.sizeAttenuation=this.sizeAttenuation),this.blending!==k&&(n.blending=this.blending),!0===this.flatShading&&(n.flatShading=this.flatShading),this.side!==S&&(n.side=this.side),this.vertexColors&&(n.vertexColors=!0),this.opacity<1&&(n.opacity=this.opacity),!0===this.transparent&&(n.transparent=this.transparent),n.depthFunc=this.depthFunc,n.depthTest=this.depthTest,n.depthWrite=this.depthWrite,n.stencilWrite=this.stencilWrite,n.stencilWriteMask=this.stencilWriteMask,n.stencilFunc=this.stencilFunc,n.stencilRef=this.stencilRef,n.stencilFuncMask=this.stencilFuncMask,n.stencilFail=this.stencilFail,n.stencilZFail=this.stencilZFail,n.stencilZPass=this.stencilZPass,this.rotation&&0!==this.rotation&&(n.rotation=this.rotation),!0===this.polygonOffset&&(n.polygonOffset=!0),0!==this.polygonOffsetFactor&&(n.polygonOffsetFactor=this.polygonOffsetFactor),0!==this.polygonOffsetUnits&&(n.polygonOffsetUnits=this.polygonOffsetUnits),this.linewidth&&1!==this.linewidth&&(n.linewidth=this.linewidth),void 0!==this.dashSize&&(n.dashSize=this.dashSize),void 0!==this.gapSize&&(n.gapSize=this.gapSize),void 0!==this.scale&&(n.scale=this.scale),!0===this.dithering&&(n.dithering=!0),this.alphaTest>0&&(n.alphaTest=this.alphaTest),!0===this.premultipliedAlpha&&(n.premultipliedAlpha=this.premultipliedAlpha),!0===this.wireframe&&(n.wireframe=this.wireframe),this.wireframeLinewidth>1&&(n.wireframeLinewidth=this.wireframeLinewidth),"round"!==this.wireframeLinecap&&(n.wireframeLinecap=this.wireframeLinecap),"round"!==this.wireframeLinejoin&&(n.wireframeLinejoin=this.wireframeLinejoin),!0===this.morphTargets&&(n.morphTargets=!0),!0===this.morphNormals&&(n.morphNormals=!0),!0===this.skinning&&(n.skinning=!0),!1===this.visible&&(n.visible=!1),!1===this.toneMapped&&(n.toneMapped=!1),"{}"!==JSON.stringify(this.userData)&&(n.userData=this.userData),t){var i=r(e.textures),a=r(e.images);i.length>0&&(n.textures=i),a.length>0&&(n.images=a)}return n},clone:function(){return(new this.constructor).copy(this)},copy:function(e){this.name=e.name,this.fog=e.fog,this.blending=e.blending,this.side=e.side,this.flatShading=e.flatShading,this.vertexColors=e.vertexColors,this.opacity=e.opacity,this.transparent=e.transparent,this.blendSrc=e.blendSrc,this.blendDst=e.blendDst,this.blendEquation=e.blendEquation,this.blendSrcAlpha=e.blendSrcAlpha,this.blendDstAlpha=e.blendDstAlpha,this.blendEquationAlpha=e.blendEquationAlpha,this.depthFunc=e.depthFunc,this.depthTest=e.depthTest,this.depthWrite=e.depthWrite,this.stencilWriteMask=e.stencilWriteMask,this.stencilFunc=e.stencilFunc,this.stencilRef=e.stencilRef,this.stencilFuncMask=e.stencilFuncMask,this.stencilFail=e.stencilFail,this.stencilZFail=e.stencilZFail,this.stencilZPass=e.stencilZPass,this.stencilWrite=e.stencilWrite;var t=e.clippingPlanes,n=null;if(null!==t){var r=t.length;n=new Array(r);for(var i=0;i!==r;++i)n[i]=t[i].clone()}return this.clippingPlanes=n,this.clipIntersection=e.clipIntersection,this.clipShadows=e.clipShadows,this.shadowSide=e.shadowSide,this.colorWrite=e.colorWrite,this.precision=e.precision,this.polygonOffset=e.polygonOffset,this.polygonOffsetFactor=e.polygonOffsetFactor,this.polygonOffsetUnits=e.polygonOffsetUnits,this.dithering=e.dithering,this.alphaTest=e.alphaTest,this.premultipliedAlpha=e.premultipliedAlpha,this.visible=e.visible,this.toneMapped=e.toneMapped,this.userData=JSON.parse(JSON.stringify(e.userData)),this},dispose:function(){this.dispatchEvent({type:"dispose"})}}),Object.defineProperty(Ci.prototype,"needsUpdate",{set:function(e){!0===e&&this.version++}}),Di.prototype=Object.create(Ci.prototype),Di.prototype.constructor=Di,Di.prototype.isMeshBasicMaterial=!0,Di.prototype.copy=function(e){return Ci.prototype.copy.call(this,e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this};var Li=new lr,Pi=new Kn;function Ni(e,t,n){if(Array.isArray(e))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.name="",this.array=e,this.itemSize=t,this.count=void 0!==e?e.length/t:0,this.normalized=!0===n,this.usage=Pn,this.updateRange={offset:0,count:-1},this.version=0}function ji(e,t,n){Ni.call(this,new Int8Array(e),t,n)}function Fi(e,t,n){Ni.call(this,new Uint8Array(e),t,n)}function Gi(e,t,n){Ni.call(this,new Uint8ClampedArray(e),t,n)}function Ui(e,t,n){Ni.call(this,new Int16Array(e),t,n)}function zi(e,t,n){Ni.call(this,new Uint16Array(e),t,n)}function Bi(e,t,n){Ni.call(this,new Int32Array(e),t,n)}function Vi(e,t,n){Ni.call(this,new Uint32Array(e),t,n)}function Hi(e,t,n){Ni.call(this,new Uint16Array(e),t,n)}function Wi(e,t,n){Ni.call(this,new Float32Array(e),t,n)}function Xi(e,t,n){Ni.call(this,new Float64Array(e),t,n)}Object.defineProperty(Ni.prototype,"needsUpdate",{set:function(e){!0===e&&this.version++}}),Object.assign(Ni.prototype,{isBufferAttribute:!0,onUploadCallback:function(){},setUsage:function(e){return this.usage=e,this},copy:function(e){return this.name=e.name,this.array=new e.array.constructor(e.array),this.itemSize=e.itemSize,this.count=e.count,this.normalized=e.normalized,this.usage=e.usage,this},copyAt:function(e,t,n){e*=this.itemSize,n*=t.itemSize;for(var r=0,i=this.itemSize;r<i;r++)this.array[e+r]=t.array[n+r];return this},copyArray:function(e){return this.array.set(e),this},copyColorsArray:function(e){for(var t=this.array,n=0,r=0,i=e.length;r<i;r++){var a=e[r];void 0===a&&(console.warn("THREE.BufferAttribute.copyColorsArray(): color is undefined",r),a=new Oi),t[n++]=a.r,t[n++]=a.g,t[n++]=a.b}return this},copyVector2sArray:function(e){for(var t=this.array,n=0,r=0,i=e.length;r<i;r++){var a=e[r];void 0===a&&(console.warn("THREE.BufferAttribute.copyVector2sArray(): vector is undefined",r),a=new Kn),t[n++]=a.x,t[n++]=a.y}return this},copyVector3sArray:function(e){for(var t=this.array,n=0,r=0,i=e.length;r<i;r++){var a=e[r];void 0===a&&(console.warn("THREE.BufferAttribute.copyVector3sArray(): vector is undefined",r),a=new lr),t[n++]=a.x,t[n++]=a.y,t[n++]=a.z}return this},copyVector4sArray:function(e){for(var t=this.array,n=0,r=0,i=e.length;r<i;r++){var a=e[r];void 0===a&&(console.warn("THREE.BufferAttribute.copyVector4sArray(): vector is undefined",r),a=new ir),t[n++]=a.x,t[n++]=a.y,t[n++]=a.z,t[n++]=a.w}return this},applyMatrix3:function(e){if(2===this.itemSize)for(var t=0,n=this.count;t<n;t++)Pi.fromBufferAttribute(this,t),Pi.applyMatrix3(e),this.setXY(t,Pi.x,Pi.y);else if(3===this.itemSize)for(var r=0,i=this.count;r<i;r++)Li.fromBufferAttribute(this,r),Li.applyMatrix3(e),this.setXYZ(r,Li.x,Li.y,Li.z);return this},applyMatrix4:function(e){for(var t=0,n=this.count;t<n;t++)Li.x=this.getX(t),Li.y=this.getY(t),Li.z=this.getZ(t),Li.applyMatrix4(e),this.setXYZ(t,Li.x,Li.y,Li.z);return this},applyNormalMatrix:function(e){for(var t=0,n=this.count;t<n;t++)Li.x=this.getX(t),Li.y=this.getY(t),Li.z=this.getZ(t),Li.applyNormalMatrix(e),this.setXYZ(t,Li.x,Li.y,Li.z);return this},transformDirection:function(e){for(var t=0,n=this.count;t<n;t++)Li.x=this.getX(t),Li.y=this.getY(t),Li.z=this.getZ(t),Li.transformDirection(e),this.setXYZ(t,Li.x,Li.y,Li.z);return this},set:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this.array.set(e,t),this},getX:function(e){return this.array[e*this.itemSize]},setX:function(e,t){return this.array[e*this.itemSize]=t,this},getY:function(e){return this.array[e*this.itemSize+1]},setY:function(e,t){return this.array[e*this.itemSize+1]=t,this},getZ:function(e){return this.array[e*this.itemSize+2]},setZ:function(e,t){return this.array[e*this.itemSize+2]=t,this},getW:function(e){return this.array[e*this.itemSize+3]},setW:function(e,t){return this.array[e*this.itemSize+3]=t,this},setXY:function(e,t,n){return e*=this.itemSize,this.array[e+0]=t,this.array[e+1]=n,this},setXYZ:function(e,t,n,r){return e*=this.itemSize,this.array[e+0]=t,this.array[e+1]=n,this.array[e+2]=r,this},setXYZW:function(e,t,n,r,i){return e*=this.itemSize,this.array[e+0]=t,this.array[e+1]=n,this.array[e+2]=r,this.array[e+3]=i,this},onUpload:function(e){return this.onUploadCallback=e,this},clone:function(){return new this.constructor(this.array,this.itemSize).copy(this)},toJSON:function(){return{itemSize:this.itemSize,type:this.array.constructor.name,array:Array.prototype.slice.call(this.array),normalized:this.normalized}}}),ji.prototype=Object.create(Ni.prototype),ji.prototype.constructor=ji,Fi.prototype=Object.create(Ni.prototype),Fi.prototype.constructor=Fi,Gi.prototype=Object.create(Ni.prototype),Gi.prototype.constructor=Gi,Ui.prototype=Object.create(Ni.prototype),Ui.prototype.constructor=Ui,zi.prototype=Object.create(Ni.prototype),zi.prototype.constructor=zi,Bi.prototype=Object.create(Ni.prototype),Bi.prototype.constructor=Bi,Vi.prototype=Object.create(Ni.prototype),Vi.prototype.constructor=Vi,Hi.prototype=Object.create(Ni.prototype),Hi.prototype.constructor=Hi,Hi.prototype.isFloat16BufferAttribute=!0,Wi.prototype=Object.create(Ni.prototype),Wi.prototype.constructor=Wi,Xi.prototype=Object.create(Ni.prototype),Xi.prototype.constructor=Xi;var qi=function(){function e(){Object(d.a)(this,e),this.vertices=[],this.normals=[],this.colors=[],this.uvs=[],this.uvs2=[],this.groups=[],this.morphTargets={},this.skinWeights=[],this.skinIndices=[],this.boundingBox=null,this.boundingSphere=null,this.verticesNeedUpdate=!1,this.normalsNeedUpdate=!1,this.colorsNeedUpdate=!1,this.uvsNeedUpdate=!1,this.groupsNeedUpdate=!1}return Object(h.a)(e,[{key:"computeGroups",value:function(e){var t,n,r=[],i=void 0,a=e.faces;for(n=0;n<a.length;n++){var o=a[n];o.materialIndex!==i&&(i=o.materialIndex,void 0!==t&&(t.count=3*n-t.start,r.push(t)),t={start:3*n,materialIndex:i})}void 0!==t&&(t.count=3*n-t.start,r.push(t)),this.groups=r}},{key:"fromGeometry",value:function(e){var t,n=e.faces,r=e.vertices,i=e.faceVertexUvs,a=i[0]&&i[0].length>0,o=i[1]&&i[1].length>0,s=e.morphTargets,l=s.length;if(l>0){t=[];for(var u=0;u<l;u++)t[u]={name:s[u].name,data:[]};this.morphTargets.position=t}var c,d=e.morphNormals,h=d.length;if(h>0){c=[];for(var f=0;f<h;f++)c[f]={name:d[f].name,data:[]};this.morphTargets.normal=c}var p=e.skinIndices,m=e.skinWeights,v=p.length===r.length,g=m.length===r.length;r.length>0&&0===n.length&&console.error("THREE.DirectGeometry: Faceless geometries are not supported.");for(var y=0;y<n.length;y++){var b=n[y];this.vertices.push(r[b.a],r[b.b],r[b.c]);var x=b.vertexNormals;if(3===x.length)this.normals.push(x[0],x[1],x[2]);else{var w=b.normal;this.normals.push(w,w,w)}var M=b.vertexColors;if(3===M.length)this.colors.push(M[0],M[1],M[2]);else{var _=b.color;this.colors.push(_,_,_)}if(!0===a){var S=i[0][y];void 0!==S?this.uvs.push(S[0],S[1],S[2]):(console.warn("THREE.DirectGeometry.fromGeometry(): Undefined vertexUv ",y),this.uvs.push(new Kn,new Kn,new Kn))}if(!0===o){var E=i[1][y];void 0!==E?this.uvs2.push(E[0],E[1],E[2]):(console.warn("THREE.DirectGeometry.fromGeometry(): Undefined vertexUv2 ",y),this.uvs2.push(new Kn,new Kn,new Kn))}for(var T=0;T<l;T++){var A=s[T].vertices;t[T].data.push(A[b.a],A[b.b],A[b.c])}for(var R=0;R<h;R++){var O=d[R].vertexNormals[y];c[R].data.push(O.a,O.b,O.c)}v&&this.skinIndices.push(p[b.a],p[b.b],p[b.c]),g&&this.skinWeights.push(m[b.a],m[b.b],m[b.c])}return this.computeGroups(e),this.verticesNeedUpdate=e.verticesNeedUpdate,this.normalsNeedUpdate=e.normalsNeedUpdate,this.colorsNeedUpdate=e.colorsNeedUpdate,this.uvsNeedUpdate=e.uvsNeedUpdate,this.groupsNeedUpdate=e.groupsNeedUpdate,null!==e.boundingSphere&&(this.boundingSphere=e.boundingSphere.clone()),null!==e.boundingBox&&(this.boundingBox=e.boundingBox.clone()),this}}]),e}();function Yi(e){if(0===e.length)return-1/0;for(var t=e[0],n=1,r=e.length;n<r;++n)e[n]>t&&(t=e[n]);return t}var Qi={Int8Array:Int8Array,Uint8Array:Uint8Array,Uint8ClampedArray:"undefined"!==typeof Uint8ClampedArray?Uint8ClampedArray:Uint8Array,Int16Array:Int16Array,Uint16Array:Uint16Array,Int32Array:Int32Array,Uint32Array:Uint32Array,Float32Array:Float32Array,Float64Array:Float64Array};function Zi(e,t){return new Qi[e](t)}var $i=1,Ki=new Nr,Ji=new si,ea=new lr,ta=new dr,na=new dr,ra=new lr;function ia(){Object.defineProperty(this,"id",{value:$i+=2}),this.uuid=$n.generateUUID(),this.name="",this.type="BufferGeometry",this.index=null,this.attributes={},this.morphAttributes={},this.morphTargetsRelative=!1,this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0},this.userData={}}ia.prototype=Object.assign(Object.create(Xn.prototype),{constructor:ia,isBufferGeometry:!0,getIndex:function(){return this.index},setIndex:function(e){return Array.isArray(e)?this.index=new(Yi(e)>65535?Vi:zi)(e,1):this.index=e,this},getAttribute:function(e){return this.attributes[e]},setAttribute:function(e,t){return this.attributes[e]=t,this},deleteAttribute:function(e){return delete this.attributes[e],this},hasAttribute:function(e){return void 0!==this.attributes[e]},addGroup:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;this.groups.push({start:e,count:t,materialIndex:n})},clearGroups:function(){this.groups=[]},setDrawRange:function(e,t){this.drawRange.start=e,this.drawRange.count=t},applyMatrix4:function(e){var t=this.attributes.position;void 0!==t&&(t.applyMatrix4(e),t.needsUpdate=!0);var n=this.attributes.normal;if(void 0!==n){var r=(new Jn).getNormalMatrix(e);n.applyNormalMatrix(r),n.needsUpdate=!0}var i=this.attributes.tangent;return void 0!==i&&(i.transformDirection(e),i.needsUpdate=!0),null!==this.boundingBox&&this.computeBoundingBox(),null!==this.boundingSphere&&this.computeBoundingSphere(),this},rotateX:function(e){return Ki.makeRotationX(e),this.applyMatrix4(Ki),this},rotateY:function(e){return Ki.makeRotationY(e),this.applyMatrix4(Ki),this},rotateZ:function(e){return Ki.makeRotationZ(e),this.applyMatrix4(Ki),this},translate:function(e,t,n){return Ki.makeTranslation(e,t,n),this.applyMatrix4(Ki),this},scale:function(e,t,n){return Ki.makeScale(e,t,n),this.applyMatrix4(Ki),this},lookAt:function(e){return Ji.lookAt(e),Ji.updateMatrix(),this.applyMatrix4(Ji.matrix),this},center:function(){return this.computeBoundingBox(),this.boundingBox.getCenter(ea).negate(),this.translate(ea.x,ea.y,ea.z),this},setFromObject:function(e){var t=e.geometry;if(e.isPoints||e.isLine){var n=new Wi(3*t.vertices.length,3),r=new Wi(3*t.colors.length,3);if(this.setAttribute("position",n.copyVector3sArray(t.vertices)),this.setAttribute("color",r.copyColorsArray(t.colors)),t.lineDistances&&t.lineDistances.length===t.vertices.length){var i=new Wi(t.lineDistances.length,1);this.setAttribute("lineDistance",i.copyArray(t.lineDistances))}null!==t.boundingSphere&&(this.boundingSphere=t.boundingSphere.clone()),null!==t.boundingBox&&(this.boundingBox=t.boundingBox.clone())}else e.isMesh&&t&&t.isGeometry&&this.fromGeometry(t);return this},setFromPoints:function(e){for(var t=[],n=0,r=e.length;n<r;n++){var i=e[n];t.push(i.x,i.y,i.z||0)}return this.setAttribute("position",new Wi(t,3)),this},updateFromObject:function(e){var t=e.geometry;if(e.isMesh){var n=t.__directGeometry;if(!0===t.elementsNeedUpdate&&(n=void 0,t.elementsNeedUpdate=!1),void 0===n)return this.fromGeometry(t);n.verticesNeedUpdate=t.verticesNeedUpdate,n.normalsNeedUpdate=t.normalsNeedUpdate,n.colorsNeedUpdate=t.colorsNeedUpdate,n.uvsNeedUpdate=t.uvsNeedUpdate,n.groupsNeedUpdate=t.groupsNeedUpdate,t.verticesNeedUpdate=!1,t.normalsNeedUpdate=!1,t.colorsNeedUpdate=!1,t.uvsNeedUpdate=!1,t.groupsNeedUpdate=!1,t=n}if(!0===t.verticesNeedUpdate){var r=this.attributes.position;void 0!==r&&(r.copyVector3sArray(t.vertices),r.needsUpdate=!0),t.verticesNeedUpdate=!1}if(!0===t.normalsNeedUpdate){var i=this.attributes.normal;void 0!==i&&(i.copyVector3sArray(t.normals),i.needsUpdate=!0),t.normalsNeedUpdate=!1}if(!0===t.colorsNeedUpdate){var a=this.attributes.color;void 0!==a&&(a.copyColorsArray(t.colors),a.needsUpdate=!0),t.colorsNeedUpdate=!1}if(t.uvsNeedUpdate){var o=this.attributes.uv;void 0!==o&&(o.copyVector2sArray(t.uvs),o.needsUpdate=!0),t.uvsNeedUpdate=!1}if(t.lineDistancesNeedUpdate){var s=this.attributes.lineDistance;void 0!==s&&(s.copyArray(t.lineDistances),s.needsUpdate=!0),t.lineDistancesNeedUpdate=!1}return t.groupsNeedUpdate&&(t.computeGroups(e.geometry),this.groups=t.groups,t.groupsNeedUpdate=!1),this},fromGeometry:function(e){return e.__directGeometry=(new qi).fromGeometry(e),this.fromDirectGeometry(e.__directGeometry)},fromDirectGeometry:function(e){var t=new Float32Array(3*e.vertices.length);if(this.setAttribute("position",new Ni(t,3).copyVector3sArray(e.vertices)),e.normals.length>0){var n=new Float32Array(3*e.normals.length);this.setAttribute("normal",new Ni(n,3).copyVector3sArray(e.normals))}if(e.colors.length>0){var r=new Float32Array(3*e.colors.length);this.setAttribute("color",new Ni(r,3).copyColorsArray(e.colors))}if(e.uvs.length>0){var i=new Float32Array(2*e.uvs.length);this.setAttribute("uv",new Ni(i,2).copyVector2sArray(e.uvs))}if(e.uvs2.length>0){var a=new Float32Array(2*e.uvs2.length);this.setAttribute("uv2",new Ni(a,2).copyVector2sArray(e.uvs2))}for(var o in this.groups=e.groups,e.morphTargets){for(var s=[],l=e.morphTargets[o],u=0,c=l.length;u<c;u++){var d=l[u],h=new Wi(3*d.data.length,3);h.name=d.name,s.push(h.copyVector3sArray(d.data))}this.morphAttributes[o]=s}if(e.skinIndices.length>0){var f=new Wi(4*e.skinIndices.length,4);this.setAttribute("skinIndex",f.copyVector4sArray(e.skinIndices))}if(e.skinWeights.length>0){var p=new Wi(4*e.skinWeights.length,4);this.setAttribute("skinWeight",p.copyVector4sArray(e.skinWeights))}return null!==e.boundingSphere&&(this.boundingSphere=e.boundingSphere.clone()),null!==e.boundingBox&&(this.boundingBox=e.boundingBox.clone()),this},computeBoundingBox:function(){null===this.boundingBox&&(this.boundingBox=new dr);var e=this.attributes.position,t=this.morphAttributes.position;if(e&&e.isGLBufferAttribute)return console.error('THREE.BufferGeometry.computeBoundingBox(): GLBufferAttribute requires a manual bounding box. Alternatively set "mesh.frustumCulled" to "false".',this),void this.boundingBox.set(new lr(-1/0,-1/0,-1/0),new lr(1/0,1/0,1/0));if(void 0!==e){if(this.boundingBox.setFromBufferAttribute(e),t)for(var n=0,r=t.length;n<r;n++){var i=t[n];ta.setFromBufferAttribute(i),this.morphTargetsRelative?(ra.addVectors(this.boundingBox.min,ta.min),this.boundingBox.expandByPoint(ra),ra.addVectors(this.boundingBox.max,ta.max),this.boundingBox.expandByPoint(ra)):(this.boundingBox.expandByPoint(ta.min),this.boundingBox.expandByPoint(ta.max))}}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox(): Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)},computeBoundingSphere:function(){null===this.boundingSphere&&(this.boundingSphere=new Ar);var e=this.attributes.position,t=this.morphAttributes.position;if(e&&e.isGLBufferAttribute)return console.error('THREE.BufferGeometry.computeBoundingSphere(): GLBufferAttribute requires a manual bounding sphere. Alternatively set "mesh.frustumCulled" to "false".',this),void this.boundingSphere.set(new lr,1/0);if(e){var n=this.boundingSphere.center;if(ta.setFromBufferAttribute(e),t)for(var r=0,i=t.length;r<i;r++){var a=t[r];na.setFromBufferAttribute(a),this.morphTargetsRelative?(ra.addVectors(ta.min,na.min),ta.expandByPoint(ra),ra.addVectors(ta.max,na.max),ta.expandByPoint(ra)):(ta.expandByPoint(na.min),ta.expandByPoint(na.max))}ta.getCenter(n);for(var o=0,s=0,l=e.count;s<l;s++)ra.fromBufferAttribute(e,s),o=Math.max(o,n.distanceToSquared(ra));if(t)for(var u=0,c=t.length;u<c;u++)for(var d=t[u],h=this.morphTargetsRelative,f=0,p=d.count;f<p;f++)ra.fromBufferAttribute(d,f),h&&(ea.fromBufferAttribute(e,f),ra.add(ea)),o=Math.max(o,n.distanceToSquared(ra));this.boundingSphere.radius=Math.sqrt(o),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}},computeFaceNormals:function(){},computeVertexNormals:function(){var e=this.index,t=this.getAttribute("position");if(void 0!==t){var n=this.getAttribute("normal");if(void 0===n)n=new Ni(new Float32Array(3*t.count),3),this.setAttribute("normal",n);else for(var r=0,i=n.count;r<i;r++)n.setXYZ(r,0,0,0);var a=new lr,o=new lr,s=new lr,l=new lr,u=new lr,c=new lr,d=new lr,h=new lr;if(e)for(var f=0,p=e.count;f<p;f+=3){var m=e.getX(f+0),v=e.getX(f+1),g=e.getX(f+2);a.fromBufferAttribute(t,m),o.fromBufferAttribute(t,v),s.fromBufferAttribute(t,g),d.subVectors(s,o),h.subVectors(a,o),d.cross(h),l.fromBufferAttribute(n,m),u.fromBufferAttribute(n,v),c.fromBufferAttribute(n,g),l.add(d),u.add(d),c.add(d),n.setXYZ(m,l.x,l.y,l.z),n.setXYZ(v,u.x,u.y,u.z),n.setXYZ(g,c.x,c.y,c.z)}else for(var y=0,b=t.count;y<b;y+=3)a.fromBufferAttribute(t,y+0),o.fromBufferAttribute(t,y+1),s.fromBufferAttribute(t,y+2),d.subVectors(s,o),h.subVectors(a,o),d.cross(h),n.setXYZ(y+0,d.x,d.y,d.z),n.setXYZ(y+1,d.x,d.y,d.z),n.setXYZ(y+2,d.x,d.y,d.z);this.normalizeNormals(),n.needsUpdate=!0}},merge:function(e,t){if(e&&e.isBufferGeometry){void 0===t&&(t=0,console.warn("THREE.BufferGeometry.merge(): Overwriting original geometry, starting at offset=0. Use BufferGeometryUtils.mergeBufferGeometries() for lossless merge."));var n=this.attributes;for(var r in n)if(void 0!==e.attributes[r])for(var i=n[r].array,a=e.attributes[r],o=a.array,s=a.itemSize*t,l=Math.min(o.length,i.length-s),u=0,c=s;u<l;u++,c++)i[c]=o[u];return this}console.error("THREE.BufferGeometry.merge(): geometry not an instance of THREE.BufferGeometry.",e)},normalizeNormals:function(){for(var e=this.attributes.normal,t=0,n=e.count;t<n;t++)ra.fromBufferAttribute(e,t),ra.normalize(),e.setXYZ(t,ra.x,ra.y,ra.z)},toNonIndexed:function(){function e(e,t){for(var n=e.array,r=e.itemSize,i=e.normalized,a=new n.constructor(t.length*r),o=0,s=0,l=0,u=t.length;l<u;l++){o=t[l]*r;for(var c=0;c<r;c++)a[s++]=n[o++]}return new Ni(a,r,i)}if(null===this.index)return console.warn("THREE.BufferGeometry.toNonIndexed(): Geometry is already non-indexed."),this;var t=new ia,n=this.index.array,r=this.attributes;for(var i in r){var a=e(r[i],n);t.setAttribute(i,a)}var o=this.morphAttributes;for(var s in o){for(var l=[],u=o[s],c=0,d=u.length;c<d;c++){var h=e(u[c],n);l.push(h)}t.morphAttributes[s]=l}t.morphTargetsRelative=this.morphTargetsRelative;for(var f=this.groups,p=0,m=f.length;p<m;p++){var v=f[p];t.addGroup(v.start,v.count,v.materialIndex)}return t},toJSON:function(){var e={metadata:{version:4.5,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(e.uuid=this.uuid,e.type=this.type,""!==this.name&&(e.name=this.name),Object.keys(this.userData).length>0&&(e.userData=this.userData),void 0!==this.parameters){var t=this.parameters;for(var n in t)void 0!==t[n]&&(e[n]=t[n]);return e}e.data={attributes:{}};var r=this.index;null!==r&&(e.data.index={type:r.array.constructor.name,array:Array.prototype.slice.call(r.array)});var i=this.attributes;for(var a in i){var o=i[a],s=o.toJSON(e.data);""!==o.name&&(s.name=o.name),e.data.attributes[a]=s}var l={},u=!1;for(var c in this.morphAttributes){for(var d=this.morphAttributes[c],h=[],f=0,p=d.length;f<p;f++){var m=d[f],v=m.toJSON(e.data);""!==m.name&&(v.name=m.name),h.push(v)}h.length>0&&(l[c]=h,u=!0)}u&&(e.data.morphAttributes=l,e.data.morphTargetsRelative=this.morphTargetsRelative);var g=this.groups;g.length>0&&(e.data.groups=JSON.parse(JSON.stringify(g)));var y=this.boundingSphere;return null!==y&&(e.data.boundingSphere={center:y.center.toArray(),radius:y.radius}),e},clone:function(){return(new ia).copy(this)},copy:function(e){this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null;var t={};this.name=e.name;var n=e.index;null!==n&&this.setIndex(n.clone(t));var r=e.attributes;for(var i in r){var a=r[i];this.setAttribute(i,a.clone(t))}var o=e.morphAttributes;for(var s in o){for(var l=[],u=o[s],c=0,d=u.length;c<d;c++)l.push(u[c].clone(t));this.morphAttributes[s]=l}this.morphTargetsRelative=e.morphTargetsRelative;for(var h=e.groups,f=0,p=h.length;f<p;f++){var m=h[f];this.addGroup(m.start,m.count,m.materialIndex)}var v=e.boundingBox;null!==v&&(this.boundingBox=v.clone());var g=e.boundingSphere;return null!==g&&(this.boundingSphere=g.clone()),this.drawRange.start=e.drawRange.start,this.drawRange.count=e.drawRange.count,this.userData=e.userData,this},dispose:function(){this.dispatchEvent({type:"dispose"})}});var aa=new Nr,oa=new Pr,sa=new Ar,la=new lr,ua=new lr,ca=new lr,da=new lr,ha=new lr,fa=new lr,pa=new lr,ma=new lr,va=new lr,ga=new Kn,ya=new Kn,ba=new Kn,xa=new lr,wa=new lr;function Ma(e,t){si.call(this),this.type="Mesh",this.geometry=void 0!==e?e:new ia,this.material=void 0!==t?t:new Di,this.updateMorphTargets()}function _a(e,t,n,r,i,a,o,s){if(null===(t.side===E?r.intersectTriangle(o,a,i,!0,s):r.intersectTriangle(i,a,o,t.side!==T,s)))return null;wa.copy(s),wa.applyMatrix4(e.matrixWorld);var l=n.ray.origin.distanceTo(wa);return l<n.near||l>n.far?null:{distance:l,point:wa.clone(),object:e}}function Sa(e,t,n,r,i,a,o,s,l,u,c,d){la.fromBufferAttribute(i,u),ua.fromBufferAttribute(i,c),ca.fromBufferAttribute(i,d);var h=e.morphTargetInfluences;if(t.morphTargets&&a&&h){pa.set(0,0,0),ma.set(0,0,0),va.set(0,0,0);for(var f=0,p=a.length;f<p;f++){var m=h[f],v=a[f];0!==m&&(da.fromBufferAttribute(v,u),ha.fromBufferAttribute(v,c),fa.fromBufferAttribute(v,d),o?(pa.addScaledVector(da,m),ma.addScaledVector(ha,m),va.addScaledVector(fa,m)):(pa.addScaledVector(da.sub(la),m),ma.addScaledVector(ha.sub(ua),m),va.addScaledVector(fa.sub(ca),m)))}la.add(pa),ua.add(ma),ca.add(va)}e.isSkinnedMesh&&(e.boneTransform(u,la),e.boneTransform(c,ua),e.boneTransform(d,ca));var g=_a(e,t,n,r,la,ua,ca,xa);if(g){s&&(ga.fromBufferAttribute(s,u),ya.fromBufferAttribute(s,c),ba.fromBufferAttribute(s,d),g.uv=Mi.getUV(xa,la,ua,ca,ga,ya,ba,new Kn)),l&&(ga.fromBufferAttribute(l,u),ya.fromBufferAttribute(l,c),ba.fromBufferAttribute(l,d),g.uv2=Mi.getUV(xa,la,ua,ca,ga,ya,ba,new Kn));var y=new ki(u,c,d);Mi.getNormal(la,ua,ca,y.normal),g.face=y}return g}Ma.prototype=Object.assign(Object.create(si.prototype),{constructor:Ma,isMesh:!0,copy:function(e){return si.prototype.copy.call(this,e),void 0!==e.morphTargetInfluences&&(this.morphTargetInfluences=e.morphTargetInfluences.slice()),void 0!==e.morphTargetDictionary&&(this.morphTargetDictionary=Object.assign({},e.morphTargetDictionary)),this.material=e.material,this.geometry=e.geometry,this},updateMorphTargets:function(){var e=this.geometry;if(e.isBufferGeometry){var t=e.morphAttributes,n=Object.keys(t);if(n.length>0){var r=t[n[0]];if(void 0!==r){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(var i=0,a=r.length;i<a;i++){var o=r[i].name||String(i);this.morphTargetInfluences.push(0),this.morphTargetDictionary[o]=i}}}}else{var s=e.morphTargets;void 0!==s&&s.length>0&&console.error("THREE.Mesh.updateMorphTargets() no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.")}},raycast:function(e,t){var n,r=this.geometry,i=this.material,a=this.matrixWorld;if(void 0!==i&&(null===r.boundingSphere&&r.computeBoundingSphere(),sa.copy(r.boundingSphere),sa.applyMatrix4(a),!1!==e.ray.intersectsSphere(sa)&&(aa.copy(a).invert(),oa.copy(e.ray).applyMatrix4(aa),null===r.boundingBox||!1!==oa.intersectsBox(r.boundingBox))))if(r.isBufferGeometry){var o=r.index,s=r.attributes.position,l=r.morphAttributes.position,u=r.morphTargetsRelative,c=r.attributes.uv,d=r.attributes.uv2,h=r.groups,f=r.drawRange;if(null!==o)if(Array.isArray(i))for(var p=0,m=h.length;p<m;p++)for(var v=h[p],g=i[v.materialIndex],y=Math.max(v.start,f.start),b=Math.min(v.start+v.count,f.start+f.count);y<b;y+=3){var x=o.getX(y),w=o.getX(y+1),M=o.getX(y+2);(n=Sa(this,g,e,oa,s,l,u,c,d,x,w,M))&&(n.faceIndex=Math.floor(y/3),n.face.materialIndex=v.materialIndex,t.push(n))}else for(var _=Math.max(0,f.start),S=Math.min(o.count,f.start+f.count);_<S;_+=3){var E=o.getX(_),T=o.getX(_+1),A=o.getX(_+2);(n=Sa(this,i,e,oa,s,l,u,c,d,E,T,A))&&(n.faceIndex=Math.floor(_/3),t.push(n))}else if(void 0!==s)if(Array.isArray(i))for(var R=0,O=h.length;R<O;R++)for(var k=h[R],I=i[k.materialIndex],C=Math.max(k.start,f.start),D=Math.min(k.start+k.count,f.start+f.count);C<D;C+=3){(n=Sa(this,I,e,oa,s,l,u,c,d,C,C+1,C+2))&&(n.faceIndex=Math.floor(C/3),n.face.materialIndex=k.materialIndex,t.push(n))}else for(var L=Math.max(0,f.start),P=Math.min(s.count,f.start+f.count);L<P;L+=3){(n=Sa(this,i,e,oa,s,l,u,c,d,L,L+1,L+2))&&(n.faceIndex=Math.floor(L/3),t.push(n))}}else if(r.isGeometry){var N,j=Array.isArray(i),F=r.vertices,G=r.faces,U=r.faceVertexUvs[0];U.length>0&&(N=U);for(var z=0,B=G.length;z<B;z++){var V=G[z],H=j?i[V.materialIndex]:i;if(void 0!==H){var W=F[V.a],X=F[V.b],q=F[V.c];if(n=_a(this,H,e,oa,W,X,q,xa)){if(N&&N[z]){var Y=N[z];ga.copy(Y[0]),ya.copy(Y[1]),ba.copy(Y[2]),n.uv=Mi.getUV(xa,W,X,q,ga,ya,ba,new Kn)}n.face=V,n.faceIndex=z,t.push(n)}}}}}});var Ea=function(e){Object(u.a)(n,e);var t=Object(c.a)(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1,u=arguments.length>5&&void 0!==arguments[5]?arguments[5]:1;Object(d.a)(this,n),(e=t.call(this)).type="BoxBufferGeometry",e.parameters={width:r,height:i,depth:a,widthSegments:o,heightSegments:s,depthSegments:u};var c=Object(l.a)(e);o=Math.floor(o),s=Math.floor(s),u=Math.floor(u);var h=[],f=[],p=[],m=[],v=0,g=0;function y(e,t,n,r,i,a,o,s,l,u,d){for(var y=a/l,b=o/u,x=a/2,w=o/2,M=s/2,_=l+1,S=u+1,E=0,T=0,A=new lr,R=0;R<S;R++)for(var O=R*b-w,k=0;k<_;k++){var I=k*y-x;A[e]=I*r,A[t]=O*i,A[n]=M,f.push(A.x,A.y,A.z),A[e]=0,A[t]=0,A[n]=s>0?1:-1,p.push(A.x,A.y,A.z),m.push(k/l),m.push(1-R/u),E+=1}for(var C=0;C<u;C++)for(var D=0;D<l;D++){var L=v+D+_*C,P=v+D+_*(C+1),N=v+(D+1)+_*(C+1),j=v+(D+1)+_*C;h.push(L,P,j),h.push(P,N,j),T+=6}c.addGroup(g,T,d),g+=T,v+=E}return y("z","y","x",-1,-1,a,i,r,u,s,0),y("z","y","x",1,-1,a,i,-r,u,s,1),y("x","z","y",1,1,r,a,i,o,u,2),y("x","z","y",1,-1,r,a,-i,o,u,3),y("x","y","z",1,-1,r,i,a,o,s,4),y("x","y","z",-1,-1,r,i,-a,o,s,5),e.setIndex(h),e.setAttribute("position",new Wi(f,3)),e.setAttribute("normal",new Wi(p,3)),e.setAttribute("uv",new Wi(m,2)),e}return n}(ia);function Ta(e){var t={};for(var n in e)for(var r in t[n]={},e[n]){var i=e[n][r];i&&(i.isColor||i.isMatrix3||i.isMatrix4||i.isVector2||i.isVector3||i.isVector4||i.isTexture)?t[n][r]=i.clone():Array.isArray(i)?t[n][r]=i.slice():t[n][r]=i}return t}function Aa(e){for(var t={},n=0;n<e.length;n++){var r=Ta(e[n]);for(var i in r)t[i]=r[i]}return t}var Ra={clone:Ta,merge:Aa};function Oa(e){Ci.call(this),this.type="ShaderMaterial",this.defines={},this.uniforms={},this.vertexShader="void main() {\n\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n}",this.fragmentShader="void main() {\n\tgl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );\n}",this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.extensions={derivatives:!1,fragDepth:!1,drawBuffers:!1,shaderTextureLOD:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv2:[0,0]},this.index0AttributeName=void 0,this.uniformsNeedUpdate=!1,this.glslVersion=null,void 0!==e&&(void 0!==e.attributes&&console.error("THREE.ShaderMaterial: attributes should now be defined in THREE.BufferGeometry instead."),this.setValues(e))}function ka(){si.call(this),this.type="Camera",this.matrixWorldInverse=new Nr,this.projectionMatrix=new Nr,this.projectionMatrixInverse=new Nr}function Ia(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:50,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:.1,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:2e3;ka.call(this),this.type="PerspectiveCamera",this.fov=e,this.zoom=1,this.near=n,this.far=r,this.focus=10,this.aspect=t,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}Oa.prototype=Object.create(Ci.prototype),Oa.prototype.constructor=Oa,Oa.prototype.isShaderMaterial=!0,Oa.prototype.copy=function(e){return Ci.prototype.copy.call(this,e),this.fragmentShader=e.fragmentShader,this.vertexShader=e.vertexShader,this.uniforms=Ta(e.uniforms),this.defines=Object.assign({},e.defines),this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.lights=e.lights,this.clipping=e.clipping,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this.morphNormals=e.morphNormals,this.extensions=Object.assign({},e.extensions),this.glslVersion=e.glslVersion,this},Oa.prototype.toJSON=function(e){var t=Ci.prototype.toJSON.call(this,e);for(var n in t.glslVersion=this.glslVersion,t.uniforms={},this.uniforms){var r=this.uniforms[n].value;r&&r.isTexture?t.uniforms[n]={type:"t",value:r.toJSON(e).uuid}:r&&r.isColor?t.uniforms[n]={type:"c",value:r.getHex()}:r&&r.isVector2?t.uniforms[n]={type:"v2",value:r.toArray()}:r&&r.isVector3?t.uniforms[n]={type:"v3",value:r.toArray()}:r&&r.isVector4?t.uniforms[n]={type:"v4",value:r.toArray()}:r&&r.isMatrix3?t.uniforms[n]={type:"m3",value:r.toArray()}:r&&r.isMatrix4?t.uniforms[n]={type:"m4",value:r.toArray()}:t.uniforms[n]={value:r}}Object.keys(this.defines).length>0&&(t.defines=this.defines),t.vertexShader=this.vertexShader,t.fragmentShader=this.fragmentShader;var i={};for(var a in this.extensions)!0===this.extensions[a]&&(i[a]=!0);return Object.keys(i).length>0&&(t.extensions=i),t},ka.prototype=Object.assign(Object.create(si.prototype),{constructor:ka,isCamera:!0,copy:function(e,t){return si.prototype.copy.call(this,e,t),this.matrixWorldInverse.copy(e.matrixWorldInverse),this.projectionMatrix.copy(e.projectionMatrix),this.projectionMatrixInverse.copy(e.projectionMatrixInverse),this},getWorldDirection:function(e){void 0===e&&(console.warn("THREE.Camera: .getWorldDirection() target is now required"),e=new lr),this.updateWorldMatrix(!0,!1);var t=this.matrixWorld.elements;return e.set(-t[8],-t[9],-t[10]).normalize()},updateMatrixWorld:function(e){si.prototype.updateMatrixWorld.call(this,e),this.matrixWorldInverse.copy(this.matrixWorld).invert()},updateWorldMatrix:function(e,t){si.prototype.updateWorldMatrix.call(this,e,t),this.matrixWorldInverse.copy(this.matrixWorld).invert()},clone:function(){return(new this.constructor).copy(this)}}),Ia.prototype=Object.assign(Object.create(ka.prototype),{constructor:Ia,isPerspectiveCamera:!0,copy:function(e,t){return ka.prototype.copy.call(this,e,t),this.fov=e.fov,this.zoom=e.zoom,this.near=e.near,this.far=e.far,this.focus=e.focus,this.aspect=e.aspect,this.view=null===e.view?null:Object.assign({},e.view),this.filmGauge=e.filmGauge,this.filmOffset=e.filmOffset,this},setFocalLength:function(e){var t=.5*this.getFilmHeight()/e;this.fov=2*$n.RAD2DEG*Math.atan(t),this.updateProjectionMatrix()},getFocalLength:function(){var e=Math.tan(.5*$n.DEG2RAD*this.fov);return.5*this.getFilmHeight()/e},getEffectiveFOV:function(){return 2*$n.RAD2DEG*Math.atan(Math.tan(.5*$n.DEG2RAD*this.fov)/this.zoom)},getFilmWidth:function(){return this.filmGauge*Math.min(this.aspect,1)},getFilmHeight:function(){return this.filmGauge/Math.max(this.aspect,1)},setViewOffset:function(e,t,n,r,i,a){this.aspect=e/t,null===this.view&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=n,this.view.offsetY=r,this.view.width=i,this.view.height=a,this.updateProjectionMatrix()},clearViewOffset:function(){null!==this.view&&(this.view.enabled=!1),this.updateProjectionMatrix()},updateProjectionMatrix:function(){var e=this.near,t=e*Math.tan(.5*$n.DEG2RAD*this.fov)/this.zoom,n=2*t,r=this.aspect*n,i=-.5*r,a=this.view;if(null!==this.view&&this.view.enabled){var o=a.fullWidth,s=a.fullHeight;i+=a.offsetX*r/o,t-=a.offsetY*n/s,r*=a.width/o,n*=a.height/s}var l=this.filmOffset;0!==l&&(i+=e*l/this.getFilmWidth()),this.projectionMatrix.makePerspective(i,i+r,t,t-n,e,this.far),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()},toJSON:function(e){var t=si.prototype.toJSON.call(this,e);return t.object.fov=this.fov,t.object.zoom=this.zoom,t.object.near=this.near,t.object.far=this.far,t.object.focus=this.focus,t.object.aspect=this.aspect,null!==this.view&&(t.object.view=Object.assign({},this.view)),t.object.filmGauge=this.filmGauge,t.object.filmOffset=this.filmOffset,t}});var Ca=90;function Da(e,t,n){if(si.call(this),this.type="CubeCamera",!0===n.isWebGLCubeRenderTarget){this.renderTarget=n;var r=new Ia(Ca,1,e,t);r.layers=this.layers,r.up.set(0,-1,0),r.lookAt(new lr(1,0,0)),this.add(r);var i=new Ia(Ca,1,e,t);i.layers=this.layers,i.up.set(0,-1,0),i.lookAt(new lr(-1,0,0)),this.add(i);var a=new Ia(Ca,1,e,t);a.layers=this.layers,a.up.set(0,0,1),a.lookAt(new lr(0,1,0)),this.add(a);var o=new Ia(Ca,1,e,t);o.layers=this.layers,o.up.set(0,0,-1),o.lookAt(new lr(0,-1,0)),this.add(o);var s=new Ia(Ca,1,e,t);s.layers=this.layers,s.up.set(0,-1,0),s.lookAt(new lr(0,0,1)),this.add(s);var l=new Ia(Ca,1,e,t);l.layers=this.layers,l.up.set(0,-1,0),l.lookAt(new lr(0,0,-1)),this.add(l),this.update=function(e,t){null===this.parent&&this.updateMatrixWorld();var u=e.xr.enabled,c=e.getRenderTarget();e.xr.enabled=!1;var d=n.texture.generateMipmaps;n.texture.generateMipmaps=!1,e.setRenderTarget(n,0),e.render(t,r),e.setRenderTarget(n,1),e.render(t,i),e.setRenderTarget(n,2),e.render(t,a),e.setRenderTarget(n,3),e.render(t,o),e.setRenderTarget(n,4),e.render(t,s),n.texture.generateMipmaps=d,e.setRenderTarget(n,5),e.render(t,l),e.setRenderTarget(c),e.xr.enabled=u}}else console.error("THREE.CubeCamera: The constructor now expects an instance of WebGLCubeRenderTarget as third parameter.")}function La(e,t,n,r,i,a,o,s,l,u){e=void 0!==e?e:[],t=void 0!==t?t:me,o=void 0!==o?o:qe,nr.call(this,e,t,n,r,i,a,o,s,l,u),this.flipY=!1,this._needsFlipEnvMap=!0}function Pa(e,t,n){Number.isInteger(t)&&(console.warn("THREE.WebGLCubeRenderTarget: constructor signature is now WebGLCubeRenderTarget( size, options )"),t=n),ar.call(this,e,e,t),t=t||{},this.texture=new La(void 0,t.mapping,t.wrapS,t.wrapT,t.magFilter,t.minFilter,t.format,t.type,t.anisotropy,t.encoding),this.texture._needsFlipEnvMap=!1}function Na(e,t,n,r,i,a,o,s,l,u,c,d){nr.call(this,null,a,o,s,l,u,r,i,c,d),this.image={data:e||null,width:t||1,height:n||1},this.magFilter=void 0!==l?l:Se,this.minFilter=void 0!==u?u:Se,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1,this.needsUpdate=!0}Da.prototype=Object.create(si.prototype),Da.prototype.constructor=Da,La.prototype=Object.create(nr.prototype),La.prototype.constructor=La,La.prototype.isCubeTexture=!0,Object.defineProperty(La.prototype,"images",{get:function(){return this.image},set:function(e){this.image=e}}),Pa.prototype=Object.create(ar.prototype),Pa.prototype.constructor=Pa,Pa.prototype.isWebGLCubeRenderTarget=!0,Pa.prototype.fromEquirectangularTexture=function(e,t){this.texture.type=t.type,this.texture.format=Ye,this.texture.encoding=t.encoding,this.texture.generateMipmaps=t.generateMipmaps,this.texture.minFilter=t.minFilter,this.texture.magFilter=t.magFilter;var n={tEquirect:{value:null}},r="\n\n\t\t\tvarying vec3 vWorldDirection;\n\n\t\t\tvec3 transformDirection( in vec3 dir, in mat4 matrix ) {\n\n\t\t\t\treturn normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );\n\n\t\t\t}\n\n\t\t\tvoid main() {\n\n\t\t\t\tvWorldDirection = transformDirection( position, modelMatrix );\n\n\t\t\t\t#include <begin_vertex>\n\t\t\t\t#include <project_vertex>\n\n\t\t\t}\n\t\t",i="\n\n\t\t\tuniform sampler2D tEquirect;\n\n\t\t\tvarying vec3 vWorldDirection;\n\n\t\t\t#include <common>\n\n\t\t\tvoid main() {\n\n\t\t\t\tvec3 direction = normalize( vWorldDirection );\n\n\t\t\t\tvec2 sampleUV = equirectUv( direction );\n\n\t\t\t\tgl_FragColor = texture2D( tEquirect, sampleUV );\n\n\t\t\t}\n\t\t",a=new Ea(5,5,5),o=new Oa({name:"CubemapFromEquirect",uniforms:Ta(n),vertexShader:r,fragmentShader:i,side:E,blending:O});o.uniforms.tEquirect.value=t;var s=new Ma(a,o),l=t.minFilter;return t.minFilter===Ce&&(t.minFilter=Oe),new Da(1,10,this).update(e,s),t.minFilter=l,s.geometry.dispose(),s.material.dispose(),this},Pa.prototype.clear=function(e,t,n,r){for(var i=e.getRenderTarget(),a=0;a<6;a++)e.setRenderTarget(this,a),e.clear(t,n,r);e.setRenderTarget(i)},Na.prototype=Object.create(nr.prototype),Na.prototype.constructor=Na,Na.prototype.isDataTexture=!0;var ja=new Ar,Fa=new lr,Ga=function(){function e(t,n,r,i,a,o){Object(d.a)(this,e),this.planes=[void 0!==t?t:new di,void 0!==n?n:new di,void 0!==r?r:new di,void 0!==i?i:new di,void 0!==a?a:new di,void 0!==o?o:new di]}return Object(h.a)(e,[{key:"set",value:function(e,t,n,r,i,a){var o=this.planes;return o[0].copy(e),o[1].copy(t),o[2].copy(n),o[3].copy(r),o[4].copy(i),o[5].copy(a),this}},{key:"clone",value:function(){return(new this.constructor).copy(this)}},{key:"copy",value:function(e){for(var t=this.planes,n=0;n<6;n++)t[n].copy(e.planes[n]);return this}},{key:"setFromProjectionMatrix",value:function(e){var t=this.planes,n=e.elements,r=n[0],i=n[1],a=n[2],o=n[3],s=n[4],l=n[5],u=n[6],c=n[7],d=n[8],h=n[9],f=n[10],p=n[11],m=n[12],v=n[13],g=n[14],y=n[15];return t[0].setComponents(o-r,c-s,p-d,y-m).normalize(),t[1].setComponents(o+r,c+s,p+d,y+m).normalize(),t[2].setComponents(o+i,c+l,p+h,y+v).normalize(),t[3].setComponents(o-i,c-l,p-h,y-v).normalize(),t[4].setComponents(o-a,c-u,p-f,y-g).normalize(),t[5].setComponents(o+a,c+u,p+f,y+g).normalize(),this}},{key:"intersectsObject",value:function(e){var t=e.geometry;return null===t.boundingSphere&&t.computeBoundingSphere(),ja.copy(t.boundingSphere).applyMatrix4(e.matrixWorld),this.intersectsSphere(ja)}},{key:"intersectsSprite",value:function(e){return ja.center.set(0,0,0),ja.radius=.7071067811865476,ja.applyMatrix4(e.matrixWorld),this.intersectsSphere(ja)}},{key:"intersectsSphere",value:function(e){for(var t=this.planes,n=e.center,r=-e.radius,i=0;i<6;i++){if(t[i].distanceToPoint(n)<r)return!1}return!0}},{key:"intersectsBox",value:function(e){for(var t=this.planes,n=0;n<6;n++){var r=t[n];if(Fa.x=r.normal.x>0?e.max.x:e.min.x,Fa.y=r.normal.y>0?e.max.y:e.min.y,Fa.z=r.normal.z>0?e.max.z:e.min.z,r.distanceToPoint(Fa)<0)return!1}return!0}},{key:"containsPoint",value:function(e){for(var t=this.planes,n=0;n<6;n++)if(t[n].distanceToPoint(e)<0)return!1;return!0}}]),e}();function Ua(){var e=null,t=!1,n=null,r=null;function i(t,a){n(t,a),r=e.requestAnimationFrame(i)}return{start:function(){!0!==t&&null!==n&&(r=e.requestAnimationFrame(i),t=!0)},stop:function(){e.cancelAnimationFrame(r),t=!1},setAnimationLoop:function(e){n=e},setContext:function(t){e=t}}}function za(e,t){var n=t.isWebGL2,r=new WeakMap;return{get:function(e){return e.isInterleavedBufferAttribute&&(e=e.data),r.get(e)},remove:function(t){t.isInterleavedBufferAttribute&&(t=t.data);var n=r.get(t);n&&(e.deleteBuffer(n.buffer),r.delete(t))},update:function(t,i){if(t.isGLBufferAttribute){var a=r.get(t);(!a||a.version<t.version)&&r.set(t,{buffer:t.buffer,type:t.type,bytesPerElement:t.elementSize,version:t.version})}else{t.isInterleavedBufferAttribute&&(t=t.data);var o=r.get(t);void 0===o?r.set(t,function(t,r){var i=t.array,a=t.usage,o=e.createBuffer();e.bindBuffer(r,o),e.bufferData(r,i,a),t.onUploadCallback();var s=5126;return i instanceof Float32Array?s=5126:i instanceof Float64Array?console.warn("THREE.WebGLAttributes: Unsupported data buffer format: Float64Array."):i instanceof Uint16Array?t.isFloat16BufferAttribute?n?s=5131:console.warn("THREE.WebGLAttributes: Usage of Float16BufferAttribute requires WebGL2."):s=5123:i instanceof Int16Array?s=5122:i instanceof Uint32Array?s=5125:i instanceof Int32Array?s=5124:i instanceof Int8Array?s=5120:i instanceof Uint8Array&&(s=5121),{buffer:o,type:s,bytesPerElement:i.BYTES_PER_ELEMENT,version:t.version}}(t,i)):o.version<t.version&&(!function(t,r,i){var a=r.array,o=r.updateRange;e.bindBuffer(i,t),-1===o.count?e.bufferSubData(i,0,a):(n?e.bufferSubData(i,o.offset*a.BYTES_PER_ELEMENT,a,o.offset,o.count):e.bufferSubData(i,o.offset*a.BYTES_PER_ELEMENT,a.subarray(o.offset,o.offset+o.count)),o.count=-1)}(o.buffer,t,i),o.version=t.version)}}}}var Ba=function(e){Object(u.a)(n,e);var t=Object(c.a)(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;Object(d.a)(this,n),(e=t.call(this)).type="PlaneBufferGeometry",e.parameters={width:r,height:i,widthSegments:a,heightSegments:o};for(var s=r/2,l=i/2,u=Math.floor(a),c=Math.floor(o),h=u+1,f=c+1,p=r/u,m=i/c,v=[],g=[],y=[],b=[],x=0;x<f;x++)for(var w=x*m-l,M=0;M<h;M++){var _=M*p-s;g.push(_,-w,0),y.push(0,0,1),b.push(M/u),b.push(1-x/c)}for(var S=0;S<c;S++)for(var E=0;E<u;E++){var T=E+h*S,A=E+h*(S+1),R=E+1+h*(S+1),O=E+1+h*S;v.push(T,A,O),v.push(A,R,O)}return e.setIndex(v),e.setAttribute("position",new Wi(g,3)),e.setAttribute("normal",new Wi(y,3)),e.setAttribute("uv",new Wi(b,2)),e}return n}(ia),Va={alphamap_fragment:"#ifdef USE_ALPHAMAP\n\tdiffuseColor.a *= texture2D( alphaMap, vUv ).g;\n#endif",alphamap_pars_fragment:"#ifdef USE_ALPHAMAP\n\tuniform sampler2D alphaMap;\n#endif",alphatest_fragment:"#ifdef ALPHATEST\n\tif ( diffuseColor.a < ALPHATEST ) discard;\n#endif",aomap_fragment:"#ifdef USE_AOMAP\n\tfloat ambientOcclusion = ( texture2D( aoMap, vUv2 ).r - 1.0 ) * aoMapIntensity + 1.0;\n\treflectedLight.indirectDiffuse *= ambientOcclusion;\n\t#if defined( USE_ENVMAP ) && defined( STANDARD )\n\t\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\n\t\treflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.specularRoughness );\n\t#endif\n#endif",aomap_pars_fragment:"#ifdef USE_AOMAP\n\tuniform sampler2D aoMap;\n\tuniform float aoMapIntensity;\n#endif",begin_vertex:"vec3 transformed = vec3( position );",beginnormal_vertex:"vec3 objectNormal = vec3( normal );\n#ifdef USE_TANGENT\n\tvec3 objectTangent = vec3( tangent.xyz );\n#endif",bsdfs:"vec2 integrateSpecularBRDF( const in float dotNV, const in float roughness ) {\n\tconst vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );\n\tconst vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );\n\tvec4 r = roughness * c0 + c1;\n\tfloat a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;\n\treturn vec2( -1.04, 1.04 ) * a004 + r.zw;\n}\nfloat punctualLightIntensityToIrradianceFactor( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {\n#if defined ( PHYSICALLY_CORRECT_LIGHTS )\n\tfloat distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );\n\tif( cutoffDistance > 0.0 ) {\n\t\tdistanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );\n\t}\n\treturn distanceFalloff;\n#else\n\tif( cutoffDistance > 0.0 && decayExponent > 0.0 ) {\n\t\treturn pow( saturate( -lightDistance / cutoffDistance + 1.0 ), decayExponent );\n\t}\n\treturn 1.0;\n#endif\n}\nvec3 BRDF_Diffuse_Lambert( const in vec3 diffuseColor ) {\n\treturn RECIPROCAL_PI * diffuseColor;\n}\nvec3 F_Schlick( const in vec3 specularColor, const in float dotLH ) {\n\tfloat fresnel = exp2( ( -5.55473 * dotLH - 6.98316 ) * dotLH );\n\treturn ( 1.0 - specularColor ) * fresnel + specularColor;\n}\nvec3 F_Schlick_RoughnessDependent( const in vec3 F0, const in float dotNV, const in float roughness ) {\n\tfloat fresnel = exp2( ( -5.55473 * dotNV - 6.98316 ) * dotNV );\n\tvec3 Fr = max( vec3( 1.0 - roughness ), F0 ) - F0;\n\treturn Fr * fresnel + F0;\n}\nfloat G_GGX_Smith( const in float alpha, const in float dotNL, const in float dotNV ) {\n\tfloat a2 = pow2( alpha );\n\tfloat gl = dotNL + sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );\n\tfloat gv = dotNV + sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );\n\treturn 1.0 / ( gl * gv );\n}\nfloat G_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {\n\tfloat a2 = pow2( alpha );\n\tfloat gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );\n\tfloat gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );\n\treturn 0.5 / max( gv + gl, EPSILON );\n}\nfloat D_GGX( const in float alpha, const in float dotNH ) {\n\tfloat a2 = pow2( alpha );\n\tfloat denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;\n\treturn RECIPROCAL_PI * a2 / pow2( denom );\n}\nvec3 BRDF_Specular_GGX( const in IncidentLight incidentLight, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float roughness ) {\n\tfloat alpha = pow2( roughness );\n\tvec3 halfDir = normalize( incidentLight.direction + viewDir );\n\tfloat dotNL = saturate( dot( normal, incidentLight.direction ) );\n\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\tfloat dotNH = saturate( dot( normal, halfDir ) );\n\tfloat dotLH = saturate( dot( incidentLight.direction, halfDir ) );\n\tvec3 F = F_Schlick( specularColor, dotLH );\n\tfloat G = G_GGX_SmithCorrelated( alpha, dotNL, dotNV );\n\tfloat D = D_GGX( alpha, dotNH );\n\treturn F * ( G * D );\n}\nvec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {\n\tconst float LUT_SIZE = 64.0;\n\tconst float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;\n\tconst float LUT_BIAS = 0.5 / LUT_SIZE;\n\tfloat dotNV = saturate( dot( N, V ) );\n\tvec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );\n\tuv = uv * LUT_SCALE + LUT_BIAS;\n\treturn uv;\n}\nfloat LTC_ClippedSphereFormFactor( const in vec3 f ) {\n\tfloat l = length( f );\n\treturn max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );\n}\nvec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {\n\tfloat x = dot( v1, v2 );\n\tfloat y = abs( x );\n\tfloat a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;\n\tfloat b = 3.4175940 + ( 4.1616724 + y ) * y;\n\tfloat v = a / b;\n\tfloat theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;\n\treturn cross( v1, v2 ) * theta_sintheta;\n}\nvec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {\n\tvec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];\n\tvec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];\n\tvec3 lightNormal = cross( v1, v2 );\n\tif( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );\n\tvec3 T1, T2;\n\tT1 = normalize( V - N * dot( V, N ) );\n\tT2 = - cross( N, T1 );\n\tmat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );\n\tvec3 coords[ 4 ];\n\tcoords[ 0 ] = mat * ( rectCoords[ 0 ] - P );\n\tcoords[ 1 ] = mat * ( rectCoords[ 1 ] - P );\n\tcoords[ 2 ] = mat * ( rectCoords[ 2 ] - P );\n\tcoords[ 3 ] = mat * ( rectCoords[ 3 ] - P );\n\tcoords[ 0 ] = normalize( coords[ 0 ] );\n\tcoords[ 1 ] = normalize( coords[ 1 ] );\n\tcoords[ 2 ] = normalize( coords[ 2 ] );\n\tcoords[ 3 ] = normalize( coords[ 3 ] );\n\tvec3 vectorFormFactor = vec3( 0.0 );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );\n\tfloat result = LTC_ClippedSphereFormFactor( vectorFormFactor );\n\treturn vec3( result );\n}\nvec3 BRDF_Specular_GGX_Environment( const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float roughness ) {\n\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\tvec2 brdf = integrateSpecularBRDF( dotNV, roughness );\n\treturn specularColor * brdf.x + brdf.y;\n}\nvoid BRDF_Specular_Multiscattering_Environment( const in GeometricContext geometry, const in vec3 specularColor, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {\n\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\n\tvec3 F = F_Schlick_RoughnessDependent( specularColor, dotNV, roughness );\n\tvec2 brdf = integrateSpecularBRDF( dotNV, roughness );\n\tvec3 FssEss = F * brdf.x + brdf.y;\n\tfloat Ess = brdf.x + brdf.y;\n\tfloat Ems = 1.0 - Ess;\n\tvec3 Favg = specularColor + ( 1.0 - specularColor ) * 0.047619;\tvec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );\n\tsingleScatter += FssEss;\n\tmultiScatter += Fms * Ems;\n}\nfloat G_BlinnPhong_Implicit( ) {\n\treturn 0.25;\n}\nfloat D_BlinnPhong( const in float shininess, const in float dotNH ) {\n\treturn RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );\n}\nvec3 BRDF_Specular_BlinnPhong( const in IncidentLight incidentLight, const in GeometricContext geometry, const in vec3 specularColor, const in float shininess ) {\n\tvec3 halfDir = normalize( incidentLight.direction + geometry.viewDir );\n\tfloat dotNH = saturate( dot( geometry.normal, halfDir ) );\n\tfloat dotLH = saturate( dot( incidentLight.direction, halfDir ) );\n\tvec3 F = F_Schlick( specularColor, dotLH );\n\tfloat G = G_BlinnPhong_Implicit( );\n\tfloat D = D_BlinnPhong( shininess, dotNH );\n\treturn F * ( G * D );\n}\nfloat GGXRoughnessToBlinnExponent( const in float ggxRoughness ) {\n\treturn ( 2.0 / pow2( ggxRoughness + 0.0001 ) - 2.0 );\n}\nfloat BlinnExponentToGGXRoughness( const in float blinnExponent ) {\n\treturn sqrt( 2.0 / ( blinnExponent + 2.0 ) );\n}\n#if defined( USE_SHEEN )\nfloat D_Charlie(float roughness, float NoH) {\n\tfloat invAlpha = 1.0 / roughness;\n\tfloat cos2h = NoH * NoH;\n\tfloat sin2h = max(1.0 - cos2h, 0.0078125);\treturn (2.0 + invAlpha) * pow(sin2h, invAlpha * 0.5) / (2.0 * PI);\n}\nfloat V_Neubelt(float NoV, float NoL) {\n\treturn saturate(1.0 / (4.0 * (NoL + NoV - NoL * NoV)));\n}\nvec3 BRDF_Specular_Sheen( const in float roughness, const in vec3 L, const in GeometricContext geometry, vec3 specularColor ) {\n\tvec3 N = geometry.normal;\n\tvec3 V = geometry.viewDir;\n\tvec3 H = normalize( V + L );\n\tfloat dotNH = saturate( dot( N, H ) );\n\treturn specularColor * D_Charlie( roughness, dotNH ) * V_Neubelt( dot(N, V), dot(N, L) );\n}\n#endif",bumpmap_pars_fragment:"#ifdef USE_BUMPMAP\n\tuniform sampler2D bumpMap;\n\tuniform float bumpScale;\n\tvec2 dHdxy_fwd() {\n\t\tvec2 dSTdx = dFdx( vUv );\n\t\tvec2 dSTdy = dFdy( vUv );\n\t\tfloat Hll = bumpScale * texture2D( bumpMap, vUv ).x;\n\t\tfloat dBx = bumpScale * texture2D( bumpMap, vUv + dSTdx ).x - Hll;\n\t\tfloat dBy = bumpScale * texture2D( bumpMap, vUv + dSTdy ).x - Hll;\n\t\treturn vec2( dBx, dBy );\n\t}\n\tvec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy ) {\n\t\tvec3 vSigmaX = vec3( dFdx( surf_pos.x ), dFdx( surf_pos.y ), dFdx( surf_pos.z ) );\n\t\tvec3 vSigmaY = vec3( dFdy( surf_pos.x ), dFdy( surf_pos.y ), dFdy( surf_pos.z ) );\n\t\tvec3 vN = surf_norm;\n\t\tvec3 R1 = cross( vSigmaY, vN );\n\t\tvec3 R2 = cross( vN, vSigmaX );\n\t\tfloat fDet = dot( vSigmaX, R1 );\n\t\tfDet *= ( float( gl_FrontFacing ) * 2.0 - 1.0 );\n\t\tvec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );\n\t\treturn normalize( abs( fDet ) * surf_norm - vGrad );\n\t}\n#endif",clipping_planes_fragment:"#if NUM_CLIPPING_PLANES > 0\n\tvec4 plane;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {\n\t\tplane = clippingPlanes[ i ];\n\t\tif ( dot( vClipPosition, plane.xyz ) > plane.w ) discard;\n\t}\n\t#pragma unroll_loop_end\n\t#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES\n\t\tbool clipped = true;\n\t\t#pragma unroll_loop_start\n\t\tfor ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {\n\t\t\tplane = clippingPlanes[ i ];\n\t\t\tclipped = ( dot( vClipPosition, plane.xyz ) > plane.w ) && clipped;\n\t\t}\n\t\t#pragma unroll_loop_end\n\t\tif ( clipped ) discard;\n\t#endif\n#endif",clipping_planes_pars_fragment:"#if NUM_CLIPPING_PLANES > 0\n\tvarying vec3 vClipPosition;\n\tuniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];\n#endif",clipping_planes_pars_vertex:"#if NUM_CLIPPING_PLANES > 0\n\tvarying vec3 vClipPosition;\n#endif",clipping_planes_vertex:"#if NUM_CLIPPING_PLANES > 0\n\tvClipPosition = - mvPosition.xyz;\n#endif",color_fragment:"#ifdef USE_COLOR\n\tdiffuseColor.rgb *= vColor;\n#endif",color_pars_fragment:"#ifdef USE_COLOR\n\tvarying vec3 vColor;\n#endif",color_pars_vertex:"#if defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )\n\tvarying vec3 vColor;\n#endif",color_vertex:"#if defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )\n\tvColor = vec3( 1.0 );\n#endif\n#ifdef USE_COLOR\n\tvColor.xyz *= color.xyz;\n#endif\n#ifdef USE_INSTANCING_COLOR\n\tvColor.xyz *= instanceColor.xyz;\n#endif",common:"#define PI 3.141592653589793\n#define PI2 6.283185307179586\n#define PI_HALF 1.5707963267948966\n#define RECIPROCAL_PI 0.3183098861837907\n#define RECIPROCAL_PI2 0.15915494309189535\n#define EPSILON 1e-6\n#ifndef saturate\n#define saturate(a) clamp( a, 0.0, 1.0 )\n#endif\n#define whiteComplement(a) ( 1.0 - saturate( a ) )\nfloat pow2( const in float x ) { return x*x; }\nfloat pow3( const in float x ) { return x*x*x; }\nfloat pow4( const in float x ) { float x2 = x*x; return x2*x2; }\nfloat average( const in vec3 color ) { return dot( color, vec3( 0.3333 ) ); }\nhighp float rand( const in vec2 uv ) {\n\tconst highp float a = 12.9898, b = 78.233, c = 43758.5453;\n\thighp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );\n\treturn fract(sin(sn) * c);\n}\n#ifdef HIGH_PRECISION\n\tfloat precisionSafeLength( vec3 v ) { return length( v ); }\n#else\n\tfloat max3( vec3 v ) { return max( max( v.x, v.y ), v.z ); }\n\tfloat precisionSafeLength( vec3 v ) {\n\t\tfloat maxComponent = max3( abs( v ) );\n\t\treturn length( v / maxComponent ) * maxComponent;\n\t}\n#endif\nstruct IncidentLight {\n\tvec3 color;\n\tvec3 direction;\n\tbool visible;\n};\nstruct ReflectedLight {\n\tvec3 directDiffuse;\n\tvec3 directSpecular;\n\tvec3 indirectDiffuse;\n\tvec3 indirectSpecular;\n};\nstruct GeometricContext {\n\tvec3 position;\n\tvec3 normal;\n\tvec3 viewDir;\n#ifdef CLEARCOAT\n\tvec3 clearcoatNormal;\n#endif\n};\nvec3 transformDirection( in vec3 dir, in mat4 matrix ) {\n\treturn normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );\n}\nvec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {\n\treturn normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );\n}\nvec3 projectOnPlane(in vec3 point, in vec3 pointOnPlane, in vec3 planeNormal ) {\n\tfloat distance = dot( planeNormal, point - pointOnPlane );\n\treturn - distance * planeNormal + point;\n}\nfloat sideOfPlane( in vec3 point, in vec3 pointOnPlane, in vec3 planeNormal ) {\n\treturn sign( dot( point - pointOnPlane, planeNormal ) );\n}\nvec3 linePlaneIntersect( in vec3 pointOnLine, in vec3 lineDirection, in vec3 pointOnPlane, in vec3 planeNormal ) {\n\treturn lineDirection * ( dot( planeNormal, pointOnPlane - pointOnLine ) / dot( planeNormal, lineDirection ) ) + pointOnLine;\n}\nmat3 transposeMat3( const in mat3 m ) {\n\tmat3 tmp;\n\ttmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );\n\ttmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );\n\ttmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );\n\treturn tmp;\n}\nfloat linearToRelativeLuminance( const in vec3 color ) {\n\tvec3 weights = vec3( 0.2126, 0.7152, 0.0722 );\n\treturn dot( weights, color.rgb );\n}\nbool isPerspectiveMatrix( mat4 m ) {\n\treturn m[ 2 ][ 3 ] == - 1.0;\n}\nvec2 equirectUv( in vec3 dir ) {\n\tfloat u = atan( dir.z, dir.x ) * RECIPROCAL_PI2 + 0.5;\n\tfloat v = asin( clamp( dir.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;\n\treturn vec2( u, v );\n}",cube_uv_reflection_fragment:"#ifdef ENVMAP_TYPE_CUBE_UV\n\t#define cubeUV_maxMipLevel 8.0\n\t#define cubeUV_minMipLevel 4.0\n\t#define cubeUV_maxTileSize 256.0\n\t#define cubeUV_minTileSize 16.0\n\tfloat getFace( vec3 direction ) {\n\t\tvec3 absDirection = abs( direction );\n\t\tfloat face = - 1.0;\n\t\tif ( absDirection.x > absDirection.z ) {\n\t\t\tif ( absDirection.x > absDirection.y )\n\t\t\t\tface = direction.x > 0.0 ? 0.0 : 3.0;\n\t\t\telse\n\t\t\t\tface = direction.y > 0.0 ? 1.0 : 4.0;\n\t\t} else {\n\t\t\tif ( absDirection.z > absDirection.y )\n\t\t\t\tface = direction.z > 0.0 ? 2.0 : 5.0;\n\t\t\telse\n\t\t\t\tface = direction.y > 0.0 ? 1.0 : 4.0;\n\t\t}\n\t\treturn face;\n\t}\n\tvec2 getUV( vec3 direction, float face ) {\n\t\tvec2 uv;\n\t\tif ( face == 0.0 ) {\n\t\t\tuv = vec2( direction.z, direction.y ) / abs( direction.x );\n\t\t} else if ( face == 1.0 ) {\n\t\t\tuv = vec2( - direction.x, - direction.z ) / abs( direction.y );\n\t\t} else if ( face == 2.0 ) {\n\t\t\tuv = vec2( - direction.x, direction.y ) / abs( direction.z );\n\t\t} else if ( face == 3.0 ) {\n\t\t\tuv = vec2( - direction.z, direction.y ) / abs( direction.x );\n\t\t} else if ( face == 4.0 ) {\n\t\t\tuv = vec2( - direction.x, direction.z ) / abs( direction.y );\n\t\t} else {\n\t\t\tuv = vec2( direction.x, direction.y ) / abs( direction.z );\n\t\t}\n\t\treturn 0.5 * ( uv + 1.0 );\n\t}\n\tvec3 bilinearCubeUV( sampler2D envMap, vec3 direction, float mipInt ) {\n\t\tfloat face = getFace( direction );\n\t\tfloat filterInt = max( cubeUV_minMipLevel - mipInt, 0.0 );\n\t\tmipInt = max( mipInt, cubeUV_minMipLevel );\n\t\tfloat faceSize = exp2( mipInt );\n\t\tfloat texelSize = 1.0 / ( 3.0 * cubeUV_maxTileSize );\n\t\tvec2 uv = getUV( direction, face ) * ( faceSize - 1.0 );\n\t\tvec2 f = fract( uv );\n\t\tuv += 0.5 - f;\n\t\tif ( face > 2.0 ) {\n\t\t\tuv.y += faceSize;\n\t\t\tface -= 3.0;\n\t\t}\n\t\tuv.x += face * faceSize;\n\t\tif ( mipInt < cubeUV_maxMipLevel ) {\n\t\t\tuv.y += 2.0 * cubeUV_maxTileSize;\n\t\t}\n\t\tuv.y += filterInt * 2.0 * cubeUV_minTileSize;\n\t\tuv.x += 3.0 * max( 0.0, cubeUV_maxTileSize - 2.0 * faceSize );\n\t\tuv *= texelSize;\n\t\tvec3 tl = envMapTexelToLinear( texture2D( envMap, uv ) ).rgb;\n\t\tuv.x += texelSize;\n\t\tvec3 tr = envMapTexelToLinear( texture2D( envMap, uv ) ).rgb;\n\t\tuv.y += texelSize;\n\t\tvec3 br = envMapTexelToLinear( texture2D( envMap, uv ) ).rgb;\n\t\tuv.x -= texelSize;\n\t\tvec3 bl = envMapTexelToLinear( texture2D( envMap, uv ) ).rgb;\n\t\tvec3 tm = mix( tl, tr, f.x );\n\t\tvec3 bm = mix( bl, br, f.x );\n\t\treturn mix( tm, bm, f.y );\n\t}\n\t#define r0 1.0\n\t#define v0 0.339\n\t#define m0 - 2.0\n\t#define r1 0.8\n\t#define v1 0.276\n\t#define m1 - 1.0\n\t#define r4 0.4\n\t#define v4 0.046\n\t#define m4 2.0\n\t#define r5 0.305\n\t#define v5 0.016\n\t#define m5 3.0\n\t#define r6 0.21\n\t#define v6 0.0038\n\t#define m6 4.0\n\tfloat roughnessToMip( float roughness ) {\n\t\tfloat mip = 0.0;\n\t\tif ( roughness >= r1 ) {\n\t\t\tmip = ( r0 - roughness ) * ( m1 - m0 ) / ( r0 - r1 ) + m0;\n\t\t} else if ( roughness >= r4 ) {\n\t\t\tmip = ( r1 - roughness ) * ( m4 - m1 ) / ( r1 - r4 ) + m1;\n\t\t} else if ( roughness >= r5 ) {\n\t\t\tmip = ( r4 - roughness ) * ( m5 - m4 ) / ( r4 - r5 ) + m4;\n\t\t} else if ( roughness >= r6 ) {\n\t\t\tmip = ( r5 - roughness ) * ( m6 - m5 ) / ( r5 - r6 ) + m5;\n\t\t} else {\n\t\t\tmip = - 2.0 * log2( 1.16 * roughness );\t\t}\n\t\treturn mip;\n\t}\n\tvec4 textureCubeUV( sampler2D envMap, vec3 sampleDir, float roughness ) {\n\t\tfloat mip = clamp( roughnessToMip( roughness ), m0, cubeUV_maxMipLevel );\n\t\tfloat mipF = fract( mip );\n\t\tfloat mipInt = floor( mip );\n\t\tvec3 color0 = bilinearCubeUV( envMap, sampleDir, mipInt );\n\t\tif ( mipF == 0.0 ) {\n\t\t\treturn vec4( color0, 1.0 );\n\t\t} else {\n\t\t\tvec3 color1 = bilinearCubeUV( envMap, sampleDir, mipInt + 1.0 );\n\t\t\treturn vec4( mix( color0, color1, mipF ), 1.0 );\n\t\t}\n\t}\n#endif",defaultnormal_vertex:"vec3 transformedNormal = objectNormal;\n#ifdef USE_INSTANCING\n\tmat3 m = mat3( instanceMatrix );\n\ttransformedNormal /= vec3( dot( m[ 0 ], m[ 0 ] ), dot( m[ 1 ], m[ 1 ] ), dot( m[ 2 ], m[ 2 ] ) );\n\ttransformedNormal = m * transformedNormal;\n#endif\ntransformedNormal = normalMatrix * transformedNormal;\n#ifdef FLIP_SIDED\n\ttransformedNormal = - transformedNormal;\n#endif\n#ifdef USE_TANGENT\n\tvec3 transformedTangent = ( modelViewMatrix * vec4( objectTangent, 0.0 ) ).xyz;\n\t#ifdef FLIP_SIDED\n\t\ttransformedTangent = - transformedTangent;\n\t#endif\n#endif",displacementmap_pars_vertex:"#ifdef USE_DISPLACEMENTMAP\n\tuniform sampler2D displacementMap;\n\tuniform float displacementScale;\n\tuniform float displacementBias;\n#endif",displacementmap_vertex:"#ifdef USE_DISPLACEMENTMAP\n\ttransformed += normalize( objectNormal ) * ( texture2D( displacementMap, vUv ).x * displacementScale + displacementBias );\n#endif",emissivemap_fragment:"#ifdef USE_EMISSIVEMAP\n\tvec4 emissiveColor = texture2D( emissiveMap, vUv );\n\temissiveColor.rgb = emissiveMapTexelToLinear( emissiveColor ).rgb;\n\ttotalEmissiveRadiance *= emissiveColor.rgb;\n#endif",emissivemap_pars_fragment:"#ifdef USE_EMISSIVEMAP\n\tuniform sampler2D emissiveMap;\n#endif",encodings_fragment:"gl_FragColor = linearToOutputTexel( gl_FragColor );",encodings_pars_fragment:"\nvec4 LinearToLinear( in vec4 value ) {\n\treturn value;\n}\nvec4 GammaToLinear( in vec4 value, in float gammaFactor ) {\n\treturn vec4( pow( value.rgb, vec3( gammaFactor ) ), value.a );\n}\nvec4 LinearToGamma( in vec4 value, in float gammaFactor ) {\n\treturn vec4( pow( value.rgb, vec3( 1.0 / gammaFactor ) ), value.a );\n}\nvec4 sRGBToLinear( in vec4 value ) {\n\treturn vec4( mix( pow( value.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), value.rgb * 0.0773993808, vec3( lessThanEqual( value.rgb, vec3( 0.04045 ) ) ) ), value.a );\n}\nvec4 LinearTosRGB( in vec4 value ) {\n\treturn vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );\n}\nvec4 RGBEToLinear( in vec4 value ) {\n\treturn vec4( value.rgb * exp2( value.a * 255.0 - 128.0 ), 1.0 );\n}\nvec4 LinearToRGBE( in vec4 value ) {\n\tfloat maxComponent = max( max( value.r, value.g ), value.b );\n\tfloat fExp = clamp( ceil( log2( maxComponent ) ), -128.0, 127.0 );\n\treturn vec4( value.rgb / exp2( fExp ), ( fExp + 128.0 ) / 255.0 );\n}\nvec4 RGBMToLinear( in vec4 value, in float maxRange ) {\n\treturn vec4( value.rgb * value.a * maxRange, 1.0 );\n}\nvec4 LinearToRGBM( in vec4 value, in float maxRange ) {\n\tfloat maxRGB = max( value.r, max( value.g, value.b ) );\n\tfloat M = clamp( maxRGB / maxRange, 0.0, 1.0 );\n\tM = ceil( M * 255.0 ) / 255.0;\n\treturn vec4( value.rgb / ( M * maxRange ), M );\n}\nvec4 RGBDToLinear( in vec4 value, in float maxRange ) {\n\treturn vec4( value.rgb * ( ( maxRange / 255.0 ) / value.a ), 1.0 );\n}\nvec4 LinearToRGBD( in vec4 value, in float maxRange ) {\n\tfloat maxRGB = max( value.r, max( value.g, value.b ) );\n\tfloat D = max( maxRange / maxRGB, 1.0 );\n\tD = clamp( floor( D ) / 255.0, 0.0, 1.0 );\n\treturn vec4( value.rgb * ( D * ( 255.0 / maxRange ) ), D );\n}\nconst mat3 cLogLuvM = mat3( 0.2209, 0.3390, 0.4184, 0.1138, 0.6780, 0.7319, 0.0102, 0.1130, 0.2969 );\nvec4 LinearToLogLuv( in vec4 value ) {\n\tvec3 Xp_Y_XYZp = cLogLuvM * value.rgb;\n\tXp_Y_XYZp = max( Xp_Y_XYZp, vec3( 1e-6, 1e-6, 1e-6 ) );\n\tvec4 vResult;\n\tvResult.xy = Xp_Y_XYZp.xy / Xp_Y_XYZp.z;\n\tfloat Le = 2.0 * log2(Xp_Y_XYZp.y) + 127.0;\n\tvResult.w = fract( Le );\n\tvResult.z = ( Le - ( floor( vResult.w * 255.0 ) ) / 255.0 ) / 255.0;\n\treturn vResult;\n}\nconst mat3 cLogLuvInverseM = mat3( 6.0014, -2.7008, -1.7996, -1.3320, 3.1029, -5.7721, 0.3008, -1.0882, 5.6268 );\nvec4 LogLuvToLinear( in vec4 value ) {\n\tfloat Le = value.z * 255.0 + value.w;\n\tvec3 Xp_Y_XYZp;\n\tXp_Y_XYZp.y = exp2( ( Le - 127.0 ) / 2.0 );\n\tXp_Y_XYZp.z = Xp_Y_XYZp.y / value.y;\n\tXp_Y_XYZp.x = value.x * Xp_Y_XYZp.z;\n\tvec3 vRGB = cLogLuvInverseM * Xp_Y_XYZp.rgb;\n\treturn vec4( max( vRGB, 0.0 ), 1.0 );\n}",envmap_fragment:"#ifdef USE_ENVMAP\n\t#ifdef ENV_WORLDPOS\n\t\tvec3 cameraToFrag;\n\t\tif ( isOrthographic ) {\n\t\t\tcameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );\n\t\t} else {\n\t\t\tcameraToFrag = normalize( vWorldPosition - cameraPosition );\n\t\t}\n\t\tvec3 worldNormal = inverseTransformDirection( normal, viewMatrix );\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvec3 reflectVec = reflect( cameraToFrag, worldNormal );\n\t\t#else\n\t\t\tvec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );\n\t\t#endif\n\t#else\n\t\tvec3 reflectVec = vReflect;\n\t#endif\n\t#ifdef ENVMAP_TYPE_CUBE\n\t\tvec4 envColor = textureCube( envMap, vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );\n\t#elif defined( ENVMAP_TYPE_CUBE_UV )\n\t\tvec4 envColor = textureCubeUV( envMap, reflectVec, 0.0 );\n\t#else\n\t\tvec4 envColor = vec4( 0.0 );\n\t#endif\n\t#ifndef ENVMAP_TYPE_CUBE_UV\n\t\tenvColor = envMapTexelToLinear( envColor );\n\t#endif\n\t#ifdef ENVMAP_BLENDING_MULTIPLY\n\t\toutgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );\n\t#elif defined( ENVMAP_BLENDING_MIX )\n\t\toutgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );\n\t#elif defined( ENVMAP_BLENDING_ADD )\n\t\toutgoingLight += envColor.xyz * specularStrength * reflectivity;\n\t#endif\n#endif",envmap_common_pars_fragment:"#ifdef USE_ENVMAP\n\tuniform float envMapIntensity;\n\tuniform float flipEnvMap;\n\tuniform int maxMipLevel;\n\t#ifdef ENVMAP_TYPE_CUBE\n\t\tuniform samplerCube envMap;\n\t#else\n\t\tuniform sampler2D envMap;\n\t#endif\n\t\n#endif",envmap_pars_fragment:"#ifdef USE_ENVMAP\n\tuniform float reflectivity;\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG )\n\t\t#define ENV_WORLDPOS\n\t#endif\n\t#ifdef ENV_WORLDPOS\n\t\tvarying vec3 vWorldPosition;\n\t\tuniform float refractionRatio;\n\t#else\n\t\tvarying vec3 vReflect;\n\t#endif\n#endif",envmap_pars_vertex:"#ifdef USE_ENVMAP\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) ||defined( PHONG )\n\t\t#define ENV_WORLDPOS\n\t#endif\n\t#ifdef ENV_WORLDPOS\n\t\t\n\t\tvarying vec3 vWorldPosition;\n\t#else\n\t\tvarying vec3 vReflect;\n\t\tuniform float refractionRatio;\n\t#endif\n#endif",envmap_physical_pars_fragment:"#if defined( USE_ENVMAP )\n\t#ifdef ENVMAP_MODE_REFRACTION\n\t\tuniform float refractionRatio;\n\t#endif\n\tvec3 getLightProbeIndirectIrradiance( const in GeometricContext geometry, const in int maxMIPLevel ) {\n\t\tvec3 worldNormal = inverseTransformDirection( geometry.normal, viewMatrix );\n\t\t#ifdef ENVMAP_TYPE_CUBE\n\t\t\tvec3 queryVec = vec3( flipEnvMap * worldNormal.x, worldNormal.yz );\n\t\t\t#ifdef TEXTURE_LOD_EXT\n\t\t\t\tvec4 envMapColor = textureCubeLodEXT( envMap, queryVec, float( maxMIPLevel ) );\n\t\t\t#else\n\t\t\t\tvec4 envMapColor = textureCube( envMap, queryVec, float( maxMIPLevel ) );\n\t\t\t#endif\n\t\t\tenvMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;\n\t\t#elif defined( ENVMAP_TYPE_CUBE_UV )\n\t\t\tvec4 envMapColor = textureCubeUV( envMap, worldNormal, 1.0 );\n\t\t#else\n\t\t\tvec4 envMapColor = vec4( 0.0 );\n\t\t#endif\n\t\treturn PI * envMapColor.rgb * envMapIntensity;\n\t}\n\tfloat getSpecularMIPLevel( const in float roughness, const in int maxMIPLevel ) {\n\t\tfloat maxMIPLevelScalar = float( maxMIPLevel );\n\t\tfloat sigma = PI * roughness * roughness / ( 1.0 + roughness );\n\t\tfloat desiredMIPLevel = maxMIPLevelScalar + log2( sigma );\n\t\treturn clamp( desiredMIPLevel, 0.0, maxMIPLevelScalar );\n\t}\n\tvec3 getLightProbeIndirectRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness, const in int maxMIPLevel ) {\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvec3 reflectVec = reflect( -viewDir, normal );\n\t\t\treflectVec = normalize( mix( reflectVec, normal, roughness * roughness) );\n\t\t#else\n\t\t\tvec3 reflectVec = refract( -viewDir, normal, refractionRatio );\n\t\t#endif\n\t\treflectVec = inverseTransformDirection( reflectVec, viewMatrix );\n\t\tfloat specularMIPLevel = getSpecularMIPLevel( roughness, maxMIPLevel );\n\t\t#ifdef ENVMAP_TYPE_CUBE\n\t\t\tvec3 queryReflectVec = vec3( flipEnvMap * reflectVec.x, reflectVec.yz );\n\t\t\t#ifdef TEXTURE_LOD_EXT\n\t\t\t\tvec4 envMapColor = textureCubeLodEXT( envMap, queryReflectVec, specularMIPLevel );\n\t\t\t#else\n\t\t\t\tvec4 envMapColor = textureCube( envMap, queryReflectVec, specularMIPLevel );\n\t\t\t#endif\n\t\t\tenvMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;\n\t\t#elif defined( ENVMAP_TYPE_CUBE_UV )\n\t\t\tvec4 envMapColor = textureCubeUV( envMap, reflectVec, roughness );\n\t\t#endif\n\t\treturn envMapColor.rgb * envMapIntensity;\n\t}\n#endif",envmap_vertex:"#ifdef USE_ENVMAP\n\t#ifdef ENV_WORLDPOS\n\t\tvWorldPosition = worldPosition.xyz;\n\t#else\n\t\tvec3 cameraToVertex;\n\t\tif ( isOrthographic ) {\n\t\t\tcameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );\n\t\t} else {\n\t\t\tcameraToVertex = normalize( worldPosition.xyz - cameraPosition );\n\t\t}\n\t\tvec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvReflect = reflect( cameraToVertex, worldNormal );\n\t\t#else\n\t\t\tvReflect = refract( cameraToVertex, worldNormal, refractionRatio );\n\t\t#endif\n\t#endif\n#endif",fog_vertex:"#ifdef USE_FOG\n\tfogDepth = - mvPosition.z;\n#endif",fog_pars_vertex:"#ifdef USE_FOG\n\tvarying float fogDepth;\n#endif",fog_fragment:"#ifdef USE_FOG\n\t#ifdef FOG_EXP2\n\t\tfloat fogFactor = 1.0 - exp( - fogDensity * fogDensity * fogDepth * fogDepth );\n\t#else\n\t\tfloat fogFactor = smoothstep( fogNear, fogFar, fogDepth );\n\t#endif\n\tgl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );\n#endif",fog_pars_fragment:"#ifdef USE_FOG\n\tuniform vec3 fogColor;\n\tvarying float fogDepth;\n\t#ifdef FOG_EXP2\n\t\tuniform float fogDensity;\n\t#else\n\t\tuniform float fogNear;\n\t\tuniform float fogFar;\n\t#endif\n#endif",gradientmap_pars_fragment:"#ifdef USE_GRADIENTMAP\n\tuniform sampler2D gradientMap;\n#endif\nvec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {\n\tfloat dotNL = dot( normal, lightDirection );\n\tvec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );\n\t#ifdef USE_GRADIENTMAP\n\t\treturn texture2D( gradientMap, coord ).rgb;\n\t#else\n\t\treturn ( coord.x < 0.7 ) ? vec3( 0.7 ) : vec3( 1.0 );\n\t#endif\n}",lightmap_fragment:"#ifdef USE_LIGHTMAP\n\tvec4 lightMapTexel= texture2D( lightMap, vUv2 );\n\treflectedLight.indirectDiffuse += PI * lightMapTexelToLinear( lightMapTexel ).rgb * lightMapIntensity;\n#endif",lightmap_pars_fragment:"#ifdef USE_LIGHTMAP\n\tuniform sampler2D lightMap;\n\tuniform float lightMapIntensity;\n#endif",lights_lambert_vertex:"vec3 diffuse = vec3( 1.0 );\nGeometricContext geometry;\ngeometry.position = mvPosition.xyz;\ngeometry.normal = normalize( transformedNormal );\ngeometry.viewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( -mvPosition.xyz );\nGeometricContext backGeometry;\nbackGeometry.position = geometry.position;\nbackGeometry.normal = -geometry.normal;\nbackGeometry.viewDir = geometry.viewDir;\nvLightFront = vec3( 0.0 );\nvIndirectFront = vec3( 0.0 );\n#ifdef DOUBLE_SIDED\n\tvLightBack = vec3( 0.0 );\n\tvIndirectBack = vec3( 0.0 );\n#endif\nIncidentLight directLight;\nfloat dotNL;\nvec3 directLightColor_Diffuse;\nvIndirectFront += getAmbientLightIrradiance( ambientLightColor );\nvIndirectFront += getLightProbeIrradiance( lightProbe, geometry );\n#ifdef DOUBLE_SIDED\n\tvIndirectBack += getAmbientLightIrradiance( ambientLightColor );\n\tvIndirectBack += getLightProbeIrradiance( lightProbe, backGeometry );\n#endif\n#if NUM_POINT_LIGHTS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\n\t\tgetPointDirectLightIrradiance( pointLights[ i ], geometry, directLight );\n\t\tdotNL = dot( geometry.normal, directLight.direction );\n\t\tdirectLightColor_Diffuse = PI * directLight.color;\n\t\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvLightBack += saturate( -dotNL ) * directLightColor_Diffuse;\n\t\t#endif\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if NUM_SPOT_LIGHTS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\n\t\tgetSpotDirectLightIrradiance( spotLights[ i ], geometry, directLight );\n\t\tdotNL = dot( geometry.normal, directLight.direction );\n\t\tdirectLightColor_Diffuse = PI * directLight.color;\n\t\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvLightBack += saturate( -dotNL ) * directLightColor_Diffuse;\n\t\t#endif\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if NUM_DIR_LIGHTS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n\t\tgetDirectionalDirectLightIrradiance( directionalLights[ i ], geometry, directLight );\n\t\tdotNL = dot( geometry.normal, directLight.direction );\n\t\tdirectLightColor_Diffuse = PI * directLight.color;\n\t\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvLightBack += saturate( -dotNL ) * directLightColor_Diffuse;\n\t\t#endif\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if NUM_HEMI_LIGHTS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {\n\t\tvIndirectFront += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry );\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvIndirectBack += getHemisphereLightIrradiance( hemisphereLights[ i ], backGeometry );\n\t\t#endif\n\t}\n\t#pragma unroll_loop_end\n#endif",lights_pars_begin:"uniform bool receiveShadow;\nuniform vec3 ambientLightColor;\nuniform vec3 lightProbe[ 9 ];\nvec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {\n\tfloat x = normal.x, y = normal.y, z = normal.z;\n\tvec3 result = shCoefficients[ 0 ] * 0.886227;\n\tresult += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;\n\tresult += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;\n\tresult += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;\n\tresult += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;\n\tresult += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;\n\tresult += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );\n\tresult += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;\n\tresult += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );\n\treturn result;\n}\nvec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in GeometricContext geometry ) {\n\tvec3 worldNormal = inverseTransformDirection( geometry.normal, viewMatrix );\n\tvec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );\n\treturn irradiance;\n}\nvec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {\n\tvec3 irradiance = ambientLightColor;\n\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\tirradiance *= PI;\n\t#endif\n\treturn irradiance;\n}\n#if NUM_DIR_LIGHTS > 0\n\tstruct DirectionalLight {\n\t\tvec3 direction;\n\t\tvec3 color;\n\t};\n\tuniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];\n\tvoid getDirectionalDirectLightIrradiance( const in DirectionalLight directionalLight, const in GeometricContext geometry, out IncidentLight directLight ) {\n\t\tdirectLight.color = directionalLight.color;\n\t\tdirectLight.direction = directionalLight.direction;\n\t\tdirectLight.visible = true;\n\t}\n#endif\n#if NUM_POINT_LIGHTS > 0\n\tstruct PointLight {\n\t\tvec3 position;\n\t\tvec3 color;\n\t\tfloat distance;\n\t\tfloat decay;\n\t};\n\tuniform PointLight pointLights[ NUM_POINT_LIGHTS ];\n\tvoid getPointDirectLightIrradiance( const in PointLight pointLight, const in GeometricContext geometry, out IncidentLight directLight ) {\n\t\tvec3 lVector = pointLight.position - geometry.position;\n\t\tdirectLight.direction = normalize( lVector );\n\t\tfloat lightDistance = length( lVector );\n\t\tdirectLight.color = pointLight.color;\n\t\tdirectLight.color *= punctualLightIntensityToIrradianceFactor( lightDistance, pointLight.distance, pointLight.decay );\n\t\tdirectLight.visible = ( directLight.color != vec3( 0.0 ) );\n\t}\n#endif\n#if NUM_SPOT_LIGHTS > 0\n\tstruct SpotLight {\n\t\tvec3 position;\n\t\tvec3 direction;\n\t\tvec3 color;\n\t\tfloat distance;\n\t\tfloat decay;\n\t\tfloat coneCos;\n\t\tfloat penumbraCos;\n\t};\n\tuniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];\n\tvoid getSpotDirectLightIrradiance( const in SpotLight spotLight, const in GeometricContext geometry, out IncidentLight directLight ) {\n\t\tvec3 lVector = spotLight.position - geometry.position;\n\t\tdirectLight.direction = normalize( lVector );\n\t\tfloat lightDistance = length( lVector );\n\t\tfloat angleCos = dot( directLight.direction, spotLight.direction );\n\t\tif ( angleCos > spotLight.coneCos ) {\n\t\t\tfloat spotEffect = smoothstep( spotLight.coneCos, spotLight.penumbraCos, angleCos );\n\t\t\tdirectLight.color = spotLight.color;\n\t\t\tdirectLight.color *= spotEffect * punctualLightIntensityToIrradianceFactor( lightDistance, spotLight.distance, spotLight.decay );\n\t\t\tdirectLight.visible = true;\n\t\t} else {\n\t\t\tdirectLight.color = vec3( 0.0 );\n\t\t\tdirectLight.visible = false;\n\t\t}\n\t}\n#endif\n#if NUM_RECT_AREA_LIGHTS > 0\n\tstruct RectAreaLight {\n\t\tvec3 color;\n\t\tvec3 position;\n\t\tvec3 halfWidth;\n\t\tvec3 halfHeight;\n\t};\n\tuniform sampler2D ltc_1;\tuniform sampler2D ltc_2;\n\tuniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];\n#endif\n#if NUM_HEMI_LIGHTS > 0\n\tstruct HemisphereLight {\n\t\tvec3 direction;\n\t\tvec3 skyColor;\n\t\tvec3 groundColor;\n\t};\n\tuniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];\n\tvec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in GeometricContext geometry ) {\n\t\tfloat dotNL = dot( geometry.normal, hemiLight.direction );\n\t\tfloat hemiDiffuseWeight = 0.5 * dotNL + 0.5;\n\t\tvec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );\n\t\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\t\tirradiance *= PI;\n\t\t#endif\n\t\treturn irradiance;\n\t}\n#endif",lights_toon_fragment:"ToonMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb;",lights_toon_pars_fragment:"varying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\nstruct ToonMaterial {\n\tvec3 diffuseColor;\n};\nvoid RE_Direct_Toon( const in IncidentLight directLight, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {\n\tvec3 irradiance = getGradientIrradiance( geometry.normal, directLight.direction ) * directLight.color;\n\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\tirradiance *= PI;\n\t#endif\n\treflectedLight.directDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n}\n#define RE_Direct\t\t\t\tRE_Direct_Toon\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_Toon\n#define Material_LightProbeLOD( material )\t(0)",lights_phong_fragment:"BlinnPhongMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb;\nmaterial.specularColor = specular;\nmaterial.specularShininess = shininess;\nmaterial.specularStrength = specularStrength;",lights_phong_pars_fragment:"varying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\nstruct BlinnPhongMaterial {\n\tvec3 diffuseColor;\n\tvec3 specularColor;\n\tfloat specularShininess;\n\tfloat specularStrength;\n};\nvoid RE_Direct_BlinnPhong( const in IncidentLight directLight, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\n\tfloat dotNL = saturate( dot( geometry.normal, directLight.direction ) );\n\tvec3 irradiance = dotNL * directLight.color;\n\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\tirradiance *= PI;\n\t#endif\n\treflectedLight.directDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n\treflectedLight.directSpecular += irradiance * BRDF_Specular_BlinnPhong( directLight, geometry, material.specularColor, material.specularShininess ) * material.specularStrength;\n}\nvoid RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n}\n#define RE_Direct\t\t\t\tRE_Direct_BlinnPhong\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_BlinnPhong\n#define Material_LightProbeLOD( material )\t(0)",lights_physical_fragment:"PhysicalMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );\nvec3 dxy = max( abs( dFdx( geometryNormal ) ), abs( dFdy( geometryNormal ) ) );\nfloat geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );\nmaterial.specularRoughness = max( roughnessFactor, 0.0525 );material.specularRoughness += geometryRoughness;\nmaterial.specularRoughness = min( material.specularRoughness, 1.0 );\n#ifdef REFLECTIVITY\n\tmaterial.specularColor = mix( vec3( MAXIMUM_SPECULAR_COEFFICIENT * pow2( reflectivity ) ), diffuseColor.rgb, metalnessFactor );\n#else\n\tmaterial.specularColor = mix( vec3( DEFAULT_SPECULAR_COEFFICIENT ), diffuseColor.rgb, metalnessFactor );\n#endif\n#ifdef CLEARCOAT\n\tmaterial.clearcoat = clearcoat;\n\tmaterial.clearcoatRoughness = clearcoatRoughness;\n\t#ifdef USE_CLEARCOATMAP\n\t\tmaterial.clearcoat *= texture2D( clearcoatMap, vUv ).x;\n\t#endif\n\t#ifdef USE_CLEARCOAT_ROUGHNESSMAP\n\t\tmaterial.clearcoatRoughness *= texture2D( clearcoatRoughnessMap, vUv ).y;\n\t#endif\n\tmaterial.clearcoat = saturate( material.clearcoat );\tmaterial.clearcoatRoughness = max( material.clearcoatRoughness, 0.0525 );\n\tmaterial.clearcoatRoughness += geometryRoughness;\n\tmaterial.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );\n#endif\n#ifdef USE_SHEEN\n\tmaterial.sheenColor = sheen;\n#endif",lights_physical_pars_fragment:"struct PhysicalMaterial {\n\tvec3 diffuseColor;\n\tfloat specularRoughness;\n\tvec3 specularColor;\n#ifdef CLEARCOAT\n\tfloat clearcoat;\n\tfloat clearcoatRoughness;\n#endif\n#ifdef USE_SHEEN\n\tvec3 sheenColor;\n#endif\n};\n#define MAXIMUM_SPECULAR_COEFFICIENT 0.16\n#define DEFAULT_SPECULAR_COEFFICIENT 0.04\nfloat clearcoatDHRApprox( const in float roughness, const in float dotNL ) {\n\treturn DEFAULT_SPECULAR_COEFFICIENT + ( 1.0 - DEFAULT_SPECULAR_COEFFICIENT ) * ( pow( 1.0 - dotNL, 5.0 ) * pow( 1.0 - roughness, 2.0 ) );\n}\n#if NUM_RECT_AREA_LIGHTS > 0\n\tvoid RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\t\tvec3 normal = geometry.normal;\n\t\tvec3 viewDir = geometry.viewDir;\n\t\tvec3 position = geometry.position;\n\t\tvec3 lightPos = rectAreaLight.position;\n\t\tvec3 halfWidth = rectAreaLight.halfWidth;\n\t\tvec3 halfHeight = rectAreaLight.halfHeight;\n\t\tvec3 lightColor = rectAreaLight.color;\n\t\tfloat roughness = material.specularRoughness;\n\t\tvec3 rectCoords[ 4 ];\n\t\trectCoords[ 0 ] = lightPos + halfWidth - halfHeight;\t\trectCoords[ 1 ] = lightPos - halfWidth - halfHeight;\n\t\trectCoords[ 2 ] = lightPos - halfWidth + halfHeight;\n\t\trectCoords[ 3 ] = lightPos + halfWidth + halfHeight;\n\t\tvec2 uv = LTC_Uv( normal, viewDir, roughness );\n\t\tvec4 t1 = texture2D( ltc_1, uv );\n\t\tvec4 t2 = texture2D( ltc_2, uv );\n\t\tmat3 mInv = mat3(\n\t\t\tvec3( t1.x, 0, t1.y ),\n\t\t\tvec3(    0, 1,    0 ),\n\t\t\tvec3( t1.z, 0, t1.w )\n\t\t);\n\t\tvec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );\n\t\treflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );\n\t\treflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );\n\t}\n#endif\nvoid RE_Direct_Physical( const in IncidentLight directLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\tfloat dotNL = saturate( dot( geometry.normal, directLight.direction ) );\n\tvec3 irradiance = dotNL * directLight.color;\n\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\tirradiance *= PI;\n\t#endif\n\t#ifdef CLEARCOAT\n\t\tfloat ccDotNL = saturate( dot( geometry.clearcoatNormal, directLight.direction ) );\n\t\tvec3 ccIrradiance = ccDotNL * directLight.color;\n\t\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\t\tccIrradiance *= PI;\n\t\t#endif\n\t\tfloat clearcoatDHR = material.clearcoat * clearcoatDHRApprox( material.clearcoatRoughness, ccDotNL );\n\t\treflectedLight.directSpecular += ccIrradiance * material.clearcoat * BRDF_Specular_GGX( directLight, geometry.viewDir, geometry.clearcoatNormal, vec3( DEFAULT_SPECULAR_COEFFICIENT ), material.clearcoatRoughness );\n\t#else\n\t\tfloat clearcoatDHR = 0.0;\n\t#endif\n\t#ifdef USE_SHEEN\n\t\treflectedLight.directSpecular += ( 1.0 - clearcoatDHR ) * irradiance * BRDF_Specular_Sheen(\n\t\t\tmaterial.specularRoughness,\n\t\t\tdirectLight.direction,\n\t\t\tgeometry,\n\t\t\tmaterial.sheenColor\n\t\t);\n\t#else\n\t\treflectedLight.directSpecular += ( 1.0 - clearcoatDHR ) * irradiance * BRDF_Specular_GGX( directLight, geometry.viewDir, geometry.normal, material.specularColor, material.specularRoughness);\n\t#endif\n\treflectedLight.directDiffuse += ( 1.0 - clearcoatDHR ) * irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {\n\t#ifdef CLEARCOAT\n\t\tfloat ccDotNV = saturate( dot( geometry.clearcoatNormal, geometry.viewDir ) );\n\t\treflectedLight.indirectSpecular += clearcoatRadiance * material.clearcoat * BRDF_Specular_GGX_Environment( geometry.viewDir, geometry.clearcoatNormal, vec3( DEFAULT_SPECULAR_COEFFICIENT ), material.clearcoatRoughness );\n\t\tfloat ccDotNL = ccDotNV;\n\t\tfloat clearcoatDHR = material.clearcoat * clearcoatDHRApprox( material.clearcoatRoughness, ccDotNL );\n\t#else\n\t\tfloat clearcoatDHR = 0.0;\n\t#endif\n\tfloat clearcoatInv = 1.0 - clearcoatDHR;\n\tvec3 singleScattering = vec3( 0.0 );\n\tvec3 multiScattering = vec3( 0.0 );\n\tvec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;\n\tBRDF_Specular_Multiscattering_Environment( geometry, material.specularColor, material.specularRoughness, singleScattering, multiScattering );\n\tvec3 diffuse = material.diffuseColor * ( 1.0 - ( singleScattering + multiScattering ) );\n\treflectedLight.indirectSpecular += clearcoatInv * radiance * singleScattering;\n\treflectedLight.indirectSpecular += multiScattering * cosineWeightedIrradiance;\n\treflectedLight.indirectDiffuse += diffuse * cosineWeightedIrradiance;\n}\n#define RE_Direct\t\t\t\tRE_Direct_Physical\n#define RE_Direct_RectArea\t\tRE_Direct_RectArea_Physical\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_Physical\n#define RE_IndirectSpecular\t\tRE_IndirectSpecular_Physical\nfloat computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {\n\treturn saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );\n}",lights_fragment_begin:"\nGeometricContext geometry;\ngeometry.position = - vViewPosition;\ngeometry.normal = normal;\ngeometry.viewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );\n#ifdef CLEARCOAT\n\tgeometry.clearcoatNormal = clearcoatNormal;\n#endif\nIncidentLight directLight;\n#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )\n\tPointLight pointLight;\n\t#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0\n\tPointLightShadow pointLightShadow;\n\t#endif\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\n\t\tpointLight = pointLights[ i ];\n\t\tgetPointDirectLightIrradiance( pointLight, geometry, directLight );\n\t\t#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS )\n\t\tpointLightShadow = pointLightShadows[ i ];\n\t\tdirectLight.color *= all( bvec2( directLight.visible, receiveShadow ) ) ? getPointShadow( pointShadowMap[ i ], pointLightShadow.shadowMapSize, pointLightShadow.shadowBias, pointLightShadow.shadowRadius, vPointShadowCoord[ i ], pointLightShadow.shadowCameraNear, pointLightShadow.shadowCameraFar ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )\n\tSpotLight spotLight;\n\t#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0\n\tSpotLightShadow spotLightShadow;\n\t#endif\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\n\t\tspotLight = spotLights[ i ];\n\t\tgetSpotDirectLightIrradiance( spotLight, geometry, directLight );\n\t\t#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )\n\t\tspotLightShadow = spotLightShadows[ i ];\n\t\tdirectLight.color *= all( bvec2( directLight.visible, receiveShadow ) ) ? getShadow( spotShadowMap[ i ], spotLightShadow.shadowMapSize, spotLightShadow.shadowBias, spotLightShadow.shadowRadius, vSpotShadowCoord[ i ] ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )\n\tDirectionalLight directionalLight;\n\t#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0\n\tDirectionalLightShadow directionalLightShadow;\n\t#endif\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n\t\tdirectionalLight = directionalLights[ i ];\n\t\tgetDirectionalDirectLightIrradiance( directionalLight, geometry, directLight );\n\t\t#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )\n\t\tdirectionalLightShadow = directionalLightShadows[ i ];\n\t\tdirectLight.color *= all( bvec2( directLight.visible, receiveShadow ) ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )\n\tRectAreaLight rectAreaLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {\n\t\trectAreaLight = rectAreaLights[ i ];\n\t\tRE_Direct_RectArea( rectAreaLight, geometry, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if defined( RE_IndirectDiffuse )\n\tvec3 iblIrradiance = vec3( 0.0 );\n\tvec3 irradiance = getAmbientLightIrradiance( ambientLightColor );\n\tirradiance += getLightProbeIrradiance( lightProbe, geometry );\n\t#if ( NUM_HEMI_LIGHTS > 0 )\n\t\t#pragma unroll_loop_start\n\t\tfor ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {\n\t\t\tirradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry );\n\t\t}\n\t\t#pragma unroll_loop_end\n\t#endif\n#endif\n#if defined( RE_IndirectSpecular )\n\tvec3 radiance = vec3( 0.0 );\n\tvec3 clearcoatRadiance = vec3( 0.0 );\n#endif",lights_fragment_maps:"#if defined( RE_IndirectDiffuse )\n\t#ifdef USE_LIGHTMAP\n\t\tvec4 lightMapTexel= texture2D( lightMap, vUv2 );\n\t\tvec3 lightMapIrradiance = lightMapTexelToLinear( lightMapTexel ).rgb * lightMapIntensity;\n\t\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\t\tlightMapIrradiance *= PI;\n\t\t#endif\n\t\tirradiance += lightMapIrradiance;\n\t#endif\n\t#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )\n\t\tiblIrradiance += getLightProbeIndirectIrradiance( geometry, maxMipLevel );\n\t#endif\n#endif\n#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )\n\tradiance += getLightProbeIndirectRadiance( geometry.viewDir, geometry.normal, material.specularRoughness, maxMipLevel );\n\t#ifdef CLEARCOAT\n\t\tclearcoatRadiance += getLightProbeIndirectRadiance( geometry.viewDir, geometry.clearcoatNormal, material.clearcoatRoughness, maxMipLevel );\n\t#endif\n#endif",lights_fragment_end:"#if defined( RE_IndirectDiffuse )\n\tRE_IndirectDiffuse( irradiance, geometry, material, reflectedLight );\n#endif\n#if defined( RE_IndirectSpecular )\n\tRE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometry, material, reflectedLight );\n#endif",logdepthbuf_fragment:"#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )\n\tgl_FragDepthEXT = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;\n#endif",logdepthbuf_pars_fragment:"#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )\n\tuniform float logDepthBufFC;\n\tvarying float vFragDepth;\n\tvarying float vIsPerspective;\n#endif",logdepthbuf_pars_vertex:"#ifdef USE_LOGDEPTHBUF\n\t#ifdef USE_LOGDEPTHBUF_EXT\n\t\tvarying float vFragDepth;\n\t\tvarying float vIsPerspective;\n\t#else\n\t\tuniform float logDepthBufFC;\n\t#endif\n#endif",logdepthbuf_vertex:"#ifdef USE_LOGDEPTHBUF\n\t#ifdef USE_LOGDEPTHBUF_EXT\n\t\tvFragDepth = 1.0 + gl_Position.w;\n\t\tvIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );\n\t#else\n\t\tif ( isPerspectiveMatrix( projectionMatrix ) ) {\n\t\t\tgl_Position.z = log2( max( EPSILON, gl_Position.w + 1.0 ) ) * logDepthBufFC - 1.0;\n\t\t\tgl_Position.z *= gl_Position.w;\n\t\t}\n\t#endif\n#endif",map_fragment:"#ifdef USE_MAP\n\tvec4 texelColor = texture2D( map, vUv );\n\ttexelColor = mapTexelToLinear( texelColor );\n\tdiffuseColor *= texelColor;\n#endif",map_pars_fragment:"#ifdef USE_MAP\n\tuniform sampler2D map;\n#endif",map_particle_fragment:"#if defined( USE_MAP ) || defined( USE_ALPHAMAP )\n\tvec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;\n#endif\n#ifdef USE_MAP\n\tvec4 mapTexel = texture2D( map, uv );\n\tdiffuseColor *= mapTexelToLinear( mapTexel );\n#endif\n#ifdef USE_ALPHAMAP\n\tdiffuseColor.a *= texture2D( alphaMap, uv ).g;\n#endif",map_particle_pars_fragment:"#if defined( USE_MAP ) || defined( USE_ALPHAMAP )\n\tuniform mat3 uvTransform;\n#endif\n#ifdef USE_MAP\n\tuniform sampler2D map;\n#endif\n#ifdef USE_ALPHAMAP\n\tuniform sampler2D alphaMap;\n#endif",metalnessmap_fragment:"float metalnessFactor = metalness;\n#ifdef USE_METALNESSMAP\n\tvec4 texelMetalness = texture2D( metalnessMap, vUv );\n\tmetalnessFactor *= texelMetalness.b;\n#endif",metalnessmap_pars_fragment:"#ifdef USE_METALNESSMAP\n\tuniform sampler2D metalnessMap;\n#endif",morphnormal_vertex:"#ifdef USE_MORPHNORMALS\n\tobjectNormal *= morphTargetBaseInfluence;\n\tobjectNormal += morphNormal0 * morphTargetInfluences[ 0 ];\n\tobjectNormal += morphNormal1 * morphTargetInfluences[ 1 ];\n\tobjectNormal += morphNormal2 * morphTargetInfluences[ 2 ];\n\tobjectNormal += morphNormal3 * morphTargetInfluences[ 3 ];\n#endif",morphtarget_pars_vertex:"#ifdef USE_MORPHTARGETS\n\tuniform float morphTargetBaseInfluence;\n\t#ifndef USE_MORPHNORMALS\n\t\tuniform float morphTargetInfluences[ 8 ];\n\t#else\n\t\tuniform float morphTargetInfluences[ 4 ];\n\t#endif\n#endif",morphtarget_vertex:"#ifdef USE_MORPHTARGETS\n\ttransformed *= morphTargetBaseInfluence;\n\ttransformed += morphTarget0 * morphTargetInfluences[ 0 ];\n\ttransformed += morphTarget1 * morphTargetInfluences[ 1 ];\n\ttransformed += morphTarget2 * morphTargetInfluences[ 2 ];\n\ttransformed += morphTarget3 * morphTargetInfluences[ 3 ];\n\t#ifndef USE_MORPHNORMALS\n\t\ttransformed += morphTarget4 * morphTargetInfluences[ 4 ];\n\t\ttransformed += morphTarget5 * morphTargetInfluences[ 5 ];\n\t\ttransformed += morphTarget6 * morphTargetInfluences[ 6 ];\n\t\ttransformed += morphTarget7 * morphTargetInfluences[ 7 ];\n\t#endif\n#endif",normal_fragment_begin:"#ifdef FLAT_SHADED\n\tvec3 fdx = vec3( dFdx( vViewPosition.x ), dFdx( vViewPosition.y ), dFdx( vViewPosition.z ) );\n\tvec3 fdy = vec3( dFdy( vViewPosition.x ), dFdy( vViewPosition.y ), dFdy( vViewPosition.z ) );\n\tvec3 normal = normalize( cross( fdx, fdy ) );\n#else\n\tvec3 normal = normalize( vNormal );\n\t#ifdef DOUBLE_SIDED\n\t\tnormal = normal * ( float( gl_FrontFacing ) * 2.0 - 1.0 );\n\t#endif\n\t#ifdef USE_TANGENT\n\t\tvec3 tangent = normalize( vTangent );\n\t\tvec3 bitangent = normalize( vBitangent );\n\t\t#ifdef DOUBLE_SIDED\n\t\t\ttangent = tangent * ( float( gl_FrontFacing ) * 2.0 - 1.0 );\n\t\t\tbitangent = bitangent * ( float( gl_FrontFacing ) * 2.0 - 1.0 );\n\t\t#endif\n\t\t#if defined( TANGENTSPACE_NORMALMAP ) || defined( USE_CLEARCOAT_NORMALMAP )\n\t\t\tmat3 vTBN = mat3( tangent, bitangent, normal );\n\t\t#endif\n\t#endif\n#endif\nvec3 geometryNormal = normal;",normal_fragment_maps:"#ifdef OBJECTSPACE_NORMALMAP\n\tnormal = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;\n\t#ifdef FLIP_SIDED\n\t\tnormal = - normal;\n\t#endif\n\t#ifdef DOUBLE_SIDED\n\t\tnormal = normal * ( float( gl_FrontFacing ) * 2.0 - 1.0 );\n\t#endif\n\tnormal = normalize( normalMatrix * normal );\n#elif defined( TANGENTSPACE_NORMALMAP )\n\tvec3 mapN = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;\n\tmapN.xy *= normalScale;\n\t#ifdef USE_TANGENT\n\t\tnormal = normalize( vTBN * mapN );\n\t#else\n\t\tnormal = perturbNormal2Arb( -vViewPosition, normal, mapN );\n\t#endif\n#elif defined( USE_BUMPMAP )\n\tnormal = perturbNormalArb( -vViewPosition, normal, dHdxy_fwd() );\n#endif",normalmap_pars_fragment:"#ifdef USE_NORMALMAP\n\tuniform sampler2D normalMap;\n\tuniform vec2 normalScale;\n#endif\n#ifdef OBJECTSPACE_NORMALMAP\n\tuniform mat3 normalMatrix;\n#endif\n#if ! defined ( USE_TANGENT ) && ( defined ( TANGENTSPACE_NORMALMAP ) || defined ( USE_CLEARCOAT_NORMALMAP ) )\n\tvec3 perturbNormal2Arb( vec3 eye_pos, vec3 surf_norm, vec3 mapN ) {\n\t\tvec3 q0 = vec3( dFdx( eye_pos.x ), dFdx( eye_pos.y ), dFdx( eye_pos.z ) );\n\t\tvec3 q1 = vec3( dFdy( eye_pos.x ), dFdy( eye_pos.y ), dFdy( eye_pos.z ) );\n\t\tvec2 st0 = dFdx( vUv.st );\n\t\tvec2 st1 = dFdy( vUv.st );\n\t\tfloat scale = sign( st1.t * st0.s - st0.t * st1.s );\n\t\tvec3 S = normalize( ( q0 * st1.t - q1 * st0.t ) * scale );\n\t\tvec3 T = normalize( ( - q0 * st1.s + q1 * st0.s ) * scale );\n\t\tvec3 N = normalize( surf_norm );\n\t\tmat3 tsn = mat3( S, T, N );\n\t\tmapN.xy *= ( float( gl_FrontFacing ) * 2.0 - 1.0 );\n\t\treturn normalize( tsn * mapN );\n\t}\n#endif",clearcoat_normal_fragment_begin:"#ifdef CLEARCOAT\n\tvec3 clearcoatNormal = geometryNormal;\n#endif",clearcoat_normal_fragment_maps:"#ifdef USE_CLEARCOAT_NORMALMAP\n\tvec3 clearcoatMapN = texture2D( clearcoatNormalMap, vUv ).xyz * 2.0 - 1.0;\n\tclearcoatMapN.xy *= clearcoatNormalScale;\n\t#ifdef USE_TANGENT\n\t\tclearcoatNormal = normalize( vTBN * clearcoatMapN );\n\t#else\n\t\tclearcoatNormal = perturbNormal2Arb( - vViewPosition, clearcoatNormal, clearcoatMapN );\n\t#endif\n#endif",clearcoat_pars_fragment:"#ifdef USE_CLEARCOATMAP\n\tuniform sampler2D clearcoatMap;\n#endif\n#ifdef USE_CLEARCOAT_ROUGHNESSMAP\n\tuniform sampler2D clearcoatRoughnessMap;\n#endif\n#ifdef USE_CLEARCOAT_NORMALMAP\n\tuniform sampler2D clearcoatNormalMap;\n\tuniform vec2 clearcoatNormalScale;\n#endif",packing:"vec3 packNormalToRGB( const in vec3 normal ) {\n\treturn normalize( normal ) * 0.5 + 0.5;\n}\nvec3 unpackRGBToNormal( const in vec3 rgb ) {\n\treturn 2.0 * rgb.xyz - 1.0;\n}\nconst float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;\nconst vec3 PackFactors = vec3( 256. * 256. * 256., 256. * 256., 256. );\nconst vec4 UnpackFactors = UnpackDownscale / vec4( PackFactors, 1. );\nconst float ShiftRight8 = 1. / 256.;\nvec4 packDepthToRGBA( const in float v ) {\n\tvec4 r = vec4( fract( v * PackFactors ), v );\n\tr.yzw -= r.xyz * ShiftRight8;\treturn r * PackUpscale;\n}\nfloat unpackRGBAToDepth( const in vec4 v ) {\n\treturn dot( v, UnpackFactors );\n}\nvec4 pack2HalfToRGBA( vec2 v ) {\n\tvec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ));\n\treturn vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w);\n}\nvec2 unpackRGBATo2Half( vec4 v ) {\n\treturn vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );\n}\nfloat viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {\n\treturn ( viewZ + near ) / ( near - far );\n}\nfloat orthographicDepthToViewZ( const in float linearClipZ, const in float near, const in float far ) {\n\treturn linearClipZ * ( near - far ) - near;\n}\nfloat viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {\n\treturn (( near + viewZ ) * far ) / (( far - near ) * viewZ );\n}\nfloat perspectiveDepthToViewZ( const in float invClipZ, const in float near, const in float far ) {\n\treturn ( near * far ) / ( ( far - near ) * invClipZ - far );\n}",premultiplied_alpha_fragment:"#ifdef PREMULTIPLIED_ALPHA\n\tgl_FragColor.rgb *= gl_FragColor.a;\n#endif",project_vertex:"vec4 mvPosition = vec4( transformed, 1.0 );\n#ifdef USE_INSTANCING\n\tmvPosition = instanceMatrix * mvPosition;\n#endif\nmvPosition = modelViewMatrix * mvPosition;\ngl_Position = projectionMatrix * mvPosition;",dithering_fragment:"#ifdef DITHERING\n\tgl_FragColor.rgb = dithering( gl_FragColor.rgb );\n#endif",dithering_pars_fragment:"#ifdef DITHERING\n\tvec3 dithering( vec3 color ) {\n\t\tfloat grid_position = rand( gl_FragCoord.xy );\n\t\tvec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );\n\t\tdither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );\n\t\treturn color + dither_shift_RGB;\n\t}\n#endif",roughnessmap_fragment:"float roughnessFactor = roughness;\n#ifdef USE_ROUGHNESSMAP\n\tvec4 texelRoughness = texture2D( roughnessMap, vUv );\n\troughnessFactor *= texelRoughness.g;\n#endif",roughnessmap_pars_fragment:"#ifdef USE_ROUGHNESSMAP\n\tuniform sampler2D roughnessMap;\n#endif",shadowmap_pars_fragment:"#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\t\tuniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tvarying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tstruct DirectionalLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_SPOT_LIGHT_SHADOWS > 0\n\t\tuniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];\n\t\tvarying vec4 vSpotShadowCoord[ NUM_SPOT_LIGHT_SHADOWS ];\n\t\tstruct SpotLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\t\tuniform sampler2D pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tvarying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tstruct PointLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t\tfloat shadowCameraNear;\n\t\t\tfloat shadowCameraFar;\n\t\t};\n\t\tuniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];\n\t#endif\n\tfloat texture2DCompare( sampler2D depths, vec2 uv, float compare ) {\n\t\treturn step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );\n\t}\n\tvec2 texture2DDistribution( sampler2D shadow, vec2 uv ) {\n\t\treturn unpackRGBATo2Half( texture2D( shadow, uv ) );\n\t}\n\tfloat VSMShadow (sampler2D shadow, vec2 uv, float compare ){\n\t\tfloat occlusion = 1.0;\n\t\tvec2 distribution = texture2DDistribution( shadow, uv );\n\t\tfloat hard_shadow = step( compare , distribution.x );\n\t\tif (hard_shadow != 1.0 ) {\n\t\t\tfloat distance = compare - distribution.x ;\n\t\t\tfloat variance = max( 0.00000, distribution.y * distribution.y );\n\t\t\tfloat softness_probability = variance / (variance + distance * distance );\t\t\tsoftness_probability = clamp( ( softness_probability - 0.3 ) / ( 0.95 - 0.3 ), 0.0, 1.0 );\t\t\tocclusion = clamp( max( hard_shadow, softness_probability ), 0.0, 1.0 );\n\t\t}\n\t\treturn occlusion;\n\t}\n\tfloat getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord ) {\n\t\tfloat shadow = 1.0;\n\t\tshadowCoord.xyz /= shadowCoord.w;\n\t\tshadowCoord.z += shadowBias;\n\t\tbvec4 inFrustumVec = bvec4 ( shadowCoord.x >= 0.0, shadowCoord.x <= 1.0, shadowCoord.y >= 0.0, shadowCoord.y <= 1.0 );\n\t\tbool inFrustum = all( inFrustumVec );\n\t\tbvec2 frustumTestVec = bvec2( inFrustum, shadowCoord.z <= 1.0 );\n\t\tbool frustumTest = all( frustumTestVec );\n\t\tif ( frustumTest ) {\n\t\t#if defined( SHADOWMAP_TYPE_PCF )\n\t\t\tvec2 texelSize = vec2( 1.0 ) / shadowMapSize;\n\t\t\tfloat dx0 = - texelSize.x * shadowRadius;\n\t\t\tfloat dy0 = - texelSize.y * shadowRadius;\n\t\t\tfloat dx1 = + texelSize.x * shadowRadius;\n\t\t\tfloat dy1 = + texelSize.y * shadowRadius;\n\t\t\tfloat dx2 = dx0 / 2.0;\n\t\t\tfloat dy2 = dy0 / 2.0;\n\t\t\tfloat dx3 = dx1 / 2.0;\n\t\t\tfloat dy3 = dy1 / 2.0;\n\t\t\tshadow = (\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy2 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy2 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy2 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy3 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy3 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy3 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )\n\t\t\t) * ( 1.0 / 17.0 );\n\t\t#elif defined( SHADOWMAP_TYPE_PCF_SOFT )\n\t\t\tvec2 texelSize = vec2( 1.0 ) / shadowMapSize;\n\t\t\tfloat dx = texelSize.x;\n\t\t\tfloat dy = texelSize.y;\n\t\t\tvec2 uv = shadowCoord.xy;\n\t\t\tvec2 f = fract( uv * shadowMapSize + 0.5 );\n\t\t\tuv -= f * texelSize;\n\t\t\tshadow = (\n\t\t\t\ttexture2DCompare( shadowMap, uv, shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, uv + vec2( dx, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, uv + vec2( 0.0, dy ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, uv + texelSize, shadowCoord.z ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( -dx, 0.0 ), shadowCoord.z ), \n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 0.0 ), shadowCoord.z ),\n\t\t\t\t\t f.x ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( -dx, dy ), shadowCoord.z ), \n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, dy ), shadowCoord.z ),\n\t\t\t\t\t f.x ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( 0.0, -dy ), shadowCoord.z ), \n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( 0.0, 2.0 * dy ), shadowCoord.z ),\n\t\t\t\t\t f.y ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( dx, -dy ), shadowCoord.z ), \n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( dx, 2.0 * dy ), shadowCoord.z ),\n\t\t\t\t\t f.y ) +\n\t\t\t\tmix( mix( texture2DCompare( shadowMap, uv + vec2( -dx, -dy ), shadowCoord.z ), \n\t\t\t\t\t\t  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, -dy ), shadowCoord.z ),\n\t\t\t\t\t\t  f.x ),\n\t\t\t\t\t mix( texture2DCompare( shadowMap, uv + vec2( -dx, 2.0 * dy ), shadowCoord.z ), \n\t\t\t\t\t\t  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 2.0 * dy ), shadowCoord.z ),\n\t\t\t\t\t\t  f.x ),\n\t\t\t\t\t f.y )\n\t\t\t) * ( 1.0 / 9.0 );\n\t\t#elif defined( SHADOWMAP_TYPE_VSM )\n\t\t\tshadow = VSMShadow( shadowMap, shadowCoord.xy, shadowCoord.z );\n\t\t#else\n\t\t\tshadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );\n\t\t#endif\n\t\t}\n\t\treturn shadow;\n\t}\n\tvec2 cubeToUV( vec3 v, float texelSizeY ) {\n\t\tvec3 absV = abs( v );\n\t\tfloat scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );\n\t\tabsV *= scaleToCube;\n\t\tv *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );\n\t\tvec2 planar = v.xy;\n\t\tfloat almostATexel = 1.5 * texelSizeY;\n\t\tfloat almostOne = 1.0 - almostATexel;\n\t\tif ( absV.z >= almostOne ) {\n\t\t\tif ( v.z > 0.0 )\n\t\t\t\tplanar.x = 4.0 - v.x;\n\t\t} else if ( absV.x >= almostOne ) {\n\t\t\tfloat signX = sign( v.x );\n\t\t\tplanar.x = v.z * signX + 2.0 * signX;\n\t\t} else if ( absV.y >= almostOne ) {\n\t\t\tfloat signY = sign( v.y );\n\t\t\tplanar.x = v.x + 2.0 * signY + 2.0;\n\t\t\tplanar.y = v.z * signY - 2.0;\n\t\t}\n\t\treturn vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );\n\t}\n\tfloat getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {\n\t\tvec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );\n\t\tvec3 lightToPosition = shadowCoord.xyz;\n\t\tfloat dp = ( length( lightToPosition ) - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );\t\tdp += shadowBias;\n\t\tvec3 bd3D = normalize( lightToPosition );\n\t\t#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT ) || defined( SHADOWMAP_TYPE_VSM )\n\t\t\tvec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;\n\t\t\treturn (\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )\n\t\t\t) * ( 1.0 / 9.0 );\n\t\t#else\n\t\t\treturn texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );\n\t\t#endif\n\t}\n#endif",shadowmap_pars_vertex:"#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\t\tuniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tvarying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tstruct DirectionalLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_SPOT_LIGHT_SHADOWS > 0\n\t\tuniform mat4 spotShadowMatrix[ NUM_SPOT_LIGHT_SHADOWS ];\n\t\tvarying vec4 vSpotShadowCoord[ NUM_SPOT_LIGHT_SHADOWS ];\n\t\tstruct SpotLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\t\tuniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tvarying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tstruct PointLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t\tfloat shadowCameraNear;\n\t\t\tfloat shadowCameraFar;\n\t\t};\n\t\tuniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];\n\t#endif\n#endif",shadowmap_vertex:"#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHT_SHADOWS > 0 || NUM_SPOT_LIGHT_SHADOWS > 0 || NUM_POINT_LIGHT_SHADOWS > 0\n\t\tvec3 shadowWorldNormal = inverseTransformDirection( transformedNormal, viewMatrix );\n\t\tvec4 shadowWorldPosition;\n\t#endif\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {\n\t\tshadowWorldPosition = worldPosition + vec4( shadowWorldNormal * directionalLightShadows[ i ].shadowNormalBias, 0 );\n\t\tvDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * shadowWorldPosition;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#if NUM_SPOT_LIGHT_SHADOWS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {\n\t\tshadowWorldPosition = worldPosition + vec4( shadowWorldNormal * spotLightShadows[ i ].shadowNormalBias, 0 );\n\t\tvSpotShadowCoord[ i ] = spotShadowMatrix[ i ] * shadowWorldPosition;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {\n\t\tshadowWorldPosition = worldPosition + vec4( shadowWorldNormal * pointLightShadows[ i ].shadowNormalBias, 0 );\n\t\tvPointShadowCoord[ i ] = pointShadowMatrix[ i ] * shadowWorldPosition;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n#endif",shadowmask_pars_fragment:"float getShadowMask() {\n\tfloat shadow = 1.0;\n\t#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\tDirectionalLightShadow directionalLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {\n\t\tdirectionalLight = directionalLightShadows[ i ];\n\t\tshadow *= receiveShadow ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#if NUM_SPOT_LIGHT_SHADOWS > 0\n\tSpotLightShadow spotLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {\n\t\tspotLight = spotLightShadows[ i ];\n\t\tshadow *= receiveShadow ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotShadowCoord[ i ] ) : 1.0;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\tPointLightShadow pointLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {\n\t\tpointLight = pointLightShadows[ i ];\n\t\tshadow *= receiveShadow ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#endif\n\treturn shadow;\n}",skinbase_vertex:"#ifdef USE_SKINNING\n\tmat4 boneMatX = getBoneMatrix( skinIndex.x );\n\tmat4 boneMatY = getBoneMatrix( skinIndex.y );\n\tmat4 boneMatZ = getBoneMatrix( skinIndex.z );\n\tmat4 boneMatW = getBoneMatrix( skinIndex.w );\n#endif",skinning_pars_vertex:"#ifdef USE_SKINNING\n\tuniform mat4 bindMatrix;\n\tuniform mat4 bindMatrixInverse;\n\t#ifdef BONE_TEXTURE\n\t\tuniform highp sampler2D boneTexture;\n\t\tuniform int boneTextureSize;\n\t\tmat4 getBoneMatrix( const in float i ) {\n\t\t\tfloat j = i * 4.0;\n\t\t\tfloat x = mod( j, float( boneTextureSize ) );\n\t\t\tfloat y = floor( j / float( boneTextureSize ) );\n\t\t\tfloat dx = 1.0 / float( boneTextureSize );\n\t\t\tfloat dy = 1.0 / float( boneTextureSize );\n\t\t\ty = dy * ( y + 0.5 );\n\t\t\tvec4 v1 = texture2D( boneTexture, vec2( dx * ( x + 0.5 ), y ) );\n\t\t\tvec4 v2 = texture2D( boneTexture, vec2( dx * ( x + 1.5 ), y ) );\n\t\t\tvec4 v3 = texture2D( boneTexture, vec2( dx * ( x + 2.5 ), y ) );\n\t\t\tvec4 v4 = texture2D( boneTexture, vec2( dx * ( x + 3.5 ), y ) );\n\t\t\tmat4 bone = mat4( v1, v2, v3, v4 );\n\t\t\treturn bone;\n\t\t}\n\t#else\n\t\tuniform mat4 boneMatrices[ MAX_BONES ];\n\t\tmat4 getBoneMatrix( const in float i ) {\n\t\t\tmat4 bone = boneMatrices[ int(i) ];\n\t\t\treturn bone;\n\t\t}\n\t#endif\n#endif",skinning_vertex:"#ifdef USE_SKINNING\n\tvec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );\n\tvec4 skinned = vec4( 0.0 );\n\tskinned += boneMatX * skinVertex * skinWeight.x;\n\tskinned += boneMatY * skinVertex * skinWeight.y;\n\tskinned += boneMatZ * skinVertex * skinWeight.z;\n\tskinned += boneMatW * skinVertex * skinWeight.w;\n\ttransformed = ( bindMatrixInverse * skinned ).xyz;\n#endif",skinnormal_vertex:"#ifdef USE_SKINNING\n\tmat4 skinMatrix = mat4( 0.0 );\n\tskinMatrix += skinWeight.x * boneMatX;\n\tskinMatrix += skinWeight.y * boneMatY;\n\tskinMatrix += skinWeight.z * boneMatZ;\n\tskinMatrix += skinWeight.w * boneMatW;\n\tskinMatrix = bindMatrixInverse * skinMatrix * bindMatrix;\n\tobjectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;\n\t#ifdef USE_TANGENT\n\t\tobjectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;\n\t#endif\n#endif",specularmap_fragment:"float specularStrength;\n#ifdef USE_SPECULARMAP\n\tvec4 texelSpecular = texture2D( specularMap, vUv );\n\tspecularStrength = texelSpecular.r;\n#else\n\tspecularStrength = 1.0;\n#endif",specularmap_pars_fragment:"#ifdef USE_SPECULARMAP\n\tuniform sampler2D specularMap;\n#endif",tonemapping_fragment:"#if defined( TONE_MAPPING )\n\tgl_FragColor.rgb = toneMapping( gl_FragColor.rgb );\n#endif",tonemapping_pars_fragment:"#ifndef saturate\n#define saturate(a) clamp( a, 0.0, 1.0 )\n#endif\nuniform float toneMappingExposure;\nvec3 LinearToneMapping( vec3 color ) {\n\treturn toneMappingExposure * color;\n}\nvec3 ReinhardToneMapping( vec3 color ) {\n\tcolor *= toneMappingExposure;\n\treturn saturate( color / ( vec3( 1.0 ) + color ) );\n}\nvec3 OptimizedCineonToneMapping( vec3 color ) {\n\tcolor *= toneMappingExposure;\n\tcolor = max( vec3( 0.0 ), color - 0.004 );\n\treturn pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );\n}\nvec3 RRTAndODTFit( vec3 v ) {\n\tvec3 a = v * ( v + 0.0245786 ) - 0.000090537;\n\tvec3 b = v * ( 0.983729 * v + 0.4329510 ) + 0.238081;\n\treturn a / b;\n}\nvec3 ACESFilmicToneMapping( vec3 color ) {\n\tconst mat3 ACESInputMat = mat3(\n\t\tvec3( 0.59719, 0.07600, 0.02840 ),\t\tvec3( 0.35458, 0.90834, 0.13383 ),\n\t\tvec3( 0.04823, 0.01566, 0.83777 )\n\t);\n\tconst mat3 ACESOutputMat = mat3(\n\t\tvec3(  1.60475, -0.10208, -0.00327 ),\t\tvec3( -0.53108,  1.10813, -0.07276 ),\n\t\tvec3( -0.07367, -0.00605,  1.07602 )\n\t);\n\tcolor *= toneMappingExposure / 0.6;\n\tcolor = ACESInputMat * color;\n\tcolor = RRTAndODTFit( color );\n\tcolor = ACESOutputMat * color;\n\treturn saturate( color );\n}\nvec3 CustomToneMapping( vec3 color ) { return color; }",transmissionmap_fragment:"#ifdef USE_TRANSMISSIONMAP\n\ttotalTransmission *= texture2D( transmissionMap, vUv ).r;\n#endif",transmissionmap_pars_fragment:"#ifdef USE_TRANSMISSIONMAP\n\tuniform sampler2D transmissionMap;\n#endif",uv_pars_fragment:"#if ( defined( USE_UV ) && ! defined( UVS_VERTEX_ONLY ) )\n\tvarying vec2 vUv;\n#endif",uv_pars_vertex:"#ifdef USE_UV\n\t#ifdef UVS_VERTEX_ONLY\n\t\tvec2 vUv;\n\t#else\n\t\tvarying vec2 vUv;\n\t#endif\n\tuniform mat3 uvTransform;\n#endif",uv_vertex:"#ifdef USE_UV\n\tvUv = ( uvTransform * vec3( uv, 1 ) ).xy;\n#endif",uv2_pars_fragment:"#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\n\tvarying vec2 vUv2;\n#endif",uv2_pars_vertex:"#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\n\tattribute vec2 uv2;\n\tvarying vec2 vUv2;\n\tuniform mat3 uv2Transform;\n#endif",uv2_vertex:"#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\n\tvUv2 = ( uv2Transform * vec3( uv2, 1 ) ).xy;\n#endif",worldpos_vertex:"#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP )\n\tvec4 worldPosition = vec4( transformed, 1.0 );\n\t#ifdef USE_INSTANCING\n\t\tworldPosition = instanceMatrix * worldPosition;\n\t#endif\n\tworldPosition = modelMatrix * worldPosition;\n#endif",background_frag:"uniform sampler2D t2D;\nvarying vec2 vUv;\nvoid main() {\n\tvec4 texColor = texture2D( t2D, vUv );\n\tgl_FragColor = mapTexelToLinear( texColor );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n}",background_vert:"varying vec2 vUv;\nuniform mat3 uvTransform;\nvoid main() {\n\tvUv = ( uvTransform * vec3( uv, 1 ) ).xy;\n\tgl_Position = vec4( position.xy, 1.0, 1.0 );\n}",cube_frag:"#include <envmap_common_pars_fragment>\nuniform float opacity;\nvarying vec3 vWorldDirection;\n#include <cube_uv_reflection_fragment>\nvoid main() {\n\tvec3 vReflect = vWorldDirection;\n\t#include <envmap_fragment>\n\tgl_FragColor = envColor;\n\tgl_FragColor.a *= opacity;\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n}",cube_vert:"varying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvWorldDirection = transformDirection( position, modelMatrix );\n\t#include <begin_vertex>\n\t#include <project_vertex>\n\tgl_Position.z = gl_Position.w;\n}",depth_frag:"#if DEPTH_PACKING == 3200\n\tuniform float opacity;\n#endif\n#include <common>\n#include <packing>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvarying vec2 vHighPrecisionZW;\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( 1.0 );\n\t#if DEPTH_PACKING == 3200\n\t\tdiffuseColor.a = opacity;\n\t#endif\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <logdepthbuf_fragment>\n\tfloat fragCoordZ = 0.5 * vHighPrecisionZW[0] / vHighPrecisionZW[1] + 0.5;\n\t#if DEPTH_PACKING == 3200\n\t\tgl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );\n\t#elif DEPTH_PACKING == 3201\n\t\tgl_FragColor = packDepthToRGBA( fragCoordZ );\n\t#endif\n}",depth_vert:"#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvarying vec2 vHighPrecisionZW;\nvoid main() {\n\t#include <uv_vertex>\n\t#include <skinbase_vertex>\n\t#ifdef USE_DISPLACEMENTMAP\n\t\t#include <beginnormal_vertex>\n\t\t#include <morphnormal_vertex>\n\t\t#include <skinnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvHighPrecisionZW = gl_Position.zw;\n}",distanceRGBA_frag:"#define DISTANCE\nuniform vec3 referencePosition;\nuniform float nearDistance;\nuniform float farDistance;\nvarying vec3 vWorldPosition;\n#include <common>\n#include <packing>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main () {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( 1.0 );\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\tfloat dist = length( vWorldPosition - referencePosition );\n\tdist = ( dist - nearDistance ) / ( farDistance - nearDistance );\n\tdist = saturate( dist );\n\tgl_FragColor = packDepthToRGBA( dist );\n}",distanceRGBA_vert:"#define DISTANCE\nvarying vec3 vWorldPosition;\n#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <skinbase_vertex>\n\t#ifdef USE_DISPLACEMENTMAP\n\t\t#include <beginnormal_vertex>\n\t\t#include <morphnormal_vertex>\n\t\t#include <skinnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <worldpos_vertex>\n\t#include <clipping_planes_vertex>\n\tvWorldPosition = worldPosition.xyz;\n}",equirect_frag:"uniform sampler2D tEquirect;\nvarying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvec3 direction = normalize( vWorldDirection );\n\tvec2 sampleUV = equirectUv( direction );\n\tvec4 texColor = texture2D( tEquirect, sampleUV );\n\tgl_FragColor = mapTexelToLinear( texColor );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n}",equirect_vert:"varying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvWorldDirection = transformDirection( position, modelMatrix );\n\t#include <begin_vertex>\n\t#include <project_vertex>\n}",linedashed_frag:"uniform vec3 diffuse;\nuniform float opacity;\nuniform float dashSize;\nuniform float totalSize;\nvarying float vLineDistance;\n#include <common>\n#include <color_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tif ( mod( vLineDistance, totalSize ) > dashSize ) {\n\t\tdiscard;\n\t}\n\tvec3 outgoingLight = vec3( 0.0 );\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <color_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n}",linedashed_vert:"uniform float scale;\nattribute float lineDistance;\nvarying float vLineDistance;\n#include <common>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\tvLineDistance = scale * lineDistance;\n\t#include <color_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n}",meshbasic_frag:"uniform vec3 diffuse;\nuniform float opacity;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_pars_fragment>\n#include <cube_uv_reflection_fragment>\n#include <fog_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\t#ifdef USE_LIGHTMAP\n\t\n\t\tvec4 lightMapTexel= texture2D( lightMap, vUv2 );\n\t\treflectedLight.indirectDiffuse += lightMapTexelToLinear( lightMapTexel ).rgb * lightMapIntensity;\n\t#else\n\t\treflectedLight.indirectDiffuse += vec3( 1.0 );\n\t#endif\n\t#include <aomap_fragment>\n\treflectedLight.indirectDiffuse *= diffuseColor.rgb;\n\tvec3 outgoingLight = reflectedLight.indirectDiffuse;\n\t#include <envmap_fragment>\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshbasic_vert:"#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <skinbase_vertex>\n\t#ifdef USE_ENVMAP\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <worldpos_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <envmap_vertex>\n\t#include <fog_vertex>\n}",meshlambert_frag:"uniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float opacity;\nvarying vec3 vLightFront;\nvarying vec3 vIndirectFront;\n#ifdef DOUBLE_SIDED\n\tvarying vec3 vLightBack;\n\tvarying vec3 vIndirectBack;\n#endif\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_pars_fragment>\n#include <cube_uv_reflection_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <fog_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <shadowmask_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\t#include <emissivemap_fragment>\n\t#ifdef DOUBLE_SIDED\n\t\treflectedLight.indirectDiffuse += ( gl_FrontFacing ) ? vIndirectFront : vIndirectBack;\n\t#else\n\t\treflectedLight.indirectDiffuse += vIndirectFront;\n\t#endif\n\t#include <lightmap_fragment>\n\treflectedLight.indirectDiffuse *= BRDF_Diffuse_Lambert( diffuseColor.rgb );\n\t#ifdef DOUBLE_SIDED\n\t\treflectedLight.directDiffuse = ( gl_FrontFacing ) ? vLightFront : vLightBack;\n\t#else\n\t\treflectedLight.directDiffuse = vLightFront;\n\t#endif\n\treflectedLight.directDiffuse *= BRDF_Diffuse_Lambert( diffuseColor.rgb ) * getShadowMask();\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;\n\t#include <envmap_fragment>\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshlambert_vert:"#define LAMBERT\nvarying vec3 vLightFront;\nvarying vec3 vIndirectFront;\n#ifdef DOUBLE_SIDED\n\tvarying vec3 vLightBack;\n\tvarying vec3 vIndirectBack;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <envmap_pars_vertex>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <lights_lambert_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",meshmatcap_frag:"#define MATCAP\nuniform vec3 diffuse;\nuniform float opacity;\nuniform sampler2D matcap;\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <fog_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\tvec3 viewDir = normalize( vViewPosition );\n\tvec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );\n\tvec3 y = cross( viewDir, x );\n\tvec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;\n\t#ifdef USE_MATCAP\n\t\tvec4 matcapColor = texture2D( matcap, uv );\n\t\tmatcapColor = matcapTexelToLinear( matcapColor );\n\t#else\n\t\tvec4 matcapColor = vec4( 1.0 );\n\t#endif\n\tvec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshmatcap_vert:"#define MATCAP\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <color_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <color_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#ifndef FLAT_SHADED\n\t\tvNormal = normalize( transformedNormal );\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n\tvViewPosition = - mvPosition.xyz;\n}",meshtoon_frag:"#define TOON\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <gradientmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <lights_toon_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_toon_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshtoon_vert:"#define TOON\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n#ifndef FLAT_SHADED\n\tvNormal = normalize( transformedNormal );\n#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",meshphong_frag:"#define PHONG\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform vec3 specular;\nuniform float shininess;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_pars_fragment>\n#include <cube_uv_reflection_fragment>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <lights_phong_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_phong_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;\n\t#include <envmap_fragment>\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshphong_vert:"#define PHONG\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n#ifndef FLAT_SHADED\n\tvNormal = normalize( transformedNormal );\n#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",meshphysical_frag:"#define STANDARD\n#ifdef PHYSICAL\n\t#define REFLECTIVITY\n\t#define CLEARCOAT\n\t#define TRANSMISSION\n#endif\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float roughness;\nuniform float metalness;\nuniform float opacity;\n#ifdef TRANSMISSION\n\tuniform float transmission;\n#endif\n#ifdef REFLECTIVITY\n\tuniform float reflectivity;\n#endif\n#ifdef CLEARCOAT\n\tuniform float clearcoat;\n\tuniform float clearcoatRoughness;\n#endif\n#ifdef USE_SHEEN\n\tuniform vec3 sheen;\n#endif\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n\t#ifdef USE_TANGENT\n\t\tvarying vec3 vTangent;\n\t\tvarying vec3 vBitangent;\n\t#endif\n#endif\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <transmissionmap_pars_fragment>\n#include <bsdfs>\n#include <cube_uv_reflection_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_physical_pars_fragment>\n#include <fog_pars_fragment>\n#include <lights_pars_begin>\n#include <lights_physical_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <clearcoat_pars_fragment>\n#include <roughnessmap_pars_fragment>\n#include <metalnessmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#ifdef TRANSMISSION\n\t\tfloat totalTransmission = transmission;\n\t#endif\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <roughnessmap_fragment>\n\t#include <metalnessmap_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <clearcoat_normal_fragment_begin>\n\t#include <clearcoat_normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <transmissionmap_fragment>\n\t#include <lights_physical_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;\n\t#ifdef TRANSMISSION\n\t\tdiffuseColor.a *= mix( saturate( 1. - totalTransmission + linearToRelativeLuminance( reflectedLight.directSpecular + reflectedLight.indirectSpecular ) ), 1.0, metalness );\n\t#endif\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshphysical_vert:"#define STANDARD\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n\t#ifdef USE_TANGENT\n\t\tvarying vec3 vTangent;\n\t\tvarying vec3 vBitangent;\n\t#endif\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n#ifndef FLAT_SHADED\n\tvNormal = normalize( transformedNormal );\n\t#ifdef USE_TANGENT\n\t\tvTangent = normalize( transformedTangent );\n\t\tvBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );\n\t#endif\n#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",normal_frag:"#define NORMAL\nuniform float opacity;\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )\n\tvarying vec3 vViewPosition;\n#endif\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n\t#ifdef USE_TANGENT\n\t\tvarying vec3 vTangent;\n\t\tvarying vec3 vBitangent;\n\t#endif\n#endif\n#include <packing>\n#include <uv_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\t#include <logdepthbuf_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\tgl_FragColor = vec4( packNormalToRGB( normal ), opacity );\n}",normal_vert:"#define NORMAL\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )\n\tvarying vec3 vViewPosition;\n#endif\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n\t#ifdef USE_TANGENT\n\t\tvarying vec3 vTangent;\n\t\tvarying vec3 vBitangent;\n\t#endif\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n#ifndef FLAT_SHADED\n\tvNormal = normalize( transformedNormal );\n\t#ifdef USE_TANGENT\n\t\tvTangent = normalize( transformedTangent );\n\t\tvBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );\n\t#endif\n#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )\n\tvViewPosition = - mvPosition.xyz;\n#endif\n}",points_frag:"uniform vec3 diffuse;\nuniform float opacity;\n#include <common>\n#include <color_pars_fragment>\n#include <map_particle_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec3 outgoingLight = vec3( 0.0 );\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_particle_fragment>\n\t#include <color_fragment>\n\t#include <alphatest_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n}",points_vert:"uniform float size;\nuniform float scale;\n#include <common>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <color_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <project_vertex>\n\tgl_PointSize = size;\n\t#ifdef USE_SIZEATTENUATION\n\t\tbool isPerspective = isPerspectiveMatrix( projectionMatrix );\n\t\tif ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );\n\t#endif\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <worldpos_vertex>\n\t#include <fog_vertex>\n}",shadow_frag:"uniform vec3 color;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <shadowmap_pars_fragment>\n#include <shadowmask_pars_fragment>\nvoid main() {\n\tgl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n}",shadow_vert:"#include <common>\n#include <fog_pars_vertex>\n#include <shadowmap_pars_vertex>\nvoid main() {\n\t#include <begin_vertex>\n\t#include <project_vertex>\n\t#include <worldpos_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",sprite_frag:"uniform vec3 diffuse;\nuniform float opacity;\n#include <common>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec3 outgoingLight = vec3( 0.0 );\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n}",sprite_vert:"uniform float rotation;\nuniform vec2 center;\n#include <common>\n#include <uv_pars_vertex>\n#include <fog_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\tvec4 mvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );\n\tvec2 scale;\n\tscale.x = length( vec3( modelMatrix[ 0 ].x, modelMatrix[ 0 ].y, modelMatrix[ 0 ].z ) );\n\tscale.y = length( vec3( modelMatrix[ 1 ].x, modelMatrix[ 1 ].y, modelMatrix[ 1 ].z ) );\n\t#ifndef USE_SIZEATTENUATION\n\t\tbool isPerspective = isPerspectiveMatrix( projectionMatrix );\n\t\tif ( isPerspective ) scale *= - mvPosition.z;\n\t#endif\n\tvec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;\n\tvec2 rotatedPosition;\n\trotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;\n\trotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;\n\tmvPosition.xy += rotatedPosition;\n\tgl_Position = projectionMatrix * mvPosition;\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n}"},Ha={common:{diffuse:{value:new Oi(15658734)},opacity:{value:1},map:{value:null},uvTransform:{value:new Jn},uv2Transform:{value:new Jn},alphaMap:{value:null}},specularmap:{specularMap:{value:null}},envmap:{envMap:{value:null},flipEnvMap:{value:-1},reflectivity:{value:1},refractionRatio:{value:.98},maxMipLevel:{value:0}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1}},emissivemap:{emissiveMap:{value:null}},bumpmap:{bumpMap:{value:null},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalScale:{value:new Kn(1,1)}},displacementmap:{displacementMap:{value:null},displacementScale:{value:1},displacementBias:{value:0}},roughnessmap:{roughnessMap:{value:null}},metalnessmap:{metalnessMap:{value:null}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new Oi(16777215)}},lights:{ambientLightColor:{value:[]},lightProbe:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{}}},directionalLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{}}},spotLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},spotShadowMap:{value:[]},spotShadowMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{}}},pointLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}},ltc_1:{value:null},ltc_2:{value:null}},points:{diffuse:{value:new Oi(15658734)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},alphaMap:{value:null},uvTransform:{value:new Jn}},sprite:{diffuse:{value:new Oi(15658734)},opacity:{value:1},center:{value:new Kn(.5,.5)},rotation:{value:0},map:{value:null},alphaMap:{value:null},uvTransform:{value:new Jn}}},Wa={basic:{uniforms:Aa([Ha.common,Ha.specularmap,Ha.envmap,Ha.aomap,Ha.lightmap,Ha.fog]),vertexShader:Va.meshbasic_vert,fragmentShader:Va.meshbasic_frag},lambert:{uniforms:Aa([Ha.common,Ha.specularmap,Ha.envmap,Ha.aomap,Ha.lightmap,Ha.emissivemap,Ha.fog,Ha.lights,{emissive:{value:new Oi(0)}}]),vertexShader:Va.meshlambert_vert,fragmentShader:Va.meshlambert_frag},phong:{uniforms:Aa([Ha.common,Ha.specularmap,Ha.envmap,Ha.aomap,Ha.lightmap,Ha.emissivemap,Ha.bumpmap,Ha.normalmap,Ha.displacementmap,Ha.fog,Ha.lights,{emissive:{value:new Oi(0)},specular:{value:new Oi(1118481)},shininess:{value:30}}]),vertexShader:Va.meshphong_vert,fragmentShader:Va.meshphong_frag},standard:{uniforms:Aa([Ha.common,Ha.envmap,Ha.aomap,Ha.lightmap,Ha.emissivemap,Ha.bumpmap,Ha.normalmap,Ha.displacementmap,Ha.roughnessmap,Ha.metalnessmap,Ha.fog,Ha.lights,{emissive:{value:new Oi(0)},roughness:{value:1},metalness:{value:0},envMapIntensity:{value:1}}]),vertexShader:Va.meshphysical_vert,fragmentShader:Va.meshphysical_frag},toon:{uniforms:Aa([Ha.common,Ha.aomap,Ha.lightmap,Ha.emissivemap,Ha.bumpmap,Ha.normalmap,Ha.displacementmap,Ha.gradientmap,Ha.fog,Ha.lights,{emissive:{value:new Oi(0)}}]),vertexShader:Va.meshtoon_vert,fragmentShader:Va.meshtoon_frag},matcap:{uniforms:Aa([Ha.common,Ha.bumpmap,Ha.normalmap,Ha.displacementmap,Ha.fog,{matcap:{value:null}}]),vertexShader:Va.meshmatcap_vert,fragmentShader:Va.meshmatcap_frag},points:{uniforms:Aa([Ha.points,Ha.fog]),vertexShader:Va.points_vert,fragmentShader:Va.points_frag},dashed:{uniforms:Aa([Ha.common,Ha.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:Va.linedashed_vert,fragmentShader:Va.linedashed_frag},depth:{uniforms:Aa([Ha.common,Ha.displacementmap]),vertexShader:Va.depth_vert,fragmentShader:Va.depth_frag},normal:{uniforms:Aa([Ha.common,Ha.bumpmap,Ha.normalmap,Ha.displacementmap,{opacity:{value:1}}]),vertexShader:Va.normal_vert,fragmentShader:Va.normal_frag},sprite:{uniforms:Aa([Ha.sprite,Ha.fog]),vertexShader:Va.sprite_vert,fragmentShader:Va.sprite_frag},background:{uniforms:{uvTransform:{value:new Jn},t2D:{value:null}},vertexShader:Va.background_vert,fragmentShader:Va.background_frag},cube:{uniforms:Aa([Ha.envmap,{opacity:{value:1}}]),vertexShader:Va.cube_vert,fragmentShader:Va.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:Va.equirect_vert,fragmentShader:Va.equirect_frag},distanceRGBA:{uniforms:Aa([Ha.common,Ha.displacementmap,{referencePosition:{value:new lr},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:Va.distanceRGBA_vert,fragmentShader:Va.distanceRGBA_frag},shadow:{uniforms:Aa([Ha.lights,Ha.fog,{color:{value:new Oi(0)},opacity:{value:1}}]),vertexShader:Va.shadow_vert,fragmentShader:Va.shadow_frag}};function Xa(e,t,n,r,i){var a,o,s=new Oi(0),l=0,u=null,c=0,d=null;function h(e,t){n.buffers.color.setClear(e.r,e.g,e.b,t,i)}return{getClearColor:function(){return s},setClearColor:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;s.set(e),h(s,l=t)},getClearAlpha:function(){return l},setClearAlpha:function(e){h(s,l=e)},render:function(n,i,f,p){var m=!0===i.isScene?i.background:null;m&&m.isTexture&&(m=t.get(m));var v=e.xr,g=v.getSession&&v.getSession();g&&"additive"===g.environmentBlendMode&&(m=null),null===m?h(s,l):m&&m.isColor&&(h(m,1),p=!0),(e.autoClear||p)&&e.clear(e.autoClearColor,e.autoClearDepth,e.autoClearStencil),m&&(m.isCubeTexture||m.isWebGLCubeRenderTarget||m.mapping===be)?(void 0===o&&((o=new Ma(new Ea(1,1,1),new Oa({name:"BackgroundCubeMaterial",uniforms:Ta(Wa.cube.uniforms),vertexShader:Wa.cube.vertexShader,fragmentShader:Wa.cube.fragmentShader,side:E,depthTest:!1,depthWrite:!1,fog:!1}))).geometry.deleteAttribute("normal"),o.geometry.deleteAttribute("uv"),o.onBeforeRender=function(e,t,n){this.matrixWorld.copyPosition(n.matrixWorld)},Object.defineProperty(o.material,"envMap",{get:function(){return this.uniforms.envMap.value}}),r.update(o)),m.isWebGLCubeRenderTarget&&(m=m.texture),o.material.uniforms.envMap.value=m,o.material.uniforms.flipEnvMap.value=m.isCubeTexture&&m._needsFlipEnvMap?-1:1,u===m&&c===m.version&&d===e.toneMapping||(o.material.needsUpdate=!0,u=m,c=m.version,d=e.toneMapping),n.unshift(o,o.geometry,o.material,0,0,null)):m&&m.isTexture&&(void 0===a&&((a=new Ma(new Ba(2,2),new Oa({name:"BackgroundMaterial",uniforms:Ta(Wa.background.uniforms),vertexShader:Wa.background.vertexShader,fragmentShader:Wa.background.fragmentShader,side:S,depthTest:!1,depthWrite:!1,fog:!1}))).geometry.deleteAttribute("normal"),Object.defineProperty(a.material,"map",{get:function(){return this.uniforms.t2D.value}}),r.update(a)),a.material.uniforms.t2D.value=m,!0===m.matrixAutoUpdate&&m.updateMatrix(),a.material.uniforms.uvTransform.value.copy(m.matrix),u===m&&c===m.version&&d===e.toneMapping||(a.material.needsUpdate=!0,u=m,c=m.version,d=e.toneMapping),n.unshift(a,a.geometry,a.material,0,0,null))}}}function qa(e,t,n,r){var i=e.getParameter(34921),a=r.isWebGL2?null:t.get("OES_vertex_array_object"),o=r.isWebGL2||null!==a,s={},l=h(null),u=l;function c(t){return r.isWebGL2?e.bindVertexArray(t):a.bindVertexArrayOES(t)}function d(t){return r.isWebGL2?e.deleteVertexArray(t):a.deleteVertexArrayOES(t)}function h(e){for(var t=[],n=[],r=[],a=0;a<i;a++)t[a]=0,n[a]=0,r[a]=0;return{geometry:null,program:null,wireframe:!1,newAttributes:t,enabledAttributes:n,attributeDivisors:r,object:e,attributes:{},index:null}}function f(){for(var e=u.newAttributes,t=0,n=e.length;t<n;t++)e[t]=0}function p(e){m(e,0)}function m(n,i){var a=u.newAttributes,o=u.enabledAttributes,s=u.attributeDivisors;(a[n]=1,0===o[n]&&(e.enableVertexAttribArray(n),o[n]=1),s[n]!==i)&&((r.isWebGL2?e:t.get("ANGLE_instanced_arrays"))[r.isWebGL2?"vertexAttribDivisor":"vertexAttribDivisorANGLE"](n,i),s[n]=i)}function v(){for(var t=u.newAttributes,n=u.enabledAttributes,r=0,i=n.length;r<i;r++)n[r]!==t[r]&&(e.disableVertexAttribArray(r),n[r]=0)}function g(t,n,i,a,o,s){!0!==r.isWebGL2||5124!==i&&5125!==i?e.vertexAttribPointer(t,n,i,a,o,s):e.vertexAttribIPointer(t,n,i,o,s)}function y(){b(),u!==l&&c((u=l).object)}function b(){l.geometry=null,l.program=null,l.wireframe=!1}return{setup:function(i,l,d,y,b){var x=!1;if(o){var w=function(t,n,i){var o=!0===i.wireframe,l=s[t.id];void 0===l&&(l={},s[t.id]=l);var u=l[n.id];void 0===u&&(u={},l[n.id]=u);var c=u[o];void 0===c&&(c=h(r.isWebGL2?e.createVertexArray():a.createVertexArrayOES()),u[o]=c);return c}(y,d,l);u!==w&&c((u=w).object),(x=function(e,t){var n=u.attributes,r=e.attributes,i=0;for(var a in r){var o=n[a],s=r[a];if(void 0===o)return!0;if(o.attribute!==s)return!0;if(o.data!==s.data)return!0;i++}return u.attributesNum!==i||u.index!==t}(y,b))&&function(e,t){var n={},r=e.attributes,i=0;for(var a in r){var o=r[a],s={};s.attribute=o,o.data&&(s.data=o.data),n[a]=s,i++}u.attributes=n,u.attributesNum=i,u.index=t}(y,b)}else{var M=!0===l.wireframe;u.geometry===y.id&&u.program===d.id&&u.wireframe===M||(u.geometry=y.id,u.program=d.id,u.wireframe=M,x=!0)}!0===i.isInstancedMesh&&(x=!0),null!==b&&n.update(b,34963),x&&(!function(i,a,o,s){if(!1===r.isWebGL2&&(i.isInstancedMesh||s.isInstancedBufferGeometry)&&null===t.get("ANGLE_instanced_arrays"))return;f();var l=s.attributes,u=o.getAttributes(),c=a.defaultAttributeValues;for(var d in u){var h=u[d];if(h>=0){var y=l[d];if(void 0!==y){var b=y.normalized,x=y.itemSize,w=n.get(y);if(void 0===w)continue;var M=w.buffer,_=w.type,S=w.bytesPerElement;if(y.isInterleavedBufferAttribute){var E=y.data,T=E.stride,A=y.offset;E&&E.isInstancedInterleavedBuffer?(m(h,E.meshPerAttribute),void 0===s._maxInstanceCount&&(s._maxInstanceCount=E.meshPerAttribute*E.count)):p(h),e.bindBuffer(34962,M),g(h,x,_,b,T*S,A*S)}else y.isInstancedBufferAttribute?(m(h,y.meshPerAttribute),void 0===s._maxInstanceCount&&(s._maxInstanceCount=y.meshPerAttribute*y.count)):p(h),e.bindBuffer(34962,M),g(h,x,_,b,0,0)}else if("instanceMatrix"===d){var R=n.get(i.instanceMatrix);if(void 0===R)continue;var O=R.buffer,k=R.type;m(h+0,1),m(h+1,1),m(h+2,1),m(h+3,1),e.bindBuffer(34962,O),e.vertexAttribPointer(h+0,4,k,!1,64,0),e.vertexAttribPointer(h+1,4,k,!1,64,16),e.vertexAttribPointer(h+2,4,k,!1,64,32),e.vertexAttribPointer(h+3,4,k,!1,64,48)}else if("instanceColor"===d){var I=n.get(i.instanceColor);if(void 0===I)continue;var C=I.buffer,D=I.type;m(h,1),e.bindBuffer(34962,C),e.vertexAttribPointer(h,3,D,!1,12,0)}else if(void 0!==c){var L=c[d];if(void 0!==L)switch(L.length){case 2:e.vertexAttrib2fv(h,L);break;case 3:e.vertexAttrib3fv(h,L);break;case 4:e.vertexAttrib4fv(h,L);break;default:e.vertexAttrib1fv(h,L)}}}}v()}(i,l,d,y),null!==b&&e.bindBuffer(34963,n.get(b).buffer))},reset:y,resetDefaultState:b,dispose:function(){for(var e in y(),s){var t=s[e];for(var n in t){var r=t[n];for(var i in r)d(r[i].object),delete r[i];delete t[n]}delete s[e]}},releaseStatesOfGeometry:function(e){if(void 0!==s[e.id]){var t=s[e.id];for(var n in t){var r=t[n];for(var i in r)d(r[i].object),delete r[i];delete t[n]}delete s[e.id]}},releaseStatesOfProgram:function(e){for(var t in s){var n=s[t];if(void 0!==n[e.id]){var r=n[e.id];for(var i in r)d(r[i].object),delete r[i];delete n[e.id]}}},initAttributes:f,enableAttribute:p,disableUnusedAttributes:v}}function Ya(e,t,n,r){var i,a=r.isWebGL2;this.setMode=function(e){i=e},this.render=function(t,r){e.drawArrays(i,t,r),n.update(r,i,1)},this.renderInstances=function(r,o,s){if(0!==s){var l,u;if(a)l=e,u="drawArraysInstanced";else if(u="drawArraysInstancedANGLE",null===(l=t.get("ANGLE_instanced_arrays")))return void console.error("THREE.WebGLBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");l[u](i,r,o,s),n.update(o,i,s)}}}function Qa(e,t,n){var r;function i(t){if("highp"===t){if(e.getShaderPrecisionFormat(35633,36338).precision>0&&e.getShaderPrecisionFormat(35632,36338).precision>0)return"highp";t="mediump"}return"mediump"===t&&e.getShaderPrecisionFormat(35633,36337).precision>0&&e.getShaderPrecisionFormat(35632,36337).precision>0?"mediump":"lowp"}var a="undefined"!==typeof WebGL2RenderingContext&&e instanceof WebGL2RenderingContext||"undefined"!==typeof WebGL2ComputeRenderingContext&&e instanceof WebGL2ComputeRenderingContext,o=void 0!==n.precision?n.precision:"highp",s=i(o);s!==o&&(console.warn("THREE.WebGLRenderer:",o,"not supported, using",s,"instead."),o=s);var l=!0===n.logarithmicDepthBuffer,u=e.getParameter(34930),c=e.getParameter(35660),d=e.getParameter(3379),h=e.getParameter(34076),f=e.getParameter(34921),p=e.getParameter(36347),m=e.getParameter(36348),v=e.getParameter(36349),g=c>0,y=a||!!t.get("OES_texture_float");return{isWebGL2:a,getMaxAnisotropy:function(){if(void 0!==r)return r;var n=t.get("EXT_texture_filter_anisotropic");return r=null!==n?e.getParameter(n.MAX_TEXTURE_MAX_ANISOTROPY_EXT):0},getMaxPrecision:i,precision:o,logarithmicDepthBuffer:l,maxTextures:u,maxVertexTextures:c,maxTextureSize:d,maxCubemapSize:h,maxAttributes:f,maxVertexUniforms:p,maxVaryings:m,maxFragmentUniforms:v,vertexTextures:g,floatFragmentTextures:y,floatVertexTextures:g&&y,maxSamples:a?e.getParameter(36183):0}}function Za(e){var t=this,n=null,r=0,i=!1,a=!1,o=new di,s=new Jn,l={value:null,needsUpdate:!1};function u(){l.value!==n&&(l.value=n,l.needsUpdate=r>0),t.numPlanes=r,t.numIntersection=0}function c(e,n,r,i){var a=null!==e?e.length:0,u=null;if(0!==a){if(u=l.value,!0!==i||null===u){var c=r+4*a,d=n.matrixWorldInverse;s.getNormalMatrix(d),(null===u||u.length<c)&&(u=new Float32Array(c));for(var h=0,f=r;h!==a;++h,f+=4)o.copy(e[h]).applyMatrix4(d,s),o.normal.toArray(u,f),u[f+3]=o.constant}l.value=u,l.needsUpdate=!0}return t.numPlanes=a,t.numIntersection=0,u}this.uniform=l,this.numPlanes=0,this.numIntersection=0,this.init=function(e,t,a){var o=0!==e.length||t||0!==r||i;return i=t,n=c(e,a,0),r=e.length,o},this.beginShadows=function(){a=!0,c(null)},this.endShadows=function(){a=!1,u()},this.setState=function(t,o,s){var d=t.clippingPlanes,h=t.clipIntersection,f=t.clipShadows,p=e.get(t);if(!i||null===d||0===d.length||a&&!f)a?c(null):u();else{var m=a?0:r,v=4*m,g=p.clippingState||null;l.value=g,g=c(d,o,v,s);for(var y=0;y!==v;++y)g[y]=n[y];p.clippingState=g,this.numIntersection=h?this.numPlanes:0,this.numPlanes+=m}}}function $a(e){var t=new WeakMap;function n(e,t){return t===ge?e.mapping=me:t===ye&&(e.mapping=ve),e}function r(e){var n=e.target;n.removeEventListener("dispose",r);var i=t.get(n);void 0!==i&&(t.delete(n),i.dispose())}return{get:function(i){if(i&&i.isTexture){var a=i.mapping;if(a===ge||a===ye){if(t.has(i))return n(t.get(i).texture,i.mapping);var o=i.image;if(o&&o.height>0){var s=e.getRenderList(),l=e.getRenderTarget(),u=e.getRenderState(),c=new Pa(o.height/2);return c.fromEquirectangularTexture(e,i),t.set(i,c),e.setRenderTarget(l),e.setRenderList(s),e.setRenderState(u),i.addEventListener("dispose",r),n(c.texture,i.mapping)}return null}}return i},dispose:function(){t=new WeakMap}}}function Ka(e){var t={};return{has:function(n){if(void 0!==t[n])return null!==t[n];var r;switch(n){case"WEBGL_depth_texture":r=e.getExtension("WEBGL_depth_texture")||e.getExtension("MOZ_WEBGL_depth_texture")||e.getExtension("WEBKIT_WEBGL_depth_texture");break;case"EXT_texture_filter_anisotropic":r=e.getExtension("EXT_texture_filter_anisotropic")||e.getExtension("MOZ_EXT_texture_filter_anisotropic")||e.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":r=e.getExtension("WEBGL_compressed_texture_s3tc")||e.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||e.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":r=e.getExtension("WEBGL_compressed_texture_pvrtc")||e.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;default:r=e.getExtension(n)}return t[n]=r,null!==r},get:function(e){return this.has(e)||console.warn("THREE.WebGLRenderer: "+e+" extension not supported."),t[e]}}}function Ja(e,t,n,r){var i=new WeakMap,a=new WeakMap;function o(e){var s=e.target,l=i.get(s);for(var u in null!==l.index&&t.remove(l.index),l.attributes)t.remove(l.attributes[u]);s.removeEventListener("dispose",o),i.delete(s);var c=a.get(l);c&&(t.remove(c),a.delete(l)),r.releaseStatesOfGeometry(l),!0===s.isInstancedBufferGeometry&&delete s._maxInstanceCount,n.memory.geometries--}function s(e){var n=[],r=e.index,i=e.attributes.position,o=0;if(null!==r){var s=r.array;o=r.version;for(var l=0,u=s.length;l<u;l+=3){var c=s[l+0],d=s[l+1],h=s[l+2];n.push(c,d,d,h,h,c)}}else{var f=i.array;o=i.version;for(var p=0,m=f.length/3-1;p<m;p+=3){var v=p+0,g=p+1,y=p+2;n.push(v,g,g,y,y,v)}}var b=new(Yi(n)>65535?Vi:zi)(n,1);b.version=o;var x=a.get(e);x&&t.remove(x),a.set(e,b)}return{get:function(e,t){var r=i.get(t);return r||(t.addEventListener("dispose",o),t.isBufferGeometry?r=t:t.isGeometry&&(void 0===t._bufferGeometry&&(t._bufferGeometry=(new ia).setFromObject(e)),r=t._bufferGeometry),i.set(t,r),n.memory.geometries++,r)},update:function(e){var n=e.attributes;for(var r in n)t.update(n[r],34962);var i=e.morphAttributes;for(var a in i)for(var o=i[a],s=0,l=o.length;s<l;s++)t.update(o[s],34962)},getWireframeAttribute:function(e){var t=a.get(e);if(t){var n=e.index;null!==n&&t.version<n.version&&s(e)}else s(e);return a.get(e)}}}function eo(e,t,n,r){var i,a,o,s=r.isWebGL2;this.setMode=function(e){i=e},this.setIndex=function(e){a=e.type,o=e.bytesPerElement},this.render=function(t,r){e.drawElements(i,r,a,t*o),n.update(r,i,1)},this.renderInstances=function(r,l,u){if(0!==u){var c,d;if(s)c=e,d="drawElementsInstanced";else if(d="drawElementsInstancedANGLE",null===(c=t.get("ANGLE_instanced_arrays")))return void console.error("THREE.WebGLIndexedBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");c[d](i,l,a,r*o,u),n.update(l,i,u)}}}function to(e){var t={frame:0,calls:0,triangles:0,points:0,lines:0};return{memory:{geometries:0,textures:0},render:t,programs:null,autoReset:!0,reset:function(){t.frame++,t.calls=0,t.triangles=0,t.points=0,t.lines=0},update:function(e,n,r){switch(t.calls++,n){case 4:t.triangles+=r*(e/3);break;case 1:t.lines+=r*(e/2);break;case 3:t.lines+=r*(e-1);break;case 2:t.lines+=r*e;break;case 0:t.points+=r*e;break;default:console.error("THREE.WebGLInfo: Unknown draw mode:",n)}}}}function no(e,t){return e[0]-t[0]}function ro(e,t){return Math.abs(t[1])-Math.abs(e[1])}function io(e){for(var t={},n=new Float32Array(8),r=[],i=0;i<8;i++)r[i]=[i,0];return{update:function(i,a,o,s){var l=i.morphTargetInfluences,u=void 0===l?0:l.length,c=t[a.id];if(void 0===c){c=[];for(var d=0;d<u;d++)c[d]=[d,0];t[a.id]=c}for(var h=0;h<u;h++){var f=c[h];f[0]=h,f[1]=l[h]}c.sort(ro);for(var p=0;p<8;p++)p<u&&c[p][1]?(r[p][0]=c[p][0],r[p][1]=c[p][1]):(r[p][0]=Number.MAX_SAFE_INTEGER,r[p][1]=0);r.sort(no);for(var m=o.morphTargets&&a.morphAttributes.position,v=o.morphNormals&&a.morphAttributes.normal,g=0,y=0;y<8;y++){var b=r[y],x=b[0],w=b[1];x!==Number.MAX_SAFE_INTEGER&&w?(m&&a.getAttribute("morphTarget"+y)!==m[x]&&a.setAttribute("morphTarget"+y,m[x]),v&&a.getAttribute("morphNormal"+y)!==v[x]&&a.setAttribute("morphNormal"+y,v[x]),n[y]=w,g+=w):(m&&!0===a.hasAttribute("morphTarget"+y)&&a.deleteAttribute("morphTarget"+y),v&&!0===a.hasAttribute("morphNormal"+y)&&a.deleteAttribute("morphNormal"+y),n[y]=0)}var M=a.morphTargetsRelative?1:1-g;s.getUniforms().setValue(e,"morphTargetBaseInfluence",M),s.getUniforms().setValue(e,"morphTargetInfluences",n)}}}function ao(e,t,n,r){var i=new WeakMap;return{update:function(e){var a=r.render.frame,o=e.geometry,s=t.get(e,o);return i.get(s)!==a&&(o.isGeometry&&s.updateFromObject(e),t.update(s),i.set(s,a)),e.isInstancedMesh&&(n.update(e.instanceMatrix,34962),null!==e.instanceColor&&n.update(e.instanceColor,34962)),s},dispose:function(){i=new WeakMap}}}function oo(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;nr.call(this,null),this.image={data:e,width:t,height:n,depth:r},this.magFilter=Se,this.minFilter=Se,this.wrapR=Me,this.generateMipmaps=!1,this.flipY=!1,this.needsUpdate=!0}function so(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;nr.call(this,null),this.image={data:e,width:t,height:n,depth:r},this.magFilter=Se,this.minFilter=Se,this.wrapR=Me,this.generateMipmaps=!1,this.flipY=!1,this.needsUpdate=!0}Wa.physical={uniforms:Aa([Wa.standard.uniforms,{clearcoat:{value:0},clearcoatMap:{value:null},clearcoatRoughness:{value:0},clearcoatRoughnessMap:{value:null},clearcoatNormalScale:{value:new Kn(1,1)},clearcoatNormalMap:{value:null},sheen:{value:new Oi(0)},transmission:{value:0},transmissionMap:{value:null}}]),vertexShader:Va.meshphysical_vert,fragmentShader:Va.meshphysical_frag},oo.prototype=Object.create(nr.prototype),oo.prototype.constructor=oo,oo.prototype.isDataTexture2DArray=!0,so.prototype=Object.create(nr.prototype),so.prototype.constructor=so,so.prototype.isDataTexture3D=!0;var lo=new nr,uo=new oo,co=new so,ho=new La,fo=[],po=[],mo=new Float32Array(16),vo=new Float32Array(9),go=new Float32Array(4);function yo(e,t,n){var r=e[0];if(r<=0||r>0)return e;var i=t*n,a=fo[i];if(void 0===a&&(a=new Float32Array(i),fo[i]=a),0!==t){r.toArray(a,0);for(var o=1,s=0;o!==t;++o)s+=n,e[o].toArray(a,s)}return a}function bo(e,t){if(e.length!==t.length)return!1;for(var n=0,r=e.length;n<r;n++)if(e[n]!==t[n])return!1;return!0}function xo(e,t){for(var n=0,r=t.length;n<r;n++)e[n]=t[n]}function wo(e,t){var n=po[t];void 0===n&&(n=new Int32Array(t),po[t]=n);for(var r=0;r!==t;++r)n[r]=e.allocateTextureUnit();return n}function Mo(e,t){var n=this.cache;n[0]!==t&&(e.uniform1f(this.addr,t),n[0]=t)}function _o(e,t){var n=this.cache;if(void 0!==t.x)n[0]===t.x&&n[1]===t.y||(e.uniform2f(this.addr,t.x,t.y),n[0]=t.x,n[1]=t.y);else{if(bo(n,t))return;e.uniform2fv(this.addr,t),xo(n,t)}}function So(e,t){var n=this.cache;if(void 0!==t.x)n[0]===t.x&&n[1]===t.y&&n[2]===t.z||(e.uniform3f(this.addr,t.x,t.y,t.z),n[0]=t.x,n[1]=t.y,n[2]=t.z);else if(void 0!==t.r)n[0]===t.r&&n[1]===t.g&&n[2]===t.b||(e.uniform3f(this.addr,t.r,t.g,t.b),n[0]=t.r,n[1]=t.g,n[2]=t.b);else{if(bo(n,t))return;e.uniform3fv(this.addr,t),xo(n,t)}}function Eo(e,t){var n=this.cache;if(void 0!==t.x)n[0]===t.x&&n[1]===t.y&&n[2]===t.z&&n[3]===t.w||(e.uniform4f(this.addr,t.x,t.y,t.z,t.w),n[0]=t.x,n[1]=t.y,n[2]=t.z,n[3]=t.w);else{if(bo(n,t))return;e.uniform4fv(this.addr,t),xo(n,t)}}function To(e,t){var n=this.cache,r=t.elements;if(void 0===r){if(bo(n,t))return;e.uniformMatrix2fv(this.addr,!1,t),xo(n,t)}else{if(bo(n,r))return;go.set(r),e.uniformMatrix2fv(this.addr,!1,go),xo(n,r)}}function Ao(e,t){var n=this.cache,r=t.elements;if(void 0===r){if(bo(n,t))return;e.uniformMatrix3fv(this.addr,!1,t),xo(n,t)}else{if(bo(n,r))return;vo.set(r),e.uniformMatrix3fv(this.addr,!1,vo),xo(n,r)}}function Ro(e,t){var n=this.cache,r=t.elements;if(void 0===r){if(bo(n,t))return;e.uniformMatrix4fv(this.addr,!1,t),xo(n,t)}else{if(bo(n,r))return;mo.set(r),e.uniformMatrix4fv(this.addr,!1,mo),xo(n,r)}}function Oo(e,t,n){var r=this.cache,i=n.allocateTextureUnit();r[0]!==i&&(e.uniform1i(this.addr,i),r[0]=i),n.safeSetTexture2D(t||lo,i)}function ko(e,t,n){var r=this.cache,i=n.allocateTextureUnit();r[0]!==i&&(e.uniform1i(this.addr,i),r[0]=i),n.setTexture2DArray(t||uo,i)}function Io(e,t,n){var r=this.cache,i=n.allocateTextureUnit();r[0]!==i&&(e.uniform1i(this.addr,i),r[0]=i),n.setTexture3D(t||co,i)}function Co(e,t,n){var r=this.cache,i=n.allocateTextureUnit();r[0]!==i&&(e.uniform1i(this.addr,i),r[0]=i),n.safeSetTextureCube(t||ho,i)}function Do(e,t){var n=this.cache;n[0]!==t&&(e.uniform1i(this.addr,t),n[0]=t)}function Lo(e,t){var n=this.cache;bo(n,t)||(e.uniform2iv(this.addr,t),xo(n,t))}function Po(e,t){var n=this.cache;bo(n,t)||(e.uniform3iv(this.addr,t),xo(n,t))}function No(e,t){var n=this.cache;bo(n,t)||(e.uniform4iv(this.addr,t),xo(n,t))}function jo(e,t){var n=this.cache;n[0]!==t&&(e.uniform1ui(this.addr,t),n[0]=t)}function Fo(e,t){e.uniform1fv(this.addr,t)}function Go(e,t){e.uniform1iv(this.addr,t)}function Uo(e,t){e.uniform2iv(this.addr,t)}function zo(e,t){e.uniform3iv(this.addr,t)}function Bo(e,t){e.uniform4iv(this.addr,t)}function Vo(e,t){var n=yo(t,this.size,2);e.uniform2fv(this.addr,n)}function Ho(e,t){var n=yo(t,this.size,3);e.uniform3fv(this.addr,n)}function Wo(e,t){var n=yo(t,this.size,4);e.uniform4fv(this.addr,n)}function Xo(e,t){var n=yo(t,this.size,4);e.uniformMatrix2fv(this.addr,!1,n)}function qo(e,t){var n=yo(t,this.size,9);e.uniformMatrix3fv(this.addr,!1,n)}function Yo(e,t){var n=yo(t,this.size,16);e.uniformMatrix4fv(this.addr,!1,n)}function Qo(e,t,n){var r=t.length,i=wo(n,r);e.uniform1iv(this.addr,i);for(var a=0;a!==r;++a)n.safeSetTexture2D(t[a]||lo,i[a])}function Zo(e,t,n){var r=t.length,i=wo(n,r);e.uniform1iv(this.addr,i);for(var a=0;a!==r;++a)n.safeSetTextureCube(t[a]||ho,i[a])}function $o(e,t,n){this.id=e,this.addr=n,this.cache=[],this.setValue=function(e){switch(e){case 5126:return Mo;case 35664:return _o;case 35665:return So;case 35666:return Eo;case 35674:return To;case 35675:return Ao;case 35676:return Ro;case 5124:case 35670:return Do;case 35667:case 35671:return Lo;case 35668:case 35672:return Po;case 35669:case 35673:return No;case 5125:return jo;case 35678:case 36198:case 36298:case 36306:case 35682:return Oo;case 35679:case 36299:case 36307:return Io;case 35680:case 36300:case 36308:case 36293:return Co;case 36289:case 36303:case 36311:case 36292:return ko}}(t.type)}function Ko(e,t,n){this.id=e,this.addr=n,this.cache=[],this.size=t.size,this.setValue=function(e){switch(e){case 5126:return Fo;case 35664:return Vo;case 35665:return Ho;case 35666:return Wo;case 35674:return Xo;case 35675:return qo;case 35676:return Yo;case 5124:case 35670:return Go;case 35667:case 35671:return Uo;case 35668:case 35672:return zo;case 35669:case 35673:return Bo;case 35678:case 36198:case 36298:case 36306:case 35682:return Qo;case 35680:case 36300:case 36308:case 36293:return Zo}}(t.type)}function Jo(e){this.id=e,this.seq=[],this.map={}}Ko.prototype.updateCache=function(e){var t=this.cache;e instanceof Float32Array&&t.length!==e.length&&(this.cache=new Float32Array(e.length)),xo(t,e)},Jo.prototype.setValue=function(e,t,n){for(var r=this.seq,i=0,a=r.length;i!==a;++i){var o=r[i];o.setValue(e,t[o.id],n)}};var es=/([\w\d_]+)(\])?(\[|\.)?/g;function ts(e,t){e.seq.push(t),e.map[t.id]=t}function ns(e,t,n){var r=e.name,i=r.length;for(es.lastIndex=0;;){var a=es.exec(r),o=es.lastIndex,s=a[1],l="]"===a[2],u=a[3];if(l&&(s|=0),void 0===u||"["===u&&o+2===i){ts(n,void 0===u?new $o(s,e,t):new Ko(s,e,t));break}var c=n.map[s];void 0===c&&ts(n,c=new Jo(s)),n=c}}function rs(e,t){this.seq=[],this.map={};for(var n=e.getProgramParameter(t,35718),r=0;r<n;++r){var i=e.getActiveUniform(t,r);ns(i,e.getUniformLocation(t,i.name),this)}}function is(e,t,n){var r=e.createShader(t);return e.shaderSource(r,n),e.compileShader(r),r}rs.prototype.setValue=function(e,t,n,r){var i=this.map[t];void 0!==i&&i.setValue(e,n,r)},rs.prototype.setOptional=function(e,t,n){var r=t[n];void 0!==r&&this.setValue(e,n,r)},rs.upload=function(e,t,n,r){for(var i=0,a=t.length;i!==a;++i){var o=t[i],s=n[o.id];!1!==s.needsUpdate&&o.setValue(e,s.value,r)}},rs.seqWithValue=function(e,t){for(var n=[],r=0,i=e.length;r!==i;++r){var a=e[r];a.id in t&&n.push(a)}return n};var as=0;function os(e){switch(e){case sn:return["Linear","( value )"];case ln:return["sRGB","( value )"];case cn:return["RGBE","( value )"];case hn:return["RGBM","( value, 7.0 )"];case fn:return["RGBM","( value, 16.0 )"];case pn:return["RGBD","( value, 256.0 )"];case un:return["Gamma","( value, float( GAMMA_FACTOR ) )"];case dn:return["LogLuv","( value )"];default:return console.warn("THREE.WebGLProgram: Unsupported encoding:",e),["Linear","( value )"]}}function ss(e,t,n){var r=e.getShaderParameter(t,35713),i=e.getShaderInfoLog(t).trim();return r&&""===i?"":"THREE.WebGLShader: gl.getShaderInfoLog() "+n+"\n"+i+function(e){for(var t=e.split("\n"),n=0;n<t.length;n++)t[n]=n+1+": "+t[n];return t.join("\n")}(e.getShaderSource(t))}function ls(e,t){var n=os(t);return"vec4 "+e+"( vec4 value ) { return "+n[0]+"ToLinear"+n[1]+"; }"}function us(e,t){var n=os(t);return"vec4 "+e+"( vec4 value ) { return LinearTo"+n[0]+n[1]+"; }"}function cs(e,t){var n;switch(t){case ue:n="Linear";break;case ce:n="Reinhard";break;case de:n="OptimizedCineon";break;case he:n="ACESFilmic";break;case fe:n="Custom";break;default:console.warn("THREE.WebGLProgram: Unsupported toneMapping:",t),n="Linear"}return"vec3 "+e+"( vec3 color ) { return "+n+"ToneMapping( color ); }"}function ds(e){return""!==e}function hs(e,t){return e.replace(/NUM_DIR_LIGHTS/g,t.numDirLights).replace(/NUM_SPOT_LIGHTS/g,t.numSpotLights).replace(/NUM_RECT_AREA_LIGHTS/g,t.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,t.numPointLights).replace(/NUM_HEMI_LIGHTS/g,t.numHemiLights).replace(/NUM_DIR_LIGHT_SHADOWS/g,t.numDirLightShadows).replace(/NUM_SPOT_LIGHT_SHADOWS/g,t.numSpotLightShadows).replace(/NUM_POINT_LIGHT_SHADOWS/g,t.numPointLightShadows)}function fs(e,t){return e.replace(/NUM_CLIPPING_PLANES/g,t.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,t.numClippingPlanes-t.numClipIntersection)}var ps=/^[ \t]*#include +<([\w\d./]+)>/gm;function ms(e){return e.replace(ps,vs)}function vs(e,t){var n=Va[t];if(void 0===n)throw new Error("Can not resolve #include <"+t+">");return ms(n)}var gs=/#pragma unroll_loop[\s]+?for \( int i \= (\d+)\; i < (\d+)\; i \+\+ \) \{([\s\S]+?)(?=\})\}/g,ys=/#pragma unroll_loop_start\s+for\s*\(\s*int\s+i\s*=\s*(\d+)\s*;\s*i\s*<\s*(\d+)\s*;\s*i\s*\+\+\s*\)\s*{([\s\S]+?)}\s+#pragma unroll_loop_end/g;function bs(e){return e.replace(ys,ws).replace(gs,xs)}function xs(e,t,n,r){return console.warn("WebGLProgram: #pragma unroll_loop shader syntax is deprecated. Please use #pragma unroll_loop_start syntax instead."),ws(e,t,n,r)}function ws(e,t,n,r){for(var i="",a=parseInt(t);a<parseInt(n);a++)i+=r.replace(/\[\s*i\s*\]/g,"[ "+a+" ]").replace(/UNROLLED_LOOP_INDEX/g,a);return i}function Ms(e){var t="precision "+e.precision+" float;\nprecision "+e.precision+" int;";return"highp"===e.precision?t+="\n#define HIGH_PRECISION":"mediump"===e.precision?t+="\n#define MEDIUM_PRECISION":"lowp"===e.precision&&(t+="\n#define LOW_PRECISION"),t}function _s(e,t,n,r){var i,a,o=e.getContext(),s=n.defines,l=n.vertexShader,u=n.fragmentShader,c=function(e){var t="SHADOWMAP_TYPE_BASIC";return e.shadowMapType===w?t="SHADOWMAP_TYPE_PCF":e.shadowMapType===M?t="SHADOWMAP_TYPE_PCF_SOFT":e.shadowMapType===_&&(t="SHADOWMAP_TYPE_VSM"),t}(n),d=function(e){var t="ENVMAP_TYPE_CUBE";if(e.envMap)switch(e.envMapMode){case me:case ve:t="ENVMAP_TYPE_CUBE";break;case be:case xe:t="ENVMAP_TYPE_CUBE_UV"}return t}(n),h=function(e){var t="ENVMAP_MODE_REFLECTION";if(e.envMap)switch(e.envMapMode){case ve:case xe:t="ENVMAP_MODE_REFRACTION"}return t}(n),f=function(e){var t="ENVMAP_BLENDING_NONE";if(e.envMap)switch(e.combine){case ae:t="ENVMAP_BLENDING_MULTIPLY";break;case oe:t="ENVMAP_BLENDING_MIX";break;case se:t="ENVMAP_BLENDING_ADD"}return t}(n),p=e.gammaFactor>0?e.gammaFactor:1,m=n.isWebGL2?"":function(e){return[e.extensionDerivatives||e.envMapCubeUV||e.bumpMap||e.tangentSpaceNormalMap||e.clearcoatNormalMap||e.flatShading||"physical"===e.shaderID?"#extension GL_OES_standard_derivatives : enable":"",(e.extensionFragDepth||e.logarithmicDepthBuffer)&&e.rendererExtensionFragDepth?"#extension GL_EXT_frag_depth : enable":"",e.extensionDrawBuffers&&e.rendererExtensionDrawBuffers?"#extension GL_EXT_draw_buffers : require":"",(e.extensionShaderTextureLOD||e.envMap)&&e.rendererExtensionShaderTextureLod?"#extension GL_EXT_shader_texture_lod : enable":""].filter(ds).join("\n")}(n),v=function(e){var t=[];for(var n in e){var r=e[n];!1!==r&&t.push("#define "+n+" "+r)}return t.join("\n")}(s),g=o.createProgram(),y=n.glslVersion?"#version "+n.glslVersion+"\n":"";n.isRawShaderMaterial?((i=[v].filter(ds).join("\n")).length>0&&(i+="\n"),(a=[m,v].filter(ds).join("\n")).length>0&&(a+="\n")):(i=[Ms(n),"#define SHADER_NAME "+n.shaderName,v,n.instancing?"#define USE_INSTANCING":"",n.instancingColor?"#define USE_INSTANCING_COLOR":"",n.supportsVertexTextures?"#define VERTEX_TEXTURES":"","#define GAMMA_FACTOR "+p,"#define MAX_BONES "+n.maxBones,n.useFog&&n.fog?"#define USE_FOG":"",n.useFog&&n.fogExp2?"#define FOG_EXP2":"",n.map?"#define USE_MAP":"",n.envMap?"#define USE_ENVMAP":"",n.envMap?"#define "+h:"",n.lightMap?"#define USE_LIGHTMAP":"",n.aoMap?"#define USE_AOMAP":"",n.emissiveMap?"#define USE_EMISSIVEMAP":"",n.bumpMap?"#define USE_BUMPMAP":"",n.normalMap?"#define USE_NORMALMAP":"",n.normalMap&&n.objectSpaceNormalMap?"#define OBJECTSPACE_NORMALMAP":"",n.normalMap&&n.tangentSpaceNormalMap?"#define TANGENTSPACE_NORMALMAP":"",n.clearcoatMap?"#define USE_CLEARCOATMAP":"",n.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",n.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",n.displacementMap&&n.supportsVertexTextures?"#define USE_DISPLACEMENTMAP":"",n.specularMap?"#define USE_SPECULARMAP":"",n.roughnessMap?"#define USE_ROUGHNESSMAP":"",n.metalnessMap?"#define USE_METALNESSMAP":"",n.alphaMap?"#define USE_ALPHAMAP":"",n.transmissionMap?"#define USE_TRANSMISSIONMAP":"",n.vertexTangents?"#define USE_TANGENT":"",n.vertexColors?"#define USE_COLOR":"",n.vertexUvs?"#define USE_UV":"",n.uvsVertexOnly?"#define UVS_VERTEX_ONLY":"",n.flatShading?"#define FLAT_SHADED":"",n.skinning?"#define USE_SKINNING":"",n.useVertexTexture?"#define BONE_TEXTURE":"",n.morphTargets?"#define USE_MORPHTARGETS":"",n.morphNormals&&!1===n.flatShading?"#define USE_MORPHNORMALS":"",n.doubleSided?"#define DOUBLE_SIDED":"",n.flipSided?"#define FLIP_SIDED":"",n.shadowMapEnabled?"#define USE_SHADOWMAP":"",n.shadowMapEnabled?"#define "+c:"",n.sizeAttenuation?"#define USE_SIZEATTENUATION":"",n.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",n.logarithmicDepthBuffer&&n.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;","#ifdef USE_INSTANCING","\tattribute mat4 instanceMatrix;","#endif","#ifdef USE_INSTANCING_COLOR","\tattribute vec3 instanceColor;","#endif","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_TANGENT","\tattribute vec4 tangent;","#endif","#ifdef USE_COLOR","\tattribute vec3 color;","#endif","#ifdef USE_MORPHTARGETS","\tattribute vec3 morphTarget0;","\tattribute vec3 morphTarget1;","\tattribute vec3 morphTarget2;","\tattribute vec3 morphTarget3;","\t#ifdef USE_MORPHNORMALS","\t\tattribute vec3 morphNormal0;","\t\tattribute vec3 morphNormal1;","\t\tattribute vec3 morphNormal2;","\t\tattribute vec3 morphNormal3;","\t#else","\t\tattribute vec3 morphTarget4;","\t\tattribute vec3 morphTarget5;","\t\tattribute vec3 morphTarget6;","\t\tattribute vec3 morphTarget7;","\t#endif","#endif","#ifdef USE_SKINNING","\tattribute vec4 skinIndex;","\tattribute vec4 skinWeight;","#endif","\n"].filter(ds).join("\n"),a=[m,Ms(n),"#define SHADER_NAME "+n.shaderName,v,n.alphaTest?"#define ALPHATEST "+n.alphaTest+(n.alphaTest%1?"":".0"):"","#define GAMMA_FACTOR "+p,n.useFog&&n.fog?"#define USE_FOG":"",n.useFog&&n.fogExp2?"#define FOG_EXP2":"",n.map?"#define USE_MAP":"",n.matcap?"#define USE_MATCAP":"",n.envMap?"#define USE_ENVMAP":"",n.envMap?"#define "+d:"",n.envMap?"#define "+h:"",n.envMap?"#define "+f:"",n.lightMap?"#define USE_LIGHTMAP":"",n.aoMap?"#define USE_AOMAP":"",n.emissiveMap?"#define USE_EMISSIVEMAP":"",n.bumpMap?"#define USE_BUMPMAP":"",n.normalMap?"#define USE_NORMALMAP":"",n.normalMap&&n.objectSpaceNormalMap?"#define OBJECTSPACE_NORMALMAP":"",n.normalMap&&n.tangentSpaceNormalMap?"#define TANGENTSPACE_NORMALMAP":"",n.clearcoatMap?"#define USE_CLEARCOATMAP":"",n.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",n.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",n.specularMap?"#define USE_SPECULARMAP":"",n.roughnessMap?"#define USE_ROUGHNESSMAP":"",n.metalnessMap?"#define USE_METALNESSMAP":"",n.alphaMap?"#define USE_ALPHAMAP":"",n.sheen?"#define USE_SHEEN":"",n.transmissionMap?"#define USE_TRANSMISSIONMAP":"",n.vertexTangents?"#define USE_TANGENT":"",n.vertexColors||n.instancingColor?"#define USE_COLOR":"",n.vertexUvs?"#define USE_UV":"",n.uvsVertexOnly?"#define UVS_VERTEX_ONLY":"",n.gradientMap?"#define USE_GRADIENTMAP":"",n.flatShading?"#define FLAT_SHADED":"",n.doubleSided?"#define DOUBLE_SIDED":"",n.flipSided?"#define FLIP_SIDED":"",n.shadowMapEnabled?"#define USE_SHADOWMAP":"",n.shadowMapEnabled?"#define "+c:"",n.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",n.physicallyCorrectLights?"#define PHYSICALLY_CORRECT_LIGHTS":"",n.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",n.logarithmicDepthBuffer&&n.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"",(n.extensionShaderTextureLOD||n.envMap)&&n.rendererExtensionShaderTextureLod?"#define TEXTURE_LOD_EXT":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;",n.toneMapping!==le?"#define TONE_MAPPING":"",n.toneMapping!==le?Va.tonemapping_pars_fragment:"",n.toneMapping!==le?cs("toneMapping",n.toneMapping):"",n.dithering?"#define DITHERING":"",Va.encodings_pars_fragment,n.map?ls("mapTexelToLinear",n.mapEncoding):"",n.matcap?ls("matcapTexelToLinear",n.matcapEncoding):"",n.envMap?ls("envMapTexelToLinear",n.envMapEncoding):"",n.emissiveMap?ls("emissiveMapTexelToLinear",n.emissiveMapEncoding):"",n.lightMap?ls("lightMapTexelToLinear",n.lightMapEncoding):"",us("linearToOutputTexel",n.outputEncoding),n.depthPacking?"#define DEPTH_PACKING "+n.depthPacking:"","\n"].filter(ds).join("\n")),l=fs(l=hs(l=ms(l),n),n),u=fs(u=hs(u=ms(u),n),n),l=bs(l),u=bs(u),n.isWebGL2&&!0!==n.isRawShaderMaterial&&(y="#version 300 es\n",i=["#define attribute in","#define varying out","#define texture2D texture"].join("\n")+"\n"+i,a=["#define varying in",n.glslVersion===Wn?"":"out highp vec4 pc_fragColor;",n.glslVersion===Wn?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth","#define texture2D texture","#define textureCube texture","#define texture2DProj textureProj","#define texture2DLodEXT textureLod","#define texture2DProjLodEXT textureProjLod","#define textureCubeLodEXT textureLod","#define texture2DGradEXT textureGrad","#define texture2DProjGradEXT textureProjGrad","#define textureCubeGradEXT textureGrad"].join("\n")+"\n"+a);var b,x,S=y+a+u,E=is(o,35633,y+i+l),T=is(o,35632,S);if(o.attachShader(g,E),o.attachShader(g,T),void 0!==n.index0AttributeName?o.bindAttribLocation(g,0,n.index0AttributeName):!0===n.morphTargets&&o.bindAttribLocation(g,0,"position"),o.linkProgram(g),e.debug.checkShaderErrors){var A=o.getProgramInfoLog(g).trim(),R=o.getShaderInfoLog(E).trim(),O=o.getShaderInfoLog(T).trim(),k=!0,I=!0;if(!1===o.getProgramParameter(g,35714)){k=!1;var C=ss(o,E,"vertex"),D=ss(o,T,"fragment");console.error("THREE.WebGLProgram: shader error: ",o.getError(),"35715",o.getProgramParameter(g,35715),"gl.getProgramInfoLog",A,C,D)}else""!==A?console.warn("THREE.WebGLProgram: gl.getProgramInfoLog()",A):""!==R&&""!==O||(I=!1);I&&(this.diagnostics={runnable:k,programLog:A,vertexShader:{log:R,prefix:i},fragmentShader:{log:O,prefix:a}})}return o.deleteShader(E),o.deleteShader(T),this.getUniforms=function(){return void 0===b&&(b=new rs(o,g)),b},this.getAttributes=function(){return void 0===x&&(x=function(e,t){for(var n={},r=e.getProgramParameter(t,35721),i=0;i<r;i++){var a=e.getActiveAttrib(t,i).name;n[a]=e.getAttribLocation(t,a)}return n}(o,g)),x},this.destroy=function(){r.releaseStatesOfProgram(this),o.deleteProgram(g),this.program=void 0},this.name=n.shaderName,this.id=as++,this.cacheKey=t,this.usedTimes=1,this.program=g,this.vertexShader=E,this.fragmentShader=T,this}function Ss(e,t,n,r,i,a){var o=[],s=r.isWebGL2,l=r.logarithmicDepthBuffer,u=r.floatVertexTextures,c=r.maxVertexUniforms,d=r.vertexTextures,h=r.precision,f={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"toon",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"},p=["precision","isWebGL2","supportsVertexTextures","outputEncoding","instancing","instancingColor","map","mapEncoding","matcap","matcapEncoding","envMap","envMapMode","envMapEncoding","envMapCubeUV","lightMap","lightMapEncoding","aoMap","emissiveMap","emissiveMapEncoding","bumpMap","normalMap","objectSpaceNormalMap","tangentSpaceNormalMap","clearcoatMap","clearcoatRoughnessMap","clearcoatNormalMap","displacementMap","specularMap","roughnessMap","metalnessMap","gradientMap","alphaMap","combine","vertexColors","vertexTangents","vertexUvs","uvsVertexOnly","fog","useFog","fogExp2","flatShading","sizeAttenuation","logarithmicDepthBuffer","skinning","maxBones","useVertexTexture","morphTargets","morphNormals","maxMorphTargets","maxMorphNormals","premultipliedAlpha","numDirLights","numPointLights","numSpotLights","numHemiLights","numRectAreaLights","numDirLightShadows","numPointLightShadows","numSpotLightShadows","shadowMapEnabled","shadowMapType","toneMapping","physicallyCorrectLights","alphaTest","doubleSided","flipSided","numClippingPlanes","numClipIntersection","depthPacking","dithering","sheen","transmissionMap"];function m(e){var t;return e?e.isTexture?t=e.encoding:e.isWebGLRenderTarget&&(console.warn("THREE.WebGLPrograms.getTextureEncodingFromMap: don't use render targets as textures. Use their .texture property instead."),t=e.texture.encoding):t=sn,t}return{getParameters:function(i,o,p,v,g){var y,b,x=v.fog,w=i.isMeshStandardMaterial?v.environment:null,M=t.get(i.envMap||w),_=f[i.type],S=g.isSkinnedMesh?function(e){var t=e.skeleton.bones;if(u)return 1024;var n=c,r=Math.floor((n-20)/4),i=Math.min(r,t.length);return i<t.length?(console.warn("THREE.WebGLRenderer: Skeleton has "+t.length+" bones. This GPU supports "+i+"."),0):i}(g):0;if(null!==i.precision&&(h=r.getMaxPrecision(i.precision))!==i.precision&&console.warn("THREE.WebGLProgram.getParameters:",i.precision,"not supported, using",h,"instead."),_){var A=Wa[_];y=A.vertexShader,b=A.fragmentShader}else y=i.vertexShader,b=i.fragmentShader;var R=e.getRenderTarget();return{isWebGL2:s,shaderID:_,shaderName:i.type,vertexShader:y,fragmentShader:b,defines:i.defines,isRawShaderMaterial:!0===i.isRawShaderMaterial,glslVersion:i.glslVersion,precision:h,instancing:!0===g.isInstancedMesh,instancingColor:!0===g.isInstancedMesh&&null!==g.instanceColor,supportsVertexTextures:d,outputEncoding:null!==R?m(R.texture):e.outputEncoding,map:!!i.map,mapEncoding:m(i.map),matcap:!!i.matcap,matcapEncoding:m(i.matcap),envMap:!!M,envMapMode:M&&M.mapping,envMapEncoding:m(M),envMapCubeUV:!!M&&(M.mapping===be||M.mapping===xe),lightMap:!!i.lightMap,lightMapEncoding:m(i.lightMap),aoMap:!!i.aoMap,emissiveMap:!!i.emissiveMap,emissiveMapEncoding:m(i.emissiveMap),bumpMap:!!i.bumpMap,normalMap:!!i.normalMap,objectSpaceNormalMap:i.normalMapType===yn,tangentSpaceNormalMap:i.normalMapType===gn,clearcoatMap:!!i.clearcoatMap,clearcoatRoughnessMap:!!i.clearcoatRoughnessMap,clearcoatNormalMap:!!i.clearcoatNormalMap,displacementMap:!!i.displacementMap,roughnessMap:!!i.roughnessMap,metalnessMap:!!i.metalnessMap,specularMap:!!i.specularMap,alphaMap:!!i.alphaMap,gradientMap:!!i.gradientMap,sheen:!!i.sheen,transmissionMap:!!i.transmissionMap,combine:i.combine,vertexTangents:i.normalMap&&i.vertexTangents,vertexColors:i.vertexColors,vertexUvs:!!i.map||!!i.bumpMap||!!i.normalMap||!!i.specularMap||!!i.alphaMap||!!i.emissiveMap||!!i.roughnessMap||!!i.metalnessMap||!!i.clearcoatMap||!!i.clearcoatRoughnessMap||!!i.clearcoatNormalMap||!!i.displacementMap||!!i.transmissionMap,uvsVertexOnly:!(i.map||i.bumpMap||i.normalMap||i.specularMap||i.alphaMap||i.emissiveMap||i.roughnessMap||i.metalnessMap||i.clearcoatNormalMap||i.transmissionMap)&&!!i.displacementMap,fog:!!x,useFog:i.fog,fogExp2:x&&x.isFogExp2,flatShading:i.flatShading,sizeAttenuation:i.sizeAttenuation,logarithmicDepthBuffer:l,skinning:i.skinning&&S>0,maxBones:S,useVertexTexture:u,morphTargets:i.morphTargets,morphNormals:i.morphNormals,maxMorphTargets:e.maxMorphTargets,maxMorphNormals:e.maxMorphNormals,numDirLights:o.directional.length,numPointLights:o.point.length,numSpotLights:o.spot.length,numRectAreaLights:o.rectArea.length,numHemiLights:o.hemi.length,numDirLightShadows:o.directionalShadowMap.length,numPointLightShadows:o.pointShadowMap.length,numSpotLightShadows:o.spotShadowMap.length,numClippingPlanes:a.numPlanes,numClipIntersection:a.numIntersection,dithering:i.dithering,shadowMapEnabled:e.shadowMap.enabled&&p.length>0,shadowMapType:e.shadowMap.type,toneMapping:i.toneMapped?e.toneMapping:le,physicallyCorrectLights:e.physicallyCorrectLights,premultipliedAlpha:i.premultipliedAlpha,alphaTest:i.alphaTest,doubleSided:i.side===T,flipSided:i.side===E,depthPacking:void 0!==i.depthPacking&&i.depthPacking,index0AttributeName:i.index0AttributeName,extensionDerivatives:i.extensions&&i.extensions.derivatives,extensionFragDepth:i.extensions&&i.extensions.fragDepth,extensionDrawBuffers:i.extensions&&i.extensions.drawBuffers,extensionShaderTextureLOD:i.extensions&&i.extensions.shaderTextureLOD,rendererExtensionFragDepth:s||n.has("EXT_frag_depth"),rendererExtensionDrawBuffers:s||n.has("WEBGL_draw_buffers"),rendererExtensionShaderTextureLod:s||n.has("EXT_shader_texture_lod"),customProgramCacheKey:i.customProgramCacheKey()}},getProgramCacheKey:function(t){var n=[];if(t.shaderID?n.push(t.shaderID):(n.push(t.fragmentShader),n.push(t.vertexShader)),void 0!==t.defines)for(var r in t.defines)n.push(r),n.push(t.defines[r]);if(!1===t.isRawShaderMaterial){for(var i=0;i<p.length;i++)n.push(t[p[i]]);n.push(e.outputEncoding),n.push(e.gammaFactor)}return n.push(t.customProgramCacheKey),n.join()},getUniforms:function(e){var t,n=f[e.type];if(n){var r=Wa[n];t=Ra.clone(r.uniforms)}else t=e.uniforms;return t},acquireProgram:function(t,n){for(var r,a=0,s=o.length;a<s;a++){var l=o[a];if(l.cacheKey===n){++(r=l).usedTimes;break}}return void 0===r&&(r=new _s(e,n,t,i),o.push(r)),r},releaseProgram:function(e){if(0===--e.usedTimes){var t=o.indexOf(e);o[t]=o[o.length-1],o.pop(),e.destroy()}},programs:o}}function Es(){var e=new WeakMap;return{get:function(t){var n=e.get(t);return void 0===n&&(n={},e.set(t,n)),n},remove:function(t){e.delete(t)},update:function(t,n,r){e.get(t)[n]=r},dispose:function(){e=new WeakMap}}}function Ts(e,t){return e.groupOrder!==t.groupOrder?e.groupOrder-t.groupOrder:e.renderOrder!==t.renderOrder?e.renderOrder-t.renderOrder:e.program!==t.program?e.program.id-t.program.id:e.material.id!==t.material.id?e.material.id-t.material.id:e.z!==t.z?e.z-t.z:e.id-t.id}function As(e,t){return e.groupOrder!==t.groupOrder?e.groupOrder-t.groupOrder:e.renderOrder!==t.renderOrder?e.renderOrder-t.renderOrder:e.z!==t.z?t.z-e.z:e.id-t.id}function Rs(e){var t=[],n=0,r=[],i=[],a={id:-1};function o(r,i,o,s,l,u){var c=t[n],d=e.get(o);return void 0===c?(c={id:r.id,object:r,geometry:i,material:o,program:d.program||a,groupOrder:s,renderOrder:r.renderOrder,z:l,group:u},t[n]=c):(c.id=r.id,c.object=r,c.geometry=i,c.material=o,c.program=d.program||a,c.groupOrder=s,c.renderOrder=r.renderOrder,c.z=l,c.group=u),n++,c}return{opaque:r,transparent:i,init:function(){n=0,r.length=0,i.length=0},push:function(e,t,n,a,s,l){var u=o(e,t,n,a,s,l);(!0===n.transparent?i:r).push(u)},unshift:function(e,t,n,a,s,l){var u=o(e,t,n,a,s,l);(!0===n.transparent?i:r).unshift(u)},finish:function(){for(var e=n,r=t.length;e<r;e++){var i=t[e];if(null===i.id)break;i.id=null,i.object=null,i.geometry=null,i.material=null,i.program=null,i.group=null}},sort:function(e,t){r.length>1&&r.sort(e||Ts),i.length>1&&i.sort(t||As)}}}function Os(e){var t=new WeakMap;return{get:function(n,r){var i,a=t.get(n);return void 0===a?(i=new Rs(e),t.set(n,new WeakMap),t.get(n).set(r,i)):void 0===(i=a.get(r))&&(i=new Rs(e),a.set(r,i)),i},dispose:function(){t=new WeakMap}}}function ks(){var e={};return{get:function(t){if(void 0!==e[t.id])return e[t.id];var n;switch(t.type){case"DirectionalLight":n={direction:new lr,color:new Oi};break;case"SpotLight":n={position:new lr,direction:new lr,color:new Oi,distance:0,coneCos:0,penumbraCos:0,decay:0};break;case"PointLight":n={position:new lr,color:new Oi,distance:0,decay:0};break;case"HemisphereLight":n={direction:new lr,skyColor:new Oi,groundColor:new Oi};break;case"RectAreaLight":n={color:new Oi,position:new lr,halfWidth:new lr,halfHeight:new lr}}return e[t.id]=n,n}}}var Is=0;function Cs(e,t){return(t.castShadow?1:0)-(e.castShadow?1:0)}function Ds(e,t){for(var n=new ks,r=function(){var e={};return{get:function(t){if(void 0!==e[t.id])return e[t.id];var n;switch(t.type){case"DirectionalLight":case"SpotLight":n={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Kn};break;case"PointLight":n={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Kn,shadowCameraNear:1,shadowCameraFar:1e3}}return e[t.id]=n,n}}}(),i={version:0,hash:{directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,numDirectionalShadows:-1,numPointShadows:-1,numSpotShadows:-1},ambient:[0,0,0],probe:[],directional:[],directionalShadow:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotShadow:[],spotShadowMap:[],spotShadowMatrix:[],rectArea:[],rectAreaLTC1:null,rectAreaLTC2:null,point:[],pointShadow:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[]},a=0;a<9;a++)i.probe.push(new lr);var o=new lr,s=new Nr,l=new Nr;return{setup:function(a,u,c){for(var d=0,h=0,f=0,p=0;p<9;p++)i.probe[p].set(0,0,0);var m=0,v=0,g=0,y=0,b=0,x=0,w=0,M=0,_=c.matrixWorldInverse;a.sort(Cs);for(var S=0,E=a.length;S<E;S++){var T=a[S],A=T.color,R=T.intensity,O=T.distance,k=T.shadow&&T.shadow.map?T.shadow.map.texture:null;if(T.isAmbientLight)d+=A.r*R,h+=A.g*R,f+=A.b*R;else if(T.isLightProbe)for(var I=0;I<9;I++)i.probe[I].addScaledVector(T.sh.coefficients[I],R);else if(T.isDirectionalLight){var C=n.get(T);if(C.color.copy(T.color).multiplyScalar(T.intensity),C.direction.setFromMatrixPosition(T.matrixWorld),o.setFromMatrixPosition(T.target.matrixWorld),C.direction.sub(o),C.direction.transformDirection(_),T.castShadow){var D=T.shadow,L=r.get(T);L.shadowBias=D.bias,L.shadowNormalBias=D.normalBias,L.shadowRadius=D.radius,L.shadowMapSize=D.mapSize,i.directionalShadow[m]=L,i.directionalShadowMap[m]=k,i.directionalShadowMatrix[m]=T.shadow.matrix,x++}i.directional[m]=C,m++}else if(T.isSpotLight){var P=n.get(T);if(P.position.setFromMatrixPosition(T.matrixWorld),P.position.applyMatrix4(_),P.color.copy(A).multiplyScalar(R),P.distance=O,P.direction.setFromMatrixPosition(T.matrixWorld),o.setFromMatrixPosition(T.target.matrixWorld),P.direction.sub(o),P.direction.transformDirection(_),P.coneCos=Math.cos(T.angle),P.penumbraCos=Math.cos(T.angle*(1-T.penumbra)),P.decay=T.decay,T.castShadow){var N=T.shadow,j=r.get(T);j.shadowBias=N.bias,j.shadowNormalBias=N.normalBias,j.shadowRadius=N.radius,j.shadowMapSize=N.mapSize,i.spotShadow[g]=j,i.spotShadowMap[g]=k,i.spotShadowMatrix[g]=T.shadow.matrix,M++}i.spot[g]=P,g++}else if(T.isRectAreaLight){var F=n.get(T);F.color.copy(A).multiplyScalar(R),F.position.setFromMatrixPosition(T.matrixWorld),F.position.applyMatrix4(_),l.identity(),s.copy(T.matrixWorld),s.premultiply(_),l.extractRotation(s),F.halfWidth.set(.5*T.width,0,0),F.halfHeight.set(0,.5*T.height,0),F.halfWidth.applyMatrix4(l),F.halfHeight.applyMatrix4(l),i.rectArea[y]=F,y++}else if(T.isPointLight){var G=n.get(T);if(G.position.setFromMatrixPosition(T.matrixWorld),G.position.applyMatrix4(_),G.color.copy(T.color).multiplyScalar(T.intensity),G.distance=T.distance,G.decay=T.decay,T.castShadow){var U=T.shadow,z=r.get(T);z.shadowBias=U.bias,z.shadowNormalBias=U.normalBias,z.shadowRadius=U.radius,z.shadowMapSize=U.mapSize,z.shadowCameraNear=U.camera.near,z.shadowCameraFar=U.camera.far,i.pointShadow[v]=z,i.pointShadowMap[v]=k,i.pointShadowMatrix[v]=T.shadow.matrix,w++}i.point[v]=G,v++}else if(T.isHemisphereLight){var B=n.get(T);B.direction.setFromMatrixPosition(T.matrixWorld),B.direction.transformDirection(_),B.direction.normalize(),B.skyColor.copy(T.color).multiplyScalar(R),B.groundColor.copy(T.groundColor).multiplyScalar(R),i.hemi[b]=B,b++}}y>0&&(t.isWebGL2||!0===e.has("OES_texture_float_linear")?(i.rectAreaLTC1=Ha.LTC_FLOAT_1,i.rectAreaLTC2=Ha.LTC_FLOAT_2):!0===e.has("OES_texture_half_float_linear")?(i.rectAreaLTC1=Ha.LTC_HALF_1,i.rectAreaLTC2=Ha.LTC_HALF_2):console.error("THREE.WebGLRenderer: Unable to use RectAreaLight. Missing WebGL extensions.")),i.ambient[0]=d,i.ambient[1]=h,i.ambient[2]=f;var V=i.hash;V.directionalLength===m&&V.pointLength===v&&V.spotLength===g&&V.rectAreaLength===y&&V.hemiLength===b&&V.numDirectionalShadows===x&&V.numPointShadows===w&&V.numSpotShadows===M||(i.directional.length=m,i.spot.length=g,i.rectArea.length=y,i.point.length=v,i.hemi.length=b,i.directionalShadow.length=x,i.directionalShadowMap.length=x,i.pointShadow.length=w,i.pointShadowMap.length=w,i.spotShadow.length=M,i.spotShadowMap.length=M,i.directionalShadowMatrix.length=x,i.pointShadowMatrix.length=w,i.spotShadowMatrix.length=M,V.directionalLength=m,V.pointLength=v,V.spotLength=g,V.rectAreaLength=y,V.hemiLength=b,V.numDirectionalShadows=x,V.numPointShadows=w,V.numSpotShadows=M,i.version=Is++)},state:i}}function Ls(e,t){var n=new Ds(e,t),r=[],i=[];return{init:function(){r.length=0,i.length=0},state:{lightsArray:r,shadowsArray:i,lights:n},setupLights:function(e){n.setup(r,i,e)},pushLight:function(e){r.push(e)},pushShadow:function(e){i.push(e)}}}function Ps(e,t){var n=new WeakMap;return{get:function(r,i){var a;return!1===n.has(r)?(a=new Ls(e,t),n.set(r,new WeakMap),n.get(r).set(i,a)):!1===n.get(r).has(i)?(a=new Ls(e,t),n.get(r).set(i,a)):a=n.get(r).get(i),a},dispose:function(){n=new WeakMap}}}function Ns(e){Ci.call(this),this.type="MeshDepthMaterial",this.depthPacking=mn,this.skinning=!1,this.morphTargets=!1,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.setValues(e)}function js(e){Ci.call(this),this.type="MeshDistanceMaterial",this.referencePosition=new lr,this.nearDistance=1,this.farDistance=1e3,this.skinning=!1,this.morphTargets=!1,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.fog=!1,this.setValues(e)}Ns.prototype=Object.create(Ci.prototype),Ns.prototype.constructor=Ns,Ns.prototype.isMeshDepthMaterial=!0,Ns.prototype.copy=function(e){return Ci.prototype.copy.call(this,e),this.depthPacking=e.depthPacking,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this},js.prototype=Object.create(Ci.prototype),js.prototype.constructor=js,js.prototype.isMeshDistanceMaterial=!0,js.prototype.copy=function(e){return Ci.prototype.copy.call(this,e),this.referencePosition.copy(e.referencePosition),this.nearDistance=e.nearDistance,this.farDistance=e.farDistance,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this};function Fs(e,t,n){var r=new Ga,i=new Kn,a=new Kn,o=new ir,s=[],l=[],u={},c={0:E,1:S,2:T},d=new Oa({defines:{SAMPLE_RATE:2/8,HALF_SAMPLE_RATE:1/8},uniforms:{shadow_pass:{value:null},resolution:{value:new Kn},radius:{value:4}},vertexShader:"void main() {\n\tgl_Position = vec4( position, 1.0 );\n}",fragmentShader:"uniform sampler2D shadow_pass;\nuniform vec2 resolution;\nuniform float radius;\n#include <packing>\nvoid main() {\n\tfloat mean = 0.0;\n\tfloat squared_mean = 0.0;\n\tfloat depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy ) / resolution ) );\n\tfor ( float i = -1.0; i < 1.0 ; i += SAMPLE_RATE) {\n\t\t#ifdef HORIZONAL_PASS\n\t\t\tvec2 distribution = unpackRGBATo2Half( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( i, 0.0 ) * radius ) / resolution ) );\n\t\t\tmean += distribution.x;\n\t\t\tsquared_mean += distribution.y * distribution.y + distribution.x * distribution.x;\n\t\t#else\n\t\t\tfloat depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0, i ) * radius ) / resolution ) );\n\t\t\tmean += depth;\n\t\t\tsquared_mean += depth * depth;\n\t\t#endif\n\t}\n\tmean = mean * HALF_SAMPLE_RATE;\n\tsquared_mean = squared_mean * HALF_SAMPLE_RATE;\n\tfloat std_dev = sqrt( squared_mean - mean * mean );\n\tgl_FragColor = pack2HalfToRGBA( vec2( mean, std_dev ) );\n}"}),h=d.clone();h.defines.HORIZONAL_PASS=1;var f=new ia;f.setAttribute("position",new Ni(new Float32Array([-1,-1,.5,3,-1,.5,-1,3,.5]),3));var p=new Ma(f,d),m=this;function v(n,r){var i=t.update(p);d.uniforms.shadow_pass.value=n.map.texture,d.uniforms.resolution.value=n.mapSize,d.uniforms.radius.value=n.radius,e.setRenderTarget(n.mapPass),e.clear(),e.renderBufferDirect(r,null,i,d,p,null),h.uniforms.shadow_pass.value=n.mapPass.texture,h.uniforms.resolution.value=n.mapSize,h.uniforms.radius.value=n.radius,e.setRenderTarget(n.map),e.clear(),e.renderBufferDirect(r,null,i,h,p,null)}function g(e,t,n){var r=e<<0|t<<1|n<<2,i=s[r];return void 0===i&&(i=new Ns({depthPacking:vn,morphTargets:e,skinning:t}),s[r]=i),i}function y(e,t,n){var r=e<<0|t<<1|n<<2,i=l[r];return void 0===i&&(i=new js({morphTargets:e,skinning:t}),l[r]=i),i}function b(t,n,r,i,a,o,s){var l=null,d=g,h=t.customDepthMaterial;if(!0===i.isPointLight&&(d=y,h=t.customDistanceMaterial),void 0===h){var f=!1;!0===r.morphTargets&&(f=n.morphAttributes&&n.morphAttributes.position&&n.morphAttributes.position.length>0);var p=!1;!0===t.isSkinnedMesh&&(!0===r.skinning?p=!0:console.warn("THREE.WebGLShadowMap: THREE.SkinnedMesh with material.skinning set to false:",t)),l=d(f,p,!0===t.isInstancedMesh)}else l=h;if(e.localClippingEnabled&&!0===r.clipShadows&&0!==r.clippingPlanes.length){var m=l.uuid,v=r.uuid,b=u[m];void 0===b&&(b={},u[m]=b);var x=b[v];void 0===x&&(x=l.clone(),b[v]=x),l=x}return l.visible=r.visible,l.wireframe=r.wireframe,l.side=s===_?null!==r.shadowSide?r.shadowSide:r.side:null!==r.shadowSide?r.shadowSide:c[r.side],l.clipShadows=r.clipShadows,l.clippingPlanes=r.clippingPlanes,l.clipIntersection=r.clipIntersection,l.wireframeLinewidth=r.wireframeLinewidth,l.linewidth=r.linewidth,!0===i.isPointLight&&!0===l.isMeshDistanceMaterial&&(l.referencePosition.setFromMatrixPosition(i.matrixWorld),l.nearDistance=a,l.farDistance=o),l}function x(n,i,a,o,s){if(!1!==n.visible){if(n.layers.test(i.layers)&&(n.isMesh||n.isLine||n.isPoints)&&(n.castShadow||n.receiveShadow&&s===_)&&(!n.frustumCulled||r.intersectsObject(n))){n.modelViewMatrix.multiplyMatrices(a.matrixWorldInverse,n.matrixWorld);var l=t.update(n),u=n.material;if(Array.isArray(u))for(var c=l.groups,d=0,h=c.length;d<h;d++){var f=c[d],p=u[f.materialIndex];if(p&&p.visible){var m=b(n,l,p,o,a.near,a.far,s);e.renderBufferDirect(a,null,l,m,n,f)}}else if(u.visible){var v=b(n,l,u,o,a.near,a.far,s);e.renderBufferDirect(a,null,l,v,n,null)}}for(var g=n.children,y=0,w=g.length;y<w;y++)x(g[y],i,a,o,s)}}this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=w,this.render=function(t,s,l){if(!1!==m.enabled&&(!1!==m.autoUpdate||!1!==m.needsUpdate)&&0!==t.length){var u=e.getRenderTarget(),c=e.getActiveCubeFace(),d=e.getActiveMipmapLevel(),h=e.state;h.setBlending(O),h.buffers.color.setClear(1,1,1,1),h.buffers.depth.setTest(!0),h.setScissorTest(!1);for(var f=0,p=t.length;f<p;f++){var g=t[f],y=g.shadow;if(void 0!==y){if(!1!==y.autoUpdate||!1!==y.needsUpdate){i.copy(y.mapSize);var b=y.getFrameExtents();if(i.multiply(b),a.copy(y.mapSize),(i.x>n||i.y>n)&&(i.x>n&&(a.x=Math.floor(n/b.x),i.x=a.x*b.x,y.mapSize.x=a.x),i.y>n&&(a.y=Math.floor(n/b.y),i.y=a.y*b.y,y.mapSize.y=a.y)),null===y.map&&!y.isPointLightShadow&&this.type===_){var w={minFilter:Oe,magFilter:Oe,format:Ye};y.map=new ar(i.x,i.y,w),y.map.texture.name=g.name+".shadowMap",y.mapPass=new ar(i.x,i.y,w),y.camera.updateProjectionMatrix()}if(null===y.map){var M={minFilter:Se,magFilter:Se,format:Ye};y.map=new ar(i.x,i.y,M),y.map.texture.name=g.name+".shadowMap",y.camera.updateProjectionMatrix()}e.setRenderTarget(y.map),e.clear();for(var S=y.getViewportCount(),E=0;E<S;E++){var T=y.getViewport(E);o.set(a.x*T.x,a.y*T.y,a.x*T.z,a.y*T.w),h.viewport(o),y.updateMatrices(g,E),r=y.getFrustum(),x(s,l,y.camera,g,this.type)}y.isPointLightShadow||this.type!==_||v(y,l),y.needsUpdate=!1}}else console.warn("THREE.WebGLShadowMap:",g,"has no shadow.")}m.needsUpdate=!1,e.setRenderTarget(u,c,d)}}}function Gs(e,t,n){var r,i,a=n.isWebGL2;var o=new function(){var t=!1,n=new ir,r=null,i=new ir(0,0,0,0);return{setMask:function(n){r===n||t||(e.colorMask(n,n,n,n),r=n)},setLocked:function(e){t=e},setClear:function(t,r,a,o,s){!0===s&&(t*=o,r*=o,a*=o),n.set(t,r,a,o),!1===i.equals(n)&&(e.clearColor(t,r,a,o),i.copy(n))},reset:function(){t=!1,r=null,i.set(-1,0,0,0)}}},l=new function(){var t=!1,n=null,r=null,i=null;return{setTest:function(e){e?ge(2929):ye(2929)},setMask:function(r){n===r||t||(e.depthMask(r),n=r)},setFunc:function(t){if(r!==t){if(t)switch(t){case $:e.depthFunc(512);break;case K:e.depthFunc(519);break;case J:e.depthFunc(513);break;case ee:e.depthFunc(515);break;case te:e.depthFunc(514);break;case ne:e.depthFunc(518);break;case re:e.depthFunc(516);break;case ie:e.depthFunc(517);break;default:e.depthFunc(515)}else e.depthFunc(515);r=t}},setLocked:function(e){t=e},setClear:function(t){i!==t&&(e.clearDepth(t),i=t)},reset:function(){t=!1,n=null,r=null,i=null}}},u=new function(){var t=!1,n=null,r=null,i=null,a=null,o=null,s=null,l=null,u=null;return{setTest:function(e){t||(e?ge(2960):ye(2960))},setMask:function(r){n===r||t||(e.stencilMask(r),n=r)},setFunc:function(t,n,o){r===t&&i===n&&a===o||(e.stencilFunc(t,n,o),r=t,i=n,a=o)},setOp:function(t,n,r){o===t&&s===n&&l===r||(e.stencilOp(t,n,r),o=t,s=n,l=r)},setLocked:function(e){t=e},setClear:function(t){u!==t&&(e.clearStencil(t),u=t)},reset:function(){t=!1,n=null,r=null,i=null,a=null,o=null,s=null,l=null,u=null}}},c={},d=null,h=null,f=null,p=null,m=null,b=null,x=null,w=null,M=null,_=!1,S=null,A=null,R=null,ae=null,oe=null,se=e.getParameter(35661),le=!1,ue=0,ce=e.getParameter(7938);-1!==ce.indexOf("WebGL")?(ue=parseFloat(/^WebGL\ ([0-9])/.exec(ce)[1]),le=ue>=1):-1!==ce.indexOf("OpenGL ES")&&(ue=parseFloat(/^OpenGL\ ES\ ([0-9])/.exec(ce)[1]),le=ue>=2);var de=null,he={},fe=new ir,pe=new ir;function me(t,n,r){var i=new Uint8Array(4),a=e.createTexture();e.bindTexture(t,a),e.texParameteri(t,10241,9728),e.texParameteri(t,10240,9728);for(var o=0;o<r;o++)e.texImage2D(n+o,0,6408,1,1,0,6408,5121,i);return a}var ve={};function ge(t){!0!==c[t]&&(e.enable(t),c[t]=!0)}function ye(t){!1!==c[t]&&(e.disable(t),c[t]=!1)}ve[3553]=me(3553,3553,1),ve[34067]=me(34067,34069,6),o.setClear(0,0,0,1),l.setClear(1),u.setClear(0),ge(2929),l.setFunc(ee),_e(!1),Se(g),ge(2884),Me(O);var be=(r={},Object(s.a)(r,P,32774),Object(s.a)(r,N,32778),Object(s.a)(r,j,32779),r);if(a)be[F]=32775,be[G]=32776;else{var xe=t.get("EXT_blend_minmax");null!==xe&&(be[F]=xe.MIN_EXT,be[G]=xe.MAX_EXT)}var we=(i={},Object(s.a)(i,U,0),Object(s.a)(i,z,1),Object(s.a)(i,B,768),Object(s.a)(i,H,770),Object(s.a)(i,Z,776),Object(s.a)(i,Y,774),Object(s.a)(i,X,772),Object(s.a)(i,V,769),Object(s.a)(i,W,771),Object(s.a)(i,Q,775),Object(s.a)(i,q,773),i);function Me(t,n,r,i,a,o,s,l){if(t!==O){if(h||(ge(3042),h=!0),t===L)a=a||n,o=o||r,s=s||i,n===p&&a===x||(e.blendEquationSeparate(be[n],be[a]),p=n,x=a),r===m&&i===b&&o===w&&s===M||(e.blendFuncSeparate(we[r],we[i],we[o],we[s]),m=r,b=i,w=o,M=s),f=t,_=null;else if(t!==f||l!==_){if(p===P&&x===P||(e.blendEquation(32774),p=P,x=P),l)switch(t){case k:e.blendFuncSeparate(1,771,1,771);break;case I:e.blendFunc(1,1);break;case C:e.blendFuncSeparate(0,0,769,771);break;case D:e.blendFuncSeparate(0,768,0,770);break;default:console.error("THREE.WebGLState: Invalid blending: ",t)}else switch(t){case k:e.blendFuncSeparate(770,771,1,771);break;case I:e.blendFunc(770,1);break;case C:e.blendFunc(0,769);break;case D:e.blendFunc(0,768);break;default:console.error("THREE.WebGLState: Invalid blending: ",t)}m=null,b=null,w=null,M=null,f=t,_=l}}else h&&(ye(3042),h=!1)}function _e(t){S!==t&&(t?e.frontFace(2304):e.frontFace(2305),S=t)}function Se(t){t!==v?(ge(2884),t!==A&&(t===g?e.cullFace(1029):t===y?e.cullFace(1028):e.cullFace(1032))):ye(2884),A=t}function Ee(t,n,r){t?(ge(32823),ae===n&&oe===r||(e.polygonOffset(n,r),ae=n,oe=r)):ye(32823)}function Te(t){void 0===t&&(t=33984+se-1),de!==t&&(e.activeTexture(t),de=t)}return{buffers:{color:o,depth:l,stencil:u},enable:ge,disable:ye,useProgram:function(t){return d!==t&&(e.useProgram(t),d=t,!0)},setBlending:Me,setMaterial:function(e,t){e.side===T?ye(2884):ge(2884);var n=e.side===E;t&&(n=!n),_e(n),e.blending===k&&!1===e.transparent?Me(O):Me(e.blending,e.blendEquation,e.blendSrc,e.blendDst,e.blendEquationAlpha,e.blendSrcAlpha,e.blendDstAlpha,e.premultipliedAlpha),l.setFunc(e.depthFunc),l.setTest(e.depthTest),l.setMask(e.depthWrite),o.setMask(e.colorWrite);var r=e.stencilWrite;u.setTest(r),r&&(u.setMask(e.stencilWriteMask),u.setFunc(e.stencilFunc,e.stencilRef,e.stencilFuncMask),u.setOp(e.stencilFail,e.stencilZFail,e.stencilZPass)),Ee(e.polygonOffset,e.polygonOffsetFactor,e.polygonOffsetUnits)},setFlipSided:_e,setCullFace:Se,setLineWidth:function(t){t!==R&&(le&&e.lineWidth(t),R=t)},setPolygonOffset:Ee,setScissorTest:function(e){e?ge(3089):ye(3089)},activeTexture:Te,bindTexture:function(t,n){null===de&&Te();var r=he[de];void 0===r&&(r={type:void 0,texture:void 0},he[de]=r),r.type===t&&r.texture===n||(e.bindTexture(t,n||ve[t]),r.type=t,r.texture=n)},unbindTexture:function(){var t=he[de];void 0!==t&&void 0!==t.type&&(e.bindTexture(t.type,null),t.type=void 0,t.texture=void 0)},compressedTexImage2D:function(){try{e.compressedTexImage2D.apply(e,arguments)}catch(t){console.error("THREE.WebGLState:",t)}},texImage2D:function(){try{e.texImage2D.apply(e,arguments)}catch(t){console.error("THREE.WebGLState:",t)}},texImage3D:function(){try{e.texImage3D.apply(e,arguments)}catch(t){console.error("THREE.WebGLState:",t)}},scissor:function(t){!1===fe.equals(t)&&(e.scissor(t.x,t.y,t.z,t.w),fe.copy(t))},viewport:function(t){!1===pe.equals(t)&&(e.viewport(t.x,t.y,t.z,t.w),pe.copy(t))},reset:function(){c={},de=null,he={},d=null,h=null,f=null,p=null,m=null,b=null,x=null,w=null,M=null,_=!1,S=null,A=null,R=null,ae=null,oe=null,o.reset(),l.reset(),u.reset()}}}function Us(e,t,n,r,i,a,o){var l,u,c,d=i.isWebGL2,h=i.maxTextures,f=i.maxCubemapSize,p=i.maxTextureSize,m=i.maxSamples,v=new WeakMap,g=!1;try{g="undefined"!==typeof OffscreenCanvas&&null!==new OffscreenCanvas(1,1).getContext("2d")}catch(z){}function y(e,t){return g?new OffscreenCanvas(e,t):document.createElementNS("http://www.w3.org/1999/xhtml","canvas")}function b(e,t,n,r){var i=1;if((e.width>r||e.height>r)&&(i=r/Math.max(e.width,e.height)),i<1||!0===t){if("undefined"!==typeof HTMLImageElement&&e instanceof HTMLImageElement||"undefined"!==typeof HTMLCanvasElement&&e instanceof HTMLCanvasElement||"undefined"!==typeof ImageBitmap&&e instanceof ImageBitmap){var a=t?$n.floorPowerOfTwo:Math.floor,o=a(i*e.width),s=a(i*e.height);void 0===c&&(c=y(o,s));var l=n?y(o,s):c;return l.width=o,l.height=s,l.getContext("2d").drawImage(e,0,0,o,s),console.warn("THREE.WebGLRenderer: Texture has been resized from ("+e.width+"x"+e.height+") to ("+o+"x"+s+")."),l}return"data"in e&&console.warn("THREE.WebGLRenderer: Image in DataTexture is too big ("+e.width+"x"+e.height+")."),e}return e}function x(e){return $n.isPowerOfTwo(e.width)&&$n.isPowerOfTwo(e.height)}function w(e,t){return e.generateMipmaps&&t&&e.minFilter!==Se&&e.minFilter!==Oe}function M(t,n,i,a){e.generateMipmap(t),r.get(n).__maxMipLevel=Math.log(Math.max(i,a))*Math.LOG2E}function _(n,r,i){if(!1===d)return r;if(null!==n){if(void 0!==e[n])return e[n];console.warn("THREE.WebGLRenderer: Attempt to use non-existing WebGL internal format '"+n+"'")}var a=r;return 6403===r&&(5126===i&&(a=33326),5131===i&&(a=33325),5121===i&&(a=33321)),6407===r&&(5126===i&&(a=34837),5131===i&&(a=34843),5121===i&&(a=32849)),6408===r&&(5126===i&&(a=34836),5131===i&&(a=34842),5121===i&&(a=32856)),33325!==a&&33326!==a&&34842!==a&&34836!==a||t.get("EXT_color_buffer_float"),a}function S(e){return e===Se||e===Ee||e===Ae?9728:9729}function E(t){var n=t.target;n.removeEventListener("dispose",E),function(t){var n=r.get(t);if(void 0===n.__webglInit)return;e.deleteTexture(n.__webglTexture),r.remove(t)}(n),n.isVideoTexture&&v.delete(n),o.memory.textures--}function T(t){var n=t.target;n.removeEventListener("dispose",T),function(t){var n=r.get(t),i=r.get(t.texture);if(!t)return;void 0!==i.__webglTexture&&e.deleteTexture(i.__webglTexture);t.depthTexture&&t.depthTexture.dispose();if(t.isWebGLCubeRenderTarget)for(var a=0;a<6;a++)e.deleteFramebuffer(n.__webglFramebuffer[a]),n.__webglDepthbuffer&&e.deleteRenderbuffer(n.__webglDepthbuffer[a]);else e.deleteFramebuffer(n.__webglFramebuffer),n.__webglDepthbuffer&&e.deleteRenderbuffer(n.__webglDepthbuffer),n.__webglMultisampledFramebuffer&&e.deleteFramebuffer(n.__webglMultisampledFramebuffer),n.__webglColorRenderbuffer&&e.deleteRenderbuffer(n.__webglColorRenderbuffer),n.__webglDepthRenderbuffer&&e.deleteRenderbuffer(n.__webglDepthRenderbuffer);r.remove(t.texture),r.remove(t)}(n),o.memory.textures--}var A=0;function R(e,t){var i=r.get(e);if(e.isVideoTexture&&function(e){var t=o.render.frame;v.get(e)!==t&&(v.set(e,t),e.update())}(e),e.version>0&&i.__version!==e.version){var a=e.image;if(void 0===a)console.warn("THREE.WebGLRenderer: Texture marked for update but image is undefined");else{if(!1!==a.complete)return void L(i,e,t);console.warn("THREE.WebGLRenderer: Texture marked for update but image is incomplete")}}n.activeTexture(33984+t),n.bindTexture(3553,i.__webglTexture)}function O(t,i){var o=r.get(t);t.version>0&&o.__version!==t.version?function(t,r,i){if(6!==r.image.length)return;D(t,r),n.activeTexture(33984+i),n.bindTexture(34067,t.__webglTexture),e.pixelStorei(37440,r.flipY);for(var o=r&&(r.isCompressedTexture||r.image[0].isCompressedTexture),s=r.image[0]&&r.image[0].isDataTexture,l=[],u=0;u<6;u++)l[u]=o||s?s?r.image[u].image:r.image[u]:b(r.image[u],!1,!0,f);var c,h=l[0],p=x(h)||d,m=a.convert(r.format),v=a.convert(r.type),g=_(r.internalFormat,m,v);if(C(34067,r,p),o){for(var y=0;y<6;y++){c=l[y].mipmaps;for(var S=0;S<c.length;S++){var E=c[S];r.format!==Ye&&r.format!==qe?null!==m?n.compressedTexImage2D(34069+y,S,g,E.width,E.height,0,E.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):n.texImage2D(34069+y,S,g,E.width,E.height,0,m,v,E.data)}}t.__maxMipLevel=c.length-1}else{c=r.mipmaps;for(var T=0;T<6;T++)if(s){n.texImage2D(34069+T,0,g,l[T].width,l[T].height,0,m,v,l[T].data);for(var A=0;A<c.length;A++){var R=c[A].image[T].image;n.texImage2D(34069+T,A+1,g,R.width,R.height,0,m,v,R.data)}}else{n.texImage2D(34069+T,0,g,m,v,l[T]);for(var O=0;O<c.length;O++){var k=c[O];n.texImage2D(34069+T,O+1,g,m,v,k.image[T])}}t.__maxMipLevel=c.length}w(r,p)&&M(34067,r,h.width,h.height);t.__version=r.version,r.onUpdate&&r.onUpdate(r)}(o,t,i):(n.activeTexture(33984+i),n.bindTexture(34067,o.__webglTexture))}var k=(l={},Object(s.a)(l,we,10497),Object(s.a)(l,Me,33071),Object(s.a)(l,_e,33648),l),I=(u={},Object(s.a)(u,Se,9728),Object(s.a)(u,Ee,9984),Object(s.a)(u,Ae,9986),Object(s.a)(u,Oe,9729),Object(s.a)(u,ke,9985),Object(s.a)(u,Ce,9987),u);function C(n,a,o){o?(e.texParameteri(n,10242,k[a.wrapS]),e.texParameteri(n,10243,k[a.wrapT]),32879!==n&&35866!==n||e.texParameteri(n,32882,k[a.wrapR]),e.texParameteri(n,10240,I[a.magFilter]),e.texParameteri(n,10241,I[a.minFilter])):(e.texParameteri(n,10242,33071),e.texParameteri(n,10243,33071),32879!==n&&35866!==n||e.texParameteri(n,32882,33071),a.wrapS===Me&&a.wrapT===Me||console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.wrapS and Texture.wrapT should be set to THREE.ClampToEdgeWrapping."),e.texParameteri(n,10240,S(a.magFilter)),e.texParameteri(n,10241,S(a.minFilter)),a.minFilter!==Se&&a.minFilter!==Oe&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.minFilter should be set to THREE.NearestFilter or THREE.LinearFilter."));var s=t.get("EXT_texture_filter_anisotropic");if(s){if(a.type===Ue&&null===t.get("OES_texture_float_linear"))return;if(a.type===ze&&null===(d||t.get("OES_texture_half_float_linear")))return;(a.anisotropy>1||r.get(a).__currentAnisotropy)&&(e.texParameterf(n,s.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(a.anisotropy,i.getMaxAnisotropy())),r.get(a).__currentAnisotropy=a.anisotropy)}}function D(t,n){void 0===t.__webglInit&&(t.__webglInit=!0,n.addEventListener("dispose",E),t.__webglTexture=e.createTexture(),o.memory.textures++)}function L(t,r,i){var o=3553;r.isDataTexture2DArray&&(o=35866),r.isDataTexture3D&&(o=32879),D(t,r),n.activeTexture(33984+i),n.bindTexture(o,t.__webglTexture),e.pixelStorei(37440,r.flipY),e.pixelStorei(37441,r.premultiplyAlpha),e.pixelStorei(3317,r.unpackAlignment);var s,l=function(e){return!d&&(e.wrapS!==Me||e.wrapT!==Me||e.minFilter!==Se&&e.minFilter!==Oe)}(r)&&!1===x(r.image),u=b(r.image,l,!1,p),c=x(u)||d,h=a.convert(r.format),f=a.convert(r.type),m=_(r.internalFormat,h,f);C(o,r,c);var v=r.mipmaps;if(r.isDepthTexture)m=6402,d?m=r.type===Ue?36012:r.type===Ge?33190:r.type===We?35056:33189:r.type===Ue&&console.error("WebGLRenderer: Floating point depth texture requires WebGL2."),r.format===Ke&&6402===m&&r.type!==je&&r.type!==Ge&&(console.warn("THREE.WebGLRenderer: Use UnsignedShortType or UnsignedIntType for DepthFormat DepthTexture."),r.type=je,f=a.convert(r.type)),r.format===Je&&6402===m&&(m=34041,r.type!==We&&(console.warn("THREE.WebGLRenderer: Use UnsignedInt248Type for DepthStencilFormat DepthTexture."),r.type=We,f=a.convert(r.type))),n.texImage2D(3553,0,m,u.width,u.height,0,h,f,null);else if(r.isDataTexture)if(v.length>0&&c){for(var g=0,y=v.length;g<y;g++)s=v[g],n.texImage2D(3553,g,m,s.width,s.height,0,h,f,s.data);r.generateMipmaps=!1,t.__maxMipLevel=v.length-1}else n.texImage2D(3553,0,m,u.width,u.height,0,h,f,u.data),t.__maxMipLevel=0;else if(r.isCompressedTexture){for(var S=0,E=v.length;S<E;S++)s=v[S],r.format!==Ye&&r.format!==qe?null!==h?n.compressedTexImage2D(3553,S,m,s.width,s.height,0,s.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):n.texImage2D(3553,S,m,s.width,s.height,0,h,f,s.data);t.__maxMipLevel=v.length-1}else if(r.isDataTexture2DArray)n.texImage3D(35866,0,m,u.width,u.height,u.depth,0,h,f,u.data),t.__maxMipLevel=0;else if(r.isDataTexture3D)n.texImage3D(32879,0,m,u.width,u.height,u.depth,0,h,f,u.data),t.__maxMipLevel=0;else if(v.length>0&&c){for(var T=0,A=v.length;T<A;T++)s=v[T],n.texImage2D(3553,T,m,h,f,s);r.generateMipmaps=!1,t.__maxMipLevel=v.length-1}else n.texImage2D(3553,0,m,h,f,u),t.__maxMipLevel=0;w(r,c)&&M(o,r,u.width,u.height),t.__version=r.version,r.onUpdate&&r.onUpdate(r)}function P(t,i,o,s){var l=a.convert(i.texture.format),u=a.convert(i.texture.type),c=_(i.texture.internalFormat,l,u);n.texImage2D(s,0,c,i.width,i.height,0,l,u,null),e.bindFramebuffer(36160,t),e.framebufferTexture2D(36160,o,s,r.get(i.texture).__webglTexture,0),e.bindFramebuffer(36160,null)}function N(t,n,r){if(e.bindRenderbuffer(36161,t),n.depthBuffer&&!n.stencilBuffer){var i=33189;if(r){var o=n.depthTexture;o&&o.isDepthTexture&&(o.type===Ue?i=36012:o.type===Ge&&(i=33190));var s=F(n);e.renderbufferStorageMultisample(36161,s,i,n.width,n.height)}else e.renderbufferStorage(36161,i,n.width,n.height);e.framebufferRenderbuffer(36160,36096,36161,t)}else if(n.depthBuffer&&n.stencilBuffer){if(r){var l=F(n);e.renderbufferStorageMultisample(36161,l,35056,n.width,n.height)}else e.renderbufferStorage(36161,34041,n.width,n.height);e.framebufferRenderbuffer(36160,33306,36161,t)}else{var u=a.convert(n.texture.format),c=a.convert(n.texture.type),d=_(n.texture.internalFormat,u,c);if(r){var h=F(n);e.renderbufferStorageMultisample(36161,h,d,n.width,n.height)}else e.renderbufferStorage(36161,d,n.width,n.height)}e.bindRenderbuffer(36161,null)}function j(t){var n=r.get(t),i=!0===t.isWebGLCubeRenderTarget;if(t.depthTexture){if(i)throw new Error("target.depthTexture not supported in Cube render targets");!function(t,n){if(n&&n.isWebGLCubeRenderTarget)throw new Error("Depth Texture with cube render targets is not supported");if(e.bindFramebuffer(36160,t),!n.depthTexture||!n.depthTexture.isDepthTexture)throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");r.get(n.depthTexture).__webglTexture&&n.depthTexture.image.width===n.width&&n.depthTexture.image.height===n.height||(n.depthTexture.image.width=n.width,n.depthTexture.image.height=n.height,n.depthTexture.needsUpdate=!0),R(n.depthTexture,0);var i=r.get(n.depthTexture).__webglTexture;if(n.depthTexture.format===Ke)e.framebufferTexture2D(36160,36096,3553,i,0);else{if(n.depthTexture.format!==Je)throw new Error("Unknown depthTexture format");e.framebufferTexture2D(36160,33306,3553,i,0)}}(n.__webglFramebuffer,t)}else if(i){n.__webglDepthbuffer=[];for(var a=0;a<6;a++)e.bindFramebuffer(36160,n.__webglFramebuffer[a]),n.__webglDepthbuffer[a]=e.createRenderbuffer(),N(n.__webglDepthbuffer[a],t,!1)}else e.bindFramebuffer(36160,n.__webglFramebuffer),n.__webglDepthbuffer=e.createRenderbuffer(),N(n.__webglDepthbuffer,t,!1);e.bindFramebuffer(36160,null)}function F(e){return d&&e.isWebGLMultisampleRenderTarget?Math.min(m,e.samples):0}var G=!1,U=!1;this.allocateTextureUnit=function(){var e=A;return e>=h&&console.warn("THREE.WebGLTextures: Trying to use "+e+" texture units while this GPU supports only "+h),A+=1,e},this.resetTextureUnits=function(){A=0},this.setTexture2D=R,this.setTexture2DArray=function(e,t){var i=r.get(e);e.version>0&&i.__version!==e.version?L(i,e,t):(n.activeTexture(33984+t),n.bindTexture(35866,i.__webglTexture))},this.setTexture3D=function(e,t){var i=r.get(e);e.version>0&&i.__version!==e.version?L(i,e,t):(n.activeTexture(33984+t),n.bindTexture(32879,i.__webglTexture))},this.setTextureCube=O,this.setupRenderTarget=function(t){var i=r.get(t),s=r.get(t.texture);t.addEventListener("dispose",T),s.__webglTexture=e.createTexture(),o.memory.textures++;var l=!0===t.isWebGLCubeRenderTarget,u=!0===t.isWebGLMultisampleRenderTarget,c=x(t)||d;if(!d||t.texture.format!==qe||t.texture.type!==Ue&&t.texture.type!==ze||(t.texture.format=Ye,console.warn("THREE.WebGLRenderer: Rendering to textures with RGB format is not supported. Using RGBA format instead.")),l){i.__webglFramebuffer=[];for(var h=0;h<6;h++)i.__webglFramebuffer[h]=e.createFramebuffer()}else if(i.__webglFramebuffer=e.createFramebuffer(),u)if(d){i.__webglMultisampledFramebuffer=e.createFramebuffer(),i.__webglColorRenderbuffer=e.createRenderbuffer(),e.bindRenderbuffer(36161,i.__webglColorRenderbuffer);var f=a.convert(t.texture.format),p=a.convert(t.texture.type),m=_(t.texture.internalFormat,f,p),v=F(t);e.renderbufferStorageMultisample(36161,v,m,t.width,t.height),e.bindFramebuffer(36160,i.__webglMultisampledFramebuffer),e.framebufferRenderbuffer(36160,36064,36161,i.__webglColorRenderbuffer),e.bindRenderbuffer(36161,null),t.depthBuffer&&(i.__webglDepthRenderbuffer=e.createRenderbuffer(),N(i.__webglDepthRenderbuffer,t,!0)),e.bindFramebuffer(36160,null)}else console.warn("THREE.WebGLRenderer: WebGLMultisampleRenderTarget can only be used with WebGL2.");if(l){n.bindTexture(34067,s.__webglTexture),C(34067,t.texture,c);for(var g=0;g<6;g++)P(i.__webglFramebuffer[g],t,36064,34069+g);w(t.texture,c)&&M(34067,t.texture,t.width,t.height),n.bindTexture(34067,null)}else n.bindTexture(3553,s.__webglTexture),C(3553,t.texture,c),P(i.__webglFramebuffer,t,36064,3553),w(t.texture,c)&&M(3553,t.texture,t.width,t.height),n.bindTexture(3553,null);t.depthBuffer&&j(t)},this.updateRenderTargetMipmap=function(e){var t=e.texture;if(w(t,x(e)||d)){var i=e.isWebGLCubeRenderTarget?34067:3553,a=r.get(t).__webglTexture;n.bindTexture(i,a),M(i,t,e.width,e.height),n.bindTexture(i,null)}},this.updateMultisampleRenderTarget=function(t){if(t.isWebGLMultisampleRenderTarget)if(d){var n=r.get(t);e.bindFramebuffer(36008,n.__webglMultisampledFramebuffer),e.bindFramebuffer(36009,n.__webglFramebuffer);var i=t.width,a=t.height,o=16384;t.depthBuffer&&(o|=256),t.stencilBuffer&&(o|=1024),e.blitFramebuffer(0,0,i,a,0,0,i,a,o,9728),e.bindFramebuffer(36160,n.__webglMultisampledFramebuffer)}else console.warn("THREE.WebGLRenderer: WebGLMultisampleRenderTarget can only be used with WebGL2.")},this.safeSetTexture2D=function(e,t){e&&e.isWebGLRenderTarget&&(!1===G&&(console.warn("THREE.WebGLTextures.safeSetTexture2D: don't use render targets as textures. Use their .texture property instead."),G=!0),e=e.texture),R(e,t)},this.safeSetTextureCube=function(e,t){e&&e.isWebGLCubeRenderTarget&&(!1===U&&(console.warn("THREE.WebGLTextures.safeSetTextureCube: don't use cube render targets as textures. Use their .texture property instead."),U=!0),e=e.texture),O(e,t)}}function zs(e,t,n){var r=n.isWebGL2;return{convert:function(e){var n;if(e===Le)return 5121;if(e===Be)return 32819;if(e===Ve)return 32820;if(e===He)return 33635;if(e===Pe)return 5120;if(e===Ne)return 5122;if(e===je)return 5123;if(e===Fe)return 5124;if(e===Ge)return 5125;if(e===Ue)return 5126;if(e===ze)return r?5131:null!==(n=t.get("OES_texture_half_float"))?n.HALF_FLOAT_OES:null;if(e===Xe)return 6406;if(e===qe)return 6407;if(e===Ye)return 6408;if(e===Qe)return 6409;if(e===Ze)return 6410;if(e===Ke)return 6402;if(e===Je)return 34041;if(e===et)return 6403;if(e===tt)return 36244;if(e===nt)return 33319;if(e===rt)return 33320;if(e===it)return 36248;if(e===at)return 36249;if(e===ot||e===st||e===lt||e===ut){if(null===(n=t.get("WEBGL_compressed_texture_s3tc")))return null;if(e===ot)return n.COMPRESSED_RGB_S3TC_DXT1_EXT;if(e===st)return n.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(e===lt)return n.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(e===ut)return n.COMPRESSED_RGBA_S3TC_DXT5_EXT}if(e===ct||e===dt||e===ht||e===ft){if(null===(n=t.get("WEBGL_compressed_texture_pvrtc")))return null;if(e===ct)return n.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(e===dt)return n.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(e===ht)return n.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(e===ft)return n.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}if(e===pt)return null!==(n=t.get("WEBGL_compressed_texture_etc1"))?n.COMPRESSED_RGB_ETC1_WEBGL:null;if((e===mt||e===vt)&&null!==(n=t.get("WEBGL_compressed_texture_etc"))){if(e===mt)return n.COMPRESSED_RGB8_ETC2;if(e===vt)return n.COMPRESSED_RGBA8_ETC2_EAC}return e===gt||e===yt||e===bt||e===xt||e===wt||e===Mt||e===_t||e===St||e===Et||e===Tt||e===At||e===Rt||e===Ot||e===kt||e===Ct||e===Dt||e===Lt||e===Pt||e===Nt||e===jt||e===Ft||e===Gt||e===Ut||e===zt||e===Bt||e===Vt||e===Ht||e===Wt?null!==(n=t.get("WEBGL_compressed_texture_astc"))?e:null:e===It?null!==(n=t.get("EXT_texture_compression_bptc"))?e:null:e===We?r?34042:null!==(n=t.get("WEBGL_depth_texture"))?n.UNSIGNED_INT_24_8_WEBGL:null:void 0}}}function Bs(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];Ia.call(this),this.cameras=e}function Vs(){si.call(this),this.type="Group"}function Hs(){this._targetRay=null,this._grip=null,this._hand=null}function Ws(e,t){var n=this,r=null,i=1,a=null,o="local-floor",s=null,l=[],u=new Map,c=new Ia;c.layers.enable(1),c.viewport=new ir;var d=new Ia;d.layers.enable(2),d.viewport=new ir;var h=[c,d],f=new Bs;f.layers.enable(1),f.layers.enable(2);var p=null,m=null;function v(e){var t=u.get(e.inputSource);t&&t.dispatchEvent({type:e.type,data:e.inputSource})}function g(){u.forEach((function(e,t){e.disconnect(t)})),u.clear(),e.setFramebuffer(null),e.setRenderTarget(e.getRenderTarget()),S.stop(),n.isPresenting=!1,n.dispatchEvent({type:"sessionend"})}function y(e){a=e,S.setContext(r),S.start(),n.isPresenting=!0,n.dispatchEvent({type:"sessionstart"})}function b(e){for(var t=r.inputSources,n=0;n<l.length;n++)u.set(t[n],l[n]);for(var i=0;i<e.removed.length;i++){var a=e.removed[i],o=u.get(a);o&&(o.dispatchEvent({type:"disconnected",data:a}),u.delete(a))}for(var s=0;s<e.added.length;s++){var c=e.added[s],d=u.get(c);d&&d.dispatchEvent({type:"connected",data:c})}}this.enabled=!1,this.isPresenting=!1,this.getController=function(e){var t=l[e];return void 0===t&&(t=new Hs,l[e]=t),t.getTargetRaySpace()},this.getControllerGrip=function(e){var t=l[e];return void 0===t&&(t=new Hs,l[e]=t),t.getGripSpace()},this.getHand=function(e){var t=l[e];return void 0===t&&(t=new Hs,l[e]=t),t.getHandSpace()},this.setFramebufferScaleFactor=function(e){i=e,!0===n.isPresenting&&console.warn("THREE.WebXRManager: Cannot change framebuffer scale while presenting.")},this.setReferenceSpaceType=function(e){o=e,!0===n.isPresenting&&console.warn("THREE.WebXRManager: Cannot change reference space type while presenting.")},this.getReferenceSpace=function(){return a},this.getSession=function(){return r},this.setSession=function(e){if(null!==(r=e)){r.addEventListener("select",v),r.addEventListener("selectstart",v),r.addEventListener("selectend",v),r.addEventListener("squeeze",v),r.addEventListener("squeezestart",v),r.addEventListener("squeezeend",v),r.addEventListener("end",g);var n=t.getContextAttributes();!0!==n.xrCompatible&&t.makeXRCompatible();var a={antialias:n.antialias,alpha:n.alpha,depth:n.depth,stencil:n.stencil,framebufferScaleFactor:i},s=new XRWebGLLayer(r,t,a);r.updateRenderState({baseLayer:s}),r.requestReferenceSpace(o).then(y),r.addEventListener("inputsourceschange",b)}};var x=new lr,w=new lr;function M(e,t){null===t?e.matrixWorld.copy(e.matrix):e.matrixWorld.multiplyMatrices(t.matrixWorld,e.matrix),e.matrixWorldInverse.copy(e.matrixWorld).invert()}this.getCamera=function(e){f.near=d.near=c.near=e.near,f.far=d.far=c.far=e.far,p===f.near&&m===f.far||(r.updateRenderState({depthNear:f.near,depthFar:f.far}),p=f.near,m=f.far);var t=e.parent,n=f.cameras;M(f,t);for(var i=0;i<n.length;i++)M(n[i],t);e.matrixWorld.copy(f.matrixWorld);for(var a=e.children,o=0,s=a.length;o<s;o++)a[o].updateMatrixWorld(!0);return 2===n.length?function(e,t,n){x.setFromMatrixPosition(t.matrixWorld),w.setFromMatrixPosition(n.matrixWorld);var r=x.distanceTo(w),i=t.projectionMatrix.elements,a=n.projectionMatrix.elements,o=i[14]/(i[10]-1),s=i[14]/(i[10]+1),l=(i[9]+1)/i[5],u=(i[9]-1)/i[5],c=(i[8]-1)/i[0],d=(a[8]+1)/a[0],h=o*c,f=o*d,p=r/(-c+d),m=p*-c;t.matrixWorld.decompose(e.position,e.quaternion,e.scale),e.translateX(m),e.translateZ(p),e.matrixWorld.compose(e.position,e.quaternion,e.scale),e.matrixWorldInverse.copy(e.matrixWorld).invert();var v=o+p,g=s+p,y=h-m,b=f+(r-m),M=l*s/g*v,_=u*s/g*v;e.projectionMatrix.makePerspective(y,b,M,_,v,g)}(f,c,d):f.projectionMatrix.copy(c.projectionMatrix),f};var _=null;var S=new Ua;S.setAnimationLoop((function(t,n){if(null!==(s=n.getViewerPose(a))){var i=s.views,o=r.renderState.baseLayer;e.setFramebuffer(o.framebuffer);var u=!1;i.length!==f.cameras.length&&(f.cameras.length=0,u=!0);for(var c=0;c<i.length;c++){var d=i[c],p=o.getViewport(d),m=h[c];m.matrix.fromArray(d.transform.matrix),m.projectionMatrix.fromArray(d.projectionMatrix),m.viewport.set(p.x,p.y,p.width,p.height),0===c&&f.matrix.copy(m.matrix),!0===u&&f.cameras.push(m)}}for(var v=r.inputSources,g=0;g<l.length;g++){var y=l[g],b=v[g];y.update(b,n,a)}_&&_(t,n)})),this.setAnimationLoop=function(e){_=e},this.dispose=function(){}}function Xs(e){function t(t,n){t.opacity.value=n.opacity,n.color&&t.diffuse.value.copy(n.color),n.emissive&&t.emissive.value.copy(n.emissive).multiplyScalar(n.emissiveIntensity),n.map&&(t.map.value=n.map),n.alphaMap&&(t.alphaMap.value=n.alphaMap),n.specularMap&&(t.specularMap.value=n.specularMap);var r,i,a=e.get(n).envMap;if(a){t.envMap.value=a,t.flipEnvMap.value=a.isCubeTexture&&a._needsFlipEnvMap?-1:1,t.reflectivity.value=n.reflectivity,t.refractionRatio.value=n.refractionRatio;var o=e.get(a).__maxMipLevel;void 0!==o&&(t.maxMipLevel.value=o)}n.lightMap&&(t.lightMap.value=n.lightMap,t.lightMapIntensity.value=n.lightMapIntensity),n.aoMap&&(t.aoMap.value=n.aoMap,t.aoMapIntensity.value=n.aoMapIntensity),n.map?r=n.map:n.specularMap?r=n.specularMap:n.displacementMap?r=n.displacementMap:n.normalMap?r=n.normalMap:n.bumpMap?r=n.bumpMap:n.roughnessMap?r=n.roughnessMap:n.metalnessMap?r=n.metalnessMap:n.alphaMap?r=n.alphaMap:n.emissiveMap?r=n.emissiveMap:n.clearcoatMap?r=n.clearcoatMap:n.clearcoatNormalMap?r=n.clearcoatNormalMap:n.clearcoatRoughnessMap&&(r=n.clearcoatRoughnessMap),void 0!==r&&(r.isWebGLRenderTarget&&(r=r.texture),!0===r.matrixAutoUpdate&&r.updateMatrix(),t.uvTransform.value.copy(r.matrix)),n.aoMap?i=n.aoMap:n.lightMap&&(i=n.lightMap),void 0!==i&&(i.isWebGLRenderTarget&&(i=i.texture),!0===i.matrixAutoUpdate&&i.updateMatrix(),t.uv2Transform.value.copy(i.matrix))}function n(t,n){t.roughness.value=n.roughness,t.metalness.value=n.metalness,n.roughnessMap&&(t.roughnessMap.value=n.roughnessMap),n.metalnessMap&&(t.metalnessMap.value=n.metalnessMap),n.emissiveMap&&(t.emissiveMap.value=n.emissiveMap),n.bumpMap&&(t.bumpMap.value=n.bumpMap,t.bumpScale.value=n.bumpScale,n.side===E&&(t.bumpScale.value*=-1)),n.normalMap&&(t.normalMap.value=n.normalMap,t.normalScale.value.copy(n.normalScale),n.side===E&&t.normalScale.value.negate()),n.displacementMap&&(t.displacementMap.value=n.displacementMap,t.displacementScale.value=n.displacementScale,t.displacementBias.value=n.displacementBias),e.get(n).envMap&&(t.envMapIntensity.value=n.envMapIntensity)}return{refreshFogUniforms:function(e,t){e.fogColor.value.copy(t.color),t.isFog?(e.fogNear.value=t.near,e.fogFar.value=t.far):t.isFogExp2&&(e.fogDensity.value=t.density)},refreshMaterialUniforms:function(e,r,i,a){r.isMeshBasicMaterial?t(e,r):r.isMeshLambertMaterial?(t(e,r),function(e,t){t.emissiveMap&&(e.emissiveMap.value=t.emissiveMap)}(e,r)):r.isMeshToonMaterial?(t(e,r),function(e,t){t.gradientMap&&(e.gradientMap.value=t.gradientMap);t.emissiveMap&&(e.emissiveMap.value=t.emissiveMap);t.bumpMap&&(e.bumpMap.value=t.bumpMap,e.bumpScale.value=t.bumpScale,t.side===E&&(e.bumpScale.value*=-1));t.normalMap&&(e.normalMap.value=t.normalMap,e.normalScale.value.copy(t.normalScale),t.side===E&&e.normalScale.value.negate());t.displacementMap&&(e.displacementMap.value=t.displacementMap,e.displacementScale.value=t.displacementScale,e.displacementBias.value=t.displacementBias)}(e,r)):r.isMeshPhongMaterial?(t(e,r),function(e,t){e.specular.value.copy(t.specular),e.shininess.value=Math.max(t.shininess,1e-4),t.emissiveMap&&(e.emissiveMap.value=t.emissiveMap);t.bumpMap&&(e.bumpMap.value=t.bumpMap,e.bumpScale.value=t.bumpScale,t.side===E&&(e.bumpScale.value*=-1));t.normalMap&&(e.normalMap.value=t.normalMap,e.normalScale.value.copy(t.normalScale),t.side===E&&e.normalScale.value.negate());t.displacementMap&&(e.displacementMap.value=t.displacementMap,e.displacementScale.value=t.displacementScale,e.displacementBias.value=t.displacementBias)}(e,r)):r.isMeshStandardMaterial?(t(e,r),r.isMeshPhysicalMaterial?function(e,t){n(e,t),e.reflectivity.value=t.reflectivity,e.clearcoat.value=t.clearcoat,e.clearcoatRoughness.value=t.clearcoatRoughness,t.sheen&&e.sheen.value.copy(t.sheen);t.clearcoatMap&&(e.clearcoatMap.value=t.clearcoatMap);t.clearcoatRoughnessMap&&(e.clearcoatRoughnessMap.value=t.clearcoatRoughnessMap);t.clearcoatNormalMap&&(e.clearcoatNormalScale.value.copy(t.clearcoatNormalScale),e.clearcoatNormalMap.value=t.clearcoatNormalMap,t.side===E&&e.clearcoatNormalScale.value.negate());e.transmission.value=t.transmission,t.transmissionMap&&(e.transmissionMap.value=t.transmissionMap)}(e,r):n(e,r)):r.isMeshMatcapMaterial?(t(e,r),function(e,t){t.matcap&&(e.matcap.value=t.matcap);t.bumpMap&&(e.bumpMap.value=t.bumpMap,e.bumpScale.value=t.bumpScale,t.side===E&&(e.bumpScale.value*=-1));t.normalMap&&(e.normalMap.value=t.normalMap,e.normalScale.value.copy(t.normalScale),t.side===E&&e.normalScale.value.negate());t.displacementMap&&(e.displacementMap.value=t.displacementMap,e.displacementScale.value=t.displacementScale,e.displacementBias.value=t.displacementBias)}(e,r)):r.isMeshDepthMaterial?(t(e,r),function(e,t){t.displacementMap&&(e.displacementMap.value=t.displacementMap,e.displacementScale.value=t.displacementScale,e.displacementBias.value=t.displacementBias)}(e,r)):r.isMeshDistanceMaterial?(t(e,r),function(e,t){t.displacementMap&&(e.displacementMap.value=t.displacementMap,e.displacementScale.value=t.displacementScale,e.displacementBias.value=t.displacementBias);e.referencePosition.value.copy(t.referencePosition),e.nearDistance.value=t.nearDistance,e.farDistance.value=t.farDistance}(e,r)):r.isMeshNormalMaterial?(t(e,r),function(e,t){t.bumpMap&&(e.bumpMap.value=t.bumpMap,e.bumpScale.value=t.bumpScale,t.side===E&&(e.bumpScale.value*=-1));t.normalMap&&(e.normalMap.value=t.normalMap,e.normalScale.value.copy(t.normalScale),t.side===E&&e.normalScale.value.negate());t.displacementMap&&(e.displacementMap.value=t.displacementMap,e.displacementScale.value=t.displacementScale,e.displacementBias.value=t.displacementBias)}(e,r)):r.isLineBasicMaterial?(function(e,t){e.diffuse.value.copy(t.color),e.opacity.value=t.opacity}(e,r),r.isLineDashedMaterial&&function(e,t){e.dashSize.value=t.dashSize,e.totalSize.value=t.dashSize+t.gapSize,e.scale.value=t.scale}(e,r)):r.isPointsMaterial?function(e,t,n,r){e.diffuse.value.copy(t.color),e.opacity.value=t.opacity,e.size.value=t.size*n,e.scale.value=.5*r,t.map&&(e.map.value=t.map);t.alphaMap&&(e.alphaMap.value=t.alphaMap);var i;t.map?i=t.map:t.alphaMap&&(i=t.alphaMap);void 0!==i&&(!0===i.matrixAutoUpdate&&i.updateMatrix(),e.uvTransform.value.copy(i.matrix))}(e,r,i,a):r.isSpriteMaterial?function(e,t){e.diffuse.value.copy(t.color),e.opacity.value=t.opacity,e.rotation.value=t.rotation,t.map&&(e.map.value=t.map);t.alphaMap&&(e.alphaMap.value=t.alphaMap);var n;t.map?n=t.map:t.alphaMap&&(n=t.alphaMap);void 0!==n&&(!0===n.matrixAutoUpdate&&n.updateMatrix(),e.uvTransform.value.copy(n.matrix))}(e,r):r.isShadowMaterial?(e.color.value.copy(r.color),e.opacity.value=r.opacity):r.isShaderMaterial&&(r.uniformsNeedUpdate=!1)}}}function qs(e){var t=void 0!==(e=e||{}).canvas?e.canvas:function(){var e=document.createElementNS("http://www.w3.org/1999/xhtml","canvas");return e.style.display="block",e}(),n=void 0!==e.context?e.context:null,r=void 0!==e.alpha&&e.alpha,i=void 0===e.depth||e.depth,a=void 0===e.stencil||e.stencil,o=void 0!==e.antialias&&e.antialias,s=void 0===e.premultipliedAlpha||e.premultipliedAlpha,l=void 0!==e.preserveDrawingBuffer&&e.preserveDrawingBuffer,u=void 0!==e.powerPreference?e.powerPreference:"default",c=void 0!==e.failIfMajorPerformanceCaveat&&e.failIfMajorPerformanceCaveat,d=null,h=null;this.domElement=t,this.debug={checkShaderErrors:!0},this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this.gammaFactor=2,this.outputEncoding=sn,this.physicallyCorrectLights=!1,this.toneMapping=le,this.toneMappingExposure=1,this.maxMorphTargets=8,this.maxMorphNormals=4;var f=this,p=!1,m=null,v=0,g=0,y=null,b=null,x=-1,w=null,M=null,_=new ir,S=new ir,E=null,T=t.width,A=t.height,R=1,O=null,k=null,I=new ir(0,0,T,A),C=new ir(0,0,T,A),D=!1,L=new Ga,P=!1,N=!1,j=new Nr,F=new lr,G={background:null,fog:null,environment:null,overrideMaterial:null,isScene:!0};function U(){return null===y?R:1}var z,B,V,H,W,X,q,Y,Q,Z,$,K,J,ee,te,ne,re,ie,ae,oe,se,ue=n;function ce(e,n){for(var r=0;r<e.length;r++){var i=e[r],a=t.getContext(i,n);if(null!==a)return a}return null}try{var de={alpha:r,depth:i,stencil:a,antialias:o,premultipliedAlpha:s,preserveDrawingBuffer:l,powerPreference:u,failIfMajorPerformanceCaveat:c};if(t.addEventListener("webglcontextlost",ve,!1),t.addEventListener("webglcontextrestored",ge,!1),null===ue){var he=["webgl2","webgl","experimental-webgl"];if(!0===f.isWebGL1Renderer&&he.shift(),null===(ue=ce(he,de)))throw ce(he)?new Error("Error creating WebGL context with your selected attributes."):new Error("Error creating WebGL context.")}void 0===ue.getShaderPrecisionFormat&&(ue.getShaderPrecisionFormat=function(){return{rangeMin:1,rangeMax:1,precision:1}})}catch(Ae){throw console.error("THREE.WebGLRenderer: "+Ae.message),Ae}function fe(){z=new Ka(ue),!1===(B=new Qa(ue,z,e)).isWebGL2&&(z.get("WEBGL_depth_texture"),z.get("OES_texture_float"),z.get("OES_texture_half_float"),z.get("OES_texture_half_float_linear"),z.get("OES_standard_derivatives"),z.get("OES_element_index_uint"),z.get("OES_vertex_array_object"),z.get("ANGLE_instanced_arrays")),z.get("OES_texture_float_linear"),oe=new zs(ue,z,B),(V=new Gs(ue,z,B)).scissor(S.copy(C).multiplyScalar(R).floor()),V.viewport(_.copy(I).multiplyScalar(R).floor()),H=new to(ue),W=new Es,X=new Us(ue,z,V,W,B,oe,H),q=new $a(f),Y=new za(ue,B),se=new qa(ue,z,Y,B),Q=new Ja(ue,Y,H,se),Z=new ao(ue,Q,Y,H),re=new io(ue),te=new Za(W),$=new Ss(f,q,z,B,se,te),K=new Xs(W),J=new Os(W),ee=new Ps(z,B),ne=new Xa(f,q,V,Z,s),ie=new Ya(ue,z,H,B),ae=new eo(ue,z,H,B),H.programs=$.programs,f.capabilities=B,f.extensions=z,f.properties=W,f.renderLists=J,f.state=V,f.info=H}fe();var pe=new Ws(f,ue);this.xr=pe;var me=new Fs(f,Z,B.maxTextureSize);function ve(e){e.preventDefault(),console.log("THREE.WebGLRenderer: Context Lost."),p=!0}function ge(){console.log("THREE.WebGLRenderer: Context Restored."),p=!1,fe()}function ye(e){var t=e.target;t.removeEventListener("dispose",ye),function(e){be(e),W.remove(e)}(t)}function be(e){var t=W.get(e).program;void 0!==t&&$.releaseProgram(t)}this.shadowMap=me,this.getContext=function(){return ue},this.getContextAttributes=function(){return ue.getContextAttributes()},this.forceContextLoss=function(){var e=z.get("WEBGL_lose_context");e&&e.loseContext()},this.forceContextRestore=function(){var e=z.get("WEBGL_lose_context");e&&e.restoreContext()},this.getPixelRatio=function(){return R},this.setPixelRatio=function(e){void 0!==e&&(R=e,this.setSize(T,A,!1))},this.getSize=function(e){return void 0===e&&(console.warn("WebGLRenderer: .getsize() now requires a Vector2 as an argument"),e=new Kn),e.set(T,A)},this.setSize=function(e,n,r){pe.isPresenting?console.warn("THREE.WebGLRenderer: Can't change size while VR device is presenting."):(T=e,A=n,t.width=Math.floor(e*R),t.height=Math.floor(n*R),!1!==r&&(t.style.width=e+"px",t.style.height=n+"px"),this.setViewport(0,0,e,n))},this.getDrawingBufferSize=function(e){return void 0===e&&(console.warn("WebGLRenderer: .getdrawingBufferSize() now requires a Vector2 as an argument"),e=new Kn),e.set(T*R,A*R).floor()},this.setDrawingBufferSize=function(e,n,r){T=e,A=n,R=r,t.width=Math.floor(e*r),t.height=Math.floor(n*r),this.setViewport(0,0,e,n)},this.getCurrentViewport=function(e){return void 0===e&&(console.warn("WebGLRenderer: .getCurrentViewport() now requires a Vector4 as an argument"),e=new ir),e.copy(_)},this.getViewport=function(e){return e.copy(I)},this.setViewport=function(e,t,n,r){e.isVector4?I.set(e.x,e.y,e.z,e.w):I.set(e,t,n,r),V.viewport(_.copy(I).multiplyScalar(R).floor())},this.getScissor=function(e){return e.copy(C)},this.setScissor=function(e,t,n,r){e.isVector4?C.set(e.x,e.y,e.z,e.w):C.set(e,t,n,r),V.scissor(S.copy(C).multiplyScalar(R).floor())},this.getScissorTest=function(){return D},this.setScissorTest=function(e){V.setScissorTest(D=e)},this.setOpaqueSort=function(e){O=e},this.setTransparentSort=function(e){k=e},this.getClearColor=function(){return ne.getClearColor()},this.setClearColor=function(){ne.setClearColor.apply(ne,arguments)},this.getClearAlpha=function(){return ne.getClearAlpha()},this.setClearAlpha=function(){ne.setClearAlpha.apply(ne,arguments)},this.clear=function(e,t,n){var r=0;(void 0===e||e)&&(r|=16384),(void 0===t||t)&&(r|=256),(void 0===n||n)&&(r|=1024),ue.clear(r)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){t.removeEventListener("webglcontextlost",ve,!1),t.removeEventListener("webglcontextrestored",ge,!1),J.dispose(),ee.dispose(),W.dispose(),q.dispose(),Z.dispose(),se.dispose(),pe.dispose(),we.stop()},this.renderBufferImmediate=function(e,t){se.initAttributes();var n=W.get(e);e.hasPositions&&!n.position&&(n.position=ue.createBuffer()),e.hasNormals&&!n.normal&&(n.normal=ue.createBuffer()),e.hasUvs&&!n.uv&&(n.uv=ue.createBuffer()),e.hasColors&&!n.color&&(n.color=ue.createBuffer());var r=t.getAttributes();e.hasPositions&&(ue.bindBuffer(34962,n.position),ue.bufferData(34962,e.positionArray,35048),se.enableAttribute(r.position),ue.vertexAttribPointer(r.position,3,5126,!1,0,0)),e.hasNormals&&(ue.bindBuffer(34962,n.normal),ue.bufferData(34962,e.normalArray,35048),se.enableAttribute(r.normal),ue.vertexAttribPointer(r.normal,3,5126,!1,0,0)),e.hasUvs&&(ue.bindBuffer(34962,n.uv),ue.bufferData(34962,e.uvArray,35048),se.enableAttribute(r.uv),ue.vertexAttribPointer(r.uv,2,5126,!1,0,0)),e.hasColors&&(ue.bindBuffer(34962,n.color),ue.bufferData(34962,e.colorArray,35048),se.enableAttribute(r.color),ue.vertexAttribPointer(r.color,3,5126,!1,0,0)),se.disableUnusedAttributes(),ue.drawArrays(4,0,e.count),e.count=0},this.renderBufferDirect=function(e,t,n,r,i,a){null===t&&(t=G);var o=i.isMesh&&i.matrixWorld.determinant()<0,s=Te(e,t,r,i);V.setMaterial(r,o);var l=n.index,u=n.attributes.position;if(null===l){if(void 0===u||0===u.count)return}else if(0===l.count)return;var c,d=1;!0===r.wireframe&&(l=Q.getWireframeAttribute(n),d=2),(r.morphTargets||r.morphNormals)&&re.update(i,n,r,s),se.setup(i,r,s,n,l);var h=ie;null!==l&&(c=Y.get(l),(h=ae).setIndex(c));var f=null!==l?l.count:u.count,p=n.drawRange.start*d,m=n.drawRange.count*d,v=null!==a?a.start*d:0,g=null!==a?a.count*d:1/0,y=Math.max(p,v),b=Math.min(f,p+m,v+g)-1,x=Math.max(0,b-y+1);if(0!==x){if(i.isMesh)!0===r.wireframe?(V.setLineWidth(r.wireframeLinewidth*U()),h.setMode(1)):h.setMode(4);else if(i.isLine){var w=r.linewidth;void 0===w&&(w=1),V.setLineWidth(w*U()),i.isLineSegments?h.setMode(1):i.isLineLoop?h.setMode(2):h.setMode(3)}else i.isPoints?h.setMode(0):i.isSprite&&h.setMode(4);if(i.isInstancedMesh)h.renderInstances(y,x,i.count);else if(n.isInstancedBufferGeometry){var M=Math.min(n.instanceCount,n._maxInstanceCount);h.renderInstances(y,x,M)}else h.render(y,x)}},this.compile=function(e,t){(h=ee.get(e,t)).init(),e.traverseVisible((function(e){e.isLight&&e.layers.test(t.layers)&&(h.pushLight(e),e.castShadow&&h.pushShadow(e))})),h.setupLights(t);var n=new WeakMap;e.traverse((function(t){var r=t.material;if(r)if(Array.isArray(r))for(var i=0;i<r.length;i++){var a=r[i];!1===n.has(a)&&(Ee(a,e,t),n.set(a))}else!1===n.has(r)&&(Ee(r,e,t),n.set(r))}))};var xe=null;var we=new Ua;function Me(e,t,n,r){if(!1!==e.visible){if(e.layers.test(t.layers))if(e.isGroup)n=e.renderOrder;else if(e.isLOD)!0===e.autoUpdate&&e.update(t);else if(e.isLight)h.pushLight(e),e.castShadow&&h.pushShadow(e);else if(e.isSprite){if(!e.frustumCulled||L.intersectsSprite(e)){r&&F.setFromMatrixPosition(e.matrixWorld).applyMatrix4(j);var i=Z.update(e),a=e.material;a.visible&&d.push(e,i,a,n,F.z,null)}}else if(e.isImmediateRenderObject)r&&F.setFromMatrixPosition(e.matrixWorld).applyMatrix4(j),d.push(e,null,e.material,n,F.z,null);else if((e.isMesh||e.isLine||e.isPoints)&&(e.isSkinnedMesh&&e.skeleton.frame!==H.render.frame&&(e.skeleton.update(),e.skeleton.frame=H.render.frame),!e.frustumCulled||L.intersectsObject(e))){r&&F.setFromMatrixPosition(e.matrixWorld).applyMatrix4(j);var o=Z.update(e),s=e.material;if(Array.isArray(s))for(var l=o.groups,u=0,c=l.length;u<c;u++){var f=l[u],p=s[f.materialIndex];p&&p.visible&&d.push(e,o,p,n,F.z,f)}else s.visible&&d.push(e,o,s,n,F.z,null)}for(var m=e.children,v=0,g=m.length;v<g;v++)Me(m[v],t,n,r)}}function _e(e,t,n){for(var r=!0===t.isScene?t.overrideMaterial:null,i=0,a=e.length;i<a;i++){var o=e[i],s=o.object,l=o.geometry,u=null===r?o.material:r,c=o.group;if(n.isArrayCamera){M=n;for(var d=n.cameras,f=0,p=d.length;f<p;f++){var m=d[f];s.layers.test(m.layers)&&(V.viewport(_.copy(m.viewport)),h.setupLights(m),Se(s,t,m,l,u,c))}}else M=null,Se(s,t,n,l,u,c)}}function Se(e,t,n,r,i,a){if(e.onBeforeRender(f,t,n,r,i,a),h=ee.get(t,M||n),e.modelViewMatrix.multiplyMatrices(n.matrixWorldInverse,e.matrixWorld),e.normalMatrix.getNormalMatrix(e.modelViewMatrix),e.isImmediateRenderObject){var o=Te(n,t,i,e);V.setMaterial(i),se.reset(),function(e,t){e.render((function(e){f.renderBufferImmediate(e,t)}))}(e,o)}else f.renderBufferDirect(n,t,r,i,e,a);e.onAfterRender(f,t,n,r,i,a),h=ee.get(t,M||n)}function Ee(e,t,n){!0!==t.isScene&&(t=G);var r=W.get(e),i=h.state.lights,a=h.state.shadowsArray,o=i.state.version,s=$.getParameters(e,i.state,a,t,n),l=$.getProgramCacheKey(s),u=r.program,c=!0;if(void 0===u)e.addEventListener("dispose",ye);else if(u.cacheKey!==l)be(e);else if(r.lightsStateVersion!==o)c=!1;else{if(void 0!==s.shaderID){var d=e.isMeshStandardMaterial?t.environment:null;return void(r.envMap=q.get(e.envMap||d))}c=!1}c&&(s.uniforms=$.getUniforms(e),e.onBeforeCompile(s,f),u=$.acquireProgram(s,l),r.program=u,r.uniforms=s.uniforms,r.outputEncoding=s.outputEncoding);var p=r.uniforms;(e.isShaderMaterial||e.isRawShaderMaterial)&&!0!==e.clipping||(r.numClippingPlanes=te.numPlanes,r.numIntersection=te.numIntersection,p.clippingPlanes=te.uniform),r.environment=e.isMeshStandardMaterial?t.environment:null,r.fog=t.fog,r.envMap=q.get(e.envMap||r.environment),r.needsLights=function(e){return e.isMeshLambertMaterial||e.isMeshToonMaterial||e.isMeshPhongMaterial||e.isMeshStandardMaterial||e.isShadowMaterial||e.isShaderMaterial&&!0===e.lights}(e),r.lightsStateVersion=o,r.needsLights&&(p.ambientLightColor.value=i.state.ambient,p.lightProbe.value=i.state.probe,p.directionalLights.value=i.state.directional,p.directionalLightShadows.value=i.state.directionalShadow,p.spotLights.value=i.state.spot,p.spotLightShadows.value=i.state.spotShadow,p.rectAreaLights.value=i.state.rectArea,p.ltc_1.value=i.state.rectAreaLTC1,p.ltc_2.value=i.state.rectAreaLTC2,p.pointLights.value=i.state.point,p.pointLightShadows.value=i.state.pointShadow,p.hemisphereLights.value=i.state.hemi,p.directionalShadowMap.value=i.state.directionalShadowMap,p.directionalShadowMatrix.value=i.state.directionalShadowMatrix,p.spotShadowMap.value=i.state.spotShadowMap,p.spotShadowMatrix.value=i.state.spotShadowMatrix,p.pointShadowMap.value=i.state.pointShadowMap,p.pointShadowMatrix.value=i.state.pointShadowMatrix);var m=r.program.getUniforms(),v=rs.seqWithValue(m.seq,p);r.uniformsList=v}function Te(e,t,n,r){!0!==t.isScene&&(t=G),X.resetTextureUnits();var i=t.fog,a=n.isMeshStandardMaterial?t.environment:null,o=null===y?f.outputEncoding:y.texture.encoding,s=q.get(n.envMap||a),l=W.get(n),u=h.state.lights;if(!0===P&&(!0===N||e!==w)){var c=e===w&&n.id===x;te.setState(n,e,c)}n.version===l.__version?n.fog&&l.fog!==i||l.environment!==a||l.needsLights&&l.lightsStateVersion!==u.state.version?Ee(n,t,r):void 0===l.numClippingPlanes||l.numClippingPlanes===te.numPlanes&&l.numIntersection===te.numIntersection?(l.outputEncoding!==o||l.envMap!==s)&&Ee(n,t,r):Ee(n,t,r):(Ee(n,t,r),l.__version=n.version);var d,p,m=!1,v=!1,g=!1,b=l.program,M=b.getUniforms(),_=l.uniforms;if(V.useProgram(b.program)&&(m=!0,v=!0,g=!0),n.id!==x&&(x=n.id,v=!0),m||w!==e){if(M.setValue(ue,"projectionMatrix",e.projectionMatrix),B.logarithmicDepthBuffer&&M.setValue(ue,"logDepthBufFC",2/(Math.log(e.far+1)/Math.LN2)),w!==e&&(w=e,v=!0,g=!0),n.isShaderMaterial||n.isMeshPhongMaterial||n.isMeshToonMaterial||n.isMeshStandardMaterial||n.envMap){var S=M.map.cameraPosition;void 0!==S&&S.setValue(ue,F.setFromMatrixPosition(e.matrixWorld))}(n.isMeshPhongMaterial||n.isMeshToonMaterial||n.isMeshLambertMaterial||n.isMeshBasicMaterial||n.isMeshStandardMaterial||n.isShaderMaterial)&&M.setValue(ue,"isOrthographic",!0===e.isOrthographicCamera),(n.isMeshPhongMaterial||n.isMeshToonMaterial||n.isMeshLambertMaterial||n.isMeshBasicMaterial||n.isMeshStandardMaterial||n.isShaderMaterial||n.isShadowMaterial||n.skinning)&&M.setValue(ue,"viewMatrix",e.matrixWorldInverse)}if(n.skinning){M.setOptional(ue,r,"bindMatrix"),M.setOptional(ue,r,"bindMatrixInverse");var E=r.skeleton;if(E){var T=E.bones;if(B.floatVertexTextures){if(null===E.boneTexture){var O=Math.sqrt(4*T.length);O=$n.ceilPowerOfTwo(O),O=Math.max(O,4);var k=new Float32Array(O*O*4);k.set(E.boneMatrices);var I=new Na(k,O,O,Ye,Ue);E.boneMatrices=k,E.boneTexture=I,E.boneTextureSize=O}M.setValue(ue,"boneTexture",E.boneTexture,X),M.setValue(ue,"boneTextureSize",E.boneTextureSize)}else M.setOptional(ue,E,"boneMatrices")}}return(v||l.receiveShadow!==r.receiveShadow)&&(l.receiveShadow=r.receiveShadow,M.setValue(ue,"receiveShadow",r.receiveShadow)),v&&(M.setValue(ue,"toneMappingExposure",f.toneMappingExposure),l.needsLights&&(p=g,(d=_).ambientLightColor.needsUpdate=p,d.lightProbe.needsUpdate=p,d.directionalLights.needsUpdate=p,d.directionalLightShadows.needsUpdate=p,d.pointLights.needsUpdate=p,d.pointLightShadows.needsUpdate=p,d.spotLights.needsUpdate=p,d.spotLightShadows.needsUpdate=p,d.rectAreaLights.needsUpdate=p,d.hemisphereLights.needsUpdate=p),i&&n.fog&&K.refreshFogUniforms(_,i),K.refreshMaterialUniforms(_,n,R,A),rs.upload(ue,l.uniformsList,_,X)),n.isShaderMaterial&&!0===n.uniformsNeedUpdate&&(rs.upload(ue,l.uniformsList,_,X),n.uniformsNeedUpdate=!1),n.isSpriteMaterial&&M.setValue(ue,"center",r.center),M.setValue(ue,"modelViewMatrix",r.modelViewMatrix),M.setValue(ue,"normalMatrix",r.normalMatrix),M.setValue(ue,"modelMatrix",r.matrixWorld),b}we.setAnimationLoop((function(e){pe.isPresenting||xe&&xe(e)})),"undefined"!==typeof window&&we.setContext(window),this.setAnimationLoop=function(e){xe=e,pe.setAnimationLoop(e),null===e?we.stop():we.start()},this.render=function(e,t){var n,r;if(void 0!==arguments[2]&&(console.warn("THREE.WebGLRenderer.render(): the renderTarget argument has been removed. Use .setRenderTarget() instead."),n=arguments[2]),void 0!==arguments[3]&&(console.warn("THREE.WebGLRenderer.render(): the forceClear argument has been removed. Use .clear() instead."),r=arguments[3]),void 0===t||!0===t.isCamera){if(!0!==p){se.resetDefaultState(),x=-1,w=null,!0===e.autoUpdate&&e.updateMatrixWorld(),null===t.parent&&t.updateMatrixWorld(),!0===pe.enabled&&!0===pe.isPresenting&&(t=pe.getCamera(t)),!0===e.isScene&&e.onBeforeRender(f,e,t,n||y),(h=ee.get(e,t)).init(),j.multiplyMatrices(t.projectionMatrix,t.matrixWorldInverse),L.setFromProjectionMatrix(j),N=this.localClippingEnabled,P=te.init(this.clippingPlanes,N,t),(d=J.get(e,t)).init(),Me(e,t,0,f.sortObjects),d.finish(),!0===f.sortObjects&&d.sort(O,k),!0===P&&te.beginShadows();var i=h.state.shadowsArray;me.render(i,e,t),h.setupLights(t),!0===P&&te.endShadows(),!0===this.info.autoReset&&this.info.reset(),void 0!==n&&this.setRenderTarget(n),ne.render(d,e,t,r);var a=d.opaque,o=d.transparent;a.length>0&&_e(a,e,t),o.length>0&&_e(o,e,t),!0===e.isScene&&e.onAfterRender(f,e,t),null!==y&&(X.updateRenderTargetMipmap(y),X.updateMultisampleRenderTarget(y)),V.buffers.depth.setTest(!0),V.buffers.depth.setMask(!0),V.buffers.color.setMask(!0),V.setPolygonOffset(!1),d=null,h=null}}else console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.")},this.setFramebuffer=function(e){m!==e&&null===y&&ue.bindFramebuffer(36160,e),m=e},this.getActiveCubeFace=function(){return v},this.getActiveMipmapLevel=function(){return g},this.getRenderList=function(){return d},this.setRenderList=function(e){d=e},this.getRenderState=function(){return h},this.setRenderState=function(e){h=e},this.getRenderTarget=function(){return y},this.setRenderTarget=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;y=e,v=t,g=n,e&&void 0===W.get(e).__webglFramebuffer&&X.setupRenderTarget(e);var r=m,i=!1;if(e){var a=W.get(e).__webglFramebuffer;e.isWebGLCubeRenderTarget?(r=a[t],i=!0):r=e.isWebGLMultisampleRenderTarget?W.get(e).__webglMultisampledFramebuffer:a,_.copy(e.viewport),S.copy(e.scissor),E=e.scissorTest}else _.copy(I).multiplyScalar(R).floor(),S.copy(C).multiplyScalar(R).floor(),E=D;if(b!==r&&(ue.bindFramebuffer(36160,r),b=r),V.viewport(_),V.scissor(S),V.setScissorTest(E),i){var o=W.get(e.texture);ue.framebufferTexture2D(36160,36064,34069+t,o.__webglTexture,n)}},this.readRenderTargetPixels=function(e,t,n,r,i,a,o){if(e&&e.isWebGLRenderTarget){var s=W.get(e).__webglFramebuffer;if(e.isWebGLCubeRenderTarget&&void 0!==o&&(s=s[o]),s){var l=!1;s!==b&&(ue.bindFramebuffer(36160,s),l=!0);try{var u=e.texture,c=u.format,d=u.type;if(c!==Ye&&oe.convert(c)!==ue.getParameter(35739))return void console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");if(d!==Le&&oe.convert(d)!==ue.getParameter(35738)&&(d!==Ue||!(B.isWebGL2||z.get("OES_texture_float")||z.get("WEBGL_color_buffer_float")))&&(d!==ze||!(B.isWebGL2?z.get("EXT_color_buffer_float"):z.get("EXT_color_buffer_half_float"))))return void console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");36053===ue.checkFramebufferStatus(36160)?t>=0&&t<=e.width-r&&n>=0&&n<=e.height-i&&ue.readPixels(t,n,r,i,oe.convert(c),oe.convert(d),a):console.error("THREE.WebGLRenderer.readRenderTargetPixels: readPixels from renderTarget failed. Framebuffer not complete.")}finally{l&&ue.bindFramebuffer(36160,b)}}}else console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.")},this.copyFramebufferToTexture=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=Math.pow(2,-n),i=Math.floor(t.image.width*r),a=Math.floor(t.image.height*r),o=oe.convert(t.format);X.setTexture2D(t,0),ue.copyTexImage2D(3553,n,o,e.x,e.y,i,a,0),V.unbindTexture()},this.copyTextureToTexture=function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,i=t.image.width,a=t.image.height,o=oe.convert(n.format),s=oe.convert(n.type);X.setTexture2D(n,0),ue.pixelStorei(37440,n.flipY),ue.pixelStorei(37441,n.premultiplyAlpha),ue.pixelStorei(3317,n.unpackAlignment),t.isDataTexture?ue.texSubImage2D(3553,r,e.x,e.y,i,a,o,s,t.image.data):t.isCompressedTexture?ue.compressedTexSubImage2D(3553,r,e.x,e.y,t.mipmaps[0].width,t.mipmaps[0].height,o,t.mipmaps[0].data):ue.texSubImage2D(3553,r,e.x,e.y,o,s,t.image),0===r&&n.generateMipmaps&&ue.generateMipmap(3553),V.unbindTexture()},this.initTexture=function(e){X.setTexture2D(e,0),V.unbindTexture()},"undefined"!==typeof __THREE_DEVTOOLS__&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}function Ys(e){qs.call(this,e)}Bs.prototype=Object.assign(Object.create(Ia.prototype),{constructor:Bs,isArrayCamera:!0}),Vs.prototype=Object.assign(Object.create(si.prototype),{constructor:Vs,isGroup:!0}),Object.assign(Hs.prototype,{constructor:Hs,getHandSpace:function(){if(null===this._hand&&(this._hand=new Vs,this._hand.matrixAutoUpdate=!1,this._hand.visible=!1,this._hand.joints=[],this._hand.inputState={pinching:!1},window.XRHand))for(var e=0;e<=window.XRHand.LITTLE_PHALANX_TIP;e++){var t=new Vs;t.matrixAutoUpdate=!1,t.visible=!1,this._hand.joints.push(t),this._hand.add(t)}return this._hand},getTargetRaySpace:function(){return null===this._targetRay&&(this._targetRay=new Vs,this._targetRay.matrixAutoUpdate=!1,this._targetRay.visible=!1),this._targetRay},getGripSpace:function(){return null===this._grip&&(this._grip=new Vs,this._grip.matrixAutoUpdate=!1,this._grip.visible=!1),this._grip},dispatchEvent:function(e){return null!==this._targetRay&&this._targetRay.dispatchEvent(e),null!==this._grip&&this._grip.dispatchEvent(e),null!==this._hand&&this._hand.dispatchEvent(e),this},disconnect:function(e){return this.dispatchEvent({type:"disconnected",data:e}),null!==this._targetRay&&(this._targetRay.visible=!1),null!==this._grip&&(this._grip.visible=!1),null!==this._hand&&(this._hand.visible=!1),this},update:function(e,t,n){var r=null,i=null,a=null,o=this._targetRay,s=this._grip,l=this._hand;if(e&&"visible-blurred"!==t.session.visibilityState)if(l&&e.hand){a=!0;for(var u=0;u<=window.XRHand.LITTLE_PHALANX_TIP;u++)if(e.hand[u]){var c=t.getJointPose(e.hand[u],n),d=l.joints[u];null!==c&&(d.matrix.fromArray(c.transform.matrix),d.matrix.decompose(d.position,d.rotation,d.scale),d.jointRadius=c.radius),d.visible=null!==c;var h=l.joints[window.XRHand.INDEX_PHALANX_TIP],f=l.joints[window.XRHand.THUMB_PHALANX_TIP],p=h.position.distanceTo(f.position);l.inputState.pinching&&p>.025?(l.inputState.pinching=!1,this.dispatchEvent({type:"pinchend",handedness:e.handedness,target:this})):!l.inputState.pinching&&p<=.015&&(l.inputState.pinching=!0,this.dispatchEvent({type:"pinchstart",handedness:e.handedness,target:this}))}}else null!==o&&null!==(r=t.getPose(e.targetRaySpace,n))&&(o.matrix.fromArray(r.transform.matrix),o.matrix.decompose(o.position,o.rotation,o.scale)),null!==s&&e.gripSpace&&null!==(i=t.getPose(e.gripSpace,n))&&(s.matrix.fromArray(i.transform.matrix),s.matrix.decompose(s.position,s.rotation,s.scale));return null!==o&&(o.visible=null!==r),null!==s&&(s.visible=null!==i),null!==l&&(l.visible=null!==a),this}}),Object.assign(Ws.prototype,Xn.prototype),Ys.prototype=Object.assign(Object.create(qs.prototype),{constructor:Ys,isWebGL1Renderer:!0});var Qs=function(){function e(t,n){Object(d.a)(this,e),Object.defineProperty(this,"isFogExp2",{value:!0}),this.name="",this.color=new Oi(t),this.density=void 0!==n?n:25e-5}return Object(h.a)(e,[{key:"clone",value:function(){return new e(this.color,this.density)}},{key:"toJSON",value:function(){return{type:"FogExp2",color:this.color.getHex(),density:this.density}}}]),e}(),Zs=function(){function e(t,n,r){Object(d.a)(this,e),Object.defineProperty(this,"isFog",{value:!0}),this.name="",this.color=new Oi(t),this.near=void 0!==n?n:1,this.far=void 0!==r?r:1e3}return Object(h.a)(e,[{key:"clone",value:function(){return new e(this.color,this.near,this.far)}},{key:"toJSON",value:function(){return{type:"Fog",color:this.color.getHex(),near:this.near,far:this.far}}}]),e}(),$s=function(e){Object(u.a)(n,e);var t=Object(c.a)(n);function n(){var e;return Object(d.a)(this,n),e=t.call(this),Object.defineProperty(Object(l.a)(e),"isScene",{value:!0}),e.type="Scene",e.background=null,e.environment=null,e.fog=null,e.overrideMaterial=null,e.autoUpdate=!0,"undefined"!==typeof __THREE_DEVTOOLS__&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:Object(l.a)(e)})),e}return Object(h.a)(n,[{key:"copy",value:function(e,t){return Object(a.a)(Object(o.a)(n.prototype),"copy",this).call(this,e,t),null!==e.background&&(this.background=e.background.clone()),null!==e.environment&&(this.environment=e.environment.clone()),null!==e.fog&&(this.fog=e.fog.clone()),null!==e.overrideMaterial&&(this.overrideMaterial=e.overrideMaterial.clone()),this.autoUpdate=e.autoUpdate,this.matrixAutoUpdate=e.matrixAutoUpdate,this}},{key:"toJSON",value:function(e){var t=Object(a.a)(Object(o.a)(n.prototype),"toJSON",this).call(this,e);return null!==this.background&&(t.object.background=this.background.toJSON(e)),null!==this.environment&&(t.object.environment=this.environment.toJSON(e)),null!==this.fog&&(t.object.fog=this.fog.toJSON()),t}}]),n}(si);function Ks(e,t){this.array=e,this.stride=t,this.count=void 0!==e?e.length/t:0,this.usage=Pn,this.updateRange={offset:0,count:-1},this.version=0,this.uuid=$n.generateUUID()}Object.defineProperty(Ks.prototype,"needsUpdate",{set:function(e){!0===e&&this.version++}}),Object.assign(Ks.prototype,{isInterleavedBuffer:!0,onUploadCallback:function(){},setUsage:function(e){return this.usage=e,this},copy:function(e){return this.array=new e.array.constructor(e.array),this.count=e.count,this.stride=e.stride,this.usage=e.usage,this},copyAt:function(e,t,n){e*=this.stride,n*=t.stride;for(var r=0,i=this.stride;r<i;r++)this.array[e+r]=t.array[n+r];return this},set:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this.array.set(e,t),this},clone:function(e){void 0===e.arrayBuffers&&(e.arrayBuffers={}),void 0===this.array.buffer._uuid&&(this.array.buffer._uuid=$n.generateUUID()),void 0===e.arrayBuffers[this.array.buffer._uuid]&&(e.arrayBuffers[this.array.buffer._uuid]=this.array.slice(0).buffer);var t=new Ks(new this.array.constructor(e.arrayBuffers[this.array.buffer._uuid]),this.stride);return t.setUsage(this.usage),t},onUpload:function(e){return this.onUploadCallback=e,this},toJSON:function(e){return void 0===e.arrayBuffers&&(e.arrayBuffers={}),void 0===this.array.buffer._uuid&&(this.array.buffer._uuid=$n.generateUUID()),void 0===e.arrayBuffers[this.array.buffer._uuid]&&(e.arrayBuffers[this.array.buffer._uuid]=Array.prototype.slice.call(new Uint32Array(this.array.buffer))),{uuid:this.uuid,buffer:this.array.buffer._uuid,type:this.array.constructor.name,stride:this.stride}}});var Js,el=new lr;function tl(e,t,n,r){this.name="",this.data=e,this.itemSize=t,this.offset=n,this.normalized=!0===r}function nl(e){Ci.call(this),this.type="SpriteMaterial",this.color=new Oi(16777215),this.map=null,this.alphaMap=null,this.rotation=0,this.sizeAttenuation=!0,this.transparent=!0,this.setValues(e)}Object.defineProperties(tl.prototype,{count:{get:function(){return this.data.count}},array:{get:function(){return this.data.array}},needsUpdate:{set:function(e){this.data.needsUpdate=e}}}),Object.assign(tl.prototype,{isInterleavedBufferAttribute:!0,applyMatrix4:function(e){for(var t=0,n=this.data.count;t<n;t++)el.x=this.getX(t),el.y=this.getY(t),el.z=this.getZ(t),el.applyMatrix4(e),this.setXYZ(t,el.x,el.y,el.z);return this},setX:function(e,t){return this.data.array[e*this.data.stride+this.offset]=t,this},setY:function(e,t){return this.data.array[e*this.data.stride+this.offset+1]=t,this},setZ:function(e,t){return this.data.array[e*this.data.stride+this.offset+2]=t,this},setW:function(e,t){return this.data.array[e*this.data.stride+this.offset+3]=t,this},getX:function(e){return this.data.array[e*this.data.stride+this.offset]},getY:function(e){return this.data.array[e*this.data.stride+this.offset+1]},getZ:function(e){return this.data.array[e*this.data.stride+this.offset+2]},getW:function(e){return this.data.array[e*this.data.stride+this.offset+3]},setXY:function(e,t,n){return e=e*this.data.stride+this.offset,this.data.array[e+0]=t,this.data.array[e+1]=n,this},setXYZ:function(e,t,n,r){return e=e*this.data.stride+this.offset,this.data.array[e+0]=t,this.data.array[e+1]=n,this.data.array[e+2]=r,this},setXYZW:function(e,t,n,r,i){return e=e*this.data.stride+this.offset,this.data.array[e+0]=t,this.data.array[e+1]=n,this.data.array[e+2]=r,this.data.array[e+3]=i,this},clone:function(e){if(void 0===e){console.log("THREE.InterleavedBufferAttribute.clone(): Cloning an interlaved buffer attribute will deinterleave buffer data.");for(var t=[],n=0;n<this.count;n++)for(var r=n*this.data.stride+this.offset,i=0;i<this.itemSize;i++)t.push(this.data.array[r+i]);return new Ni(new this.array.constructor(t),this.itemSize,this.normalized)}return void 0===e.interleavedBuffers&&(e.interleavedBuffers={}),void 0===e.interleavedBuffers[this.data.uuid]&&(e.interleavedBuffers[this.data.uuid]=this.data.clone(e)),new tl(e.interleavedBuffers[this.data.uuid],this.itemSize,this.offset,this.normalized)},toJSON:function(e){if(void 0===e){console.log("THREE.InterleavedBufferAttribute.toJSON(): Serializing an interlaved buffer attribute will deinterleave buffer data.");for(var t=[],n=0;n<this.count;n++)for(var r=n*this.data.stride+this.offset,i=0;i<this.itemSize;i++)t.push(this.data.array[r+i]);return{itemSize:this.itemSize,type:this.array.constructor.name,array:t,normalized:this.normalized}}return void 0===e.interleavedBuffers&&(e.interleavedBuffers={}),void 0===e.interleavedBuffers[this.data.uuid]&&(e.interleavedBuffers[this.data.uuid]=this.data.toJSON(e)),{isInterleavedBufferAttribute:!0,itemSize:this.itemSize,data:this.data.uuid,offset:this.offset,normalized:this.normalized}}}),nl.prototype=Object.create(Ci.prototype),nl.prototype.constructor=nl,nl.prototype.isSpriteMaterial=!0,nl.prototype.copy=function(e){return Ci.prototype.copy.call(this,e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.rotation=e.rotation,this.sizeAttenuation=e.sizeAttenuation,this};var rl=new lr,il=new lr,al=new lr,ol=new Kn,sl=new Kn,ll=new Nr,ul=new lr,cl=new lr,dl=new lr,hl=new Kn,fl=new Kn,pl=new Kn;function ml(e){if(si.call(this),this.type="Sprite",void 0===Js){Js=new ia;var t=new Ks(new Float32Array([-.5,-.5,0,0,0,.5,-.5,0,1,0,.5,.5,0,1,1,-.5,.5,0,0,1]),5);Js.setIndex([0,1,2,0,2,3]),Js.setAttribute("position",new tl(t,3,0,!1)),Js.setAttribute("uv",new tl(t,2,3,!1))}this.geometry=Js,this.material=void 0!==e?e:new nl,this.center=new Kn(.5,.5)}function vl(e,t,n,r,i,a){ol.subVectors(e,n).addScalar(.5).multiply(r),void 0!==i?(sl.x=a*ol.x-i*ol.y,sl.y=i*ol.x+a*ol.y):sl.copy(ol),e.copy(t),e.x+=sl.x,e.y+=sl.y,e.applyMatrix4(ll)}ml.prototype=Object.assign(Object.create(si.prototype),{constructor:ml,isSprite:!0,raycast:function(e,t){null===e.camera&&console.error('THREE.Sprite: "Raycaster.camera" needs to be set in order to raycast against sprites.'),il.setFromMatrixScale(this.matrixWorld),ll.copy(e.camera.matrixWorld),this.modelViewMatrix.multiplyMatrices(e.camera.matrixWorldInverse,this.matrixWorld),al.setFromMatrixPosition(this.modelViewMatrix),e.camera.isPerspectiveCamera&&!1===this.material.sizeAttenuation&&il.multiplyScalar(-al.z);var n,r,i=this.material.rotation;0!==i&&(r=Math.cos(i),n=Math.sin(i));var a=this.center;vl(ul.set(-.5,-.5,0),al,a,il,n,r),vl(cl.set(.5,-.5,0),al,a,il,n,r),vl(dl.set(.5,.5,0),al,a,il,n,r),hl.set(0,0),fl.set(1,0),pl.set(1,1);var o=e.ray.intersectTriangle(ul,cl,dl,!1,rl);if(null!==o||(vl(cl.set(-.5,.5,0),al,a,il,n,r),fl.set(0,1),null!==(o=e.ray.intersectTriangle(ul,dl,cl,!1,rl)))){var s=e.ray.origin.distanceTo(rl);s<e.near||s>e.far||t.push({distance:s,point:rl.clone(),uv:Mi.getUV(rl,ul,cl,dl,hl,fl,pl,new Kn),face:null,object:this})}},copy:function(e){return si.prototype.copy.call(this,e),void 0!==e.center&&this.center.copy(e.center),this.material=e.material,this}});var gl=new lr,yl=new lr;function bl(){si.call(this),this._currentLevel=0,this.type="LOD",Object.defineProperties(this,{levels:{enumerable:!0,value:[]}}),this.autoUpdate=!0}function xl(e,t){e&&e.isGeometry&&console.error("THREE.SkinnedMesh no longer supports THREE.Geometry. Use THREE.BufferGeometry instead."),Ma.call(this,e,t),this.type="SkinnedMesh",this.bindMode="attached",this.bindMatrix=new Nr,this.bindMatrixInverse=new Nr}function wl(){si.call(this),this.type="Bone"}bl.prototype=Object.assign(Object.create(si.prototype),{constructor:bl,isLOD:!0,copy:function(e){si.prototype.copy.call(this,e,!1);for(var t=e.levels,n=0,r=t.length;n<r;n++){var i=t[n];this.addLevel(i.object.clone(),i.distance)}return this.autoUpdate=e.autoUpdate,this},addLevel:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;t=Math.abs(t);var n,r=this.levels;for(n=0;n<r.length&&!(t<r[n].distance);n++);return r.splice(n,0,{distance:t,object:e}),this.add(e),this},getCurrentLevel:function(){return this._currentLevel},getObjectForDistance:function(e){var t=this.levels;if(t.length>0){var n,r;for(n=1,r=t.length;n<r&&!(e<t[n].distance);n++);return t[n-1].object}return null},raycast:function(e,t){if(this.levels.length>0){gl.setFromMatrixPosition(this.matrixWorld);var n=e.ray.origin.distanceTo(gl);this.getObjectForDistance(n).raycast(e,t)}},update:function(e){var t=this.levels;if(t.length>1){gl.setFromMatrixPosition(e.matrixWorld),yl.setFromMatrixPosition(this.matrixWorld);var n,r,i=gl.distanceTo(yl)/e.zoom;for(t[0].object.visible=!0,n=1,r=t.length;n<r&&i>=t[n].distance;n++)t[n-1].object.visible=!1,t[n].object.visible=!0;for(this._currentLevel=n-1;n<r;n++)t[n].object.visible=!1}},toJSON:function(e){var t=si.prototype.toJSON.call(this,e);!1===this.autoUpdate&&(t.object.autoUpdate=!1),t.object.levels=[];for(var n=this.levels,r=0,i=n.length;r<i;r++){var a=n[r];t.object.levels.push({object:a.object.uuid,distance:a.distance})}return t}}),xl.prototype=Object.assign(Object.create(Ma.prototype),{constructor:xl,isSkinnedMesh:!0,copy:function(e){return Ma.prototype.copy.call(this,e),this.bindMode=e.bindMode,this.bindMatrix.copy(e.bindMatrix),this.bindMatrixInverse.copy(e.bindMatrixInverse),this.skeleton=e.skeleton,this},bind:function(e,t){this.skeleton=e,void 0===t&&(this.updateMatrixWorld(!0),this.skeleton.calculateInverses(),t=this.matrixWorld),this.bindMatrix.copy(t),this.bindMatrixInverse.copy(t).invert()},pose:function(){this.skeleton.pose()},normalizeSkinWeights:function(){for(var e=new ir,t=this.geometry.attributes.skinWeight,n=0,r=t.count;n<r;n++){e.x=t.getX(n),e.y=t.getY(n),e.z=t.getZ(n),e.w=t.getW(n);var i=1/e.manhattanLength();i!==1/0?e.multiplyScalar(i):e.set(1,0,0,0),t.setXYZW(n,e.x,e.y,e.z,e.w)}},updateMatrixWorld:function(e){Ma.prototype.updateMatrixWorld.call(this,e),"attached"===this.bindMode?this.bindMatrixInverse.copy(this.matrixWorld).invert():"detached"===this.bindMode?this.bindMatrixInverse.copy(this.bindMatrix).invert():console.warn("THREE.SkinnedMesh: Unrecognized bindMode: "+this.bindMode)},boneTransform:function(){var e=new lr,t=new ir,n=new ir,r=new lr,i=new Nr;return function(a,o){var s=this.skeleton,l=this.geometry;t.fromBufferAttribute(l.attributes.skinIndex,a),n.fromBufferAttribute(l.attributes.skinWeight,a),e.fromBufferAttribute(l.attributes.position,a).applyMatrix4(this.bindMatrix),o.set(0,0,0);for(var u=0;u<4;u++){var c=n.getComponent(u);if(0!==c){var d=t.getComponent(u);i.multiplyMatrices(s.bones[d].matrixWorld,s.boneInverses[d]),o.addScaledVector(r.copy(e).applyMatrix4(i),c)}}return o.applyMatrix4(this.bindMatrixInverse)}}()}),wl.prototype=Object.assign(Object.create(si.prototype),{constructor:wl,isBone:!0});var Ml=new Nr,_l=new Nr;function Sl(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];this.uuid=$n.generateUUID(),this.bones=e.slice(0),this.boneInverses=t,this.boneMatrices=null,this.boneTexture=null,this.boneTextureSize=0,this.frame=-1,this.init()}Object.assign(Sl.prototype,{init:function(){var e=this.bones,t=this.boneInverses;if(this.boneMatrices=new Float32Array(16*e.length),0===t.length)this.calculateInverses();else if(e.length!==t.length){console.warn("THREE.Skeleton: Number of inverse bone matrices does not match amount of bones."),this.boneInverses=[];for(var n=0,r=this.bones.length;n<r;n++)this.boneInverses.push(new Nr)}},calculateInverses:function(){this.boneInverses.length=0;for(var e=0,t=this.bones.length;e<t;e++){var n=new Nr;this.bones[e]&&n.copy(this.bones[e].matrixWorld).invert(),this.boneInverses.push(n)}},pose:function(){for(var e=0,t=this.bones.length;e<t;e++){var n=this.bones[e];n&&n.matrixWorld.copy(this.boneInverses[e]).invert()}for(var r=0,i=this.bones.length;r<i;r++){var a=this.bones[r];a&&(a.parent&&a.parent.isBone?(a.matrix.copy(a.parent.matrixWorld).invert(),a.matrix.multiply(a.matrixWorld)):a.matrix.copy(a.matrixWorld),a.matrix.decompose(a.position,a.quaternion,a.scale))}},update:function(){for(var e=this.bones,t=this.boneInverses,n=this.boneMatrices,r=this.boneTexture,i=0,a=e.length;i<a;i++){var o=e[i]?e[i].matrixWorld:_l;Ml.multiplyMatrices(o,t[i]),Ml.toArray(n,16*i)}null!==r&&(r.needsUpdate=!0)},clone:function(){return new Sl(this.bones,this.boneInverses)},getBoneByName:function(e){for(var t=0,n=this.bones.length;t<n;t++){var r=this.bones[t];if(r.name===e)return r}},dispose:function(){null!==this.boneTexture&&(this.boneTexture.dispose(),this.boneTexture=null)},fromJSON:function(e,t){this.uuid=e.uuid;for(var n=0,r=e.bones.length;n<r;n++){var i=e.bones[n],a=t[i];void 0===a&&(console.warn("THREE.Skeleton: No bone found with UUID:",i),a=new wl),this.bones.push(a),this.boneInverses.push((new Nr).fromArray(e.boneInverses[n]))}return this.init(),this},toJSON:function(){var e={metadata:{version:4.5,type:"Skeleton",generator:"Skeleton.toJSON"},bones:[],boneInverses:[]};e.uuid=this.uuid;for(var t=this.bones,n=this.boneInverses,r=0,i=t.length;r<i;r++){var a=t[r];e.bones.push(a.uuid);var o=n[r];e.boneInverses.push(o.toArray())}return e}});var El=new Nr,Tl=new Nr,Al=[],Rl=new Ma;function Ol(e,t,n){Ma.call(this,e,t),this.instanceMatrix=new Ni(new Float32Array(16*n),16),this.instanceColor=null,this.count=n,this.frustumCulled=!1}function kl(e){Ci.call(this),this.type="LineBasicMaterial",this.color=new Oi(16777215),this.linewidth=1,this.linecap="round",this.linejoin="round",this.morphTargets=!1,this.setValues(e)}Ol.prototype=Object.assign(Object.create(Ma.prototype),{constructor:Ol,isInstancedMesh:!0,copy:function(e){return Ma.prototype.copy.call(this,e),this.instanceMatrix.copy(e.instanceMatrix),this.count=e.count,this},getColorAt:function(e,t){t.fromArray(this.instanceColor.array,3*e)},getMatrixAt:function(e,t){t.fromArray(this.instanceMatrix.array,16*e)},raycast:function(e,t){var n=this.matrixWorld,r=this.count;if(Rl.geometry=this.geometry,Rl.material=this.material,void 0!==Rl.material)for(var i=0;i<r;i++){this.getMatrixAt(i,El),Tl.multiplyMatrices(n,El),Rl.matrixWorld=Tl,Rl.raycast(e,Al);for(var a=0,o=Al.length;a<o;a++){var s=Al[a];s.instanceId=i,s.object=this,t.push(s)}Al.length=0}},setColorAt:function(e,t){null===this.instanceColor&&(this.instanceColor=new Ni(new Float32Array(3*this.count),3)),t.toArray(this.instanceColor.array,3*e)},setMatrixAt:function(e,t){t.toArray(this.instanceMatrix.array,16*e)},updateMorphTargets:function(){}}),kl.prototype=Object.create(Ci.prototype),kl.prototype.constructor=kl,kl.prototype.isLineBasicMaterial=!0,kl.prototype.copy=function(e){return Ci.prototype.copy.call(this,e),this.color.copy(e.color),this.linewidth=e.linewidth,this.linecap=e.linecap,this.linejoin=e.linejoin,this.morphTargets=e.morphTargets,this};var Il=new lr,Cl=new lr,Dl=new Nr,Ll=new Pr,Pl=new Ar;function Nl(e,t,n){1===n&&console.error("THREE.Line: parameter THREE.LinePieces no longer supported. Use THREE.LineSegments instead."),si.call(this),this.type="Line",this.geometry=void 0!==e?e:new ia,this.material=void 0!==t?t:new kl,this.updateMorphTargets()}Nl.prototype=Object.assign(Object.create(si.prototype),{constructor:Nl,isLine:!0,copy:function(e){return si.prototype.copy.call(this,e),this.material=e.material,this.geometry=e.geometry,this},computeLineDistances:function(){var e=this.geometry;if(e.isBufferGeometry)if(null===e.index){for(var t=e.attributes.position,n=[0],r=1,i=t.count;r<i;r++)Il.fromBufferAttribute(t,r-1),Cl.fromBufferAttribute(t,r),n[r]=n[r-1],n[r]+=Il.distanceTo(Cl);e.setAttribute("lineDistance",new Wi(n,1))}else console.warn("THREE.Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");else if(e.isGeometry){var a=e.vertices,o=e.lineDistances;o[0]=0;for(var s=1,l=a.length;s<l;s++)o[s]=o[s-1],o[s]+=a[s-1].distanceTo(a[s])}return this},raycast:function(e,t){var n=this.geometry,r=this.matrixWorld,i=e.params.Line.threshold;if(null===n.boundingSphere&&n.computeBoundingSphere(),Pl.copy(n.boundingSphere),Pl.applyMatrix4(r),Pl.radius+=i,!1!==e.ray.intersectsSphere(Pl)){Dl.copy(r).invert(),Ll.copy(e.ray).applyMatrix4(Dl);var a=i/((this.scale.x+this.scale.y+this.scale.z)/3),o=a*a,s=new lr,l=new lr,u=new lr,c=new lr,d=this.isLineSegments?2:1;if(n.isBufferGeometry){var h=n.index,f=n.attributes.position;if(null!==h)for(var p=h.array,m=0,v=p.length-1;m<v;m+=d){var g=p[m],y=p[m+1];if(s.fromBufferAttribute(f,g),l.fromBufferAttribute(f,y),!(Ll.distanceSqToSegment(s,l,c,u)>o)){c.applyMatrix4(this.matrixWorld);var b=e.ray.origin.distanceTo(c);b<e.near||b>e.far||t.push({distance:b,point:u.clone().applyMatrix4(this.matrixWorld),index:m,face:null,faceIndex:null,object:this})}}else for(var x=0,w=f.count-1;x<w;x+=d){if(s.fromBufferAttribute(f,x),l.fromBufferAttribute(f,x+1),!(Ll.distanceSqToSegment(s,l,c,u)>o)){c.applyMatrix4(this.matrixWorld);var M=e.ray.origin.distanceTo(c);M<e.near||M>e.far||t.push({distance:M,point:u.clone().applyMatrix4(this.matrixWorld),index:x,face:null,faceIndex:null,object:this})}}}else if(n.isGeometry)for(var _=n.vertices,S=_.length,E=0;E<S-1;E+=d){if(!(Ll.distanceSqToSegment(_[E],_[E+1],c,u)>o)){c.applyMatrix4(this.matrixWorld);var T=e.ray.origin.distanceTo(c);T<e.near||T>e.far||t.push({distance:T,point:u.clone().applyMatrix4(this.matrixWorld),index:E,face:null,faceIndex:null,object:this})}}}},updateMorphTargets:function(){var e=this.geometry;if(e.isBufferGeometry){var t=e.morphAttributes,n=Object.keys(t);if(n.length>0){var r=t[n[0]];if(void 0!==r){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(var i=0,a=r.length;i<a;i++){var o=r[i].name||String(i);this.morphTargetInfluences.push(0),this.morphTargetDictionary[o]=i}}}}else{var s=e.morphTargets;void 0!==s&&s.length>0&&console.error("THREE.Line.updateMorphTargets() does not support THREE.Geometry. Use THREE.BufferGeometry instead.")}}});var jl=new lr,Fl=new lr;function Gl(e,t){Nl.call(this,e,t),this.type="LineSegments"}function Ul(e,t){Nl.call(this,e,t),this.type="LineLoop"}function zl(e){Ci.call(this),this.type="PointsMaterial",this.color=new Oi(16777215),this.map=null,this.alphaMap=null,this.size=1,this.sizeAttenuation=!0,this.morphTargets=!1,this.setValues(e)}Gl.prototype=Object.assign(Object.create(Nl.prototype),{constructor:Gl,isLineSegments:!0,computeLineDistances:function(){var e=this.geometry;if(e.isBufferGeometry)if(null===e.index){for(var t=e.attributes.position,n=[],r=0,i=t.count;r<i;r+=2)jl.fromBufferAttribute(t,r),Fl.fromBufferAttribute(t,r+1),n[r]=0===r?0:n[r-1],n[r+1]=n[r]+jl.distanceTo(Fl);e.setAttribute("lineDistance",new Wi(n,1))}else console.warn("THREE.LineSegments.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");else if(e.isGeometry)for(var a=e.vertices,o=e.lineDistances,s=0,l=a.length;s<l;s+=2)jl.copy(a[s]),Fl.copy(a[s+1]),o[s]=0===s?0:o[s-1],o[s+1]=o[s]+jl.distanceTo(Fl);return this}}),Ul.prototype=Object.assign(Object.create(Nl.prototype),{constructor:Ul,isLineLoop:!0}),zl.prototype=Object.create(Ci.prototype),zl.prototype.constructor=zl,zl.prototype.isPointsMaterial=!0,zl.prototype.copy=function(e){return Ci.prototype.copy.call(this,e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.size=e.size,this.sizeAttenuation=e.sizeAttenuation,this.morphTargets=e.morphTargets,this};var Bl=new Nr,Vl=new Pr,Hl=new Ar,Wl=new lr;function Xl(e,t){si.call(this),this.type="Points",this.geometry=void 0!==e?e:new ia,this.material=void 0!==t?t:new zl,this.updateMorphTargets()}function ql(e,t,n,r,i,a,o){var s=Vl.distanceSqToPoint(e);if(s<n){var l=new lr;Vl.closestPointToPoint(e,l),l.applyMatrix4(r);var u=i.ray.origin.distanceTo(l);if(u<i.near||u>i.far)return;a.push({distance:u,distanceToRay:Math.sqrt(s),point:l,index:t,face:null,object:o})}}function Yl(e,t,n,r,i,a,o,s,l){nr.call(this,e,t,n,r,i,a,o,s,l),this.format=void 0!==o?o:qe,this.minFilter=void 0!==a?a:Oe,this.magFilter=void 0!==i?i:Oe,this.generateMipmaps=!1;var u=this;"requestVideoFrameCallback"in e&&e.requestVideoFrameCallback((function t(){u.needsUpdate=!0,e.requestVideoFrameCallback(t)}))}function Ql(e,t,n,r,i,a,o,s,l,u,c,d){nr.call(this,null,a,o,s,l,u,r,i,c,d),this.image={width:t,height:n},this.mipmaps=e,this.flipY=!1,this.generateMipmaps=!1}function Zl(e,t,n,r,i,a,o,s,l){nr.call(this,e,t,n,r,i,a,o,s,l),this.needsUpdate=!0}function $l(e,t,n,r,i,a,o,s,l,u){if((u=void 0!==u?u:Ke)!==Ke&&u!==Je)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");void 0===n&&u===Ke&&(n=je),void 0===n&&u===Je&&(n=We),nr.call(this,null,r,i,a,o,s,u,n,l),this.image={width:e,height:t},this.magFilter=void 0!==o?o:Se,this.minFilter=void 0!==s?s:Se,this.flipY=!1,this.generateMipmaps=!1}Xl.prototype=Object.assign(Object.create(si.prototype),{constructor:Xl,isPoints:!0,copy:function(e){return si.prototype.copy.call(this,e),this.material=e.material,this.geometry=e.geometry,this},raycast:function(e,t){var n=this.geometry,r=this.matrixWorld,i=e.params.Points.threshold;if(null===n.boundingSphere&&n.computeBoundingSphere(),Hl.copy(n.boundingSphere),Hl.applyMatrix4(r),Hl.radius+=i,!1!==e.ray.intersectsSphere(Hl)){Bl.copy(r).invert(),Vl.copy(e.ray).applyMatrix4(Bl);var a=i/((this.scale.x+this.scale.y+this.scale.z)/3),o=a*a;if(n.isBufferGeometry){var s=n.index,l=n.attributes.position;if(null!==s)for(var u=s.array,c=0,d=u.length;c<d;c++){var h=u[c];Wl.fromBufferAttribute(l,h),ql(Wl,h,o,r,e,t,this)}else for(var f=0,p=l.count;f<p;f++)Wl.fromBufferAttribute(l,f),ql(Wl,f,o,r,e,t,this)}else for(var m=n.vertices,v=0,g=m.length;v<g;v++)ql(m[v],v,o,r,e,t,this)}},updateMorphTargets:function(){var e=this.geometry;if(e.isBufferGeometry){var t=e.morphAttributes,n=Object.keys(t);if(n.length>0){var r=t[n[0]];if(void 0!==r){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(var i=0,a=r.length;i<a;i++){var o=r[i].name||String(i);this.morphTargetInfluences.push(0),this.morphTargetDictionary[o]=i}}}}else{var s=e.morphTargets;void 0!==s&&s.length>0&&console.error("THREE.Points.updateMorphTargets() does not support THREE.Geometry. Use THREE.BufferGeometry instead.")}}}),Yl.prototype=Object.assign(Object.create(nr.prototype),{constructor:Yl,clone:function(){return new this.constructor(this.image).copy(this)},isVideoTexture:!0,update:function(){var e=this.image;!1==="requestVideoFrameCallback"in e&&e.readyState>=e.HAVE_CURRENT_DATA&&(this.needsUpdate=!0)}}),Ql.prototype=Object.create(nr.prototype),Ql.prototype.constructor=Ql,Ql.prototype.isCompressedTexture=!0,Zl.prototype=Object.create(nr.prototype),Zl.prototype.constructor=Zl,Zl.prototype.isCanvasTexture=!0,$l.prototype=Object.create(nr.prototype),$l.prototype.constructor=$l,$l.prototype.isDepthTexture=!0;var Kl=0,Jl=new Nr,eu=new si,tu=new lr;function nu(){Object.defineProperty(this,"id",{value:Kl+=2}),this.uuid=$n.generateUUID(),this.name="",this.type="Geometry",this.vertices=[],this.colors=[],this.faces=[],this.faceVertexUvs=[[]],this.morphTargets=[],this.morphNormals=[],this.skinWeights=[],this.skinIndices=[],this.lineDistances=[],this.boundingBox=null,this.boundingSphere=null,this.elementsNeedUpdate=!1,this.verticesNeedUpdate=!1,this.uvsNeedUpdate=!1,this.normalsNeedUpdate=!1,this.colorsNeedUpdate=!1,this.lineDistancesNeedUpdate=!1,this.groupsNeedUpdate=!1}nu.prototype=Object.assign(Object.create(Xn.prototype),{constructor:nu,isGeometry:!0,applyMatrix4:function(e){for(var t=(new Jn).getNormalMatrix(e),n=0,r=this.vertices.length;n<r;n++){this.vertices[n].applyMatrix4(e)}for(var i=0,a=this.faces.length;i<a;i++){var o=this.faces[i];o.normal.applyMatrix3(t).normalize();for(var s=0,l=o.vertexNormals.length;s<l;s++)o.vertexNormals[s].applyMatrix3(t).normalize()}return null!==this.boundingBox&&this.computeBoundingBox(),null!==this.boundingSphere&&this.computeBoundingSphere(),this.verticesNeedUpdate=!0,this.normalsNeedUpdate=!0,this},rotateX:function(e){return Jl.makeRotationX(e),this.applyMatrix4(Jl),this},rotateY:function(e){return Jl.makeRotationY(e),this.applyMatrix4(Jl),this},rotateZ:function(e){return Jl.makeRotationZ(e),this.applyMatrix4(Jl),this},translate:function(e,t,n){return Jl.makeTranslation(e,t,n),this.applyMatrix4(Jl),this},scale:function(e,t,n){return Jl.makeScale(e,t,n),this.applyMatrix4(Jl),this},lookAt:function(e){return eu.lookAt(e),eu.updateMatrix(),this.applyMatrix4(eu.matrix),this},fromBufferGeometry:function(e){var t=this,n=null!==e.index?e.index:void 0,r=e.attributes;if(void 0===r.position)return console.error("THREE.Geometry.fromBufferGeometry(): Position attribute required for conversion."),this;var i=r.position,a=r.normal,o=r.color,s=r.uv,l=r.uv2;void 0!==l&&(this.faceVertexUvs[1]=[]);for(var u=0;u<i.count;u++)t.vertices.push((new lr).fromBufferAttribute(i,u)),void 0!==o&&t.colors.push((new Oi).fromBufferAttribute(o,u));function c(e,n,r,i){var u=void 0===o?[]:[t.colors[e].clone(),t.colors[n].clone(),t.colors[r].clone()],c=void 0===a?[]:[(new lr).fromBufferAttribute(a,e),(new lr).fromBufferAttribute(a,n),(new lr).fromBufferAttribute(a,r)],d=new ki(e,n,r,c,u,i);t.faces.push(d),void 0!==s&&t.faceVertexUvs[0].push([(new Kn).fromBufferAttribute(s,e),(new Kn).fromBufferAttribute(s,n),(new Kn).fromBufferAttribute(s,r)]),void 0!==l&&t.faceVertexUvs[1].push([(new Kn).fromBufferAttribute(l,e),(new Kn).fromBufferAttribute(l,n),(new Kn).fromBufferAttribute(l,r)])}var d=e.groups;if(d.length>0)for(var h=0;h<d.length;h++)for(var f=d[h],p=f.start,m=p,v=p+f.count;m<v;m+=3)void 0!==n?c(n.getX(m),n.getX(m+1),n.getX(m+2),f.materialIndex):c(m,m+1,m+2,f.materialIndex);else if(void 0!==n)for(var g=0;g<n.count;g+=3)c(n.getX(g),n.getX(g+1),n.getX(g+2));else for(var y=0;y<i.count;y+=3)c(y,y+1,y+2);return this.computeFaceNormals(),null!==e.boundingBox&&(this.boundingBox=e.boundingBox.clone()),null!==e.boundingSphere&&(this.boundingSphere=e.boundingSphere.clone()),this},center:function(){return this.computeBoundingBox(),this.boundingBox.getCenter(tu).negate(),this.translate(tu.x,tu.y,tu.z),this},normalize:function(){this.computeBoundingSphere();var e=this.boundingSphere.center,t=this.boundingSphere.radius,n=0===t?1:1/t,r=new Nr;return r.set(n,0,0,-n*e.x,0,n,0,-n*e.y,0,0,n,-n*e.z,0,0,0,1),this.applyMatrix4(r),this},computeFaceNormals:function(){for(var e=new lr,t=new lr,n=0,r=this.faces.length;n<r;n++){var i=this.faces[n],a=this.vertices[i.a],o=this.vertices[i.b],s=this.vertices[i.c];e.subVectors(s,o),t.subVectors(a,o),e.cross(t),e.normalize(),i.normal.copy(e)}},computeVertexNormals:function(){for(var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=new Array(this.vertices.length),n=0,r=this.vertices.length;n<r;n++)t[n]=new lr;if(e)for(var i=new lr,a=new lr,o=0,s=this.faces.length;o<s;o++){var l=this.faces[o],u=this.vertices[l.a],c=this.vertices[l.b],d=this.vertices[l.c];i.subVectors(d,c),a.subVectors(u,c),i.cross(a),t[l.a].add(i),t[l.b].add(i),t[l.c].add(i)}else{this.computeFaceNormals();for(var h=0,f=this.faces.length;h<f;h++){var p=this.faces[h];t[p.a].add(p.normal),t[p.b].add(p.normal),t[p.c].add(p.normal)}}for(var m=0,v=this.vertices.length;m<v;m++)t[m].normalize();for(var g=0,y=this.faces.length;g<y;g++){var b=this.faces[g],x=b.vertexNormals;3===x.length?(x[0].copy(t[b.a]),x[1].copy(t[b.b]),x[2].copy(t[b.c])):(x[0]=t[b.a].clone(),x[1]=t[b.b].clone(),x[2]=t[b.c].clone())}this.faces.length>0&&(this.normalsNeedUpdate=!0)},computeFlatVertexNormals:function(){this.computeFaceNormals();for(var e=0,t=this.faces.length;e<t;e++){var n=this.faces[e],r=n.vertexNormals;3===r.length?(r[0].copy(n.normal),r[1].copy(n.normal),r[2].copy(n.normal)):(r[0]=n.normal.clone(),r[1]=n.normal.clone(),r[2]=n.normal.clone())}this.faces.length>0&&(this.normalsNeedUpdate=!0)},computeMorphNormals:function(){for(var e=0,t=this.faces.length;e<t;e++){var n=this.faces[e];n.__originalFaceNormal?n.__originalFaceNormal.copy(n.normal):n.__originalFaceNormal=n.normal.clone(),n.__originalVertexNormals||(n.__originalVertexNormals=[]);for(var r=0,i=n.vertexNormals.length;r<i;r++)n.__originalVertexNormals[r]?n.__originalVertexNormals[r].copy(n.vertexNormals[r]):n.__originalVertexNormals[r]=n.vertexNormals[r].clone()}var a=new nu;a.faces=this.faces;for(var o=0,s=this.morphTargets.length;o<s;o++){if(!this.morphNormals[o]){this.morphNormals[o]={},this.morphNormals[o].faceNormals=[],this.morphNormals[o].vertexNormals=[];for(var l=this.morphNormals[o].faceNormals,u=this.morphNormals[o].vertexNormals,c=0,d=this.faces.length;c<d;c++){var h=new lr,f={a:new lr,b:new lr,c:new lr};l.push(h),u.push(f)}}var p=this.morphNormals[o];a.vertices=this.morphTargets[o].vertices,a.computeFaceNormals(),a.computeVertexNormals();for(var m=0,v=this.faces.length;m<v;m++){var g=this.faces[m],y=p.faceNormals[m],b=p.vertexNormals[m];y.copy(g.normal),b.a.copy(g.vertexNormals[0]),b.b.copy(g.vertexNormals[1]),b.c.copy(g.vertexNormals[2])}}for(var x=0,w=this.faces.length;x<w;x++){var M=this.faces[x];M.normal=M.__originalFaceNormal,M.vertexNormals=M.__originalVertexNormals}},computeBoundingBox:function(){null===this.boundingBox&&(this.boundingBox=new dr),this.boundingBox.setFromPoints(this.vertices)},computeBoundingSphere:function(){null===this.boundingSphere&&(this.boundingSphere=new Ar),this.boundingSphere.setFromPoints(this.vertices)},merge:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;if(e&&e.isGeometry){var r,i=this.vertices.length,a=this.vertices,o=e.vertices,s=this.faces,l=e.faces,u=this.colors,c=e.colors;void 0!==t&&(r=(new Jn).getNormalMatrix(t));for(var d=0,h=o.length;d<h;d++){var f=o[d],p=f.clone();void 0!==t&&p.applyMatrix4(t),a.push(p)}for(var m=0,v=c.length;m<v;m++)u.push(c[m].clone());for(var g=0,y=l.length;g<y;g++){var b=l[g],x=void 0,w=void 0,M=b.vertexNormals,_=b.vertexColors,S=new ki(b.a+i,b.b+i,b.c+i);S.normal.copy(b.normal),void 0!==r&&S.normal.applyMatrix3(r).normalize();for(var E=0,T=M.length;E<T;E++)x=M[E].clone(),void 0!==r&&x.applyMatrix3(r).normalize(),S.vertexNormals.push(x);S.color.copy(b.color);for(var A=0,R=_.length;A<R;A++)w=_[A],S.vertexColors.push(w.clone());S.materialIndex=b.materialIndex+n,s.push(S)}for(var O=0,k=e.faceVertexUvs.length;O<k;O++){var I=e.faceVertexUvs[O];void 0===this.faceVertexUvs[O]&&(this.faceVertexUvs[O]=[]);for(var C=0,D=I.length;C<D;C++){for(var L=I[C],P=[],N=0,j=L.length;N<j;N++)P.push(L[N].clone());this.faceVertexUvs[O].push(P)}}}else console.error("THREE.Geometry.merge(): geometry not an instance of THREE.Geometry.",e)},mergeMesh:function(e){e&&e.isMesh?(e.matrixAutoUpdate&&e.updateMatrix(),this.merge(e.geometry,e.matrix)):console.error("THREE.Geometry.mergeMesh(): mesh not an instance of THREE.Mesh.",e)},mergeVertices:function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:4,t={},n=[],r=[],i=Math.pow(10,e),a=0,o=this.vertices.length;a<o;a++){var s=this.vertices[a],l=Math.round(s.x*i)+"_"+Math.round(s.y*i)+"_"+Math.round(s.z*i);void 0===t[l]?(t[l]=a,n.push(this.vertices[a]),r[a]=n.length-1):r[a]=r[t[l]]}for(var u=[],c=0,d=this.faces.length;c<d;c++){var h=this.faces[c];h.a=r[h.a],h.b=r[h.b],h.c=r[h.c];for(var f=[h.a,h.b,h.c],p=0;p<3;p++)if(f[p]===f[(p+1)%3]){u.push(c);break}}for(var m=u.length-1;m>=0;m--){var v=u[m];this.faces.splice(v,1);for(var g=0,y=this.faceVertexUvs.length;g<y;g++)this.faceVertexUvs[g].splice(v,1)}var b=this.vertices.length-n.length;return this.vertices=n,b},setFromPoints:function(e){this.vertices=[];for(var t=0,n=e.length;t<n;t++){var r=e[t];this.vertices.push(new lr(r.x,r.y,r.z||0))}return this},sortFacesByMaterialIndex:function(){for(var e=this.faces,t=e.length,n=0;n<t;n++)e[n]._id=n;e.sort((function(e,t){return e.materialIndex-t.materialIndex}));var r,i,a=this.faceVertexUvs[0],o=this.faceVertexUvs[1];a&&a.length===t&&(r=[]),o&&o.length===t&&(i=[]);for(var s=0;s<t;s++){var l=e[s]._id;r&&r.push(a[l]),i&&i.push(o[l])}r&&(this.faceVertexUvs[0]=r),i&&(this.faceVertexUvs[1]=i)},toJSON:function(){var e={metadata:{version:4.5,type:"Geometry",generator:"Geometry.toJSON"}};if(e.uuid=this.uuid,e.type=this.type,""!==this.name&&(e.name=this.name),void 0!==this.parameters){var t=this.parameters;for(var n in t)void 0!==t[n]&&(e[n]=t[n]);return e}for(var r=[],i=0;i<this.vertices.length;i++){var a=this.vertices[i];r.push(a.x,a.y,a.z)}for(var o=[],s=[],l={},u=[],c={},d=[],h={},f=0;f<this.faces.length;f++){var p=this.faces[f],m=void 0!==this.faceVertexUvs[0][f],v=p.normal.length()>0,g=p.vertexNormals.length>0,y=1!==p.color.r||1!==p.color.g||1!==p.color.b,b=p.vertexColors.length>0,x=0;if(x=S(x,0,0),x=S(x,1,!0),x=S(x,2,!1),x=S(x,3,m),x=S(x,4,v),x=S(x,5,g),x=S(x,6,y),x=S(x,7,b),o.push(x),o.push(p.a,p.b,p.c),o.push(p.materialIndex),m){var w=this.faceVertexUvs[0][f];o.push(A(w[0]),A(w[1]),A(w[2]))}if(v&&o.push(E(p.normal)),g){var M=p.vertexNormals;o.push(E(M[0]),E(M[1]),E(M[2]))}if(y&&o.push(T(p.color)),b){var _=p.vertexColors;o.push(T(_[0]),T(_[1]),T(_[2]))}}function S(e,t,n){return n?e|1<<t:e&~(1<<t)}function E(e){var t=e.x.toString()+e.y.toString()+e.z.toString();return void 0!==l[t]||(l[t]=s.length/3,s.push(e.x,e.y,e.z)),l[t]}function T(e){var t=e.r.toString()+e.g.toString()+e.b.toString();return void 0!==c[t]||(c[t]=u.length,u.push(e.getHex())),c[t]}function A(e){var t=e.x.toString()+e.y.toString();return void 0!==h[t]||(h[t]=d.length/2,d.push(e.x,e.y)),h[t]}return e.data={},e.data.vertices=r,e.data.normals=s,u.length>0&&(e.data.colors=u),d.length>0&&(e.data.uvs=[d]),e.data.faces=o,e},clone:function(){return(new nu).copy(this)},copy:function(e){this.vertices=[],this.colors=[],this.faces=[],this.faceVertexUvs=[[]],this.morphTargets=[],this.morphNormals=[],this.skinWeights=[],this.skinIndices=[],this.lineDistances=[],this.boundingBox=null,this.boundingSphere=null,this.name=e.name;for(var t=e.vertices,n=0,r=t.length;n<r;n++)this.vertices.push(t[n].clone());for(var i=e.colors,a=0,o=i.length;a<o;a++)this.colors.push(i[a].clone());for(var s=e.faces,l=0,u=s.length;l<u;l++)this.faces.push(s[l].clone());for(var c=0,d=e.faceVertexUvs.length;c<d;c++){var h=e.faceVertexUvs[c];void 0===this.faceVertexUvs[c]&&(this.faceVertexUvs[c]=[]);for(var f=0,p=h.length;f<p;f++){for(var m=h[f],v=[],g=0,y=m.length;g<y;g++){var b=m[g];v.push(b.clone())}this.faceVertexUvs[c].push(v)}}for(var x=e.morphTargets,w=0,M=x.length;w<M;w++){var _={};if(_.name=x[w].name,void 0!==x[w].vertices){_.vertices=[];for(var S=0,E=x[w].vertices.length;S<E;S++)_.vertices.push(x[w].vertices[S].clone())}if(void 0!==x[w].normals){_.normals=[];for(var T=0,A=x[w].normals.length;T<A;T++)_.normals.push(x[w].normals[T].clone())}this.morphTargets.push(_)}for(var R=e.morphNormals,O=0,k=R.length;O<k;O++){var I={};if(void 0!==R[O].vertexNormals){I.vertexNormals=[];for(var C=0,D=R[O].vertexNormals.length;C<D;C++){var L=R[O].vertexNormals[C],P={};P.a=L.a.clone(),P.b=L.b.clone(),P.c=L.c.clone(),I.vertexNormals.push(P)}}if(void 0!==R[O].faceNormals){I.faceNormals=[];for(var N=0,j=R[O].faceNormals.length;N<j;N++)I.faceNormals.push(R[O].faceNormals[N].clone())}this.morphNormals.push(I)}for(var F=e.skinWeights,G=0,U=F.length;G<U;G++)this.skinWeights.push(F[G].clone());for(var z=e.skinIndices,B=0,V=z.length;B<V;B++)this.skinIndices.push(z[B].clone());for(var H=e.lineDistances,W=0,X=H.length;W<X;W++)this.lineDistances.push(H[W]);var q=e.boundingBox;null!==q&&(this.boundingBox=q.clone());var Y=e.boundingSphere;return null!==Y&&(this.boundingSphere=Y.clone()),this.elementsNeedUpdate=e.elementsNeedUpdate,this.verticesNeedUpdate=e.verticesNeedUpdate,this.uvsNeedUpdate=e.uvsNeedUpdate,this.normalsNeedUpdate=e.normalsNeedUpdate,this.colorsNeedUpdate=e.colorsNeedUpdate,this.lineDistancesNeedUpdate=e.lineDistancesNeedUpdate,this.groupsNeedUpdate=e.groupsNeedUpdate,this},dispose:function(){this.dispatchEvent({type:"dispose"})}});var ru=function(e){Object(u.a)(n,e);var t=Object(c.a)(n);function n(e,r,i,a,o,s){var l;return Object(d.a)(this,n),(l=t.call(this)).type="BoxGeometry",l.parameters={width:e,height:r,depth:i,widthSegments:a,heightSegments:o,depthSegments:s},l.fromBufferGeometry(new Ea(e,r,i,a,o,s)),l.mergeVertices(),l}return n}(nu),iu=function(e){Object(u.a)(n,e);var t=Object(c.a)(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:8,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:2*Math.PI;Object(d.a)(this,n),(e=t.call(this)).type="CircleBufferGeometry",e.parameters={radius:r,segments:i,thetaStart:a,thetaLength:o},i=Math.max(3,i);var s=[],l=[],u=[],c=[],h=new lr,f=new Kn;l.push(0,0,0),u.push(0,0,1),c.push(.5,.5);for(var p=0,m=3;p<=i;p++,m+=3){var v=a+p/i*o;h.x=r*Math.cos(v),h.y=r*Math.sin(v),l.push(h.x,h.y,h.z),u.push(0,0,1),f.x=(l[m]/r+1)/2,f.y=(l[m+1]/r+1)/2,c.push(f.x,f.y)}for(var g=1;g<=i;g++)s.push(g,g+1,0);return e.setIndex(s),e.setAttribute("position",new Wi(l,3)),e.setAttribute("normal",new Wi(u,3)),e.setAttribute("uv",new Wi(c,2)),e}return n}(ia),au=function(e){Object(u.a)(n,e);var t=Object(c.a)(n);function n(e,r,i,a){var o;return Object(d.a)(this,n),(o=t.call(this)).type="CircleGeometry",o.parameters={radius:e,segments:r,thetaStart:i,thetaLength:a},o.fromBufferGeometry(new iu(e,r,i,a)),o.mergeVertices(),o}return n}(nu),ou=function(e){Object(u.a)(n,e);var t=Object(c.a)(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:8,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1,u=arguments.length>5&&void 0!==arguments[5]&&arguments[5],c=arguments.length>6&&void 0!==arguments[6]?arguments[6]:0,h=arguments.length>7&&void 0!==arguments[7]?arguments[7]:2*Math.PI;Object(d.a)(this,n),(e=t.call(this)).type="CylinderBufferGeometry",e.parameters={radiusTop:r,radiusBottom:i,height:a,radialSegments:o,heightSegments:s,openEnded:u,thetaStart:c,thetaLength:h};var f=Object(l.a)(e);o=Math.floor(o),s=Math.floor(s);var p=[],m=[],v=[],g=[],y=0,b=[],x=a/2,w=0;function M(){for(var e=new lr,t=new lr,n=0,l=(i-r)/a,u=0;u<=s;u++){for(var d=[],M=u/s,_=M*(i-r)+r,S=0;S<=o;S++){var E=S/o,T=E*h+c,A=Math.sin(T),R=Math.cos(T);t.x=_*A,t.y=-M*a+x,t.z=_*R,m.push(t.x,t.y,t.z),e.set(A,l,R).normalize(),v.push(e.x,e.y,e.z),g.push(E,1-M),d.push(y++)}b.push(d)}for(var O=0;O<o;O++)for(var k=0;k<s;k++){var I=b[k][O],C=b[k+1][O],D=b[k+1][O+1],L=b[k][O+1];p.push(I,C,L),p.push(C,D,L),n+=6}f.addGroup(w,n,0),w+=n}function _(e){for(var t=y,n=new Kn,a=new lr,s=0,l=!0===e?r:i,u=!0===e?1:-1,d=1;d<=o;d++)m.push(0,x*u,0),v.push(0,u,0),g.push(.5,.5),y++;for(var b=y,M=0;M<=o;M++){var _=M/o*h+c,S=Math.cos(_),E=Math.sin(_);a.x=l*E,a.y=x*u,a.z=l*S,m.push(a.x,a.y,a.z),v.push(0,u,0),n.x=.5*S+.5,n.y=.5*E*u+.5,g.push(n.x,n.y),y++}for(var T=0;T<o;T++){var A=t+T,R=b+T;!0===e?p.push(R,R+1,A):p.push(R+1,R,A),s+=3}f.addGroup(w,s,!0===e?1:2),w+=s}return M(),!1===u&&(r>0&&_(!0),i>0&&_(!1)),e.setIndex(p),e.setAttribute("position",new Wi(m,3)),e.setAttribute("normal",new Wi(v,3)),e.setAttribute("uv",new Wi(g,2)),e}return n}(ia),su=function(e){Object(u.a)(n,e);var t=Object(c.a)(n);function n(e,r,i,a,o,s,l,u){var c;return Object(d.a)(this,n),(c=t.call(this)).type="CylinderGeometry",c.parameters={radiusTop:e,radiusBottom:r,height:i,radialSegments:a,heightSegments:o,openEnded:s,thetaStart:l,thetaLength:u},c.fromBufferGeometry(new ou(e,r,i,a,o,s,l,u)),c.mergeVertices(),c}return n}(nu),lu=function(e){Object(u.a)(n,e);var t=Object(c.a)(n);function n(e,r,i,a,o,s,l){var u;return Object(d.a)(this,n),(u=t.call(this,0,e,r,i,a,o,s,l)).type="ConeGeometry",u.parameters={radius:e,height:r,radialSegments:i,heightSegments:a,openEnded:o,thetaStart:s,thetaLength:l},u}return n}(su),uu=function(e){Object(u.a)(n,e);var t=Object(c.a)(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:8,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,s=arguments.length>4&&void 0!==arguments[4]&&arguments[4],l=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:2*Math.PI;return Object(d.a)(this,n),(e=t.call(this,0,r,i,a,o,s,l,u)).type="ConeBufferGeometry",e.parameters={radius:r,height:i,radialSegments:a,heightSegments:o,openEnded:s,thetaStart:l,thetaLength:u},e}return n}(ou),cu=function(e){Object(u.a)(n,e);var t=Object(c.a)(n);function n(e,r){var i,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;Object(d.a)(this,n),(i=t.call(this)).type="PolyhedronBufferGeometry",i.parameters={vertices:e,indices:r,radius:a,detail:o};var s=[],l=[];function u(e){for(var t=new lr,n=new lr,i=new lr,a=0;a<r.length;a+=3)v(r[a+0],t),v(r[a+1],n),v(r[a+2],i),c(t,n,i,e)}function c(e,t,n,r){for(var i=r+1,a=[],o=0;o<=i;o++){a[o]=[];for(var s=e.clone().lerp(n,o/i),l=t.clone().lerp(n,o/i),u=i-o,c=0;c<=u;c++)a[o][c]=0===c&&o===i?s:s.clone().lerp(l,c/u)}for(var d=0;d<i;d++)for(var h=0;h<2*(i-d)-1;h++){var f=Math.floor(h/2);h%2===0?(m(a[d][f+1]),m(a[d+1][f]),m(a[d][f])):(m(a[d][f+1]),m(a[d+1][f+1]),m(a[d+1][f]))}}function h(e){for(var t=new lr,n=0;n<s.length;n+=3)t.x=s[n+0],t.y=s[n+1],t.z=s[n+2],t.normalize().multiplyScalar(e),s[n+0]=t.x,s[n+1]=t.y,s[n+2]=t.z}function f(){for(var e=new lr,t=0;t<s.length;t+=3){e.x=s[t+0],e.y=s[t+1],e.z=s[t+2];var n=b(e)/2/Math.PI+.5,r=x(e)/Math.PI+.5;l.push(n,1-r)}g(),p()}function p(){for(var e=0;e<l.length;e+=6){var t=l[e+0],n=l[e+2],r=l[e+4],i=Math.max(t,n,r),a=Math.min(t,n,r);i>.9&&a<.1&&(t<.2&&(l[e+0]+=1),n<.2&&(l[e+2]+=1),r<.2&&(l[e+4]+=1))}}function m(e){s.push(e.x,e.y,e.z)}function v(t,n){var r=3*t;n.x=e[r+0],n.y=e[r+1],n.z=e[r+2]}function g(){for(var e=new lr,t=new lr,n=new lr,r=new lr,i=new Kn,a=new Kn,o=new Kn,u=0,c=0;u<s.length;u+=9,c+=6){e.set(s[u+0],s[u+1],s[u+2]),t.set(s[u+3],s[u+4],s[u+5]),n.set(s[u+6],s[u+7],s[u+8]),i.set(l[c+0],l[c+1]),a.set(l[c+2],l[c+3]),o.set(l[c+4],l[c+5]),r.copy(e).add(t).add(n).divideScalar(3);var d=b(r);y(i,c+0,e,d),y(a,c+2,t,d),y(o,c+4,n,d)}}function y(e,t,n,r){r<0&&1===e.x&&(l[t]=e.x-1),0===n.x&&0===n.z&&(l[t]=r/2/Math.PI+.5)}function b(e){return Math.atan2(e.z,-e.x)}function x(e){return Math.atan2(-e.y,Math.sqrt(e.x*e.x+e.z*e.z))}return u(o),h(a),f(),i.setAttribute("position",new Wi(s,3)),i.setAttribute("normal",new Wi(s.slice(),3)),i.setAttribute("uv",new Wi(l,2)),0===o?i.computeVertexNormals():i.normalizeNormals(),i}return n}(ia),du=function(e){Object(u.a)(n,e);var t=Object(c.a)(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;Object(d.a)(this,n);var a=(1+Math.sqrt(5))/2,o=1/a,s=[-1,-1,-1,-1,-1,1,-1,1,-1,-1,1,1,1,-1,-1,1,-1,1,1,1,-1,1,1,1,0,-o,-a,0,-o,a,0,o,-a,0,o,a,-o,-a,0,-o,a,0,o,-a,0,o,a,0,-a,0,-o,a,0,-o,-a,0,o,a,0,o],l=[3,11,7,3,7,15,3,15,13,7,19,17,7,17,6,7,6,15,17,4,8,17,8,10,17,10,6,8,0,16,8,16,2,8,2,10,0,12,1,0,1,18,0,18,16,6,10,2,6,2,13,6,13,15,2,16,18,2,18,3,2,3,13,18,1,9,18,9,11,18,11,3,4,14,12,4,12,0,4,0,8,11,9,5,11,5,19,11,19,7,19,5,14,19,14,4,19,4,17,1,12,14,1,14,5,1,5,9];return(e=t.call(this,s,l,r,i)).type="DodecahedronBufferGeometry",e.parameters={radius:r,detail:i},e}return n}(cu),hu=function(e){Object(u.a)(n,e);var t=Object(c.a)(n);function n(e,r){var i;return Object(d.a)(this,n),(i=t.call(this)).type="DodecahedronGeometry",i.parameters={radius:e,detail:r},i.fromBufferGeometry(new du(e,r)),i.mergeVertices(),i}return n}(nu),fu=new lr,pu=new lr,mu=new lr,vu=new Mi,gu=function(e){Object(u.a)(n,e);var t=Object(c.a)(n);function n(e,r){var i;Object(d.a)(this,n),(i=t.call(this)).type="EdgesGeometry",i.parameters={thresholdAngle:r},r=void 0!==r?r:1,e.isGeometry&&(e=(new ia).fromGeometry(e));for(var a=Math.pow(10,4),o=Math.cos($n.DEG2RAD*r),s=e.getIndex(),l=e.getAttribute("position"),u=s?s.count:l.count,c=[0,0,0],h=["a","b","c"],f=new Array(3),p={},m=[],v=0;v<u;v+=3){s?(c[0]=s.getX(v),c[1]=s.getX(v+1),c[2]=s.getX(v+2)):(c[0]=v,c[1]=v+1,c[2]=v+2);var g=vu.a,y=vu.b,b=vu.c;if(g.fromBufferAttribute(l,c[0]),y.fromBufferAttribute(l,c[1]),b.fromBufferAttribute(l,c[2]),vu.getNormal(mu),f[0]="".concat(Math.round(g.x*a),",").concat(Math.round(g.y*a),",").concat(Math.round(g.z*a)),f[1]="".concat(Math.round(y.x*a),",").concat(Math.round(y.y*a),",").concat(Math.round(y.z*a)),f[2]="".concat(Math.round(b.x*a),",").concat(Math.round(b.y*a),",").concat(Math.round(b.z*a)),f[0]!==f[1]&&f[1]!==f[2]&&f[2]!==f[0])for(var x=0;x<3;x++){var w=(x+1)%3,M=f[x],_=f[w],S=vu[h[x]],E=vu[h[w]],T="".concat(M,"_").concat(_),A="".concat(_,"_").concat(M);A in p&&p[A]?(mu.dot(p[A].normal)<=o&&(m.push(S.x,S.y,S.z),m.push(E.x,E.y,E.z)),p[A]=null):T in p||(p[T]={index0:c[x],index1:c[w],normal:mu.clone()})}}for(var R in p)if(p[R]){var O=p[R],k=O.index0,I=O.index1;fu.fromBufferAttribute(l,k),pu.fromBufferAttribute(l,I),m.push(fu.x,fu.y,fu.z),m.push(pu.x,pu.y,pu.z)}return i.setAttribute("position",new Wi(m,3)),i}return n}(ia),yu=function(e,t,n){n=n||2;var r,i,a,o,s,l,u,c=t&&t.length,d=c?t[0]*n:e.length,h=bu(e,0,d,n,!0),f=[];if(!h||h.next===h.prev)return f;if(c&&(h=function(e,t,n,r){var i,a,o,s=[];for(i=0,a=t.length;i<a;i++)(o=bu(e,t[i]*r,i<a-1?t[i+1]*r:e.length,r,!1))===o.next&&(o.steiner=!0),s.push(ku(o));for(s.sort(Tu),i=0;i<s.length;i++)Au(s[i],n),n=xu(n,n.next);return n}(e,t,h,n)),e.length>80*n){r=a=e[0],i=o=e[1];for(var p=n;p<d;p+=n)(s=e[p])<r&&(r=s),(l=e[p+1])<i&&(i=l),s>a&&(a=s),l>o&&(o=l);u=0!==(u=Math.max(a-r,o-i))?1/u:0}return wu(h,f,n,r,i,u),f};function bu(e,t,n,r,i){var a,o;if(i===function(e,t,n,r){for(var i=0,a=t,o=n-r;a<n;a+=r)i+=(e[o]-e[a])*(e[a+1]+e[o+1]),o=a;return i}(e,t,n,r)>0)for(a=t;a<n;a+=r)o=Uu(a,e[a],e[a+1],o);else for(a=n-r;a>=t;a-=r)o=Uu(a,e[a],e[a+1],o);return o&&Lu(o,o.next)&&(zu(o),o=o.next),o}function xu(e,t){if(!e)return e;t||(t=e);var n,r=e;do{if(n=!1,r.steiner||!Lu(r,r.next)&&0!==Du(r.prev,r,r.next))r=r.next;else{if(zu(r),(r=t=r.prev)===r.next)break;n=!0}}while(n||r!==t);return t}function wu(e,t,n,r,i,a,o){if(e){!o&&a&&function(e,t,n,r){var i=e;do{null===i.z&&(i.z=Ou(i.x,i.y,t,n,r)),i.prevZ=i.prev,i.nextZ=i.next,i=i.next}while(i!==e);i.prevZ.nextZ=null,i.prevZ=null,function(e){var t,n,r,i,a,o,s,l,u=1;do{for(n=e,e=null,a=null,o=0;n;){for(o++,r=n,s=0,t=0;t<u&&(s++,r=r.nextZ);t++);for(l=u;s>0||l>0&&r;)0!==s&&(0===l||!r||n.z<=r.z)?(i=n,n=n.nextZ,s--):(i=r,r=r.nextZ,l--),a?a.nextZ=i:e=i,i.prevZ=a,a=i;n=r}a.nextZ=null,u*=2}while(o>1)}(i)}(e,r,i,a);for(var s,l,u=e;e.prev!==e.next;)if(s=e.prev,l=e.next,a?_u(e,r,i,a):Mu(e))t.push(s.i/n),t.push(e.i/n),t.push(l.i/n),zu(e),e=l.next,u=l.next;else if((e=l)===u){o?1===o?wu(e=Su(xu(e),t,n),t,n,r,i,a,2):2===o&&Eu(e,t,n,r,i,a):wu(xu(e),t,n,r,i,a,1);break}}}function Mu(e){var t=e.prev,n=e,r=e.next;if(Du(t,n,r)>=0)return!1;for(var i=e.next.next;i!==e.prev;){if(Iu(t.x,t.y,n.x,n.y,r.x,r.y,i.x,i.y)&&Du(i.prev,i,i.next)>=0)return!1;i=i.next}return!0}function _u(e,t,n,r){var i=e.prev,a=e,o=e.next;if(Du(i,a,o)>=0)return!1;for(var s=i.x<a.x?i.x<o.x?i.x:o.x:a.x<o.x?a.x:o.x,l=i.y<a.y?i.y<o.y?i.y:o.y:a.y<o.y?a.y:o.y,u=i.x>a.x?i.x>o.x?i.x:o.x:a.x>o.x?a.x:o.x,c=i.y>a.y?i.y>o.y?i.y:o.y:a.y>o.y?a.y:o.y,d=Ou(s,l,t,n,r),h=Ou(u,c,t,n,r),f=e.prevZ,p=e.nextZ;f&&f.z>=d&&p&&p.z<=h;){if(f!==e.prev&&f!==e.next&&Iu(i.x,i.y,a.x,a.y,o.x,o.y,f.x,f.y)&&Du(f.prev,f,f.next)>=0)return!1;if(f=f.prevZ,p!==e.prev&&p!==e.next&&Iu(i.x,i.y,a.x,a.y,o.x,o.y,p.x,p.y)&&Du(p.prev,p,p.next)>=0)return!1;p=p.nextZ}for(;f&&f.z>=d;){if(f!==e.prev&&f!==e.next&&Iu(i.x,i.y,a.x,a.y,o.x,o.y,f.x,f.y)&&Du(f.prev,f,f.next)>=0)return!1;f=f.prevZ}for(;p&&p.z<=h;){if(p!==e.prev&&p!==e.next&&Iu(i.x,i.y,a.x,a.y,o.x,o.y,p.x,p.y)&&Du(p.prev,p,p.next)>=0)return!1;p=p.nextZ}return!0}function Su(e,t,n){var r=e;do{var i=r.prev,a=r.next.next;!Lu(i,a)&&Pu(i,r,r.next,a)&&Fu(i,a)&&Fu(a,i)&&(t.push(i.i/n),t.push(r.i/n),t.push(a.i/n),zu(r),zu(r.next),r=e=a),r=r.next}while(r!==e);return xu(r)}function Eu(e,t,n,r,i,a){var o=e;do{for(var s=o.next.next;s!==o.prev;){if(o.i!==s.i&&Cu(o,s)){var l=Gu(o,s);return o=xu(o,o.next),l=xu(l,l.next),wu(o,t,n,r,i,a),void wu(l,t,n,r,i,a)}s=s.next}o=o.next}while(o!==e)}function Tu(e,t){return e.x-t.x}function Au(e,t){if(t=function(e,t){var n,r=t,i=e.x,a=e.y,o=-1/0;do{if(a<=r.y&&a>=r.next.y&&r.next.y!==r.y){var s=r.x+(a-r.y)*(r.next.x-r.x)/(r.next.y-r.y);if(s<=i&&s>o){if(o=s,s===i){if(a===r.y)return r;if(a===r.next.y)return r.next}n=r.x<r.next.x?r:r.next}}r=r.next}while(r!==t);if(!n)return null;if(i===o)return n;var l,u=n,c=n.x,d=n.y,h=1/0;r=n;do{i>=r.x&&r.x>=c&&i!==r.x&&Iu(a<d?i:o,a,c,d,a<d?o:i,a,r.x,r.y)&&(l=Math.abs(a-r.y)/(i-r.x),Fu(r,e)&&(l<h||l===h&&(r.x>n.x||r.x===n.x&&Ru(n,r)))&&(n=r,h=l)),r=r.next}while(r!==u);return n}(e,t)){var n=Gu(t,e);xu(t,t.next),xu(n,n.next)}}function Ru(e,t){return Du(e.prev,e,t.prev)<0&&Du(t.next,e,e.next)<0}function Ou(e,t,n,r,i){return(e=1431655765&((e=858993459&((e=252645135&((e=16711935&((e=32767*(e-n)*i)|e<<8))|e<<4))|e<<2))|e<<1))|(t=1431655765&((t=858993459&((t=252645135&((t=16711935&((t=32767*(t-r)*i)|t<<8))|t<<4))|t<<2))|t<<1))<<1}function ku(e){var t=e,n=e;do{(t.x<n.x||t.x===n.x&&t.y<n.y)&&(n=t),t=t.next}while(t!==e);return n}function Iu(e,t,n,r,i,a,o,s){return(i-o)*(t-s)-(e-o)*(a-s)>=0&&(e-o)*(r-s)-(n-o)*(t-s)>=0&&(n-o)*(a-s)-(i-o)*(r-s)>=0}function Cu(e,t){return e.next.i!==t.i&&e.prev.i!==t.i&&!function(e,t){var n=e;do{if(n.i!==e.i&&n.next.i!==e.i&&n.i!==t.i&&n.next.i!==t.i&&Pu(n,n.next,e,t))return!0;n=n.next}while(n!==e);return!1}(e,t)&&(Fu(e,t)&&Fu(t,e)&&function(e,t){var n=e,r=!1,i=(e.x+t.x)/2,a=(e.y+t.y)/2;do{n.y>a!==n.next.y>a&&n.next.y!==n.y&&i<(n.next.x-n.x)*(a-n.y)/(n.next.y-n.y)+n.x&&(r=!r),n=n.next}while(n!==e);return r}(e,t)&&(Du(e.prev,e,t.prev)||Du(e,t.prev,t))||Lu(e,t)&&Du(e.prev,e,e.next)>0&&Du(t.prev,t,t.next)>0)}function Du(e,t,n){return(t.y-e.y)*(n.x-t.x)-(t.x-e.x)*(n.y-t.y)}function Lu(e,t){return e.x===t.x&&e.y===t.y}function Pu(e,t,n,r){var i=ju(Du(e,t,n)),a=ju(Du(e,t,r)),o=ju(Du(n,r,e)),s=ju(Du(n,r,t));return i!==a&&o!==s||(!(0!==i||!Nu(e,n,t))||(!(0!==a||!Nu(e,r,t))||(!(0!==o||!Nu(n,e,r))||!(0!==s||!Nu(n,t,r)))))}function Nu(e,t,n){return t.x<=Math.max(e.x,n.x)&&t.x>=Math.min(e.x,n.x)&&t.y<=Math.max(e.y,n.y)&&t.y>=Math.min(e.y,n.y)}function ju(e){return e>0?1:e<0?-1:0}function Fu(e,t){return Du(e.prev,e,e.next)<0?Du(e,t,e.next)>=0&&Du(e,e.prev,t)>=0:Du(e,t,e.prev)<0||Du(e,e.next,t)<0}function Gu(e,t){var n=new Bu(e.i,e.x,e.y),r=new Bu(t.i,t.x,t.y),i=e.next,a=t.prev;return e.next=t,t.prev=e,n.next=i,i.prev=n,r.next=n,n.prev=r,a.next=r,r.prev=a,r}function Uu(e,t,n,r){var i=new Bu(e,t,n);return r?(i.next=r.next,i.prev=r,r.next.prev=i,r.next=i):(i.prev=i,i.next=i),i}function zu(e){e.next.prev=e.prev,e.prev.next=e.next,e.prevZ&&(e.prevZ.nextZ=e.nextZ),e.nextZ&&(e.nextZ.prevZ=e.prevZ)}function Bu(e,t,n){this.i=e,this.x=t,this.y=n,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}var Vu={area:function(e){for(var t=e.length,n=0,r=t-1,i=0;i<t;r=i++)n+=e[r].x*e[i].y-e[i].x*e[r].y;return.5*n},isClockWise:function(e){return Vu.area(e)<0},triangulateShape:function(e,t){var n=[],r=[],i=[];Hu(e),Wu(n,e);var a=e.length;t.forEach(Hu);for(var o=0;o<t.length;o++)r.push(a),a+=t[o].length,Wu(n,t[o]);for(var s=yu(n,r),l=0;l<s.length;l+=3)i.push(s.slice(l,l+3));return i}};function Hu(e){var t=e.length;t>2&&e[t-1].equals(e[0])&&e.pop()}function Wu(e,t){for(var n=0;n<t.length;n++)e.push(t[n].x),e.push(t[n].y)}var Xu=function(e){Object(u.a)(n,e);var t=Object(c.a)(n);function n(e,r){var i;Object(d.a)(this,n),(i=t.call(this)).type="ExtrudeBufferGeometry",i.parameters={shapes:e,options:r},e=Array.isArray(e)?e:[e];for(var a=Object(l.a)(i),o=[],s=[],u=0,c=e.length;u<c;u++){h(e[u])}function h(e){var t=[],n=void 0!==r.curveSegments?r.curveSegments:12,i=void 0!==r.steps?r.steps:1,l=void 0!==r.depth?r.depth:100,u=void 0===r.bevelEnabled||r.bevelEnabled,c=void 0!==r.bevelThickness?r.bevelThickness:6,d=void 0!==r.bevelSize?r.bevelSize:c-2,h=void 0!==r.bevelOffset?r.bevelOffset:0,f=void 0!==r.bevelSegments?r.bevelSegments:3,p=r.extrudePath,m=void 0!==r.UVGenerator?r.UVGenerator:qu;void 0!==r.amount&&(console.warn("THREE.ExtrudeBufferGeometry: amount has been renamed to depth."),l=r.amount);var v,g,y,b,x,w=!1;p&&(v=p.getSpacedPoints(i),w=!0,u=!1,g=p.computeFrenetFrames(i,!1),y=new lr,b=new lr,x=new lr),u||(f=0,c=0,d=0,h=0);var M=e.extractPoints(n),_=M.shape,S=M.holes;if(!Vu.isClockWise(_)){_=_.reverse();for(var E=0,T=S.length;E<T;E++){var A=S[E];Vu.isClockWise(A)&&(S[E]=A.reverse())}}for(var R=Vu.triangulateShape(_,S),O=_,k=0,I=S.length;k<I;k++){var C=S[k];_=_.concat(C)}function D(e,t,n){return t||console.error("THREE.ExtrudeGeometry: vec does not exist"),t.clone().multiplyScalar(n).add(e)}var L=_.length,P=R.length;function N(e,t,n){var r,i,a,o=e.x-t.x,s=e.y-t.y,l=n.x-e.x,u=n.y-e.y,c=o*o+s*s,d=o*u-s*l;if(Math.abs(d)>Number.EPSILON){var h=Math.sqrt(c),f=Math.sqrt(l*l+u*u),p=t.x-s/h,m=t.y+o/h,v=((n.x-u/f-p)*u-(n.y+l/f-m)*l)/(o*u-s*l),g=(r=p+o*v-e.x)*r+(i=m+s*v-e.y)*i;if(g<=2)return new Kn(r,i);a=Math.sqrt(g/2)}else{var y=!1;o>Number.EPSILON?l>Number.EPSILON&&(y=!0):o<-Number.EPSILON?l<-Number.EPSILON&&(y=!0):Math.sign(s)===Math.sign(u)&&(y=!0),y?(r=-s,i=o,a=Math.sqrt(c)):(r=o,i=s,a=Math.sqrt(c/2))}return new Kn(r/a,i/a)}for(var j=[],F=0,G=O.length,U=G-1,z=F+1;F<G;F++,U++,z++)U===G&&(U=0),z===G&&(z=0),j[F]=N(O[F],O[U],O[z]);for(var B,V=[],H=j.concat(),W=0,X=S.length;W<X;W++){var q=S[W];B=[];for(var Y=0,Q=q.length,Z=Q-1,$=Y+1;Y<Q;Y++,Z++,$++)Z===Q&&(Z=0),$===Q&&($=0),B[Y]=N(q[Y],q[Z],q[$]);V.push(B),H=H.concat(B)}for(var K=0;K<f;K++){for(var J=K/f,ee=c*Math.cos(J*Math.PI/2),te=d*Math.sin(J*Math.PI/2)+h,ne=0,re=O.length;ne<re;ne++){var ie=D(O[ne],j[ne],te);Ie(ie.x,ie.y,-ee)}for(var ae=0,oe=S.length;ae<oe;ae++){var se=S[ae];B=V[ae];for(var le=0,ue=se.length;le<ue;le++){var ce=D(se[le],B[le],te);Ie(ce.x,ce.y,-ee)}}}for(var de=d+h,he=0;he<L;he++){var fe=u?D(_[he],H[he],de):_[he];w?(b.copy(g.normals[0]).multiplyScalar(fe.x),y.copy(g.binormals[0]).multiplyScalar(fe.y),x.copy(v[0]).add(b).add(y),Ie(x.x,x.y,x.z)):Ie(fe.x,fe.y,0)}for(var pe=1;pe<=i;pe++)for(var me=0;me<L;me++){var ve=u?D(_[me],H[me],de):_[me];w?(b.copy(g.normals[pe]).multiplyScalar(ve.x),y.copy(g.binormals[pe]).multiplyScalar(ve.y),x.copy(v[pe]).add(b).add(y),Ie(x.x,x.y,x.z)):Ie(ve.x,ve.y,l/i*pe)}for(var ge=f-1;ge>=0;ge--){for(var ye=ge/f,be=c*Math.cos(ye*Math.PI/2),xe=d*Math.sin(ye*Math.PI/2)+h,we=0,Me=O.length;we<Me;we++){var _e=D(O[we],j[we],xe);Ie(_e.x,_e.y,l+be)}for(var Se=0,Ee=S.length;Se<Ee;Se++){var Te=S[Se];B=V[Se];for(var Ae=0,Re=Te.length;Ae<Re;Ae++){var Oe=D(Te[Ae],B[Ae],xe);w?Ie(Oe.x,Oe.y+v[i-1].y,v[i-1].x+be):Ie(Oe.x,Oe.y,l+be)}}}function ke(e,t){for(var n=e.length;--n>=0;){var r=n,a=n-1;a<0&&(a=e.length-1);for(var o=0,s=i+2*f;o<s;o++){var l=L*o,u=L*(o+1);De(t+r+l,t+a+l,t+a+u,t+r+u)}}}function Ie(e,n,r){t.push(e),t.push(n),t.push(r)}function Ce(e,t,n){Le(e),Le(t),Le(n);var r=o.length/3,i=m.generateTopUV(a,o,r-3,r-2,r-1);Pe(i[0]),Pe(i[1]),Pe(i[2])}function De(e,t,n,r){Le(e),Le(t),Le(r),Le(t),Le(n),Le(r);var i=o.length/3,s=m.generateSideWallUV(a,o,i-6,i-3,i-2,i-1);Pe(s[0]),Pe(s[1]),Pe(s[3]),Pe(s[1]),Pe(s[2]),Pe(s[3])}function Le(e){o.push(t[3*e+0]),o.push(t[3*e+1]),o.push(t[3*e+2])}function Pe(e){s.push(e.x),s.push(e.y)}!function(){var e=o.length/3;if(u){for(var t=0,n=L*t,r=0;r<P;r++){var s=R[r];Ce(s[2]+n,s[1]+n,s[0]+n)}n=L*(t=i+2*f);for(var l=0;l<P;l++){var c=R[l];Ce(c[0]+n,c[1]+n,c[2]+n)}}else{for(var d=0;d<P;d++){var h=R[d];Ce(h[2],h[1],h[0])}for(var p=0;p<P;p++){var m=R[p];Ce(m[0]+L*i,m[1]+L*i,m[2]+L*i)}}a.addGroup(e,o.length/3-e,0)}(),function(){var e=o.length/3,t=0;ke(O,t),t+=O.length;for(var n=0,r=S.length;n<r;n++){var i=S[n];ke(i,t),t+=i.length}a.addGroup(e,o.length/3-e,1)}()}return i.setAttribute("position",new Wi(o,3)),i.setAttribute("uv",new Wi(s,2)),i.computeVertexNormals(),i}return Object(h.a)(n,[{key:"toJSON",value:function(){var e=ia.prototype.toJSON.call(this);return function(e,t,n){if(n.shapes=[],Array.isArray(e))for(var r=0,i=e.length;r<i;r++){var a=e[r];n.shapes.push(a.uuid)}else n.shapes.push(e.uuid);void 0!==t.extrudePath&&(n.options.extrudePath=t.extrudePath.toJSON());return n}(this.parameters.shapes,this.parameters.options,e)}}]),n}(ia),qu={generateTopUV:function(e,t,n,r,i){var a=t[3*n],o=t[3*n+1],s=t[3*r],l=t[3*r+1],u=t[3*i],c=t[3*i+1];return[new Kn(a,o),new Kn(s,l),new Kn(u,c)]},generateSideWallUV:function(e,t,n,r,i,a){var o=t[3*n],s=t[3*n+1],l=t[3*n+2],u=t[3*r],c=t[3*r+1],d=t[3*r+2],h=t[3*i],f=t[3*i+1],p=t[3*i+2],m=t[3*a],v=t[3*a+1],g=t[3*a+2];return Math.abs(s-c)<.01?[new Kn(o,1-l),new Kn(u,1-d),new Kn(h,1-p),new Kn(m,1-g)]:[new Kn(s,1-l),new Kn(c,1-d),new Kn(f,1-p),new Kn(v,1-g)]}};var Yu=function(e){Object(u.a)(n,e);var t=Object(c.a)(n);function n(e,r){var i;return Object(d.a)(this,n),(i=t.call(this)).type="ExtrudeGeometry",i.parameters={shapes:e,options:r},i.fromBufferGeometry(new Xu(e,r)),i.mergeVertices(),i}return Object(h.a)(n,[{key:"toJSON",value:function(){var e=Object(a.a)(Object(o.a)(n.prototype),"toJSON",this).call(this);return function(e,t,n){if(n.shapes=[],Array.isArray(e))for(var r=0,i=e.length;r<i;r++){var a=e[r];n.shapes.push(a.uuid)}else n.shapes.push(e.uuid);void 0!==t.extrudePath&&(n.options.extrudePath=t.extrudePath.toJSON());return n}(this.parameters.shapes,this.parameters.options,e)}}]),n}(nu);var Qu=function(e){Object(u.a)(n,e);var t=Object(c.a)(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;Object(d.a)(this,n);var a=(1+Math.sqrt(5))/2,o=[-1,a,0,1,a,0,-1,-a,0,1,-a,0,0,-1,a,0,1,a,0,-1,-a,0,1,-a,a,0,-1,a,0,1,-a,0,-1,-a,0,1],s=[0,11,5,0,5,1,0,1,7,0,7,10,0,10,11,1,5,9,5,11,4,11,10,2,10,7,6,7,1,8,3,9,4,3,4,2,3,2,6,3,6,8,3,8,9,4,9,5,2,4,11,6,2,10,8,6,7,9,8,1];return(e=t.call(this,o,s,r,i)).type="IcosahedronBufferGeometry",e.parameters={radius:r,detail:i},e}return n}(cu),Zu=function(e){Object(u.a)(n,e);var t=Object(c.a)(n);function n(e,r){var i;return Object(d.a)(this,n),(i=t.call(this)).type="IcosahedronGeometry",i.parameters={radius:e,detail:r},i.fromBufferGeometry(new Qu(e,r)),i.mergeVertices(),i}return n}(nu),$u=function(e){Object(u.a)(n,e);var t=Object(c.a)(n);function n(e){var r,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:12,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:2*Math.PI;Object(d.a)(this,n),(r=t.call(this)).type="LatheBufferGeometry",r.parameters={points:e,segments:i,phiStart:a,phiLength:o},i=Math.floor(i),o=$n.clamp(o,0,2*Math.PI);for(var s=[],l=[],u=[],c=1/i,h=new lr,f=new Kn,p=0;p<=i;p++)for(var m=a+p*c*o,v=Math.sin(m),g=Math.cos(m),y=0;y<=e.length-1;y++)h.x=e[y].x*v,h.y=e[y].y,h.z=e[y].x*g,l.push(h.x,h.y,h.z),f.x=p/i,f.y=y/(e.length-1),u.push(f.x,f.y);for(var b=0;b<i;b++)for(var x=0;x<e.length-1;x++){var w=x+b*e.length,M=w,_=w+e.length,S=w+e.length+1,E=w+1;s.push(M,_,E),s.push(_,S,E)}if(r.setIndex(s),r.setAttribute("position",new Wi(l,3)),r.setAttribute("uv",new Wi(u,2)),r.computeVertexNormals(),o===2*Math.PI)for(var T=r.attributes.normal.array,A=new lr,R=new lr,O=new lr,k=i*e.length*3,I=0,C=0;I<e.length;I++,C+=3)A.x=T[C+0],A.y=T[C+1],A.z=T[C+2],R.x=T[k+C+0],R.y=T[k+C+1],R.z=T[k+C+2],O.addVectors(A,R).normalize(),T[C+0]=T[k+C+0]=O.x,T[C+1]=T[k+C+1]=O.y,T[C+2]=T[k+C+2]=O.z;return r}return n}(ia),Ku=function(e){Object(u.a)(n,e);var t=Object(c.a)(n);function n(e,r,i,a){var o;return Object(d.a)(this,n),(o=t.call(this)).type="LatheGeometry",o.parameters={points:e,segments:r,phiStart:i,phiLength:a},o.fromBufferGeometry(new $u(e,r,i,a)),o.mergeVertices(),o}return n}(nu),Ju=function(e){Object(u.a)(n,e);var t=Object(c.a)(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;Object(d.a)(this,n);var a=[1,0,0,-1,0,0,0,1,0,0,-1,0,0,0,1,0,0,-1],o=[0,2,4,0,4,3,0,3,5,0,5,2,1,2,5,1,5,3,1,3,4,1,4,2];return(e=t.call(this,a,o,r,i)).type="OctahedronBufferGeometry",e.parameters={radius:r,detail:i},e}return n}(cu),ec=function(e){Object(u.a)(n,e);var t=Object(c.a)(n);function n(e,r){var i;return Object(d.a)(this,n),(i=t.call(this)).type="OctahedronGeometry",i.parameters={radius:e,detail:r},i.fromBufferGeometry(new Ju(e,r)),i.mergeVertices(),i}return n}(nu);function tc(e,t,n){ia.call(this),this.type="ParametricBufferGeometry",this.parameters={func:e,slices:t,stacks:n};var r=[],i=[],a=[],o=[],s=1e-5,l=new lr,u=new lr,c=new lr,d=new lr,h=new lr;e.length<3&&console.error("THREE.ParametricGeometry: Function must now modify a Vector3 as third parameter.");for(var f=t+1,p=0;p<=n;p++)for(var m=p/n,v=0;v<=t;v++){var g=v/t;e(g,m,u),i.push(u.x,u.y,u.z),g-s>=0?(e(g-s,m,c),d.subVectors(u,c)):(e(g+s,m,c),d.subVectors(c,u)),m-s>=0?(e(g,m-s,c),h.subVectors(u,c)):(e(g,m+s,c),h.subVectors(c,u)),l.crossVectors(d,h).normalize(),a.push(l.x,l.y,l.z),o.push(g,m)}for(var y=0;y<n;y++)for(var b=0;b<t;b++){var x=y*f+b,w=y*f+b+1,M=(y+1)*f+b+1,_=(y+1)*f+b;r.push(x,w,_),r.push(w,M,_)}this.setIndex(r),this.setAttribute("position",new Wi(i,3)),this.setAttribute("normal",new Wi(a,3)),this.setAttribute("uv",new Wi(o,2))}function nc(e,t,n){nu.call(this),this.type="ParametricGeometry",this.parameters={func:e,slices:t,stacks:n},this.fromBufferGeometry(new tc(e,t,n)),this.mergeVertices()}tc.prototype=Object.create(ia.prototype),tc.prototype.constructor=tc,nc.prototype=Object.create(nu.prototype),nc.prototype.constructor=nc;var rc=function(e){Object(u.a)(n,e);var t=Object(c.a)(n);function n(e,r,i,a){var o;return Object(d.a)(this,n),(o=t.call(this)).type="PlaneGeometry",o.parameters={width:e,height:r,widthSegments:i,heightSegments:a},o.fromBufferGeometry(new Ba(e,r,i,a)),o.mergeVertices(),o}return n}(nu),ic=function(e){Object(u.a)(n,e);var t=Object(c.a)(n);function n(e,r,i,a){var o;return Object(d.a)(this,n),(o=t.call(this)).type="PolyhedronGeometry",o.parameters={vertices:e,indices:r,radius:i,detail:a},o.fromBufferGeometry(new cu(e,r,i,a)),o.mergeVertices(),o}return n}(nu),ac=function(e){Object(u.a)(n,e);var t=Object(c.a)(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:.5,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:8,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,l=arguments.length>5&&void 0!==arguments[5]?arguments[5]:2*Math.PI;Object(d.a)(this,n),(e=t.call(this)).type="RingBufferGeometry",e.parameters={innerRadius:r,outerRadius:i,thetaSegments:a,phiSegments:o,thetaStart:s,thetaLength:l},a=Math.max(3,a);for(var u=[],c=[],h=[],f=[],p=r,m=(i-r)/(o=Math.max(1,o)),v=new lr,g=new Kn,y=0;y<=o;y++){for(var b=0;b<=a;b++){var x=s+b/a*l;v.x=p*Math.cos(x),v.y=p*Math.sin(x),c.push(v.x,v.y,v.z),h.push(0,0,1),g.x=(v.x/i+1)/2,g.y=(v.y/i+1)/2,f.push(g.x,g.y)}p+=m}for(var w=0;w<o;w++)for(var M=w*(a+1),_=0;_<a;_++){var S=_+M,E=S,T=S+a+1,A=S+a+2,R=S+1;u.push(E,T,R),u.push(T,A,R)}return e.setIndex(u),e.setAttribute("position",new Wi(c,3)),e.setAttribute("normal",new Wi(h,3)),e.setAttribute("uv",new Wi(f,2)),e}return n}(ia),oc=function(e){Object(u.a)(n,e);var t=Object(c.a)(n);function n(e,r,i,a,o,s){var l;return Object(d.a)(this,n),(l=t.call(this)).type="RingGeometry",l.parameters={innerRadius:e,outerRadius:r,thetaSegments:i,phiSegments:a,thetaStart:o,thetaLength:s},l.fromBufferGeometry(new ac(e,r,i,a,o,s)),l.mergeVertices(),l}return n}(nu),sc=function(e){Object(u.a)(n,e);var t=Object(c.a)(n);function n(e){var r,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:12;Object(d.a)(this,n),(r=t.call(this)).type="ShapeBufferGeometry",r.parameters={shapes:e,curveSegments:i};var a=[],o=[],s=[],l=[],u=0,c=0;if(!1===Array.isArray(e))f(e);else for(var h=0;h<e.length;h++)f(e[h]),r.addGroup(u,c,h),u+=c,c=0;function f(e){var t=o.length/3,n=e.extractPoints(i),r=n.shape,u=n.holes;!1===Vu.isClockWise(r)&&(r=r.reverse());for(var d=0,h=u.length;d<h;d++){var f=u[d];!0===Vu.isClockWise(f)&&(u[d]=f.reverse())}for(var p=Vu.triangulateShape(r,u),m=0,v=u.length;m<v;m++){var g=u[m];r=r.concat(g)}for(var y=0,b=r.length;y<b;y++){var x=r[y];o.push(x.x,x.y,0),s.push(0,0,1),l.push(x.x,x.y)}for(var w=0,M=p.length;w<M;w++){var _=p[w],S=_[0]+t,E=_[1]+t,T=_[2]+t;a.push(S,E,T),c+=3}}return r.setIndex(a),r.setAttribute("position",new Wi(o,3)),r.setAttribute("normal",new Wi(s,3)),r.setAttribute("uv",new Wi(l,2)),r}return Object(h.a)(n,[{key:"toJSON",value:function(){var e=ia.prototype.toJSON.call(this);return function(e,t){if(t.shapes=[],Array.isArray(e))for(var n=0,r=e.length;n<r;n++){var i=e[n];t.shapes.push(i.uuid)}else t.shapes.push(e.uuid);return t}(this.parameters.shapes,e)}}]),n}(ia);var lc=function(e){Object(u.a)(n,e);var t=Object(c.a)(n);function n(e,r){var i;return Object(d.a)(this,n),(i=t.call(this)).type="ShapeGeometry","object"===typeof r&&(console.warn("THREE.ShapeGeometry: Options parameter has been removed."),r=r.curveSegments),i.parameters={shapes:e,curveSegments:r},i.fromBufferGeometry(new sc(e,r)),i.mergeVertices(),i}return Object(h.a)(n,[{key:"toJSON",value:function(){var e=nu.prototype.toJSON.call(this);return function(e,t){if(t.shapes=[],Array.isArray(e))for(var n=0,r=e.length;n<r;n++){var i=e[n];t.shapes.push(i.uuid)}else t.shapes.push(e.uuid);return t}(this.parameters.shapes,e)}}]),n}(nu);var uc=function(e){Object(u.a)(n,e);var t=Object(c.a)(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:8,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:6,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:2*Math.PI,l=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:Math.PI;Object(d.a)(this,n),(e=t.call(this)).type="SphereBufferGeometry",e.parameters={radius:r,widthSegments:i,heightSegments:a,phiStart:o,phiLength:s,thetaStart:l,thetaLength:u},i=Math.max(3,Math.floor(i)),a=Math.max(2,Math.floor(a));for(var c=Math.min(l+u,Math.PI),h=0,f=[],p=new lr,m=new lr,v=[],g=[],y=[],b=[],x=0;x<=a;x++){var w=[],M=x/a,_=0;0==x&&0==l?_=.5/i:x==a&&c==Math.PI&&(_=-.5/i);for(var S=0;S<=i;S++){var E=S/i;p.x=-r*Math.cos(o+E*s)*Math.sin(l+M*u),p.y=r*Math.cos(l+M*u),p.z=r*Math.sin(o+E*s)*Math.sin(l+M*u),g.push(p.x,p.y,p.z),m.copy(p).normalize(),y.push(m.x,m.y,m.z),b.push(E+_,1-M),w.push(h++)}f.push(w)}for(var T=0;T<a;T++)for(var A=0;A<i;A++){var R=f[T][A+1],O=f[T][A],k=f[T+1][A],I=f[T+1][A+1];(0!==T||l>0)&&v.push(R,O,I),(T!==a-1||c<Math.PI)&&v.push(O,k,I)}return e.setIndex(v),e.setAttribute("position",new Wi(g,3)),e.setAttribute("normal",new Wi(y,3)),e.setAttribute("uv",new Wi(b,2)),e}return n}(ia),cc=function(e){Object(u.a)(n,e);var t=Object(c.a)(n);function n(e,r,i,a,o,s,l){var u;return Object(d.a)(this,n),(u=t.call(this)).type="SphereGeometry",u.parameters={radius:e,widthSegments:r,heightSegments:i,phiStart:a,phiLength:o,thetaStart:s,thetaLength:l},u.fromBufferGeometry(new uc(e,r,i,a,o,s,l)),u.mergeVertices(),u}return n}(nu),dc=function(e){Object(u.a)(n,e);var t=Object(c.a)(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;Object(d.a)(this,n);var a=[1,1,1,-1,-1,1,-1,1,-1,1,-1,-1],o=[2,1,0,0,3,2,1,3,0,2,3,1];return(e=t.call(this,a,o,r,i)).type="TetrahedronBufferGeometry",e.parameters={radius:r,detail:i},e}return n}(cu),hc=function(e){Object(u.a)(n,e);var t=Object(c.a)(n);function n(e,r){var i;return Object(d.a)(this,n),(i=t.call(this)).type="TetrahedronGeometry",i.parameters={radius:e,detail:r},i.fromBufferGeometry(new dc(e,r)),i.mergeVertices(),i}return n}(nu),fc=function(e){Object(u.a)(n,e);var t=Object(c.a)(n);function n(e){var r,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};Object(d.a)(this,n);var o=a.font;if(!o||!o.isFont)return console.error("THREE.TextGeometry: font parameter is not an instance of THREE.Font."),Object(i.a)(r,new ia);var s=o.generateShapes(e,a.size);return a.depth=void 0!==a.height?a.height:50,void 0===a.bevelThickness&&(a.bevelThickness=10),void 0===a.bevelSize&&(a.bevelSize=8),void 0===a.bevelEnabled&&(a.bevelEnabled=!1),(r=t.call(this,s,a)).type="TextBufferGeometry",r}return n}(Xu),pc=function(e){Object(u.a)(n,e);var t=Object(c.a)(n);function n(e,r){var i;return Object(d.a)(this,n),(i=t.call(this)).type="TextGeometry",i.parameters={text:e,parameters:r},i.fromBufferGeometry(new fc(e,r)),i.mergeVertices(),i}return n}(nu),mc=function(e){Object(u.a)(n,e);var t=Object(c.a)(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.4,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:8,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:6,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:2*Math.PI;Object(d.a)(this,n),(e=t.call(this)).type="TorusBufferGeometry",e.parameters={radius:r,tube:i,radialSegments:a,tubularSegments:o,arc:s},a=Math.floor(a),o=Math.floor(o);for(var l=[],u=[],c=[],h=[],f=new lr,p=new lr,m=new lr,v=0;v<=a;v++)for(var g=0;g<=o;g++){var y=g/o*s,b=v/a*Math.PI*2;p.x=(r+i*Math.cos(b))*Math.cos(y),p.y=(r+i*Math.cos(b))*Math.sin(y),p.z=i*Math.sin(b),u.push(p.x,p.y,p.z),f.x=r*Math.cos(y),f.y=r*Math.sin(y),m.subVectors(p,f).normalize(),c.push(m.x,m.y,m.z),h.push(g/o),h.push(v/a)}for(var x=1;x<=a;x++)for(var w=1;w<=o;w++){var M=(o+1)*x+w-1,_=(o+1)*(x-1)+w-1,S=(o+1)*(x-1)+w,E=(o+1)*x+w;l.push(M,_,E),l.push(_,S,E)}return e.setIndex(l),e.setAttribute("position",new Wi(u,3)),e.setAttribute("normal",new Wi(c,3)),e.setAttribute("uv",new Wi(h,2)),e}return n}(ia),vc=function(e){Object(u.a)(n,e);var t=Object(c.a)(n);function n(e,r,i,a,o){var s;return Object(d.a)(this,n),(s=t.call(this)).type="TorusGeometry",s.parameters={radius:e,tube:r,radialSegments:i,tubularSegments:a,arc:o},s.fromBufferGeometry(new mc(e,r,i,a,o)),s.mergeVertices(),s}return n}(nu),gc=function(e){Object(u.a)(n,e);var t=Object(c.a)(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.4,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:64,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:8,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:2,l=arguments.length>5&&void 0!==arguments[5]?arguments[5]:3;Object(d.a)(this,n),(e=t.call(this)).type="TorusKnotBufferGeometry",e.parameters={radius:r,tube:i,tubularSegments:a,radialSegments:o,p:s,q:l},a=Math.floor(a),o=Math.floor(o);for(var u=[],c=[],h=[],f=[],p=new lr,m=new lr,v=new lr,g=new lr,y=new lr,b=new lr,x=new lr,w=0;w<=a;++w){var M=w/a*s*Math.PI*2;D(M,s,l,r,v),D(M+.01,s,l,r,g),b.subVectors(g,v),x.addVectors(g,v),y.crossVectors(b,x),x.crossVectors(y,b),y.normalize(),x.normalize();for(var _=0;_<=o;++_){var S=_/o*Math.PI*2,E=-i*Math.cos(S),T=i*Math.sin(S);p.x=v.x+(E*x.x+T*y.x),p.y=v.y+(E*x.y+T*y.y),p.z=v.z+(E*x.z+T*y.z),c.push(p.x,p.y,p.z),m.subVectors(p,v).normalize(),h.push(m.x,m.y,m.z),f.push(w/a),f.push(_/o)}}for(var A=1;A<=a;A++)for(var R=1;R<=o;R++){var O=(o+1)*(A-1)+(R-1),k=(o+1)*A+(R-1),I=(o+1)*A+R,C=(o+1)*(A-1)+R;u.push(O,k,C),u.push(k,I,C)}function D(e,t,n,r,i){var a=Math.cos(e),o=Math.sin(e),s=n/t*e,l=Math.cos(s);i.x=r*(2+l)*.5*a,i.y=r*(2+l)*o*.5,i.z=r*Math.sin(s)*.5}return e.setIndex(u),e.setAttribute("position",new Wi(c,3)),e.setAttribute("normal",new Wi(h,3)),e.setAttribute("uv",new Wi(f,2)),e}return n}(ia),yc=function(e){Object(u.a)(n,e);var t=Object(c.a)(n);function n(e,r,i,a,o,s,l){var u;return Object(d.a)(this,n),(u=t.call(this)).type="TorusKnotGeometry",u.parameters={radius:e,tube:r,tubularSegments:i,radialSegments:a,p:o,q:s},void 0!==l&&console.warn("THREE.TorusKnotGeometry: heightScale has been deprecated. Use .scale( x, y, z ) instead."),u.fromBufferGeometry(new gc(e,r,i,a,o,s)),u.mergeVertices(),u}return n}(nu),bc=function(e){Object(u.a)(n,e);var t=Object(c.a)(n);function n(e){var r,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:64,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:8,s=arguments.length>4&&void 0!==arguments[4]&&arguments[4];Object(d.a)(this,n),(r=t.call(this)).type="TubeBufferGeometry",r.parameters={path:e,tubularSegments:i,radius:a,radialSegments:o,closed:s};var l=e.computeFrenetFrames(i,s);r.tangents=l.tangents,r.normals=l.normals,r.binormals=l.binormals;var u=new lr,c=new lr,h=new Kn,f=new lr,p=[],m=[],v=[],g=[];function y(){for(var e=0;e<i;e++)b(e);b(!1===s?i:0),w(),x()}function b(t){f=e.getPointAt(t/i,f);for(var n=l.normals[t],r=l.binormals[t],s=0;s<=o;s++){var d=s/o*Math.PI*2,h=Math.sin(d),v=-Math.cos(d);c.x=v*n.x+h*r.x,c.y=v*n.y+h*r.y,c.z=v*n.z+h*r.z,c.normalize(),m.push(c.x,c.y,c.z),u.x=f.x+a*c.x,u.y=f.y+a*c.y,u.z=f.z+a*c.z,p.push(u.x,u.y,u.z)}}function x(){for(var e=1;e<=i;e++)for(var t=1;t<=o;t++){var n=(o+1)*(e-1)+(t-1),r=(o+1)*e+(t-1),a=(o+1)*e+t,s=(o+1)*(e-1)+t;g.push(n,r,s),g.push(r,a,s)}}function w(){for(var e=0;e<=i;e++)for(var t=0;t<=o;t++)h.x=e/i,h.y=t/o,v.push(h.x,h.y)}return y(),r.setIndex(g),r.setAttribute("position",new Wi(p,3)),r.setAttribute("normal",new Wi(m,3)),r.setAttribute("uv",new Wi(v,2)),r}return Object(h.a)(n,[{key:"toJSON",value:function(){var e=ia.prototype.toJSON.call(this);return e.path=this.parameters.path.toJSON(),e}}]),n}(ia),xc=function(e){Object(u.a)(n,e);var t=Object(c.a)(n);function n(e,r,i,a,o,s){var l;Object(d.a)(this,n),(l=t.call(this)).type="TubeGeometry",l.parameters={path:e,tubularSegments:r,radius:i,radialSegments:a,closed:o},void 0!==s&&console.warn("THREE.TubeGeometry: taper has been removed.");var u=new bc(e,r,i,a,o);return l.tangents=u.tangents,l.normals=u.normals,l.binormals=u.binormals,l.fromBufferGeometry(u),l.mergeVertices(),l}return n}(nu),wc=function(e){Object(u.a)(n,e);var t=Object(c.a)(n);function n(e){var r;Object(d.a)(this,n),(r=t.call(this)).type="WireframeGeometry";var i=[],a=[0,0],o={},s=["a","b","c"];if(e&&e.isGeometry){for(var l=e.faces,u=0,c=l.length;u<c;u++)for(var h=l[u],f=0;f<3;f++){var p=h[s[f]],m=h[s[(f+1)%3]];a[0]=Math.min(p,m),a[1]=Math.max(p,m);var v=a[0]+","+a[1];void 0===o[v]&&(o[v]={index1:a[0],index2:a[1]})}for(var g in o){var y=o[g],b=e.vertices[y.index1];i.push(b.x,b.y,b.z),b=e.vertices[y.index2],i.push(b.x,b.y,b.z)}}else if(e&&e.isBufferGeometry){var x=new lr;if(null!==e.index){var w=e.attributes.position,M=e.index,_=e.groups;0===_.length&&(_=[{start:0,count:M.count,materialIndex:0}]);for(var S=0,E=_.length;S<E;++S)for(var T=_[S],A=T.start,R=A,O=A+T.count;R<O;R+=3)for(var k=0;k<3;k++){var I=M.getX(R+k),C=M.getX(R+(k+1)%3);a[0]=Math.min(I,C),a[1]=Math.max(I,C);var D=a[0]+","+a[1];void 0===o[D]&&(o[D]={index1:a[0],index2:a[1]})}for(var L in o){var P=o[L];x.fromBufferAttribute(w,P.index1),i.push(x.x,x.y,x.z),x.fromBufferAttribute(w,P.index2),i.push(x.x,x.y,x.z)}}else for(var N=e.attributes.position,j=0,F=N.count/3;j<F;j++)for(var G=0;G<3;G++){var U=3*j+G;x.fromBufferAttribute(N,U),i.push(x.x,x.y,x.z);var z=3*j+(G+1)%3;x.fromBufferAttribute(N,z),i.push(x.x,x.y,x.z)}}return r.setAttribute("position",new Wi(i,3)),r}return n}(ia),Mc=Object.freeze({__proto__:null,BoxGeometry:ru,BoxBufferGeometry:Ea,CircleGeometry:au,CircleBufferGeometry:iu,ConeGeometry:lu,ConeBufferGeometry:uu,CylinderGeometry:su,CylinderBufferGeometry:ou,DodecahedronGeometry:hu,DodecahedronBufferGeometry:du,EdgesGeometry:gu,ExtrudeGeometry:Yu,ExtrudeBufferGeometry:Xu,IcosahedronGeometry:Zu,IcosahedronBufferGeometry:Qu,LatheGeometry:Ku,LatheBufferGeometry:$u,OctahedronGeometry:ec,OctahedronBufferGeometry:Ju,ParametricGeometry:nc,ParametricBufferGeometry:tc,PlaneGeometry:rc,PlaneBufferGeometry:Ba,PolyhedronGeometry:ic,PolyhedronBufferGeometry:cu,RingGeometry:oc,RingBufferGeometry:ac,ShapeGeometry:lc,ShapeBufferGeometry:sc,SphereGeometry:cc,SphereBufferGeometry:uc,TetrahedronGeometry:hc,TetrahedronBufferGeometry:dc,TextGeometry:pc,TextBufferGeometry:fc,TorusGeometry:vc,TorusBufferGeometry:mc,TorusKnotGeometry:yc,TorusKnotBufferGeometry:gc,TubeGeometry:xc,TubeBufferGeometry:bc,WireframeGeometry:wc});function _c(e){Ci.call(this),this.type="ShadowMaterial",this.color=new Oi(0),this.transparent=!0,this.setValues(e)}function Sc(e){Oa.call(this,e),this.type="RawShaderMaterial"}function Ec(e){Ci.call(this),this.defines={STANDARD:""},this.type="MeshStandardMaterial",this.color=new Oi(16777215),this.roughness=1,this.metalness=0,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Oi(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=gn,this.normalScale=new Kn(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.roughnessMap=null,this.metalnessMap=null,this.alphaMap=null,this.envMap=null,this.envMapIntensity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.vertexTangents=!1,this.setValues(e)}function Tc(e){Ec.call(this),this.defines={STANDARD:"",PHYSICAL:""},this.type="MeshPhysicalMaterial",this.clearcoat=0,this.clearcoatMap=null,this.clearcoatRoughness=0,this.clearcoatRoughnessMap=null,this.clearcoatNormalScale=new Kn(1,1),this.clearcoatNormalMap=null,this.reflectivity=.5,Object.defineProperty(this,"ior",{get:function(){return(1+.4*this.reflectivity)/(1-.4*this.reflectivity)},set:function(e){this.reflectivity=$n.clamp(2.5*(e-1)/(e+1),0,1)}}),this.sheen=null,this.transmission=0,this.transmissionMap=null,this.setValues(e)}function Ac(e){Ci.call(this),this.type="MeshPhongMaterial",this.color=new Oi(16777215),this.specular=new Oi(1118481),this.shininess=30,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Oi(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=gn,this.normalScale=new Kn(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=ae,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.setValues(e)}function Rc(e){Ci.call(this),this.defines={TOON:""},this.type="MeshToonMaterial",this.color=new Oi(16777215),this.map=null,this.gradientMap=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Oi(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=gn,this.normalScale=new Kn(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.setValues(e)}function Oc(e){Ci.call(this),this.type="MeshNormalMaterial",this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=gn,this.normalScale=new Kn(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.setValues(e)}function kc(e){Ci.call(this),this.type="MeshLambertMaterial",this.color=new Oi(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Oi(0),this.emissiveIntensity=1,this.emissiveMap=null,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=ae,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.setValues(e)}function Ic(e){Ci.call(this),this.defines={MATCAP:""},this.type="MeshMatcapMaterial",this.color=new Oi(16777215),this.matcap=null,this.map=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=gn,this.normalScale=new Kn(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.setValues(e)}function Cc(e){kl.call(this),this.type="LineDashedMaterial",this.scale=1,this.dashSize=3,this.gapSize=1,this.setValues(e)}_c.prototype=Object.create(Ci.prototype),_c.prototype.constructor=_c,_c.prototype.isShadowMaterial=!0,_c.prototype.copy=function(e){return Ci.prototype.copy.call(this,e),this.color.copy(e.color),this},Sc.prototype=Object.create(Oa.prototype),Sc.prototype.constructor=Sc,Sc.prototype.isRawShaderMaterial=!0,Ec.prototype=Object.create(Ci.prototype),Ec.prototype.constructor=Ec,Ec.prototype.isMeshStandardMaterial=!0,Ec.prototype.copy=function(e){return Ci.prototype.copy.call(this,e),this.defines={STANDARD:""},this.color.copy(e.color),this.roughness=e.roughness,this.metalness=e.metalness,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.roughnessMap=e.roughnessMap,this.metalnessMap=e.metalnessMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapIntensity=e.envMapIntensity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this.morphNormals=e.morphNormals,this.vertexTangents=e.vertexTangents,this},Tc.prototype=Object.create(Ec.prototype),Tc.prototype.constructor=Tc,Tc.prototype.isMeshPhysicalMaterial=!0,Tc.prototype.copy=function(e){return Ec.prototype.copy.call(this,e),this.defines={STANDARD:"",PHYSICAL:""},this.clearcoat=e.clearcoat,this.clearcoatMap=e.clearcoatMap,this.clearcoatRoughness=e.clearcoatRoughness,this.clearcoatRoughnessMap=e.clearcoatRoughnessMap,this.clearcoatNormalMap=e.clearcoatNormalMap,this.clearcoatNormalScale.copy(e.clearcoatNormalScale),this.reflectivity=e.reflectivity,e.sheen?this.sheen=(this.sheen||new Oi).copy(e.sheen):this.sheen=null,this.transmission=e.transmission,this.transmissionMap=e.transmissionMap,this},Ac.prototype=Object.create(Ci.prototype),Ac.prototype.constructor=Ac,Ac.prototype.isMeshPhongMaterial=!0,Ac.prototype.copy=function(e){return Ci.prototype.copy.call(this,e),this.color.copy(e.color),this.specular.copy(e.specular),this.shininess=e.shininess,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this.morphNormals=e.morphNormals,this},Rc.prototype=Object.create(Ci.prototype),Rc.prototype.constructor=Rc,Rc.prototype.isMeshToonMaterial=!0,Rc.prototype.copy=function(e){return Ci.prototype.copy.call(this,e),this.color.copy(e.color),this.map=e.map,this.gradientMap=e.gradientMap,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this.morphNormals=e.morphNormals,this},Oc.prototype=Object.create(Ci.prototype),Oc.prototype.constructor=Oc,Oc.prototype.isMeshNormalMaterial=!0,Oc.prototype.copy=function(e){return Ci.prototype.copy.call(this,e),this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this.morphNormals=e.morphNormals,this},kc.prototype=Object.create(Ci.prototype),kc.prototype.constructor=kc,kc.prototype.isMeshLambertMaterial=!0,kc.prototype.copy=function(e){return Ci.prototype.copy.call(this,e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this.morphNormals=e.morphNormals,this},Ic.prototype=Object.create(Ci.prototype),Ic.prototype.constructor=Ic,Ic.prototype.isMeshMatcapMaterial=!0,Ic.prototype.copy=function(e){return Ci.prototype.copy.call(this,e),this.defines={MATCAP:""},this.color.copy(e.color),this.matcap=e.matcap,this.map=e.map,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this.morphNormals=e.morphNormals,this},Cc.prototype=Object.create(kl.prototype),Cc.prototype.constructor=Cc,Cc.prototype.isLineDashedMaterial=!0,Cc.prototype.copy=function(e){return kl.prototype.copy.call(this,e),this.scale=e.scale,this.dashSize=e.dashSize,this.gapSize=e.gapSize,this};var Dc=Object.freeze({__proto__:null,ShadowMaterial:_c,SpriteMaterial:nl,RawShaderMaterial:Sc,ShaderMaterial:Oa,PointsMaterial:zl,MeshPhysicalMaterial:Tc,MeshStandardMaterial:Ec,MeshPhongMaterial:Ac,MeshToonMaterial:Rc,MeshNormalMaterial:Oc,MeshLambertMaterial:kc,MeshDepthMaterial:Ns,MeshDistanceMaterial:js,MeshBasicMaterial:Di,MeshMatcapMaterial:Ic,LineDashedMaterial:Cc,LineBasicMaterial:kl,Material:Ci}),Lc={arraySlice:function(e,t,n){return Lc.isTypedArray(e)?new e.constructor(e.subarray(t,void 0!==n?n:e.length)):e.slice(t,n)},convertArray:function(e,t,n){return!e||!n&&e.constructor===t?e:"number"===typeof t.BYTES_PER_ELEMENT?new t(e):Array.prototype.slice.call(e)},isTypedArray:function(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)},getKeyframeOrder:function(e){for(var t=e.length,n=new Array(t),r=0;r!==t;++r)n[r]=r;return n.sort((function(t,n){return e[t]-e[n]})),n},sortedArray:function(e,t,n){for(var r=e.length,i=new e.constructor(r),a=0,o=0;o!==r;++a)for(var s=n[a]*t,l=0;l!==t;++l)i[o++]=e[s+l];return i},flattenJSON:function(e,t,n,r){for(var i=1,a=e[0];void 0!==a&&void 0===a[r];)a=e[i++];if(void 0!==a){var o=a[r];if(void 0!==o)if(Array.isArray(o))do{void 0!==(o=a[r])&&(t.push(a.time),n.push.apply(n,o)),a=e[i++]}while(void 0!==a);else if(void 0!==o.toArray)do{void 0!==(o=a[r])&&(t.push(a.time),o.toArray(n,n.length)),a=e[i++]}while(void 0!==a);else do{void 0!==(o=a[r])&&(t.push(a.time),n.push(o)),a=e[i++]}while(void 0!==a)}},subclip:function(e,t,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:30,a=e.clone();a.name=t;for(var o=[],s=0;s<a.tracks.length;++s){for(var l=a.tracks[s],u=l.getValueSize(),c=[],d=[],h=0;h<l.times.length;++h){var f=l.times[h]*i;if(!(f<n||f>=r)){c.push(l.times[h]);for(var p=0;p<u;++p)d.push(l.values[h*u+p])}}0!==c.length&&(l.times=Lc.convertArray(c,l.times.constructor),l.values=Lc.convertArray(d,l.values.constructor),o.push(l))}a.tracks=o;for(var m=1/0,v=0;v<a.tracks.length;++v)m>a.tracks[v].times[0]&&(m=a.tracks[v].times[0]);for(var g=0;g<a.tracks.length;++g)a.tracks[g].shift(-1*m);return a.resetDuration(),a},makeClipAdditive:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:30;r<=0&&(r=30);for(var i=n.tracks.length,a=t/r,o=function(t){var r=n.tracks[t],i=r.ValueTypeName;if("bool"===i||"string"===i)return"continue";var o=e.tracks.find((function(e){return e.name===r.name&&e.ValueTypeName===i}));if(void 0===o)return"continue";var s=0,l=r.getValueSize();r.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(s=l/3);var u=0,c=o.getValueSize();o.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(u=c/3);var d=r.times.length-1,h=void 0;if(a<=r.times[0]){var f=s,p=l-s;h=Lc.arraySlice(r.values,f,p)}else if(a>=r.times[d]){var m=d*l+s,v=m+l-s;h=Lc.arraySlice(r.values,m,v)}else{var g=r.createInterpolant(),y=s,b=l-s;g.evaluate(a),h=Lc.arraySlice(g.resultBuffer,y,b)}"quaternion"===i&&(new sr).fromArray(h).normalize().conjugate().toArray(h);for(var x=o.times.length,w=0;w<x;++w){var M=w*c+u;if("quaternion"===i)sr.multiplyQuaternionsFlat(o.values,M,h,0,o.values,M);else for(var _=c-2*u,S=0;S<_;++S)o.values[M+S]-=h[S]}},s=0;s<i;++s)o(s);return e.blendMode=nn,e}};function Pc(e,t,n,r){this.parameterPositions=e,this._cachedIndex=0,this.resultBuffer=void 0!==r?r:new t.constructor(n),this.sampleValues=t,this.valueSize=n}function Nc(e,t,n,r){Pc.call(this,e,t,n,r),this._weightPrev=-0,this._offsetPrev=-0,this._weightNext=-0,this._offsetNext=-0}function jc(e,t,n,r){Pc.call(this,e,t,n,r)}function Fc(e,t,n,r){Pc.call(this,e,t,n,r)}function Gc(e,t,n,r){if(void 0===e)throw new Error("THREE.KeyframeTrack: track name is undefined");if(void 0===t||0===t.length)throw new Error("THREE.KeyframeTrack: no keyframes in track named "+e);this.name=e,this.times=Lc.convertArray(t,this.TimeBufferType),this.values=Lc.convertArray(n,this.ValueBufferType),this.setInterpolation(r||this.DefaultInterpolation)}function Uc(e,t,n){Gc.call(this,e,t,n)}function zc(e,t,n,r){Gc.call(this,e,t,n,r)}function Bc(e,t,n,r){Gc.call(this,e,t,n,r)}function Vc(e,t,n,r){Pc.call(this,e,t,n,r)}function Hc(e,t,n,r){Gc.call(this,e,t,n,r)}function Wc(e,t,n,r){Gc.call(this,e,t,n,r)}function Xc(e,t,n,r){Gc.call(this,e,t,n,r)}function qc(e,t,n,r){this.name=e,this.tracks=n,this.duration=void 0!==t?t:-1,this.blendMode=void 0!==r?r:tn,this.uuid=$n.generateUUID(),this.duration<0&&this.resetDuration()}function Yc(e){if(void 0===e.type)throw new Error("THREE.KeyframeTrack: track type undefined, can not parse");var t=function(e){switch(e.toLowerCase()){case"scalar":case"double":case"float":case"number":case"integer":return Bc;case"vector":case"vector2":case"vector3":case"vector4":return Xc;case"color":return zc;case"quaternion":return Hc;case"bool":case"boolean":return Uc;case"string":return Wc}throw new Error("THREE.KeyframeTrack: Unsupported typeName: "+e)}(e.type);if(void 0===e.times){var n=[],r=[];Lc.flattenJSON(e.keys,n,r,"value"),e.times=n,e.values=r}return void 0!==t.parse?t.parse(e):new t(e.name,e.times,e.values,e.interpolation)}Object.assign(Pc.prototype,{evaluate:function(e){var t=this.parameterPositions,n=this._cachedIndex,r=t[n],i=t[n-1];e:{t:{var a;n:{r:if(!(e<r)){for(var o=n+2;;){if(void 0===r){if(e<i)break r;return n=t.length,this._cachedIndex=n,this.afterEnd_(n-1,e,i)}if(n===o)break;if(i=r,e<(r=t[++n]))break t}a=t.length;break n}if(e>=i)break e;var s=t[1];e<s&&(n=2,i=s);for(var l=n-2;;){if(void 0===i)return this._cachedIndex=0,this.beforeStart_(0,e,r);if(n===l)break;if(r=i,e>=(i=t[--n-1]))break t}a=n,n=0}for(;n<a;){var u=n+a>>>1;e<t[u]?a=u:n=u+1}if(r=t[n],void 0===(i=t[n-1]))return this._cachedIndex=0,this.beforeStart_(0,e,r);if(void 0===r)return n=t.length,this._cachedIndex=n,this.afterEnd_(n-1,i,e)}this._cachedIndex=n,this.intervalChanged_(n,i,r)}return this.interpolate_(n,i,e,r)},settings:null,DefaultSettings_:{},getSettings_:function(){return this.settings||this.DefaultSettings_},copySampleValue_:function(e){for(var t=this.resultBuffer,n=this.sampleValues,r=this.valueSize,i=e*r,a=0;a!==r;++a)t[a]=n[i+a];return t},interpolate_:function(){throw new Error("call to abstract method")},intervalChanged_:function(){}}),Object.assign(Pc.prototype,{beforeStart_:Pc.prototype.copySampleValue_,afterEnd_:Pc.prototype.copySampleValue_}),Nc.prototype=Object.assign(Object.create(Pc.prototype),{constructor:Nc,DefaultSettings_:{endingStart:Kt,endingEnd:Kt},intervalChanged_:function(e,t,n){var r=this.parameterPositions,i=e-2,a=e+1,o=r[i],s=r[a];if(void 0===o)switch(this.getSettings_().endingStart){case Jt:i=e,o=2*t-n;break;case en:o=t+r[i=r.length-2]-r[i+1];break;default:i=e,o=n}if(void 0===s)switch(this.getSettings_().endingEnd){case Jt:a=e,s=2*n-t;break;case en:a=1,s=n+r[1]-r[0];break;default:a=e-1,s=t}var l=.5*(n-t),u=this.valueSize;this._weightPrev=l/(t-o),this._weightNext=l/(s-n),this._offsetPrev=i*u,this._offsetNext=a*u},interpolate_:function(e,t,n,r){for(var i=this.resultBuffer,a=this.sampleValues,o=this.valueSize,s=e*o,l=s-o,u=this._offsetPrev,c=this._offsetNext,d=this._weightPrev,h=this._weightNext,f=(n-t)/(r-t),p=f*f,m=p*f,v=-d*m+2*d*p-d*f,g=(1+d)*m+(-1.5-2*d)*p+(-.5+d)*f+1,y=(-1-h)*m+(1.5+h)*p+.5*f,b=h*m-h*p,x=0;x!==o;++x)i[x]=v*a[u+x]+g*a[l+x]+y*a[s+x]+b*a[c+x];return i}}),jc.prototype=Object.assign(Object.create(Pc.prototype),{constructor:jc,interpolate_:function(e,t,n,r){for(var i=this.resultBuffer,a=this.sampleValues,o=this.valueSize,s=e*o,l=s-o,u=(n-t)/(r-t),c=1-u,d=0;d!==o;++d)i[d]=a[l+d]*c+a[s+d]*u;return i}}),Fc.prototype=Object.assign(Object.create(Pc.prototype),{constructor:Fc,interpolate_:function(e){return this.copySampleValue_(e-1)}}),Object.assign(Gc,{toJSON:function(e){var t,n=e.constructor;if(void 0!==n.toJSON)t=n.toJSON(e);else{t={name:e.name,times:Lc.convertArray(e.times,Array),values:Lc.convertArray(e.values,Array)};var r=e.getInterpolation();r!==e.DefaultInterpolation&&(t.interpolation=r)}return t.type=e.ValueTypeName,t}}),Object.assign(Gc.prototype,{constructor:Gc,TimeBufferType:Float32Array,ValueBufferType:Float32Array,DefaultInterpolation:Zt,InterpolantFactoryMethodDiscrete:function(e){return new Fc(this.times,this.values,this.getValueSize(),e)},InterpolantFactoryMethodLinear:function(e){return new jc(this.times,this.values,this.getValueSize(),e)},InterpolantFactoryMethodSmooth:function(e){return new Nc(this.times,this.values,this.getValueSize(),e)},setInterpolation:function(e){var t;switch(e){case Qt:t=this.InterpolantFactoryMethodDiscrete;break;case Zt:t=this.InterpolantFactoryMethodLinear;break;case $t:t=this.InterpolantFactoryMethodSmooth}if(void 0===t){var n="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name;if(void 0===this.createInterpolant){if(e===this.DefaultInterpolation)throw new Error(n);this.setInterpolation(this.DefaultInterpolation)}return console.warn("THREE.KeyframeTrack:",n),this}return this.createInterpolant=t,this},getInterpolation:function(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return Qt;case this.InterpolantFactoryMethodLinear:return Zt;case this.InterpolantFactoryMethodSmooth:return $t}},getValueSize:function(){return this.values.length/this.times.length},shift:function(e){if(0!==e)for(var t=this.times,n=0,r=t.length;n!==r;++n)t[n]+=e;return this},scale:function(e){if(1!==e)for(var t=this.times,n=0,r=t.length;n!==r;++n)t[n]*=e;return this},trim:function(e,t){for(var n=this.times,r=n.length,i=0,a=r-1;i!==r&&n[i]<e;)++i;for(;-1!==a&&n[a]>t;)--a;if(++a,0!==i||a!==r){i>=a&&(i=(a=Math.max(a,1))-1);var o=this.getValueSize();this.times=Lc.arraySlice(n,i,a),this.values=Lc.arraySlice(this.values,i*o,a*o)}return this},validate:function(){var e=!0,t=this.getValueSize();t-Math.floor(t)!==0&&(console.error("THREE.KeyframeTrack: Invalid value size in track.",this),e=!1);var n=this.times,r=this.values,i=n.length;0===i&&(console.error("THREE.KeyframeTrack: Track is empty.",this),e=!1);for(var a=null,o=0;o!==i;o++){var s=n[o];if("number"===typeof s&&isNaN(s)){console.error("THREE.KeyframeTrack: Time is not a valid number.",this,o,s),e=!1;break}if(null!==a&&a>s){console.error("THREE.KeyframeTrack: Out of order keys.",this,o,s,a),e=!1;break}a=s}if(void 0!==r&&Lc.isTypedArray(r))for(var l=0,u=r.length;l!==u;++l){var c=r[l];if(isNaN(c)){console.error("THREE.KeyframeTrack: Value is not a valid number.",this,l,c),e=!1;break}}return e},optimize:function(){for(var e=Lc.arraySlice(this.times),t=Lc.arraySlice(this.values),n=this.getValueSize(),r=this.getInterpolation()===$t,i=e.length-1,a=1,o=1;o<i;++o){var s=!1,l=e[o];if(l!==e[o+1]&&(1!==o||l!==l[0]))if(r)s=!0;else for(var u=o*n,c=u-n,d=u+n,h=0;h!==n;++h){var f=t[u+h];if(f!==t[c+h]||f!==t[d+h]){s=!0;break}}if(s){if(o!==a){e[a]=e[o];for(var p=o*n,m=a*n,v=0;v!==n;++v)t[m+v]=t[p+v]}++a}}if(i>0){e[a]=e[i];for(var g=i*n,y=a*n,b=0;b!==n;++b)t[y+b]=t[g+b];++a}return a!==e.length?(this.times=Lc.arraySlice(e,0,a),this.values=Lc.arraySlice(t,0,a*n)):(this.times=e,this.values=t),this},clone:function(){var e=Lc.arraySlice(this.times,0),t=Lc.arraySlice(this.values,0),n=new(0,this.constructor)(this.name,e,t);return n.createInterpolant=this.createInterpolant,n}}),Uc.prototype=Object.assign(Object.create(Gc.prototype),{constructor:Uc,ValueTypeName:"bool",ValueBufferType:Array,DefaultInterpolation:Qt,InterpolantFactoryMethodLinear:void 0,InterpolantFactoryMethodSmooth:void 0}),zc.prototype=Object.assign(Object.create(Gc.prototype),{constructor:zc,ValueTypeName:"color"}),Bc.prototype=Object.assign(Object.create(Gc.prototype),{constructor:Bc,ValueTypeName:"number"}),Vc.prototype=Object.assign(Object.create(Pc.prototype),{constructor:Vc,interpolate_:function(e,t,n,r){for(var i=this.resultBuffer,a=this.sampleValues,o=this.valueSize,s=(n-t)/(r-t),l=e*o,u=l+o;l!==u;l+=4)sr.slerpFlat(i,0,a,l-o,a,l,s);return i}}),Hc.prototype=Object.assign(Object.create(Gc.prototype),{constructor:Hc,ValueTypeName:"quaternion",DefaultInterpolation:Zt,InterpolantFactoryMethodLinear:function(e){return new Vc(this.times,this.values,this.getValueSize(),e)},InterpolantFactoryMethodSmooth:void 0}),Wc.prototype=Object.assign(Object.create(Gc.prototype),{constructor:Wc,ValueTypeName:"string",ValueBufferType:Array,DefaultInterpolation:Qt,InterpolantFactoryMethodLinear:void 0,InterpolantFactoryMethodSmooth:void 0}),Xc.prototype=Object.assign(Object.create(Gc.prototype),{constructor:Xc,ValueTypeName:"vector"}),Object.assign(qc,{parse:function(e){for(var t=[],n=e.tracks,r=1/(e.fps||1),i=0,a=n.length;i!==a;++i)t.push(Yc(n[i]).scale(r));var o=new qc(e.name,e.duration,t,e.blendMode);return o.uuid=e.uuid,o},toJSON:function(e){for(var t=[],n=e.tracks,r={name:e.name,duration:e.duration,tracks:t,uuid:e.uuid,blendMode:e.blendMode},i=0,a=n.length;i!==a;++i)t.push(Gc.toJSON(n[i]));return r},CreateFromMorphTargetSequence:function(e,t,n,r){for(var i=t.length,a=[],o=0;o<i;o++){var s=[],l=[];s.push((o+i-1)%i,o,(o+1)%i),l.push(0,1,0);var u=Lc.getKeyframeOrder(s);s=Lc.sortedArray(s,1,u),l=Lc.sortedArray(l,1,u),r||0!==s[0]||(s.push(i),l.push(l[0])),a.push(new Bc(".morphTargetInfluences["+t[o].name+"]",s,l).scale(1/n))}return new qc(e,-1,a)},findByName:function(e,t){var n=e;if(!Array.isArray(e)){var r=e;n=r.geometry&&r.geometry.animations||r.animations}for(var i=0;i<n.length;i++)if(n[i].name===t)return n[i];return null},CreateClipsFromMorphTargetSequences:function(e,t,n){for(var r={},i=/^([\w-]*?)([\d]+)$/,a=0,o=e.length;a<o;a++){var s=e[a],l=s.name.match(i);if(l&&l.length>1){var u=l[1],c=r[u];c||(r[u]=c=[]),c.push(s)}}var d=[];for(var h in r)d.push(qc.CreateFromMorphTargetSequence(h,r[h],t,n));return d},parseAnimation:function(e,t){if(!e)return console.error("THREE.AnimationClip: No animation in JSONLoader data."),null;for(var n=function(e,t,n,r,i){if(0!==n.length){var a=[],o=[];Lc.flattenJSON(n,a,o,r),0!==a.length&&i.push(new e(t,a,o))}},r=[],i=e.name||"default",a=e.fps||30,o=e.blendMode,s=e.length||-1,l=e.hierarchy||[],u=0;u<l.length;u++){var c=l[u].keys;if(c&&0!==c.length)if(c[0].morphTargets){var d={},h=void 0;for(h=0;h<c.length;h++)if(c[h].morphTargets)for(var f=0;f<c[h].morphTargets.length;f++)d[c[h].morphTargets[f]]=-1;for(var p in d){for(var m=[],v=[],g=0;g!==c[h].morphTargets.length;++g){var y=c[h];m.push(y.time),v.push(y.morphTarget===p?1:0)}r.push(new Bc(".morphTargetInfluence["+p+"]",m,v))}s=d.length*(a||1)}else{var b=".bones["+t[u].name+"]";n(Xc,b+".position",c,"pos",r),n(Hc,b+".quaternion",c,"rot",r),n(Xc,b+".scale",c,"scl",r)}}return 0===r.length?null:new qc(i,s,r,o)}}),Object.assign(qc.prototype,{resetDuration:function(){for(var e=0,t=0,n=this.tracks.length;t!==n;++t){var r=this.tracks[t];e=Math.max(e,r.times[r.times.length-1])}return this.duration=e,this},trim:function(){for(var e=0;e<this.tracks.length;e++)this.tracks[e].trim(0,this.duration);return this},validate:function(){for(var e=!0,t=0;t<this.tracks.length;t++)e=e&&this.tracks[t].validate();return e},optimize:function(){for(var e=0;e<this.tracks.length;e++)this.tracks[e].optimize();return this},clone:function(){for(var e=[],t=0;t<this.tracks.length;t++)e.push(this.tracks[t].clone());return new qc(this.name,this.duration,e,this.blendMode)},toJSON:function(){return qc.toJSON(this)}});var Qc={enabled:!1,files:{},add:function(e,t){!1!==this.enabled&&(this.files[e]=t)},get:function(e){if(!1!==this.enabled)return this.files[e]},remove:function(e){delete this.files[e]},clear:function(){this.files={}}};function Zc(e,t,n){var r=this,i=!1,a=0,o=0,s=void 0,l=[];this.onStart=void 0,this.onLoad=e,this.onProgress=t,this.onError=n,this.itemStart=function(e){o++,!1===i&&void 0!==r.onStart&&r.onStart(e,a,o),i=!0},this.itemEnd=function(e){a++,void 0!==r.onProgress&&r.onProgress(e,a,o),a===o&&(i=!1,void 0!==r.onLoad&&r.onLoad())},this.itemError=function(e){void 0!==r.onError&&r.onError(e)},this.resolveURL=function(e){return s?s(e):e},this.setURLModifier=function(e){return s=e,this},this.addHandler=function(e,t){return l.push(e,t),this},this.removeHandler=function(e){var t=l.indexOf(e);return-1!==t&&l.splice(t,2),this},this.getHandler=function(e){for(var t=0,n=l.length;t<n;t+=2){var r=l[t],i=l[t+1];if(r.global&&(r.lastIndex=0),r.test(e))return i}return null}}var $c=new Zc;function Kc(e){this.manager=void 0!==e?e:$c,this.crossOrigin="anonymous",this.withCredentials=!1,this.path="",this.resourcePath="",this.requestHeader={}}Object.assign(Kc.prototype,{load:function(){},loadAsync:function(e,t){var n=this;return new Promise((function(r,i){n.load(e,r,t,i)}))},parse:function(){},setCrossOrigin:function(e){return this.crossOrigin=e,this},setWithCredentials:function(e){return this.withCredentials=e,this},setPath:function(e){return this.path=e,this},setResourcePath:function(e){return this.resourcePath=e,this},setRequestHeader:function(e){return this.requestHeader=e,this}});var Jc={};function ed(e){Kc.call(this,e)}function td(e){Kc.call(this,e)}function nd(e){Kc.call(this,e)}function rd(e){Kc.call(this,e)}function id(e){Kc.call(this,e)}function ad(e){Kc.call(this,e)}function od(e){Kc.call(this,e)}function sd(){this.type="Curve",this.arcLengthDivisions=200}function ld(e,t,n,r,i,a,o,s){sd.call(this),this.type="EllipseCurve",this.aX=e||0,this.aY=t||0,this.xRadius=n||1,this.yRadius=r||1,this.aStartAngle=i||0,this.aEndAngle=a||2*Math.PI,this.aClockwise=o||!1,this.aRotation=s||0}function ud(e,t,n,r,i,a){ld.call(this,e,t,n,n,r,i,a),this.type="ArcCurve"}function cd(){var e=0,t=0,n=0,r=0;function i(i,a,o,s){e=i,t=o,n=-3*i+3*a-2*o-s,r=2*i-2*a+o+s}return{initCatmullRom:function(e,t,n,r,a){i(t,n,a*(n-e),a*(r-t))},initNonuniformCatmullRom:function(e,t,n,r,a,o,s){var l=(t-e)/a-(n-e)/(a+o)+(n-t)/o,u=(n-t)/o-(r-t)/(o+s)+(r-n)/s;i(t,n,l*=o,u*=o)},calc:function(i){var a=i*i;return e+t*i+n*a+r*(a*i)}}}ed.prototype=Object.assign(Object.create(Kc.prototype),{constructor:ed,load:function(e,t,n,r){void 0===e&&(e=""),void 0!==this.path&&(e=this.path+e),e=this.manager.resolveURL(e);var i=this,a=Qc.get(e);if(void 0!==a)return i.manager.itemStart(e),setTimeout((function(){t&&t(a),i.manager.itemEnd(e)}),0),a;if(void 0===Jc[e]){var o,s=e.match(/^data:(.*?)(;base64)?,(.*)$/);if(s){var l=s[1],u=!!s[2],c=s[3];c=decodeURIComponent(c),u&&(c=atob(c));try{var d,h=(this.responseType||"").toLowerCase();switch(h){case"arraybuffer":case"blob":for(var f=new Uint8Array(c.length),p=0;p<c.length;p++)f[p]=c.charCodeAt(p);d="blob"===h?new Blob([f.buffer],{type:l}):f.buffer;break;case"document":var m=new DOMParser;d=m.parseFromString(c,l);break;case"json":d=JSON.parse(c);break;default:d=c}setTimeout((function(){t&&t(d),i.manager.itemEnd(e)}),0)}catch(g){setTimeout((function(){r&&r(g),i.manager.itemError(e),i.manager.itemEnd(e)}),0)}}else{for(var v in Jc[e]=[],Jc[e].push({onLoad:t,onProgress:n,onError:r}),(o=new XMLHttpRequest).open("GET",e,!0),o.addEventListener("load",(function(t){var n=this.response,r=Jc[e];if(delete Jc[e],200===this.status||0===this.status){0===this.status&&console.warn("THREE.FileLoader: HTTP Status 0 received."),Qc.add(e,n);for(var a=0,o=r.length;a<o;a++){var s=r[a];s.onLoad&&s.onLoad(n)}i.manager.itemEnd(e)}else{for(var l=0,u=r.length;l<u;l++){var c=r[l];c.onError&&c.onError(t)}i.manager.itemError(e),i.manager.itemEnd(e)}}),!1),o.addEventListener("progress",(function(t){for(var n=Jc[e],r=0,i=n.length;r<i;r++){var a=n[r];a.onProgress&&a.onProgress(t)}}),!1),o.addEventListener("error",(function(t){var n=Jc[e];delete Jc[e];for(var r=0,a=n.length;r<a;r++){var o=n[r];o.onError&&o.onError(t)}i.manager.itemError(e),i.manager.itemEnd(e)}),!1),o.addEventListener("abort",(function(t){var n=Jc[e];delete Jc[e];for(var r=0,a=n.length;r<a;r++){var o=n[r];o.onError&&o.onError(t)}i.manager.itemError(e),i.manager.itemEnd(e)}),!1),void 0!==this.responseType&&(o.responseType=this.responseType),void 0!==this.withCredentials&&(o.withCredentials=this.withCredentials),o.overrideMimeType&&o.overrideMimeType(void 0!==this.mimeType?this.mimeType:"text/plain"),this.requestHeader)o.setRequestHeader(v,this.requestHeader[v]);o.send(null)}return i.manager.itemStart(e),o}Jc[e].push({onLoad:t,onProgress:n,onError:r})},setResponseType:function(e){return this.responseType=e,this},setMimeType:function(e){return this.mimeType=e,this}}),td.prototype=Object.assign(Object.create(Kc.prototype),{constructor:td,load:function(e,t,n,r){var i=this,a=new ed(i.manager);a.setPath(i.path),a.setRequestHeader(i.requestHeader),a.setWithCredentials(i.withCredentials),a.load(e,(function(n){try{t(i.parse(JSON.parse(n)))}catch(a){r?r(a):console.error(a),i.manager.itemError(e)}}),n,r)},parse:function(e){for(var t=[],n=0;n<e.length;n++){var r=qc.parse(e[n]);t.push(r)}return t}}),nd.prototype=Object.assign(Object.create(Kc.prototype),{constructor:nd,load:function(e,t,n,r){var i=this,a=[],o=new Ql;o.image=a;var s=new ed(this.manager);s.setPath(this.path),s.setResponseType("arraybuffer"),s.setRequestHeader(this.requestHeader),s.setWithCredentials(i.withCredentials);var l=0;function u(u){s.load(e[u],(function(e){var n=i.parse(e,!0);a[u]={width:n.width,height:n.height,format:n.format,mipmaps:n.mipmaps},6===(l+=1)&&(1===n.mipmapCount&&(o.minFilter=Oe),o.format=n.format,o.needsUpdate=!0,t&&t(o))}),n,r)}if(Array.isArray(e))for(var c=0,d=e.length;c<d;++c)u(c);else s.load(e,(function(e){var n=i.parse(e,!0);if(n.isCubemap)for(var r=n.mipmaps.length/n.mipmapCount,s=0;s<r;s++){a[s]={mipmaps:[]};for(var l=0;l<n.mipmapCount;l++)a[s].mipmaps.push(n.mipmaps[s*n.mipmapCount+l]),a[s].format=n.format,a[s].width=n.width,a[s].height=n.height}else o.image.width=n.width,o.image.height=n.height,o.mipmaps=n.mipmaps;1===n.mipmapCount&&(o.minFilter=Oe),o.format=n.format,o.needsUpdate=!0,t&&t(o)}),n,r);return o}}),rd.prototype=Object.assign(Object.create(Kc.prototype),{constructor:rd,load:function(e,t,n,r){void 0!==this.path&&(e=this.path+e),e=this.manager.resolveURL(e);var i=this,a=Qc.get(e);if(void 0!==a)return i.manager.itemStart(e),setTimeout((function(){t&&t(a),i.manager.itemEnd(e)}),0),a;var o=document.createElementNS("http://www.w3.org/1999/xhtml","img");function s(){o.removeEventListener("load",s,!1),o.removeEventListener("error",l,!1),Qc.add(e,this),t&&t(this),i.manager.itemEnd(e)}function l(t){o.removeEventListener("load",s,!1),o.removeEventListener("error",l,!1),r&&r(t),i.manager.itemError(e),i.manager.itemEnd(e)}return o.addEventListener("load",s,!1),o.addEventListener("error",l,!1),"data:"!==e.substr(0,5)&&void 0!==this.crossOrigin&&(o.crossOrigin=this.crossOrigin),i.manager.itemStart(e),o.src=e,o}}),id.prototype=Object.assign(Object.create(Kc.prototype),{constructor:id,load:function(e,t,n,r){var i=new La,a=new rd(this.manager);a.setCrossOrigin(this.crossOrigin),a.setPath(this.path);var o=0;function s(n){a.load(e[n],(function(e){i.images[n]=e,6===++o&&(i.needsUpdate=!0,t&&t(i))}),void 0,r)}for(var l=0;l<e.length;++l)s(l);return i}}),ad.prototype=Object.assign(Object.create(Kc.prototype),{constructor:ad,load:function(e,t,n,r){var i=this,a=new Na,o=new ed(this.manager);return o.setResponseType("arraybuffer"),o.setRequestHeader(this.requestHeader),o.setPath(this.path),o.setWithCredentials(i.withCredentials),o.load(e,(function(e){var n=i.parse(e);n&&(void 0!==n.image?a.image=n.image:void 0!==n.data&&(a.image.width=n.width,a.image.height=n.height,a.image.data=n.data),a.wrapS=void 0!==n.wrapS?n.wrapS:Me,a.wrapT=void 0!==n.wrapT?n.wrapT:Me,a.magFilter=void 0!==n.magFilter?n.magFilter:Oe,a.minFilter=void 0!==n.minFilter?n.minFilter:Oe,a.anisotropy=void 0!==n.anisotropy?n.anisotropy:1,void 0!==n.format&&(a.format=n.format),void 0!==n.type&&(a.type=n.type),void 0!==n.mipmaps&&(a.mipmaps=n.mipmaps,a.minFilter=Ce),1===n.mipmapCount&&(a.minFilter=Oe),a.needsUpdate=!0,t&&t(a,n))}),n,r),a}}),od.prototype=Object.assign(Object.create(Kc.prototype),{constructor:od,load:function(e,t,n,r){var i=new nr,a=new rd(this.manager);return a.setCrossOrigin(this.crossOrigin),a.setPath(this.path),a.load(e,(function(n){i.image=n;var r=e.search(/\.jpe?g($|\?)/i)>0||0===e.search(/^data\:image\/jpeg/);i.format=r?qe:Ye,i.needsUpdate=!0,void 0!==t&&t(i)}),n,r),i}}),Object.assign(sd.prototype,{getPoint:function(){return console.warn("THREE.Curve: .getPoint() not implemented."),null},getPointAt:function(e,t){var n=this.getUtoTmapping(e);return this.getPoint(n,t)},getPoints:function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:5,t=[],n=0;n<=e;n++)t.push(this.getPoint(n/e));return t},getSpacedPoints:function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:5,t=[],n=0;n<=e;n++)t.push(this.getPointAt(n/e));return t},getLength:function(){var e=this.getLengths();return e[e.length-1]},getLengths:function(e){if(void 0===e&&(e=this.arcLengthDivisions),this.cacheArcLengths&&this.cacheArcLengths.length===e+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;var t,n=[],r=this.getPoint(0),i=0;n.push(0);for(var a=1;a<=e;a++)i+=(t=this.getPoint(a/e)).distanceTo(r),n.push(i),r=t;return this.cacheArcLengths=n,n},updateArcLengths:function(){this.needsUpdate=!0,this.getLengths()},getUtoTmapping:function(e,t){var n,r=this.getLengths(),i=0,a=r.length;n=t||e*r[a-1];for(var o,s=0,l=a-1;s<=l;)if((o=r[i=Math.floor(s+(l-s)/2)]-n)<0)s=i+1;else{if(!(o>0)){l=i;break}l=i-1}if(r[i=l]===n)return i/(a-1);var u=r[i];return(i+(n-u)/(r[i+1]-u))/(a-1)},getTangent:function(e,t){var n=1e-4,r=e-n,i=e+n;r<0&&(r=0),i>1&&(i=1);var a=this.getPoint(r),o=this.getPoint(i),s=t||(a.isVector2?new Kn:new lr);return s.copy(o).sub(a).normalize(),s},getTangentAt:function(e,t){var n=this.getUtoTmapping(e);return this.getTangent(n,t)},computeFrenetFrames:function(e,t){for(var n=new lr,r=[],i=[],a=[],o=new lr,s=new Nr,l=0;l<=e;l++){var u=l/e;r[l]=this.getTangentAt(u,new lr),r[l].normalize()}i[0]=new lr,a[0]=new lr;var c=Number.MAX_VALUE,d=Math.abs(r[0].x),h=Math.abs(r[0].y),f=Math.abs(r[0].z);d<=c&&(c=d,n.set(1,0,0)),h<=c&&(c=h,n.set(0,1,0)),f<=c&&n.set(0,0,1),o.crossVectors(r[0],n).normalize(),i[0].crossVectors(r[0],o),a[0].crossVectors(r[0],i[0]);for(var p=1;p<=e;p++){if(i[p]=i[p-1].clone(),a[p]=a[p-1].clone(),o.crossVectors(r[p-1],r[p]),o.length()>Number.EPSILON){o.normalize();var m=Math.acos($n.clamp(r[p-1].dot(r[p]),-1,1));i[p].applyMatrix4(s.makeRotationAxis(o,m))}a[p].crossVectors(r[p],i[p])}if(!0===t){var v=Math.acos($n.clamp(i[0].dot(i[e]),-1,1));v/=e,r[0].dot(o.crossVectors(i[0],i[e]))>0&&(v=-v);for(var g=1;g<=e;g++)i[g].applyMatrix4(s.makeRotationAxis(r[g],v*g)),a[g].crossVectors(r[g],i[g])}return{tangents:r,normals:i,binormals:a}},clone:function(){return(new this.constructor).copy(this)},copy:function(e){return this.arcLengthDivisions=e.arcLengthDivisions,this},toJSON:function(){var e={metadata:{version:4.5,type:"Curve",generator:"Curve.toJSON"}};return e.arcLengthDivisions=this.arcLengthDivisions,e.type=this.type,e},fromJSON:function(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}}),ld.prototype=Object.create(sd.prototype),ld.prototype.constructor=ld,ld.prototype.isEllipseCurve=!0,ld.prototype.getPoint=function(e,t){for(var n=t||new Kn,r=2*Math.PI,i=this.aEndAngle-this.aStartAngle,a=Math.abs(i)<Number.EPSILON;i<0;)i+=r;for(;i>r;)i-=r;i<Number.EPSILON&&(i=a?0:r),!0!==this.aClockwise||a||(i===r?i=-r:i-=r);var o=this.aStartAngle+e*i,s=this.aX+this.xRadius*Math.cos(o),l=this.aY+this.yRadius*Math.sin(o);if(0!==this.aRotation){var u=Math.cos(this.aRotation),c=Math.sin(this.aRotation),d=s-this.aX,h=l-this.aY;s=d*u-h*c+this.aX,l=d*c+h*u+this.aY}return n.set(s,l)},ld.prototype.copy=function(e){return sd.prototype.copy.call(this,e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this},ld.prototype.toJSON=function(){var e=sd.prototype.toJSON.call(this);return e.aX=this.aX,e.aY=this.aY,e.xRadius=this.xRadius,e.yRadius=this.yRadius,e.aStartAngle=this.aStartAngle,e.aEndAngle=this.aEndAngle,e.aClockwise=this.aClockwise,e.aRotation=this.aRotation,e},ld.prototype.fromJSON=function(e){return sd.prototype.fromJSON.call(this,e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this},ud.prototype=Object.create(ld.prototype),ud.prototype.constructor=ud,ud.prototype.isArcCurve=!0;var dd=new lr,hd=new cd,fd=new cd,pd=new cd;function md(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"centripetal",r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.5;sd.call(this),this.type="CatmullRomCurve3",this.points=e,this.closed=t,this.curveType=n,this.tension=r}function vd(e,t,n,r,i){var a=.5*(r-t),o=.5*(i-n),s=e*e;return(2*n-2*r+a+o)*(e*s)+(-3*n+3*r-2*a-o)*s+a*e+n}function gd(e,t,n,r){return function(e,t){var n=1-e;return n*n*t}(e,t)+function(e,t){return 2*(1-e)*e*t}(e,n)+function(e,t){return e*e*t}(e,r)}function yd(e,t,n,r,i){return function(e,t){var n=1-e;return n*n*n*t}(e,t)+function(e,t){var n=1-e;return 3*n*n*e*t}(e,n)+function(e,t){return 3*(1-e)*e*e*t}(e,r)+function(e,t){return e*e*e*t}(e,i)}function bd(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Kn,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Kn,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new Kn,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:new Kn;sd.call(this),this.type="CubicBezierCurve",this.v0=e,this.v1=t,this.v2=n,this.v3=r}function xd(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new lr,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new lr,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new lr,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:new lr;sd.call(this),this.type="CubicBezierCurve3",this.v0=e,this.v1=t,this.v2=n,this.v3=r}function wd(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Kn,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Kn;sd.call(this),this.type="LineCurve",this.v1=e,this.v2=t}function Md(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new lr,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new lr;sd.call(this),this.type="LineCurve3",this.v1=e,this.v2=t}function _d(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Kn,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Kn,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new Kn;sd.call(this),this.type="QuadraticBezierCurve",this.v0=e,this.v1=t,this.v2=n}function Sd(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new lr,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new lr,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new lr;sd.call(this),this.type="QuadraticBezierCurve3",this.v0=e,this.v1=t,this.v2=n}function Ed(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];sd.call(this),this.type="SplineCurve",this.points=e}md.prototype=Object.create(sd.prototype),md.prototype.constructor=md,md.prototype.isCatmullRomCurve3=!0,md.prototype.getPoint=function(e){var t,n,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new lr,i=r,a=this.points,o=a.length,s=(o-(this.closed?0:1))*e,l=Math.floor(s),u=s-l;this.closed?l+=l>0?0:(Math.floor(Math.abs(l)/o)+1)*o:0===u&&l===o-1&&(l=o-2,u=1),this.closed||l>0?t=a[(l-1)%o]:(dd.subVectors(a[0],a[1]).add(a[0]),t=dd);var c=a[l%o],d=a[(l+1)%o];if(this.closed||l+2<o?n=a[(l+2)%o]:(dd.subVectors(a[o-1],a[o-2]).add(a[o-1]),n=dd),"centripetal"===this.curveType||"chordal"===this.curveType){var h="chordal"===this.curveType?.5:.25,f=Math.pow(t.distanceToSquared(c),h),p=Math.pow(c.distanceToSquared(d),h),m=Math.pow(d.distanceToSquared(n),h);p<1e-4&&(p=1),f<1e-4&&(f=p),m<1e-4&&(m=p),hd.initNonuniformCatmullRom(t.x,c.x,d.x,n.x,f,p,m),fd.initNonuniformCatmullRom(t.y,c.y,d.y,n.y,f,p,m),pd.initNonuniformCatmullRom(t.z,c.z,d.z,n.z,f,p,m)}else"catmullrom"===this.curveType&&(hd.initCatmullRom(t.x,c.x,d.x,n.x,this.tension),fd.initCatmullRom(t.y,c.y,d.y,n.y,this.tension),pd.initCatmullRom(t.z,c.z,d.z,n.z,this.tension));return i.set(hd.calc(u),fd.calc(u),pd.calc(u)),i},md.prototype.copy=function(e){sd.prototype.copy.call(this,e),this.points=[];for(var t=0,n=e.points.length;t<n;t++){var r=e.points[t];this.points.push(r.clone())}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this},md.prototype.toJSON=function(){var e=sd.prototype.toJSON.call(this);e.points=[];for(var t=0,n=this.points.length;t<n;t++){var r=this.points[t];e.points.push(r.toArray())}return e.closed=this.closed,e.curveType=this.curveType,e.tension=this.tension,e},md.prototype.fromJSON=function(e){sd.prototype.fromJSON.call(this,e),this.points=[];for(var t=0,n=e.points.length;t<n;t++){var r=e.points[t];this.points.push((new lr).fromArray(r))}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this},bd.prototype=Object.create(sd.prototype),bd.prototype.constructor=bd,bd.prototype.isCubicBezierCurve=!0,bd.prototype.getPoint=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Kn,n=t,r=this.v0,i=this.v1,a=this.v2,o=this.v3;return n.set(yd(e,r.x,i.x,a.x,o.x),yd(e,r.y,i.y,a.y,o.y)),n},bd.prototype.copy=function(e){return sd.prototype.copy.call(this,e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this},bd.prototype.toJSON=function(){var e=sd.prototype.toJSON.call(this);return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e},bd.prototype.fromJSON=function(e){return sd.prototype.fromJSON.call(this,e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this},xd.prototype=Object.create(sd.prototype),xd.prototype.constructor=xd,xd.prototype.isCubicBezierCurve3=!0,xd.prototype.getPoint=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new lr,n=t,r=this.v0,i=this.v1,a=this.v2,o=this.v3;return n.set(yd(e,r.x,i.x,a.x,o.x),yd(e,r.y,i.y,a.y,o.y),yd(e,r.z,i.z,a.z,o.z)),n},xd.prototype.copy=function(e){return sd.prototype.copy.call(this,e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this},xd.prototype.toJSON=function(){var e=sd.prototype.toJSON.call(this);return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e},xd.prototype.fromJSON=function(e){return sd.prototype.fromJSON.call(this,e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this},wd.prototype=Object.create(sd.prototype),wd.prototype.constructor=wd,wd.prototype.isLineCurve=!0,wd.prototype.getPoint=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Kn,n=t;return 1===e?n.copy(this.v2):(n.copy(this.v2).sub(this.v1),n.multiplyScalar(e).add(this.v1)),n},wd.prototype.getPointAt=function(e,t){return this.getPoint(e,t)},wd.prototype.getTangent=function(e,t){var n=t||new Kn;return n.copy(this.v2).sub(this.v1).normalize(),n},wd.prototype.copy=function(e){return sd.prototype.copy.call(this,e),this.v1.copy(e.v1),this.v2.copy(e.v2),this},wd.prototype.toJSON=function(){var e=sd.prototype.toJSON.call(this);return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e},wd.prototype.fromJSON=function(e){return sd.prototype.fromJSON.call(this,e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this},Md.prototype=Object.create(sd.prototype),Md.prototype.constructor=Md,Md.prototype.isLineCurve3=!0,Md.prototype.getPoint=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new lr,n=t;return 1===e?n.copy(this.v2):(n.copy(this.v2).sub(this.v1),n.multiplyScalar(e).add(this.v1)),n},Md.prototype.getPointAt=function(e,t){return this.getPoint(e,t)},Md.prototype.copy=function(e){return sd.prototype.copy.call(this,e),this.v1.copy(e.v1),this.v2.copy(e.v2),this},Md.prototype.toJSON=function(){var e=sd.prototype.toJSON.call(this);return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e},Md.prototype.fromJSON=function(e){return sd.prototype.fromJSON.call(this,e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this},_d.prototype=Object.create(sd.prototype),_d.prototype.constructor=_d,_d.prototype.isQuadraticBezierCurve=!0,_d.prototype.getPoint=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Kn,n=t,r=this.v0,i=this.v1,a=this.v2;return n.set(gd(e,r.x,i.x,a.x),gd(e,r.y,i.y,a.y)),n},_d.prototype.copy=function(e){return sd.prototype.copy.call(this,e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this},_d.prototype.toJSON=function(){var e=sd.prototype.toJSON.call(this);return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e},_d.prototype.fromJSON=function(e){return sd.prototype.fromJSON.call(this,e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this},Sd.prototype=Object.create(sd.prototype),Sd.prototype.constructor=Sd,Sd.prototype.isQuadraticBezierCurve3=!0,Sd.prototype.getPoint=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new lr,n=t,r=this.v0,i=this.v1,a=this.v2;return n.set(gd(e,r.x,i.x,a.x),gd(e,r.y,i.y,a.y),gd(e,r.z,i.z,a.z)),n},Sd.prototype.copy=function(e){return sd.prototype.copy.call(this,e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this},Sd.prototype.toJSON=function(){var e=sd.prototype.toJSON.call(this);return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e},Sd.prototype.fromJSON=function(e){return sd.prototype.fromJSON.call(this,e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this},Ed.prototype=Object.create(sd.prototype),Ed.prototype.constructor=Ed,Ed.prototype.isSplineCurve=!0,Ed.prototype.getPoint=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Kn,n=t,r=this.points,i=(r.length-1)*e,a=Math.floor(i),o=i-a,s=r[0===a?a:a-1],l=r[a],u=r[a>r.length-2?r.length-1:a+1],c=r[a>r.length-3?r.length-1:a+2];return n.set(vd(o,s.x,l.x,u.x,c.x),vd(o,s.y,l.y,u.y,c.y)),n},Ed.prototype.copy=function(e){sd.prototype.copy.call(this,e),this.points=[];for(var t=0,n=e.points.length;t<n;t++){var r=e.points[t];this.points.push(r.clone())}return this},Ed.prototype.toJSON=function(){var e=sd.prototype.toJSON.call(this);e.points=[];for(var t=0,n=this.points.length;t<n;t++){var r=this.points[t];e.points.push(r.toArray())}return e},Ed.prototype.fromJSON=function(e){sd.prototype.fromJSON.call(this,e),this.points=[];for(var t=0,n=e.points.length;t<n;t++){var r=e.points[t];this.points.push((new Kn).fromArray(r))}return this};var Td=Object.freeze({__proto__:null,ArcCurve:ud,CatmullRomCurve3:md,CubicBezierCurve:bd,CubicBezierCurve3:xd,EllipseCurve:ld,LineCurve:wd,LineCurve3:Md,QuadraticBezierCurve:_d,QuadraticBezierCurve3:Sd,SplineCurve:Ed});function Ad(){sd.call(this),this.type="CurvePath",this.curves=[],this.autoClose=!1}function Rd(e){Ad.call(this),this.type="Path",this.currentPoint=new Kn,e&&this.setFromPoints(e)}function Od(e){Rd.call(this,e),this.uuid=$n.generateUUID(),this.type="Shape",this.holes=[]}function kd(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;si.call(this),this.type="Light",this.color=new Oi(e),this.intensity=t}function Id(e,t,n){kd.call(this,e,n),this.type="HemisphereLight",this.position.copy(si.DefaultUp),this.updateMatrix(),this.groundColor=new Oi(t)}function Cd(e){this.camera=e,this.bias=0,this.normalBias=0,this.radius=1,this.mapSize=new Kn(512,512),this.map=null,this.mapPass=null,this.matrix=new Nr,this.autoUpdate=!0,this.needsUpdate=!1,this._frustum=new Ga,this._frameExtents=new Kn(1,1),this._viewportCount=1,this._viewports=[new ir(0,0,1,1)]}function Dd(){Cd.call(this,new Ia(50,1,.5,500)),this.focus=1}function Ld(e,t,n,r,i,a){kd.call(this,e,t),this.type="SpotLight",this.position.copy(si.DefaultUp),this.updateMatrix(),this.target=new si,Object.defineProperty(this,"power",{get:function(){return this.intensity*Math.PI},set:function(e){this.intensity=e/Math.PI}}),this.distance=void 0!==n?n:0,this.angle=void 0!==r?r:Math.PI/3,this.penumbra=void 0!==i?i:0,this.decay=void 0!==a?a:1,this.shadow=new Dd}function Pd(){Cd.call(this,new Ia(90,1,.5,500)),this._frameExtents=new Kn(4,2),this._viewportCount=6,this._viewports=[new ir(2,1,1,1),new ir(0,1,1,1),new ir(3,1,1,1),new ir(1,1,1,1),new ir(3,0,1,1),new ir(1,0,1,1)],this._cubeDirections=[new lr(1,0,0),new lr(-1,0,0),new lr(0,0,1),new lr(0,0,-1),new lr(0,1,0),new lr(0,-1,0)],this._cubeUps=[new lr(0,1,0),new lr(0,1,0),new lr(0,1,0),new lr(0,1,0),new lr(0,0,1),new lr(0,0,-1)]}function Nd(e,t,n,r){kd.call(this,e,t),this.type="PointLight",Object.defineProperty(this,"power",{get:function(){return 4*this.intensity*Math.PI},set:function(e){this.intensity=e/(4*Math.PI)}}),this.distance=void 0!==n?n:0,this.decay=void 0!==r?r:1,this.shadow=new Pd}function jd(e,t,n,r,i,a){ka.call(this),this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=void 0!==e?e:-1,this.right=void 0!==t?t:1,this.top=void 0!==n?n:1,this.bottom=void 0!==r?r:-1,this.near=void 0!==i?i:.1,this.far=void 0!==a?a:2e3,this.updateProjectionMatrix()}function Fd(){Cd.call(this,new jd(-5,5,5,-5,.5,500))}function Gd(e,t){kd.call(this,e,t),this.type="DirectionalLight",this.position.copy(si.DefaultUp),this.updateMatrix(),this.target=new si,this.shadow=new Fd}function Ud(e,t){kd.call(this,e,t),this.type="AmbientLight"}function zd(e,t,n,r){kd.call(this,e,t),this.type="RectAreaLight",this.width=void 0!==n?n:10,this.height=void 0!==r?r:10}Ad.prototype=Object.assign(Object.create(sd.prototype),{constructor:Ad,add:function(e){this.curves.push(e)},closePath:function(){var e=this.curves[0].getPoint(0),t=this.curves[this.curves.length-1].getPoint(1);e.equals(t)||this.curves.push(new wd(t,e))},getPoint:function(e){for(var t=e*this.getLength(),n=this.getCurveLengths(),r=0;r<n.length;){if(n[r]>=t){var i=n[r]-t,a=this.curves[r],o=a.getLength(),s=0===o?0:1-i/o;return a.getPointAt(s)}r++}return null},getLength:function(){var e=this.getCurveLengths();return e[e.length-1]},updateArcLengths:function(){this.needsUpdate=!0,this.cacheLengths=null,this.getCurveLengths()},getCurveLengths:function(){if(this.cacheLengths&&this.cacheLengths.length===this.curves.length)return this.cacheLengths;for(var e=[],t=0,n=0,r=this.curves.length;n<r;n++)t+=this.curves[n].getLength(),e.push(t);return this.cacheLengths=e,e},getSpacedPoints:function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:40,t=[],n=0;n<=e;n++)t.push(this.getPoint(n/e));return this.autoClose&&t.push(t[0]),t},getPoints:function(){for(var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:12,n=[],r=0,i=this.curves;r<i.length;r++)for(var a=i[r],o=a&&a.isEllipseCurve?2*t:a&&(a.isLineCurve||a.isLineCurve3)?1:a&&a.isSplineCurve?t*a.points.length:t,s=a.getPoints(o),l=0;l<s.length;l++){var u=s[l];e&&e.equals(u)||(n.push(u),e=u)}return this.autoClose&&n.length>1&&!n[n.length-1].equals(n[0])&&n.push(n[0]),n},copy:function(e){sd.prototype.copy.call(this,e),this.curves=[];for(var t=0,n=e.curves.length;t<n;t++){var r=e.curves[t];this.curves.push(r.clone())}return this.autoClose=e.autoClose,this},toJSON:function(){var e=sd.prototype.toJSON.call(this);e.autoClose=this.autoClose,e.curves=[];for(var t=0,n=this.curves.length;t<n;t++){var r=this.curves[t];e.curves.push(r.toJSON())}return e},fromJSON:function(e){sd.prototype.fromJSON.call(this,e),this.autoClose=e.autoClose,this.curves=[];for(var t=0,n=e.curves.length;t<n;t++){var r=e.curves[t];this.curves.push((new Td[r.type]).fromJSON(r))}return this}}),Rd.prototype=Object.assign(Object.create(Ad.prototype),{constructor:Rd,setFromPoints:function(e){this.moveTo(e[0].x,e[0].y);for(var t=1,n=e.length;t<n;t++)this.lineTo(e[t].x,e[t].y);return this},moveTo:function(e,t){return this.currentPoint.set(e,t),this},lineTo:function(e,t){var n=new wd(this.currentPoint.clone(),new Kn(e,t));return this.curves.push(n),this.currentPoint.set(e,t),this},quadraticCurveTo:function(e,t,n,r){var i=new _d(this.currentPoint.clone(),new Kn(e,t),new Kn(n,r));return this.curves.push(i),this.currentPoint.set(n,r),this},bezierCurveTo:function(e,t,n,r,i,a){var o=new bd(this.currentPoint.clone(),new Kn(e,t),new Kn(n,r),new Kn(i,a));return this.curves.push(o),this.currentPoint.set(i,a),this},splineThru:function(e){var t=new Ed([this.currentPoint.clone()].concat(e));return this.curves.push(t),this.currentPoint.copy(e[e.length-1]),this},arc:function(e,t,n,r,i,a){var o=this.currentPoint.x,s=this.currentPoint.y;return this.absarc(e+o,t+s,n,r,i,a),this},absarc:function(e,t,n,r,i,a){return this.absellipse(e,t,n,n,r,i,a),this},ellipse:function(e,t,n,r,i,a,o,s){var l=this.currentPoint.x,u=this.currentPoint.y;return this.absellipse(e+l,t+u,n,r,i,a,o,s),this},absellipse:function(e,t,n,r,i,a,o,s){var l=new ld(e,t,n,r,i,a,o,s);if(this.curves.length>0){var u=l.getPoint(0);u.equals(this.currentPoint)||this.lineTo(u.x,u.y)}this.curves.push(l);var c=l.getPoint(1);return this.currentPoint.copy(c),this},copy:function(e){return Ad.prototype.copy.call(this,e),this.currentPoint.copy(e.currentPoint),this},toJSON:function(){var e=Ad.prototype.toJSON.call(this);return e.currentPoint=this.currentPoint.toArray(),e},fromJSON:function(e){return Ad.prototype.fromJSON.call(this,e),this.currentPoint.fromArray(e.currentPoint),this}}),Od.prototype=Object.assign(Object.create(Rd.prototype),{constructor:Od,getPointsHoles:function(e){for(var t=[],n=0,r=this.holes.length;n<r;n++)t[n]=this.holes[n].getPoints(e);return t},extractPoints:function(e){return{shape:this.getPoints(e),holes:this.getPointsHoles(e)}},copy:function(e){Rd.prototype.copy.call(this,e),this.holes=[];for(var t=0,n=e.holes.length;t<n;t++){var r=e.holes[t];this.holes.push(r.clone())}return this},toJSON:function(){var e=Rd.prototype.toJSON.call(this);e.uuid=this.uuid,e.holes=[];for(var t=0,n=this.holes.length;t<n;t++){var r=this.holes[t];e.holes.push(r.toJSON())}return e},fromJSON:function(e){Rd.prototype.fromJSON.call(this,e),this.uuid=e.uuid,this.holes=[];for(var t=0,n=e.holes.length;t<n;t++){var r=e.holes[t];this.holes.push((new Rd).fromJSON(r))}return this}}),kd.prototype=Object.assign(Object.create(si.prototype),{constructor:kd,isLight:!0,copy:function(e){return si.prototype.copy.call(this,e),this.color.copy(e.color),this.intensity=e.intensity,this},toJSON:function(e){var t=si.prototype.toJSON.call(this,e);return t.object.color=this.color.getHex(),t.object.intensity=this.intensity,void 0!==this.groundColor&&(t.object.groundColor=this.groundColor.getHex()),void 0!==this.distance&&(t.object.distance=this.distance),void 0!==this.angle&&(t.object.angle=this.angle),void 0!==this.decay&&(t.object.decay=this.decay),void 0!==this.penumbra&&(t.object.penumbra=this.penumbra),void 0!==this.shadow&&(t.object.shadow=this.shadow.toJSON()),t}}),Id.prototype=Object.assign(Object.create(kd.prototype),{constructor:Id,isHemisphereLight:!0,copy:function(e){return kd.prototype.copy.call(this,e),this.groundColor.copy(e.groundColor),this}}),Object.assign(Cd.prototype,{_projScreenMatrix:new Nr,_lightPositionWorld:new lr,_lookTarget:new lr,getViewportCount:function(){return this._viewportCount},getFrustum:function(){return this._frustum},updateMatrices:function(e){var t=this.camera,n=this.matrix,r=this._projScreenMatrix,i=this._lookTarget,a=this._lightPositionWorld;a.setFromMatrixPosition(e.matrixWorld),t.position.copy(a),i.setFromMatrixPosition(e.target.matrixWorld),t.lookAt(i),t.updateMatrixWorld(),r.multiplyMatrices(t.projectionMatrix,t.matrixWorldInverse),this._frustum.setFromProjectionMatrix(r),n.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),n.multiply(t.projectionMatrix),n.multiply(t.matrixWorldInverse)},getViewport:function(e){return this._viewports[e]},getFrameExtents:function(){return this._frameExtents},copy:function(e){return this.camera=e.camera.clone(),this.bias=e.bias,this.radius=e.radius,this.mapSize.copy(e.mapSize),this},clone:function(){return(new this.constructor).copy(this)},toJSON:function(){var e={};return 0!==this.bias&&(e.bias=this.bias),0!==this.normalBias&&(e.normalBias=this.normalBias),1!==this.radius&&(e.radius=this.radius),512===this.mapSize.x&&512===this.mapSize.y||(e.mapSize=this.mapSize.toArray()),e.camera=this.camera.toJSON(!1).object,delete e.camera.matrix,e}}),Dd.prototype=Object.assign(Object.create(Cd.prototype),{constructor:Dd,isSpotLightShadow:!0,updateMatrices:function(e){var t=this.camera,n=2*$n.RAD2DEG*e.angle*this.focus,r=this.mapSize.width/this.mapSize.height,i=e.distance||t.far;n===t.fov&&r===t.aspect&&i===t.far||(t.fov=n,t.aspect=r,t.far=i,t.updateProjectionMatrix()),Cd.prototype.updateMatrices.call(this,e)}}),Ld.prototype=Object.assign(Object.create(kd.prototype),{constructor:Ld,isSpotLight:!0,copy:function(e){return kd.prototype.copy.call(this,e),this.distance=e.distance,this.angle=e.angle,this.penumbra=e.penumbra,this.decay=e.decay,this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}),Pd.prototype=Object.assign(Object.create(Cd.prototype),{constructor:Pd,isPointLightShadow:!0,updateMatrices:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=this.camera,r=this.matrix,i=this._lightPositionWorld,a=this._lookTarget,o=this._projScreenMatrix;i.setFromMatrixPosition(e.matrixWorld),n.position.copy(i),a.copy(n.position),a.add(this._cubeDirections[t]),n.up.copy(this._cubeUps[t]),n.lookAt(a),n.updateMatrixWorld(),r.makeTranslation(-i.x,-i.y,-i.z),o.multiplyMatrices(n.projectionMatrix,n.matrixWorldInverse),this._frustum.setFromProjectionMatrix(o)}}),Nd.prototype=Object.assign(Object.create(kd.prototype),{constructor:Nd,isPointLight:!0,copy:function(e){return kd.prototype.copy.call(this,e),this.distance=e.distance,this.decay=e.decay,this.shadow=e.shadow.clone(),this}}),jd.prototype=Object.assign(Object.create(ka.prototype),{constructor:jd,isOrthographicCamera:!0,copy:function(e,t){return ka.prototype.copy.call(this,e,t),this.left=e.left,this.right=e.right,this.top=e.top,this.bottom=e.bottom,this.near=e.near,this.far=e.far,this.zoom=e.zoom,this.view=null===e.view?null:Object.assign({},e.view),this},setViewOffset:function(e,t,n,r,i,a){null===this.view&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=n,this.view.offsetY=r,this.view.width=i,this.view.height=a,this.updateProjectionMatrix()},clearViewOffset:function(){null!==this.view&&(this.view.enabled=!1),this.updateProjectionMatrix()},updateProjectionMatrix:function(){var e=(this.right-this.left)/(2*this.zoom),t=(this.top-this.bottom)/(2*this.zoom),n=(this.right+this.left)/2,r=(this.top+this.bottom)/2,i=n-e,a=n+e,o=r+t,s=r-t;if(null!==this.view&&this.view.enabled){var l=(this.right-this.left)/this.view.fullWidth/this.zoom,u=(this.top-this.bottom)/this.view.fullHeight/this.zoom;a=(i+=l*this.view.offsetX)+l*this.view.width,s=(o-=u*this.view.offsetY)-u*this.view.height}this.projectionMatrix.makeOrthographic(i,a,o,s,this.near,this.far),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()},toJSON:function(e){var t=si.prototype.toJSON.call(this,e);return t.object.zoom=this.zoom,t.object.left=this.left,t.object.right=this.right,t.object.top=this.top,t.object.bottom=this.bottom,t.object.near=this.near,t.object.far=this.far,null!==this.view&&(t.object.view=Object.assign({},this.view)),t}}),Fd.prototype=Object.assign(Object.create(Cd.prototype),{constructor:Fd,isDirectionalLightShadow:!0,updateMatrices:function(e){Cd.prototype.updateMatrices.call(this,e)}}),Gd.prototype=Object.assign(Object.create(kd.prototype),{constructor:Gd,isDirectionalLight:!0,copy:function(e){return kd.prototype.copy.call(this,e),this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}),Ud.prototype=Object.assign(Object.create(kd.prototype),{constructor:Ud,isAmbientLight:!0}),zd.prototype=Object.assign(Object.create(kd.prototype),{constructor:zd,isRectAreaLight:!0,copy:function(e){return kd.prototype.copy.call(this,e),this.width=e.width,this.height=e.height,this},toJSON:function(e){var t=kd.prototype.toJSON.call(this,e);return t.object.width=this.width,t.object.height=this.height,t}});var Bd=function(){function e(){Object(d.a)(this,e),Object.defineProperty(this,"isSphericalHarmonics3",{value:!0}),this.coefficients=[];for(var t=0;t<9;t++)this.coefficients.push(new lr)}return Object(h.a)(e,[{key:"set",value:function(e){for(var t=0;t<9;t++)this.coefficients[t].copy(e[t]);return this}},{key:"zero",value:function(){for(var e=0;e<9;e++)this.coefficients[e].set(0,0,0);return this}},{key:"getAt",value:function(e,t){var n=e.x,r=e.y,i=e.z,a=this.coefficients;return t.copy(a[0]).multiplyScalar(.282095),t.addScaledVector(a[1],.488603*r),t.addScaledVector(a[2],.488603*i),t.addScaledVector(a[3],.488603*n),t.addScaledVector(a[4],n*r*1.092548),t.addScaledVector(a[5],r*i*1.092548),t.addScaledVector(a[6],.315392*(3*i*i-1)),t.addScaledVector(a[7],n*i*1.092548),t.addScaledVector(a[8],.546274*(n*n-r*r)),t}},{key:"getIrradianceAt",value:function(e,t){var n=e.x,r=e.y,i=e.z,a=this.coefficients;return t.copy(a[0]).multiplyScalar(.886227),t.addScaledVector(a[1],1.023328*r),t.addScaledVector(a[2],1.023328*i),t.addScaledVector(a[3],1.023328*n),t.addScaledVector(a[4],.858086*n*r),t.addScaledVector(a[5],.858086*r*i),t.addScaledVector(a[6],.743125*i*i-.247708),t.addScaledVector(a[7],.858086*n*i),t.addScaledVector(a[8],.429043*(n*n-r*r)),t}},{key:"add",value:function(e){for(var t=0;t<9;t++)this.coefficients[t].add(e.coefficients[t]);return this}},{key:"addScaledSH",value:function(e,t){for(var n=0;n<9;n++)this.coefficients[n].addScaledVector(e.coefficients[n],t);return this}},{key:"scale",value:function(e){for(var t=0;t<9;t++)this.coefficients[t].multiplyScalar(e);return this}},{key:"lerp",value:function(e,t){for(var n=0;n<9;n++)this.coefficients[n].lerp(e.coefficients[n],t);return this}},{key:"equals",value:function(e){for(var t=0;t<9;t++)if(!this.coefficients[t].equals(e.coefficients[t]))return!1;return!0}},{key:"copy",value:function(e){return this.set(e.coefficients)}},{key:"clone",value:function(){return(new this.constructor).copy(this)}},{key:"fromArray",value:function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=this.coefficients,r=0;r<9;r++)n[r].fromArray(e,t+3*r);return this}},{key:"toArray",value:function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=this.coefficients,r=0;r<9;r++)n[r].toArray(e,t+3*r);return e}}],[{key:"getBasisAt",value:function(e,t){var n=e.x,r=e.y,i=e.z;t[0]=.282095,t[1]=.488603*r,t[2]=.488603*i,t[3]=.488603*n,t[4]=1.092548*n*r,t[5]=1.092548*r*i,t[6]=.315392*(3*i*i-1),t[7]=1.092548*n*i,t[8]=.546274*(n*n-r*r)}}]),e}();function Vd(e,t){kd.call(this,void 0,t),this.type="LightProbe",this.sh=void 0!==e?e:new Bd}function Hd(e){Kc.call(this,e),this.textures={}}Vd.prototype=Object.assign(Object.create(kd.prototype),{constructor:Vd,isLightProbe:!0,copy:function(e){return kd.prototype.copy.call(this,e),this.sh.copy(e.sh),this},fromJSON:function(e){return this.intensity=e.intensity,this.sh.fromArray(e.sh),this},toJSON:function(e){var t=kd.prototype.toJSON.call(this,e);return t.object.sh=this.sh.toArray(),t}}),Hd.prototype=Object.assign(Object.create(Kc.prototype),{constructor:Hd,load:function(e,t,n,r){var i=this,a=new ed(i.manager);a.setPath(i.path),a.setRequestHeader(i.requestHeader),a.setWithCredentials(i.withCredentials),a.load(e,(function(n){try{t(i.parse(JSON.parse(n)))}catch(a){r?r(a):console.error(a),i.manager.itemError(e)}}),n,r)},parse:function(e){var t=this.textures;function n(e){return void 0===t[e]&&console.warn("THREE.MaterialLoader: Undefined texture",e),t[e]}var r=new Dc[e.type];if(void 0!==e.uuid&&(r.uuid=e.uuid),void 0!==e.name&&(r.name=e.name),void 0!==e.color&&void 0!==r.color&&r.color.setHex(e.color),void 0!==e.roughness&&(r.roughness=e.roughness),void 0!==e.metalness&&(r.metalness=e.metalness),void 0!==e.sheen&&(r.sheen=(new Oi).setHex(e.sheen)),void 0!==e.emissive&&void 0!==r.emissive&&r.emissive.setHex(e.emissive),void 0!==e.specular&&void 0!==r.specular&&r.specular.setHex(e.specular),void 0!==e.shininess&&(r.shininess=e.shininess),void 0!==e.clearcoat&&(r.clearcoat=e.clearcoat),void 0!==e.clearcoatRoughness&&(r.clearcoatRoughness=e.clearcoatRoughness),void 0!==e.fog&&(r.fog=e.fog),void 0!==e.flatShading&&(r.flatShading=e.flatShading),void 0!==e.blending&&(r.blending=e.blending),void 0!==e.combine&&(r.combine=e.combine),void 0!==e.side&&(r.side=e.side),void 0!==e.opacity&&(r.opacity=e.opacity),void 0!==e.transparent&&(r.transparent=e.transparent),void 0!==e.alphaTest&&(r.alphaTest=e.alphaTest),void 0!==e.depthTest&&(r.depthTest=e.depthTest),void 0!==e.depthWrite&&(r.depthWrite=e.depthWrite),void 0!==e.colorWrite&&(r.colorWrite=e.colorWrite),void 0!==e.stencilWrite&&(r.stencilWrite=e.stencilWrite),void 0!==e.stencilWriteMask&&(r.stencilWriteMask=e.stencilWriteMask),void 0!==e.stencilFunc&&(r.stencilFunc=e.stencilFunc),void 0!==e.stencilRef&&(r.stencilRef=e.stencilRef),void 0!==e.stencilFuncMask&&(r.stencilFuncMask=e.stencilFuncMask),void 0!==e.stencilFail&&(r.stencilFail=e.stencilFail),void 0!==e.stencilZFail&&(r.stencilZFail=e.stencilZFail),void 0!==e.stencilZPass&&(r.stencilZPass=e.stencilZPass),void 0!==e.wireframe&&(r.wireframe=e.wireframe),void 0!==e.wireframeLinewidth&&(r.wireframeLinewidth=e.wireframeLinewidth),void 0!==e.wireframeLinecap&&(r.wireframeLinecap=e.wireframeLinecap),void 0!==e.wireframeLinejoin&&(r.wireframeLinejoin=e.wireframeLinejoin),void 0!==e.rotation&&(r.rotation=e.rotation),1!==e.linewidth&&(r.linewidth=e.linewidth),void 0!==e.dashSize&&(r.dashSize=e.dashSize),void 0!==e.gapSize&&(r.gapSize=e.gapSize),void 0!==e.scale&&(r.scale=e.scale),void 0!==e.polygonOffset&&(r.polygonOffset=e.polygonOffset),void 0!==e.polygonOffsetFactor&&(r.polygonOffsetFactor=e.polygonOffsetFactor),void 0!==e.polygonOffsetUnits&&(r.polygonOffsetUnits=e.polygonOffsetUnits),void 0!==e.skinning&&(r.skinning=e.skinning),void 0!==e.morphTargets&&(r.morphTargets=e.morphTargets),void 0!==e.morphNormals&&(r.morphNormals=e.morphNormals),void 0!==e.dithering&&(r.dithering=e.dithering),void 0!==e.vertexTangents&&(r.vertexTangents=e.vertexTangents),void 0!==e.visible&&(r.visible=e.visible),void 0!==e.toneMapped&&(r.toneMapped=e.toneMapped),void 0!==e.userData&&(r.userData=e.userData),void 0!==e.vertexColors&&("number"===typeof e.vertexColors?r.vertexColors=e.vertexColors>0:r.vertexColors=e.vertexColors),void 0!==e.uniforms)for(var i in e.uniforms){var a=e.uniforms[i];switch(r.uniforms[i]={},a.type){case"t":r.uniforms[i].value=n(a.value);break;case"c":r.uniforms[i].value=(new Oi).setHex(a.value);break;case"v2":r.uniforms[i].value=(new Kn).fromArray(a.value);break;case"v3":r.uniforms[i].value=(new lr).fromArray(a.value);break;case"v4":r.uniforms[i].value=(new ir).fromArray(a.value);break;case"m3":r.uniforms[i].value=(new Jn).fromArray(a.value);break;case"m4":r.uniforms[i].value=(new Nr).fromArray(a.value);break;default:r.uniforms[i].value=a.value}}if(void 0!==e.defines&&(r.defines=e.defines),void 0!==e.vertexShader&&(r.vertexShader=e.vertexShader),void 0!==e.fragmentShader&&(r.fragmentShader=e.fragmentShader),void 0!==e.extensions)for(var o in e.extensions)r.extensions[o]=e.extensions[o];if(void 0!==e.shading&&(r.flatShading=1===e.shading),void 0!==e.size&&(r.size=e.size),void 0!==e.sizeAttenuation&&(r.sizeAttenuation=e.sizeAttenuation),void 0!==e.map&&(r.map=n(e.map)),void 0!==e.matcap&&(r.matcap=n(e.matcap)),void 0!==e.alphaMap&&(r.alphaMap=n(e.alphaMap)),void 0!==e.bumpMap&&(r.bumpMap=n(e.bumpMap)),void 0!==e.bumpScale&&(r.bumpScale=e.bumpScale),void 0!==e.normalMap&&(r.normalMap=n(e.normalMap)),void 0!==e.normalMapType&&(r.normalMapType=e.normalMapType),void 0!==e.normalScale){var s=e.normalScale;!1===Array.isArray(s)&&(s=[s,s]),r.normalScale=(new Kn).fromArray(s)}return void 0!==e.displacementMap&&(r.displacementMap=n(e.displacementMap)),void 0!==e.displacementScale&&(r.displacementScale=e.displacementScale),void 0!==e.displacementBias&&(r.displacementBias=e.displacementBias),void 0!==e.roughnessMap&&(r.roughnessMap=n(e.roughnessMap)),void 0!==e.metalnessMap&&(r.metalnessMap=n(e.metalnessMap)),void 0!==e.emissiveMap&&(r.emissiveMap=n(e.emissiveMap)),void 0!==e.emissiveIntensity&&(r.emissiveIntensity=e.emissiveIntensity),void 0!==e.specularMap&&(r.specularMap=n(e.specularMap)),void 0!==e.envMap&&(r.envMap=n(e.envMap)),void 0!==e.envMapIntensity&&(r.envMapIntensity=e.envMapIntensity),void 0!==e.reflectivity&&(r.reflectivity=e.reflectivity),void 0!==e.refractionRatio&&(r.refractionRatio=e.refractionRatio),void 0!==e.lightMap&&(r.lightMap=n(e.lightMap)),void 0!==e.lightMapIntensity&&(r.lightMapIntensity=e.lightMapIntensity),void 0!==e.aoMap&&(r.aoMap=n(e.aoMap)),void 0!==e.aoMapIntensity&&(r.aoMapIntensity=e.aoMapIntensity),void 0!==e.gradientMap&&(r.gradientMap=n(e.gradientMap)),void 0!==e.clearcoatMap&&(r.clearcoatMap=n(e.clearcoatMap)),void 0!==e.clearcoatRoughnessMap&&(r.clearcoatRoughnessMap=n(e.clearcoatRoughnessMap)),void 0!==e.clearcoatNormalMap&&(r.clearcoatNormalMap=n(e.clearcoatNormalMap)),void 0!==e.clearcoatNormalScale&&(r.clearcoatNormalScale=(new Kn).fromArray(e.clearcoatNormalScale)),void 0!==e.transmission&&(r.transmission=e.transmission),void 0!==e.transmissionMap&&(r.transmissionMap=n(e.transmissionMap)),r},setTextures:function(e){return this.textures=e,this}});var Wd={decodeText:function(e){if("undefined"!==typeof TextDecoder)return(new TextDecoder).decode(e);for(var t="",n=0,r=e.length;n<r;n++)t+=String.fromCharCode(e[n]);try{return decodeURIComponent(escape(t))}catch(i){return t}},extractUrlBase:function(e){var t=e.lastIndexOf("/");return-1===t?"./":e.substr(0,t+1)}};function Xd(){ia.call(this),this.type="InstancedBufferGeometry",this.instanceCount=1/0}function qd(e,t,n,r){"number"===typeof n&&(r=n,n=!1,console.error("THREE.InstancedBufferAttribute: The constructor now expects normalized as the third argument.")),Ni.call(this,e,t,n),this.meshPerAttribute=r||1}function Yd(e){Kc.call(this,e)}Xd.prototype=Object.assign(Object.create(ia.prototype),{constructor:Xd,isInstancedBufferGeometry:!0,copy:function(e){return ia.prototype.copy.call(this,e),this.instanceCount=e.instanceCount,this},clone:function(){return(new this.constructor).copy(this)},toJSON:function(){var e=ia.prototype.toJSON.call(this);return e.instanceCount=this.instanceCount,e.isInstancedBufferGeometry=!0,e}}),qd.prototype=Object.assign(Object.create(Ni.prototype),{constructor:qd,isInstancedBufferAttribute:!0,copy:function(e){return Ni.prototype.copy.call(this,e),this.meshPerAttribute=e.meshPerAttribute,this},toJSON:function(){var e=Ni.prototype.toJSON.call(this);return e.meshPerAttribute=this.meshPerAttribute,e.isInstancedBufferAttribute=!0,e}}),Yd.prototype=Object.assign(Object.create(Kc.prototype),{constructor:Yd,load:function(e,t,n,r){var i=this,a=new ed(i.manager);a.setPath(i.path),a.setRequestHeader(i.requestHeader),a.setWithCredentials(i.withCredentials),a.load(e,(function(n){try{t(i.parse(JSON.parse(n)))}catch(a){r?r(a):console.error(a),i.manager.itemError(e)}}),n,r)},parse:function(e){var t={},n={};function r(e,r){if(void 0!==t[r])return t[r];var i=e.interleavedBuffers[r],a=function(e,t){if(void 0!==n[t])return n[t];var r=e.arrayBuffers[t],i=new Uint32Array(r).buffer;return n[t]=i,i}(e,i.buffer),o=new Ks(Zi(i.type,a),i.stride);return o.uuid=i.uuid,t[r]=o,o}var i=e.isInstancedBufferGeometry?new Xd:new ia,a=e.data.index;if(void 0!==a){var o=Zi(a.type,a.array);i.setIndex(new Ni(o,1))}var s=e.data.attributes;for(var l in s){var u=s[l],c=void 0;if(u.isInterleavedBufferAttribute){c=new tl(r(e.data,u.data),u.itemSize,u.offset,u.normalized)}else{var d=Zi(u.type,u.array);c=new(u.isInstancedBufferAttribute?qd:Ni)(d,u.itemSize,u.normalized)}void 0!==u.name&&(c.name=u.name),i.setAttribute(l,c)}var h=e.data.morphAttributes;if(h)for(var f in h){for(var p=h[f],m=[],v=0,g=p.length;v<g;v++){var y=p[v],b=void 0;if(y.isInterleavedBufferAttribute)b=new tl(r(e.data,y.data),y.itemSize,y.offset,y.normalized);else b=new Ni(Zi(y.type,y.array),y.itemSize,y.normalized);void 0!==y.name&&(b.name=y.name),m.push(b)}i.morphAttributes[f]=m}e.data.morphTargetsRelative&&(i.morphTargetsRelative=!0);var x=e.data.groups||e.data.drawcalls||e.data.offsets;if(void 0!==x)for(var w=0,M=x.length;w!==M;++w){var _=x[w];i.addGroup(_.start,_.count,_.materialIndex)}var S=e.data.boundingSphere;if(void 0!==S){var E=new lr;void 0!==S.center&&E.fromArray(S.center),i.boundingSphere=new Ar(E,S.radius)}return e.name&&(i.name=e.name),e.userData&&(i.userData=e.userData),i}});var Qd,Zd=function(e){Object(u.a)(n,e);var t=Object(c.a)(n);function n(e){return Object(d.a)(this,n),t.call(this,e)}return Object(h.a)(n,[{key:"load",value:function(e,t,n,r){var i=this,a=""===this.path?Wd.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||a;var o=new ed(this.manager);o.setPath(this.path),o.setRequestHeader(this.requestHeader),o.setWithCredentials(this.withCredentials),o.load(e,(function(n){var a=null;try{a=JSON.parse(n)}catch(s){return void 0!==r&&r(s),void console.error("THREE:ObjectLoader: Can't parse "+e+".",s.message)}var o=a.metadata;void 0!==o&&void 0!==o.type&&"geometry"!==o.type.toLowerCase()?i.parse(a,t):console.error("THREE.ObjectLoader: Can't load "+e)}),n,r)}},{key:"parse",value:function(e,t){var n=this.parseAnimations(e.animations),r=this.parseShapes(e.shapes),i=this.parseGeometries(e.geometries,r),a=this.parseImages(e.images,(function(){void 0!==t&&t(l)})),o=this.parseTextures(e.textures,a),s=this.parseMaterials(e.materials,o),l=this.parseObject(e.object,i,s,n),u=this.parseSkeletons(e.skeletons,l);if(this.bindSkeletons(l,u),void 0!==t){var c=!1;for(var d in a)if(a[d]instanceof HTMLImageElement){c=!0;break}!1===c&&t(l)}return l}},{key:"parseShapes",value:function(e){var t={};if(void 0!==e)for(var n=0,r=e.length;n<r;n++){var i=(new Od).fromJSON(e[n]);t[i.uuid]=i}return t}},{key:"parseSkeletons",value:function(e,t){var n={},r={};if(t.traverse((function(e){e.isBone&&(r[e.uuid]=e)})),void 0!==e)for(var i=0,a=e.length;i<a;i++){var o=(new Sl).fromJSON(e[i],r);n[o.uuid]=o}return n}},{key:"parseGeometries",value:function(e,t){var n,r={};if(void 0!==e)for(var i=new Yd,a=0,o=e.length;a<o;a++){var s=void 0,l=e[a];switch(l.type){case"PlaneGeometry":case"PlaneBufferGeometry":s=new Mc[l.type](l.width,l.height,l.widthSegments,l.heightSegments);break;case"BoxGeometry":case"BoxBufferGeometry":case"CubeGeometry":s=new Mc[l.type](l.width,l.height,l.depth,l.widthSegments,l.heightSegments,l.depthSegments);break;case"CircleGeometry":case"CircleBufferGeometry":s=new Mc[l.type](l.radius,l.segments,l.thetaStart,l.thetaLength);break;case"CylinderGeometry":case"CylinderBufferGeometry":s=new Mc[l.type](l.radiusTop,l.radiusBottom,l.height,l.radialSegments,l.heightSegments,l.openEnded,l.thetaStart,l.thetaLength);break;case"ConeGeometry":case"ConeBufferGeometry":s=new Mc[l.type](l.radius,l.height,l.radialSegments,l.heightSegments,l.openEnded,l.thetaStart,l.thetaLength);break;case"SphereGeometry":case"SphereBufferGeometry":s=new Mc[l.type](l.radius,l.widthSegments,l.heightSegments,l.phiStart,l.phiLength,l.thetaStart,l.thetaLength);break;case"DodecahedronGeometry":case"DodecahedronBufferGeometry":case"IcosahedronGeometry":case"IcosahedronBufferGeometry":case"OctahedronGeometry":case"OctahedronBufferGeometry":case"TetrahedronGeometry":case"TetrahedronBufferGeometry":s=new Mc[l.type](l.radius,l.detail);break;case"RingGeometry":case"RingBufferGeometry":s=new Mc[l.type](l.innerRadius,l.outerRadius,l.thetaSegments,l.phiSegments,l.thetaStart,l.thetaLength);break;case"TorusGeometry":case"TorusBufferGeometry":s=new Mc[l.type](l.radius,l.tube,l.radialSegments,l.tubularSegments,l.arc);break;case"TorusKnotGeometry":case"TorusKnotBufferGeometry":s=new Mc[l.type](l.radius,l.tube,l.tubularSegments,l.radialSegments,l.p,l.q);break;case"TubeGeometry":case"TubeBufferGeometry":s=new Mc[l.type]((new Td[l.path.type]).fromJSON(l.path),l.tubularSegments,l.radius,l.radialSegments,l.closed);break;case"LatheGeometry":case"LatheBufferGeometry":s=new Mc[l.type](l.points,l.segments,l.phiStart,l.phiLength);break;case"PolyhedronGeometry":case"PolyhedronBufferGeometry":s=new Mc[l.type](l.vertices,l.indices,l.radius,l.details);break;case"ShapeGeometry":case"ShapeBufferGeometry":n=[];for(var u=0,c=l.shapes.length;u<c;u++){var d=t[l.shapes[u]];n.push(d)}s=new Mc[l.type](n,l.curveSegments);break;case"ExtrudeGeometry":case"ExtrudeBufferGeometry":n=[];for(var h=0,f=l.shapes.length;h<f;h++){var p=t[l.shapes[h]];n.push(p)}var m=l.options.extrudePath;void 0!==m&&(l.options.extrudePath=(new Td[m.type]).fromJSON(m)),s=new Mc[l.type](n,l.options);break;case"BufferGeometry":case"InstancedBufferGeometry":s=i.parse(l);break;case"Geometry":console.error('THREE.ObjectLoader: Loading "Geometry" is not supported anymore.');break;default:console.warn('THREE.ObjectLoader: Unsupported geometry type "'+l.type+'"');continue}s.uuid=l.uuid,void 0!==l.name&&(s.name=l.name),!0===s.isBufferGeometry&&void 0!==l.userData&&(s.userData=l.userData),r[l.uuid]=s}return r}},{key:"parseMaterials",value:function(e,t){var n={},r={};if(void 0!==e){var i=new Hd;i.setTextures(t);for(var a=0,o=e.length;a<o;a++){var s=e[a];if("MultiMaterial"===s.type){for(var l=[],u=0;u<s.materials.length;u++){var c=s.materials[u];void 0===n[c.uuid]&&(n[c.uuid]=i.parse(c)),l.push(n[c.uuid])}r[s.uuid]=l}else void 0===n[s.uuid]&&(n[s.uuid]=i.parse(s)),r[s.uuid]=n[s.uuid]}}return r}},{key:"parseAnimations",value:function(e){var t={};if(void 0!==e)for(var n=0;n<e.length;n++){var r=e[n],i=qc.parse(r);t[i.uuid]=i}return t}},{key:"parseImages",value:function(e,t){var n,r=this,i={};function a(e){if("string"===typeof e){var t=e;return function(e){return r.manager.itemStart(e),n.load(e,(function(){r.manager.itemEnd(e)}),void 0,(function(){r.manager.itemError(e),r.manager.itemEnd(e)}))}(/^(\/\/)|([a-z]+:(\/\/)?)/i.test(t)?t:r.resourcePath+t)}return e.data?{data:Zi(e.type,e.data),width:e.width,height:e.height}:null}if(void 0!==e&&e.length>0){var o=new Zc(t);(n=new rd(o)).setCrossOrigin(this.crossOrigin);for(var s=0,l=e.length;s<l;s++){var u=e[s],c=u.url;if(Array.isArray(c)){i[u.uuid]=[];for(var d=0,h=c.length;d<h;d++){var f=a(c[d]);null!==f&&(f instanceof HTMLImageElement?i[u.uuid].push(f):i[u.uuid].push(new Na(f.data,f.width,f.height)))}}else{var p=a(u.url);null!==p&&(i[u.uuid]=p)}}}return i}},{key:"parseTextures",value:function(e,t){function n(e,t){return"number"===typeof e?e:(console.warn("THREE.ObjectLoader.parseTexture: Constant should be in numeric form.",e),t[e])}var r={};if(void 0!==e)for(var i=0,a=e.length;i<a;i++){var o=e[i];void 0===o.image&&console.warn('THREE.ObjectLoader: No "image" specified for',o.uuid),void 0===t[o.image]&&console.warn("THREE.ObjectLoader: Undefined image",o.image);var s=void 0,l=t[o.image];Array.isArray(l)?(s=new La(l),6===l.length&&(s.needsUpdate=!0)):(s=l&&l.data?new Na(l.data,l.width,l.height):new nr(l),l&&(s.needsUpdate=!0)),s.uuid=o.uuid,void 0!==o.name&&(s.name=o.name),void 0!==o.mapping&&(s.mapping=n(o.mapping,$d)),void 0!==o.offset&&s.offset.fromArray(o.offset),void 0!==o.repeat&&s.repeat.fromArray(o.repeat),void 0!==o.center&&s.center.fromArray(o.center),void 0!==o.rotation&&(s.rotation=o.rotation),void 0!==o.wrap&&(s.wrapS=n(o.wrap[0],Kd),s.wrapT=n(o.wrap[1],Kd)),void 0!==o.format&&(s.format=o.format),void 0!==o.type&&(s.type=o.type),void 0!==o.encoding&&(s.encoding=o.encoding),void 0!==o.minFilter&&(s.minFilter=n(o.minFilter,Jd)),void 0!==o.magFilter&&(s.magFilter=n(o.magFilter,Jd)),void 0!==o.anisotropy&&(s.anisotropy=o.anisotropy),void 0!==o.flipY&&(s.flipY=o.flipY),void 0!==o.premultiplyAlpha&&(s.premultiplyAlpha=o.premultiplyAlpha),void 0!==o.unpackAlignment&&(s.unpackAlignment=o.unpackAlignment),r[o.uuid]=s}return r}},{key:"parseObject",value:function(e,t,n,r){var i,a,o;function s(e){return void 0===t[e]&&console.warn("THREE.ObjectLoader: Undefined geometry",e),t[e]}function l(e){if(void 0!==e){if(Array.isArray(e)){for(var t=[],r=0,i=e.length;r<i;r++){var a=e[r];void 0===n[a]&&console.warn("THREE.ObjectLoader: Undefined material",a),t.push(n[a])}return t}return void 0===n[e]&&console.warn("THREE.ObjectLoader: Undefined material",e),n[e]}}switch(e.type){case"Scene":i=new $s,void 0!==e.background&&Number.isInteger(e.background)&&(i.background=new Oi(e.background)),void 0!==e.fog&&("Fog"===e.fog.type?i.fog=new Zs(e.fog.color,e.fog.near,e.fog.far):"FogExp2"===e.fog.type&&(i.fog=new Qs(e.fog.color,e.fog.density)));break;case"PerspectiveCamera":i=new Ia(e.fov,e.aspect,e.near,e.far),void 0!==e.focus&&(i.focus=e.focus),void 0!==e.zoom&&(i.zoom=e.zoom),void 0!==e.filmGauge&&(i.filmGauge=e.filmGauge),void 0!==e.filmOffset&&(i.filmOffset=e.filmOffset),void 0!==e.view&&(i.view=Object.assign({},e.view));break;case"OrthographicCamera":i=new jd(e.left,e.right,e.top,e.bottom,e.near,e.far),void 0!==e.zoom&&(i.zoom=e.zoom),void 0!==e.view&&(i.view=Object.assign({},e.view));break;case"AmbientLight":i=new Ud(e.color,e.intensity);break;case"DirectionalLight":i=new Gd(e.color,e.intensity);break;case"PointLight":i=new Nd(e.color,e.intensity,e.distance,e.decay);break;case"RectAreaLight":i=new zd(e.color,e.intensity,e.width,e.height);break;case"SpotLight":i=new Ld(e.color,e.intensity,e.distance,e.angle,e.penumbra,e.decay);break;case"HemisphereLight":i=new Id(e.color,e.groundColor,e.intensity);break;case"LightProbe":i=(new Vd).fromJSON(e);break;case"SkinnedMesh":i=new xl(a=s(e.geometry),o=l(e.material)),void 0!==e.bindMode&&(i.bindMode=e.bindMode),void 0!==e.bindMatrix&&i.bindMatrix.fromArray(e.bindMatrix),void 0!==e.skeleton&&(i.skeleton=e.skeleton);break;case"Mesh":i=new Ma(a=s(e.geometry),o=l(e.material));break;case"InstancedMesh":a=s(e.geometry),o=l(e.material);var u=e.count,c=e.instanceMatrix;(i=new Ol(a,o,u)).instanceMatrix=new Ni(new Float32Array(c.array),16);break;case"LOD":i=new bl;break;case"Line":i=new Nl(s(e.geometry),l(e.material),e.mode);break;case"LineLoop":i=new Ul(s(e.geometry),l(e.material));break;case"LineSegments":i=new Gl(s(e.geometry),l(e.material));break;case"PointCloud":case"Points":i=new Xl(s(e.geometry),l(e.material));break;case"Sprite":i=new ml(l(e.material));break;case"Group":i=new Vs;break;case"Bone":i=new wl;break;default:i=new si}if(i.uuid=e.uuid,void 0!==e.name&&(i.name=e.name),void 0!==e.matrix?(i.matrix.fromArray(e.matrix),void 0!==e.matrixAutoUpdate&&(i.matrixAutoUpdate=e.matrixAutoUpdate),i.matrixAutoUpdate&&i.matrix.decompose(i.position,i.quaternion,i.scale)):(void 0!==e.position&&i.position.fromArray(e.position),void 0!==e.rotation&&i.rotation.fromArray(e.rotation),void 0!==e.quaternion&&i.quaternion.fromArray(e.quaternion),void 0!==e.scale&&i.scale.fromArray(e.scale)),void 0!==e.castShadow&&(i.castShadow=e.castShadow),void 0!==e.receiveShadow&&(i.receiveShadow=e.receiveShadow),e.shadow&&(void 0!==e.shadow.bias&&(i.shadow.bias=e.shadow.bias),void 0!==e.shadow.normalBias&&(i.shadow.normalBias=e.shadow.normalBias),void 0!==e.shadow.radius&&(i.shadow.radius=e.shadow.radius),void 0!==e.shadow.mapSize&&i.shadow.mapSize.fromArray(e.shadow.mapSize),void 0!==e.shadow.camera&&(i.shadow.camera=this.parseObject(e.shadow.camera))),void 0!==e.visible&&(i.visible=e.visible),void 0!==e.frustumCulled&&(i.frustumCulled=e.frustumCulled),void 0!==e.renderOrder&&(i.renderOrder=e.renderOrder),void 0!==e.userData&&(i.userData=e.userData),void 0!==e.layers&&(i.layers.mask=e.layers),void 0!==e.children)for(var d=e.children,h=0;h<d.length;h++)i.add(this.parseObject(d[h],t,n,r));if(void 0!==e.animations)for(var f=e.animations,p=0;p<f.length;p++){var m=f[p];i.animations.push(r[m])}if("LOD"===e.type){void 0!==e.autoUpdate&&(i.autoUpdate=e.autoUpdate);for(var v=e.levels,g=0;g<v.length;g++){var y=v[g],b=i.getObjectByProperty("uuid",y.object);void 0!==b&&i.addLevel(b,y.distance)}}return i}},{key:"bindSkeletons",value:function(e,t){0!==Object.keys(t).length&&e.traverse((function(e){if(!0===e.isSkinnedMesh&&void 0!==e.skeleton){var n=t[e.skeleton];void 0===n?console.warn("THREE.ObjectLoader: No skeleton found with UUID:",e.skeleton):e.bind(n,e.bindMatrix)}}))}},{key:"setTexturePath",value:function(e){return console.warn("THREE.ObjectLoader: .setTexturePath() has been renamed to .setResourcePath()."),this.setResourcePath(e)}}]),n}(Kc),$d={UVMapping:pe,CubeReflectionMapping:me,CubeRefractionMapping:ve,EquirectangularReflectionMapping:ge,EquirectangularRefractionMapping:ye,CubeUVReflectionMapping:be,CubeUVRefractionMapping:xe},Kd={RepeatWrapping:we,ClampToEdgeWrapping:Me,MirroredRepeatWrapping:_e},Jd={NearestFilter:Se,NearestMipmapNearestFilter:Ee,NearestMipmapLinearFilter:Ae,LinearFilter:Oe,LinearMipmapNearestFilter:ke,LinearMipmapLinearFilter:Ce};function eh(e){"undefined"===typeof createImageBitmap&&console.warn("THREE.ImageBitmapLoader: createImageBitmap() not supported."),"undefined"===typeof fetch&&console.warn("THREE.ImageBitmapLoader: fetch() not supported."),Kc.call(this,e),this.options={premultiplyAlpha:"none"}}function th(){this.type="ShapePath",this.color=new Oi,this.subPaths=[],this.currentPath=null}function nh(e){this.type="Font",this.data=e}function rh(e,t,n){for(var r=Array.from?Array.from(e):String(e).split(""),i=t/n.resolution,a=(n.boundingBox.yMax-n.boundingBox.yMin+n.underlineThickness)*i,o=[],s=0,l=0,u=0;u<r.length;u++){var c=r[u];if("\n"===c)s=0,l-=a;else{var d=ih(c,i,s,l,n);s+=d.offsetX,o.push(d.path)}}return o}function ih(e,t,n,r,i){var a=i.glyphs[e]||i.glyphs["?"];if(a){var o,s,l,u,c,d,h,f,p=new th;if(a.o)for(var m=a._cachedOutline||(a._cachedOutline=a.o.split(" ")),v=0,g=m.length;v<g;){switch(m[v++]){case"m":o=m[v++]*t+n,s=m[v++]*t+r,p.moveTo(o,s);break;case"l":o=m[v++]*t+n,s=m[v++]*t+r,p.lineTo(o,s);break;case"q":l=m[v++]*t+n,u=m[v++]*t+r,c=m[v++]*t+n,d=m[v++]*t+r,p.quadraticCurveTo(c,d,l,u);break;case"b":l=m[v++]*t+n,u=m[v++]*t+r,c=m[v++]*t+n,d=m[v++]*t+r,h=m[v++]*t+n,f=m[v++]*t+r,p.bezierCurveTo(c,d,h,f,l,u)}}return{offsetX:a.ha*t,path:p}}console.error('THREE.Font: character "'+e+'" does not exists in font family '+i.familyName+".")}function ah(e){Kc.call(this,e)}eh.prototype=Object.assign(Object.create(Kc.prototype),{constructor:eh,isImageBitmapLoader:!0,setOptions:function(e){return this.options=e,this},load:function(e,t,n,r){void 0===e&&(e=""),void 0!==this.path&&(e=this.path+e),e=this.manager.resolveURL(e);var i=this,a=Qc.get(e);if(void 0!==a)return i.manager.itemStart(e),setTimeout((function(){t&&t(a),i.manager.itemEnd(e)}),0),a;var o={};o.credentials="anonymous"===this.crossOrigin?"same-origin":"include",fetch(e,o).then((function(e){return e.blob()})).then((function(e){return createImageBitmap(e,i.options)})).then((function(n){Qc.add(e,n),t&&t(n),i.manager.itemEnd(e)})).catch((function(t){r&&r(t),i.manager.itemError(e),i.manager.itemEnd(e)})),i.manager.itemStart(e)}}),Object.assign(th.prototype,{moveTo:function(e,t){return this.currentPath=new Rd,this.subPaths.push(this.currentPath),this.currentPath.moveTo(e,t),this},lineTo:function(e,t){return this.currentPath.lineTo(e,t),this},quadraticCurveTo:function(e,t,n,r){return this.currentPath.quadraticCurveTo(e,t,n,r),this},bezierCurveTo:function(e,t,n,r,i,a){return this.currentPath.bezierCurveTo(e,t,n,r,i,a),this},splineThru:function(e){return this.currentPath.splineThru(e),this},toShapes:function(e,t){function n(e){for(var t=[],n=0,r=e.length;n<r;n++){var i=e[n],a=new Od;a.curves=i.curves,t.push(a)}return t}function r(e,t){for(var n=t.length,r=!1,i=n-1,a=0;a<n;i=a++){var o=t[i],s=t[a],l=s.x-o.x,u=s.y-o.y;if(Math.abs(u)>Number.EPSILON){if(u<0&&(o=t[a],l=-l,s=t[i],u=-u),e.y<o.y||e.y>s.y)continue;if(e.y===o.y){if(e.x===o.x)return!0}else{var c=u*(e.x-o.x)-l*(e.y-o.y);if(0===c)return!0;if(c<0)continue;r=!r}}else{if(e.y!==o.y)continue;if(s.x<=e.x&&e.x<=o.x||o.x<=e.x&&e.x<=s.x)return!0}}return r}var i,a,o,s=Vu.isClockWise,l=this.subPaths;if(0===l.length)return[];if(!0===t)return n(l);var u=[];if(1===l.length)return a=l[0],(o=new Od).curves=a.curves,u.push(o),u;var c=!s(l[0].getPoints());c=e?!c:c;var d,h,f=[],p=[],m=[],v=0;p[v]=void 0,m[v]=[];for(var g=0,y=l.length;g<y;g++)i=s(d=(a=l[g]).getPoints()),(i=e?!i:i)?(!c&&p[v]&&v++,p[v]={s:new Od,p:d},p[v].s.curves=a.curves,c&&v++,m[v]=[]):m[v].push({h:a,p:d[0]});if(!p[0])return n(l);if(p.length>1){for(var b=!1,x=[],w=0,M=p.length;w<M;w++)f[w]=[];for(var _=0,S=p.length;_<S;_++)for(var E=m[_],T=0;T<E.length;T++){for(var A=E[T],R=!0,O=0;O<p.length;O++)r(A.p,p[O].p)&&(_!==O&&x.push({froms:_,tos:O,hole:T}),R?(R=!1,f[O].push(A)):b=!0);R&&f[_].push(A)}x.length>0&&(b||(m=f))}for(var k=0,I=p.length;k<I;k++){o=p[k].s,u.push(o);for(var C=0,D=(h=m[k]).length;C<D;C++)o.holes.push(h[C].h)}return u}}),Object.assign(nh.prototype,{isFont:!0,generateShapes:function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:100,n=[],r=rh(e,t,this.data),i=0,a=r.length;i<a;i++)Array.prototype.push.apply(n,r[i].toShapes());return n}}),ah.prototype=Object.assign(Object.create(Kc.prototype),{constructor:ah,load:function(e,t,n,r){var i=this,a=new ed(this.manager);a.setPath(this.path),a.setRequestHeader(this.requestHeader),a.setWithCredentials(i.withCredentials),a.load(e,(function(e){var n;try{n=JSON.parse(e)}catch(a){console.warn("THREE.FontLoader: typeface.js support is being deprecated. Use typeface.json instead."),n=JSON.parse(e.substring(65,e.length-2))}var r=i.parse(n);t&&t(r)}),n,r)},parse:function(e){return new nh(e)}});var oh={getContext:function(){return void 0===Qd&&(Qd=new(window.AudioContext||window.webkitAudioContext)),Qd},setContext:function(e){Qd=e}};function sh(e){Kc.call(this,e)}function lh(e,t,n){Vd.call(this,void 0,n);var r=(new Oi).set(e),i=(new Oi).set(t),a=new lr(r.r,r.g,r.b),o=new lr(i.r,i.g,i.b),s=Math.sqrt(Math.PI),l=s*Math.sqrt(.75);this.sh.coefficients[0].copy(a).add(o).multiplyScalar(s),this.sh.coefficients[1].copy(a).sub(o).multiplyScalar(l)}function uh(e,t){Vd.call(this,void 0,t);var n=(new Oi).set(e);this.sh.coefficients[0].set(n.r,n.g,n.b).multiplyScalar(2*Math.sqrt(Math.PI))}sh.prototype=Object.assign(Object.create(Kc.prototype),{constructor:sh,load:function(e,t,n,r){var i=this,a=new ed(i.manager);a.setResponseType("arraybuffer"),a.setPath(i.path),a.setRequestHeader(i.requestHeader),a.setWithCredentials(i.withCredentials),a.load(e,(function(n){try{var a=n.slice(0);oh.getContext().decodeAudioData(a,(function(e){t(e)}))}catch(o){r?r(o):console.error(o),i.manager.itemError(e)}}),n,r)}}),lh.prototype=Object.assign(Object.create(Vd.prototype),{constructor:lh,isHemisphereLightProbe:!0,copy:function(e){return Vd.prototype.copy.call(this,e),this},toJSON:function(e){return Vd.prototype.toJSON.call(this,e)}}),uh.prototype=Object.assign(Object.create(Vd.prototype),{constructor:uh,isAmbientLightProbe:!0,copy:function(e){return Vd.prototype.copy.call(this,e),this},toJSON:function(e){return Vd.prototype.toJSON.call(this,e)}});var ch=new Nr,dh=new Nr;function hh(){this.type="StereoCamera",this.aspect=1,this.eyeSep=.064,this.cameraL=new Ia,this.cameraL.layers.enable(1),this.cameraL.matrixAutoUpdate=!1,this.cameraR=new Ia,this.cameraR.layers.enable(2),this.cameraR.matrixAutoUpdate=!1,this._cache={focus:null,fov:null,aspect:null,near:null,far:null,zoom:null,eyeSep:null}}Object.assign(hh.prototype,{update:function(e){var t=this._cache;if(t.focus!==e.focus||t.fov!==e.fov||t.aspect!==e.aspect*this.aspect||t.near!==e.near||t.far!==e.far||t.zoom!==e.zoom||t.eyeSep!==this.eyeSep){t.focus=e.focus,t.fov=e.fov,t.aspect=e.aspect*this.aspect,t.near=e.near,t.far=e.far,t.zoom=e.zoom,t.eyeSep=this.eyeSep;var n,r,i=e.projectionMatrix.clone(),a=t.eyeSep/2,o=a*t.near/t.focus,s=t.near*Math.tan($n.DEG2RAD*t.fov*.5)/t.zoom;dh.elements[12]=-a,ch.elements[12]=a,n=-s*t.aspect+o,r=s*t.aspect+o,i.elements[0]=2*t.near/(r-n),i.elements[8]=(r+n)/(r-n),this.cameraL.projectionMatrix.copy(i),n=-s*t.aspect-o,r=s*t.aspect-o,i.elements[0]=2*t.near/(r-n),i.elements[8]=(r+n)/(r-n),this.cameraR.projectionMatrix.copy(i)}this.cameraL.matrixWorld.copy(e.matrixWorld).multiply(dh),this.cameraR.matrixWorld.copy(e.matrixWorld).multiply(ch)}});var fh=function(){function e(t){Object(d.a)(this,e),this.autoStart=void 0===t||t,this.startTime=0,this.oldTime=0,this.elapsedTime=0,this.running=!1}return Object(h.a)(e,[{key:"start",value:function(){this.startTime=ph(),this.oldTime=this.startTime,this.elapsedTime=0,this.running=!0}},{key:"stop",value:function(){this.getElapsedTime(),this.running=!1,this.autoStart=!1}},{key:"getElapsedTime",value:function(){return this.getDelta(),this.elapsedTime}},{key:"getDelta",value:function(){var e=0;if(this.autoStart&&!this.running)return this.start(),0;if(this.running){var t=ph();e=(t-this.oldTime)/1e3,this.oldTime=t,this.elapsedTime+=e}return e}}]),e}();function ph(){return("undefined"===typeof performance?Date:performance).now()}var mh=new lr,vh=new sr,gh=new lr,yh=new lr,bh=function(e){Object(u.a)(n,e);var t=Object(c.a)(n);function n(){var e;return Object(d.a)(this,n),(e=t.call(this)).type="AudioListener",e.context=oh.getContext(),e.gain=e.context.createGain(),e.gain.connect(e.context.destination),e.filter=null,e.timeDelta=0,e._clock=new fh,e}return Object(h.a)(n,[{key:"getInput",value:function(){return this.gain}},{key:"removeFilter",value:function(){return null!==this.filter&&(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination),this.gain.connect(this.context.destination),this.filter=null),this}},{key:"getFilter",value:function(){return this.filter}},{key:"setFilter",value:function(e){return null!==this.filter?(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination)):this.gain.disconnect(this.context.destination),this.filter=e,this.gain.connect(this.filter),this.filter.connect(this.context.destination),this}},{key:"getMasterVolume",value:function(){return this.gain.gain.value}},{key:"setMasterVolume",value:function(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}},{key:"updateMatrixWorld",value:function(e){Object(a.a)(Object(o.a)(n.prototype),"updateMatrixWorld",this).call(this,e);var t=this.context.listener,r=this.up;if(this.timeDelta=this._clock.getDelta(),this.matrixWorld.decompose(mh,vh,gh),yh.set(0,0,-1).applyQuaternion(vh),t.positionX){var i=this.context.currentTime+this.timeDelta;t.positionX.linearRampToValueAtTime(mh.x,i),t.positionY.linearRampToValueAtTime(mh.y,i),t.positionZ.linearRampToValueAtTime(mh.z,i),t.forwardX.linearRampToValueAtTime(yh.x,i),t.forwardY.linearRampToValueAtTime(yh.y,i),t.forwardZ.linearRampToValueAtTime(yh.z,i),t.upX.linearRampToValueAtTime(r.x,i),t.upY.linearRampToValueAtTime(r.y,i),t.upZ.linearRampToValueAtTime(r.z,i)}else t.setPosition(mh.x,mh.y,mh.z),t.setOrientation(yh.x,yh.y,yh.z,r.x,r.y,r.z)}}]),n}(si),xh=function(e){Object(u.a)(n,e);var t=Object(c.a)(n);function n(e){var r;return Object(d.a)(this,n),(r=t.call(this)).type="Audio",r.listener=e,r.context=e.context,r.gain=r.context.createGain(),r.gain.connect(e.getInput()),r.autoplay=!1,r.buffer=null,r.detune=0,r.loop=!1,r.loopStart=0,r.loopEnd=0,r.offset=0,r.duration=void 0,r.playbackRate=1,r.isPlaying=!1,r.hasPlaybackControl=!0,r.source=null,r.sourceType="empty",r._startedAt=0,r._progress=0,r._connected=!1,r.filters=[],r}return Object(h.a)(n,[{key:"getOutput",value:function(){return this.gain}},{key:"setNodeSource",value:function(e){return this.hasPlaybackControl=!1,this.sourceType="audioNode",this.source=e,this.connect(),this}},{key:"setMediaElementSource",value:function(e){return this.hasPlaybackControl=!1,this.sourceType="mediaNode",this.source=this.context.createMediaElementSource(e),this.connect(),this}},{key:"setMediaStreamSource",value:function(e){return this.hasPlaybackControl=!1,this.sourceType="mediaStreamNode",this.source=this.context.createMediaStreamSource(e),this.connect(),this}},{key:"setBuffer",value:function(e){return this.buffer=e,this.sourceType="buffer",this.autoplay&&this.play(),this}},{key:"play",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;if(!0!==this.isPlaying){if(!1!==this.hasPlaybackControl){this._startedAt=this.context.currentTime+e;var t=this.context.createBufferSource();return t.buffer=this.buffer,t.loop=this.loop,t.loopStart=this.loopStart,t.loopEnd=this.loopEnd,t.onended=this.onEnded.bind(this),t.start(this._startedAt,this._progress+this.offset,this.duration),this.isPlaying=!0,this.source=t,this.setDetune(this.detune),this.setPlaybackRate(this.playbackRate),this.connect()}console.warn("THREE.Audio: this Audio has no playback control.")}else console.warn("THREE.Audio: Audio is already playing.")}},{key:"pause",value:function(){if(!1!==this.hasPlaybackControl)return!0===this.isPlaying&&(this._progress+=Math.max(this.context.currentTime-this._startedAt,0)*this.playbackRate,!0===this.loop&&(this._progress=this._progress%(this.duration||this.buffer.duration)),this.source.stop(),this.source.onended=null,this.isPlaying=!1),this;console.warn("THREE.Audio: this Audio has no playback control.")}},{key:"stop",value:function(){if(!1!==this.hasPlaybackControl)return this._progress=0,this.source.stop(),this.source.onended=null,this.isPlaying=!1,this;console.warn("THREE.Audio: this Audio has no playback control.")}},{key:"connect",value:function(){if(this.filters.length>0){this.source.connect(this.filters[0]);for(var e=1,t=this.filters.length;e<t;e++)this.filters[e-1].connect(this.filters[e]);this.filters[this.filters.length-1].connect(this.getOutput())}else this.source.connect(this.getOutput());return this._connected=!0,this}},{key:"disconnect",value:function(){if(this.filters.length>0){this.source.disconnect(this.filters[0]);for(var e=1,t=this.filters.length;e<t;e++)this.filters[e-1].disconnect(this.filters[e]);this.filters[this.filters.length-1].disconnect(this.getOutput())}else this.source.disconnect(this.getOutput());return this._connected=!1,this}},{key:"getFilters",value:function(){return this.filters}},{key:"setFilters",value:function(e){return e||(e=[]),!0===this._connected?(this.disconnect(),this.filters=e.slice(),this.connect()):this.filters=e.slice(),this}},{key:"setDetune",value:function(e){if(this.detune=e,void 0!==this.source.detune)return!0===this.isPlaying&&this.source.detune.setTargetAtTime(this.detune,this.context.currentTime,.01),this}},{key:"getDetune",value:function(){return this.detune}},{key:"getFilter",value:function(){return this.getFilters()[0]}},{key:"setFilter",value:function(e){return this.setFilters(e?[e]:[])}},{key:"setPlaybackRate",value:function(e){if(!1!==this.hasPlaybackControl)return this.playbackRate=e,!0===this.isPlaying&&this.source.playbackRate.setTargetAtTime(this.playbackRate,this.context.currentTime,.01),this;console.warn("THREE.Audio: this Audio has no playback control.")}},{key:"getPlaybackRate",value:function(){return this.playbackRate}},{key:"onEnded",value:function(){this.isPlaying=!1}},{key:"getLoop",value:function(){return!1===this.hasPlaybackControl?(console.warn("THREE.Audio: this Audio has no playback control."),!1):this.loop}},{key:"setLoop",value:function(e){if(!1!==this.hasPlaybackControl)return this.loop=e,!0===this.isPlaying&&(this.source.loop=this.loop),this;console.warn("THREE.Audio: this Audio has no playback control.")}},{key:"setLoopStart",value:function(e){return this.loopStart=e,this}},{key:"setLoopEnd",value:function(e){return this.loopEnd=e,this}},{key:"getVolume",value:function(){return this.gain.gain.value}},{key:"setVolume",value:function(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}}]),n}(si),wh=new lr,Mh=new sr,_h=new lr,Sh=new lr,Eh=function(e){Object(u.a)(n,e);var t=Object(c.a)(n);function n(e){var r;return Object(d.a)(this,n),(r=t.call(this,e)).panner=r.context.createPanner(),r.panner.panningModel="HRTF",r.panner.connect(r.gain),r}return Object(h.a)(n,[{key:"getOutput",value:function(){return this.panner}},{key:"getRefDistance",value:function(){return this.panner.refDistance}},{key:"setRefDistance",value:function(e){return this.panner.refDistance=e,this}},{key:"getRolloffFactor",value:function(){return this.panner.rolloffFactor}},{key:"setRolloffFactor",value:function(e){return this.panner.rolloffFactor=e,this}},{key:"getDistanceModel",value:function(){return this.panner.distanceModel}},{key:"setDistanceModel",value:function(e){return this.panner.distanceModel=e,this}},{key:"getMaxDistance",value:function(){return this.panner.maxDistance}},{key:"setMaxDistance",value:function(e){return this.panner.maxDistance=e,this}},{key:"setDirectionalCone",value:function(e,t,n){return this.panner.coneInnerAngle=e,this.panner.coneOuterAngle=t,this.panner.coneOuterGain=n,this}},{key:"updateMatrixWorld",value:function(e){if(Object(a.a)(Object(o.a)(n.prototype),"updateMatrixWorld",this).call(this,e),!0!==this.hasPlaybackControl||!1!==this.isPlaying){this.matrixWorld.decompose(wh,Mh,_h),Sh.set(0,0,1).applyQuaternion(Mh);var t=this.panner;if(t.positionX){var r=this.context.currentTime+this.listener.timeDelta;t.positionX.linearRampToValueAtTime(wh.x,r),t.positionY.linearRampToValueAtTime(wh.y,r),t.positionZ.linearRampToValueAtTime(wh.z,r),t.orientationX.linearRampToValueAtTime(Sh.x,r),t.orientationY.linearRampToValueAtTime(Sh.y,r),t.orientationZ.linearRampToValueAtTime(Sh.z,r)}else t.setPosition(wh.x,wh.y,wh.z),t.setOrientation(Sh.x,Sh.y,Sh.z)}}}]),n}(xh),Th=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2048;Object(d.a)(this,e),this.analyser=t.context.createAnalyser(),this.analyser.fftSize=n,this.data=new Uint8Array(this.analyser.frequencyBinCount),t.getOutput().connect(this.analyser)}return Object(h.a)(e,[{key:"getFrequencyData",value:function(){return this.analyser.getByteFrequencyData(this.data),this.data}},{key:"getAverageFrequency",value:function(){for(var e=0,t=this.getFrequencyData(),n=0;n<t.length;n++)e+=t[n];return e/t.length}}]),e}();function Ah(e,t,n){var r,i,a;switch(this.binding=e,this.valueSize=n,t){case"quaternion":r=this._slerp,i=this._slerpAdditive,a=this._setAdditiveIdentityQuaternion,this.buffer=new Float64Array(6*n),this._workIndex=5;break;case"string":case"bool":r=this._select,i=this._select,a=this._setAdditiveIdentityOther,this.buffer=new Array(5*n);break;default:r=this._lerp,i=this._lerpAdditive,a=this._setAdditiveIdentityNumeric,this.buffer=new Float64Array(5*n)}this._mixBufferRegion=r,this._mixBufferRegionAdditive=i,this._setIdentity=a,this._origIndex=3,this._addIndex=4,this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,this.useCount=0,this.referenceCount=0}Object.assign(Ah.prototype,{accumulate:function(e,t){var n=this.buffer,r=this.valueSize,i=e*r+r,a=this.cumulativeWeight;if(0===a){for(var o=0;o!==r;++o)n[i+o]=n[o];a=t}else{var s=t/(a+=t);this._mixBufferRegion(n,i,0,s,r)}this.cumulativeWeight=a},accumulateAdditive:function(e){var t=this.buffer,n=this.valueSize,r=n*this._addIndex;0===this.cumulativeWeightAdditive&&this._setIdentity(),this._mixBufferRegionAdditive(t,r,0,e,n),this.cumulativeWeightAdditive+=e},apply:function(e){var t=this.valueSize,n=this.buffer,r=e*t+t,i=this.cumulativeWeight,a=this.cumulativeWeightAdditive,o=this.binding;if(this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,i<1){var s=t*this._origIndex;this._mixBufferRegion(n,r,s,1-i,t)}a>0&&this._mixBufferRegionAdditive(n,r,this._addIndex*t,1,t);for(var l=t,u=t+t;l!==u;++l)if(n[l]!==n[l+t]){o.setValue(n,r);break}},saveOriginalState:function(){var e=this.binding,t=this.buffer,n=this.valueSize,r=n*this._origIndex;e.getValue(t,r);for(var i=n,a=r;i!==a;++i)t[i]=t[r+i%n];this._setIdentity(),this.cumulativeWeight=0,this.cumulativeWeightAdditive=0},restoreOriginalState:function(){var e=3*this.valueSize;this.binding.setValue(this.buffer,e)},_setAdditiveIdentityNumeric:function(){for(var e=this._addIndex*this.valueSize,t=e+this.valueSize,n=e;n<t;n++)this.buffer[n]=0},_setAdditiveIdentityQuaternion:function(){this._setAdditiveIdentityNumeric(),this.buffer[this._addIndex*this.valueSize+3]=1},_setAdditiveIdentityOther:function(){for(var e=this._origIndex*this.valueSize,t=this._addIndex*this.valueSize,n=0;n<this.valueSize;n++)this.buffer[t+n]=this.buffer[e+n]},_select:function(e,t,n,r,i){if(r>=.5)for(var a=0;a!==i;++a)e[t+a]=e[n+a]},_slerp:function(e,t,n,r){sr.slerpFlat(e,t,e,t,e,n,r)},_slerpAdditive:function(e,t,n,r,i){var a=this._workIndex*i;sr.multiplyQuaternionsFlat(e,a,e,t,e,n),sr.slerpFlat(e,t,e,t,e,a,r)},_lerp:function(e,t,n,r,i){for(var a=1-r,o=0;o!==i;++o){var s=t+o;e[s]=e[s]*a+e[n+o]*r}},_lerpAdditive:function(e,t,n,r,i){for(var a=0;a!==i;++a){var o=t+a;e[o]=e[o]+e[n+a]*r}}});var Rh="\\[\\]\\.:\\/",Oh=new RegExp("[\\[\\]\\.:\\/]","g"),kh="[^\\[\\]\\.:\\/]",Ih="[^"+Rh.replace("\\.","")+"]",Ch=/((?:WC+[\/:])*)/.source.replace("WC",kh),Dh=/(WCOD+)?/.source.replace("WCOD",Ih),Lh=/(?:\.(WC+)(?:\[(.+)\])?)?/.source.replace("WC",kh),Ph=/\.(WC+)(?:\[(.+)\])?/.source.replace("WC",kh),Nh=new RegExp("^"+Ch+Dh+Lh+Ph+"$"),jh=["material","materials","bones"];function Fh(e,t,n){var r=n||Gh.parseTrackName(t);this._targetGroup=e,this._bindings=e.subscribe_(t,r)}function Gh(e,t,n){this.path=t,this.parsedPath=n||Gh.parseTrackName(t),this.node=Gh.findNode(e,this.parsedPath.nodeName)||e,this.rootNode=e}function Uh(){this.uuid=$n.generateUUID(),this._objects=Array.prototype.slice.call(arguments),this.nCachedObjects_=0;var e={};this._indicesByUUID=e;for(var t=0,n=arguments.length;t!==n;++t)e[arguments[t].uuid]=t;this._paths=[],this._parsedPaths=[],this._bindings=[],this._bindingsIndicesByPath={};var r=this;this.stats={objects:{get total(){return r._objects.length},get inUse(){return this.total-r.nCachedObjects_}},get bindingsPerObject(){return r._bindings.length}}}Object.assign(Fh.prototype,{getValue:function(e,t){this.bind();var n=this._targetGroup.nCachedObjects_,r=this._bindings[n];void 0!==r&&r.getValue(e,t)},setValue:function(e,t){for(var n=this._bindings,r=this._targetGroup.nCachedObjects_,i=n.length;r!==i;++r)n[r].setValue(e,t)},bind:function(){for(var e=this._bindings,t=this._targetGroup.nCachedObjects_,n=e.length;t!==n;++t)e[t].bind()},unbind:function(){for(var e=this._bindings,t=this._targetGroup.nCachedObjects_,n=e.length;t!==n;++t)e[t].unbind()}}),Object.assign(Gh,{Composite:Fh,create:function(e,t,n){return e&&e.isAnimationObjectGroup?new Gh.Composite(e,t,n):new Gh(e,t,n)},sanitizeNodeName:function(e){return e.replace(/\s/g,"_").replace(Oh,"")},parseTrackName:function(e){var t=Nh.exec(e);if(!t)throw new Error("PropertyBinding: Cannot parse trackName: "+e);var n={nodeName:t[2],objectName:t[3],objectIndex:t[4],propertyName:t[5],propertyIndex:t[6]},r=n.nodeName&&n.nodeName.lastIndexOf(".");if(void 0!==r&&-1!==r){var i=n.nodeName.substring(r+1);-1!==jh.indexOf(i)&&(n.nodeName=n.nodeName.substring(0,r),n.objectName=i)}if(null===n.propertyName||0===n.propertyName.length)throw new Error("PropertyBinding: can not parse propertyName from trackName: "+e);return n},findNode:function(e,t){if(!t||""===t||"."===t||-1===t||t===e.name||t===e.uuid)return e;if(e.skeleton){var n=e.skeleton.getBoneByName(t);if(void 0!==n)return n}if(e.children){var r=function e(n){for(var r=0;r<n.length;r++){var i=n[r];if(i.name===t||i.uuid===t)return i;var a=e(i.children);if(a)return a}return null}(e.children);if(r)return r}return null}}),Object.assign(Gh.prototype,{_getValue_unavailable:function(){},_setValue_unavailable:function(){},BindingType:{Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3},Versioning:{None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2},GetterByBindingType:[function(e,t){e[t]=this.node[this.propertyName]},function(e,t){for(var n=this.resolvedProperty,r=0,i=n.length;r!==i;++r)e[t++]=n[r]},function(e,t){e[t]=this.resolvedProperty[this.propertyIndex]},function(e,t){this.resolvedProperty.toArray(e,t)}],SetterByBindingTypeAndVersioning:[[function(e,t){this.targetObject[this.propertyName]=e[t]},function(e,t){this.targetObject[this.propertyName]=e[t],this.targetObject.needsUpdate=!0},function(e,t){this.targetObject[this.propertyName]=e[t],this.targetObject.matrixWorldNeedsUpdate=!0}],[function(e,t){for(var n=this.resolvedProperty,r=0,i=n.length;r!==i;++r)n[r]=e[t++]},function(e,t){for(var n=this.resolvedProperty,r=0,i=n.length;r!==i;++r)n[r]=e[t++];this.targetObject.needsUpdate=!0},function(e,t){for(var n=this.resolvedProperty,r=0,i=n.length;r!==i;++r)n[r]=e[t++];this.targetObject.matrixWorldNeedsUpdate=!0}],[function(e,t){this.resolvedProperty[this.propertyIndex]=e[t]},function(e,t){this.resolvedProperty[this.propertyIndex]=e[t],this.targetObject.needsUpdate=!0},function(e,t){this.resolvedProperty[this.propertyIndex]=e[t],this.targetObject.matrixWorldNeedsUpdate=!0}],[function(e,t){this.resolvedProperty.fromArray(e,t)},function(e,t){this.resolvedProperty.fromArray(e,t),this.targetObject.needsUpdate=!0},function(e,t){this.resolvedProperty.fromArray(e,t),this.targetObject.matrixWorldNeedsUpdate=!0}]],getValue:function(e,t){this.bind(),this.getValue(e,t)},setValue:function(e,t){this.bind(),this.setValue(e,t)},bind:function(){var e=this.node,t=this.parsedPath,n=t.objectName,r=t.propertyName,i=t.propertyIndex;if(e||(e=Gh.findNode(this.rootNode,t.nodeName)||this.rootNode,this.node=e),this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,e){if(n){var a=t.objectIndex;switch(n){case"materials":if(!e.material)return void console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);if(!e.material.materials)return void console.error("THREE.PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.",this);e=e.material.materials;break;case"bones":if(!e.skeleton)return void console.error("THREE.PropertyBinding: Can not bind to bones as node does not have a skeleton.",this);e=e.skeleton.bones;for(var o=0;o<e.length;o++)if(e[o].name===a){a=o;break}break;default:if(void 0===e[n])return void console.error("THREE.PropertyBinding: Can not bind to objectName of node undefined.",this);e=e[n]}if(void 0!==a){if(void 0===e[a])return void console.error("THREE.PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.",this,e);e=e[a]}}var s=e[r];if(void 0!==s){var l=this.Versioning.None;this.targetObject=e,void 0!==e.needsUpdate?l=this.Versioning.NeedsUpdate:void 0!==e.matrixWorldNeedsUpdate&&(l=this.Versioning.MatrixWorldNeedsUpdate);var u=this.BindingType.Direct;if(void 0!==i){if("morphTargetInfluences"===r){if(!e.geometry)return void console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.",this);if(!e.geometry.isBufferGeometry)return void console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences on THREE.Geometry. Use THREE.BufferGeometry instead.",this);if(!e.geometry.morphAttributes)return void console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.",this);void 0!==e.morphTargetDictionary[i]&&(i=e.morphTargetDictionary[i])}u=this.BindingType.ArrayElement,this.resolvedProperty=s,this.propertyIndex=i}else void 0!==s.fromArray&&void 0!==s.toArray?(u=this.BindingType.HasFromToArray,this.resolvedProperty=s):Array.isArray(s)?(u=this.BindingType.EntireArray,this.resolvedProperty=s):this.propertyName=r;this.getValue=this.GetterByBindingType[u],this.setValue=this.SetterByBindingTypeAndVersioning[u][l]}else{var c=t.nodeName;console.error("THREE.PropertyBinding: Trying to update property for track: "+c+"."+r+" but it wasn't found.",e)}}else console.error("THREE.PropertyBinding: Trying to update node for track: "+this.path+" but it wasn't found.")},unbind:function(){this.node=null,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}}),Object.assign(Gh.prototype,{_getValue_unbound:Gh.prototype.getValue,_setValue_unbound:Gh.prototype.setValue}),Object.assign(Uh.prototype,{isAnimationObjectGroup:!0,add:function(){for(var e=this._objects,t=this._indicesByUUID,n=this._paths,r=this._parsedPaths,i=this._bindings,a=i.length,o=void 0,s=e.length,l=this.nCachedObjects_,u=0,c=arguments.length;u!==c;++u){var d=arguments[u],h=d.uuid,f=t[h];if(void 0===f){f=s++,t[h]=f,e.push(d);for(var p=0,m=a;p!==m;++p)i[p].push(new Gh(d,n[p],r[p]))}else if(f<l){o=e[f];var v=--l,g=e[v];t[g.uuid]=f,e[f]=g,t[h]=v,e[v]=d;for(var y=0,b=a;y!==b;++y){var x=i[y],w=x[v],M=x[f];x[f]=w,void 0===M&&(M=new Gh(d,n[y],r[y])),x[v]=M}}else e[f]!==o&&console.error("THREE.AnimationObjectGroup: Different objects with the same UUID detected. Clean the caches or recreate your infrastructure when reloading scenes.")}this.nCachedObjects_=l},remove:function(){for(var e=this._objects,t=this._indicesByUUID,n=this._bindings,r=n.length,i=this.nCachedObjects_,a=0,o=arguments.length;a!==o;++a){var s=arguments[a],l=s.uuid,u=t[l];if(void 0!==u&&u>=i){var c=i++,d=e[c];t[d.uuid]=u,e[u]=d,t[l]=c,e[c]=s;for(var h=0,f=r;h!==f;++h){var p=n[h],m=p[c],v=p[u];p[u]=m,p[c]=v}}}this.nCachedObjects_=i},uncache:function(){for(var e=this._objects,t=this._indicesByUUID,n=this._bindings,r=n.length,i=this.nCachedObjects_,a=e.length,o=0,s=arguments.length;o!==s;++o){var l=arguments[o],u=l.uuid,c=t[u];if(void 0!==c)if(delete t[u],c<i){var d=--i,h=e[d],f=--a,p=e[f];t[h.uuid]=c,e[c]=h,t[p.uuid]=d,e[d]=p,e.pop();for(var m=0,v=r;m!==v;++m){var g=n[m],y=g[d],b=g[f];g[c]=y,g[d]=b,g.pop()}}else{var x=--a,w=e[x];x>0&&(t[w.uuid]=c),e[c]=w,e.pop();for(var M=0,_=r;M!==_;++M){var S=n[M];S[c]=S[x],S.pop()}}}this.nCachedObjects_=i},subscribe_:function(e,t){var n=this._bindingsIndicesByPath,r=n[e],i=this._bindings;if(void 0!==r)return i[r];var a=this._paths,o=this._parsedPaths,s=this._objects,l=s.length,u=this.nCachedObjects_,c=new Array(l);r=i.length,n[e]=r,a.push(e),o.push(t),i.push(c);for(var d=u,h=s.length;d!==h;++d){var f=s[d];c[d]=new Gh(f,e,t)}return c},unsubscribe_:function(e){var t=this._bindingsIndicesByPath,n=t[e];if(void 0!==n){var r=this._paths,i=this._parsedPaths,a=this._bindings,o=a.length-1,s=a[o];t[e[o]]=n,a[n]=s,a.pop(),i[n]=i[o],i.pop(),r[n]=r[o],r.pop()}}});var zh=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:n.blendMode;Object(d.a)(this,e),this._mixer=t,this._clip=n,this._localRoot=r,this.blendMode=i;for(var a=n.tracks,o=a.length,s=new Array(o),l={endingStart:Kt,endingEnd:Kt},u=0;u!==o;++u){var c=a[u].createInterpolant(null);s[u]=c,c.settings=l}this._interpolantSettings=l,this._interpolants=s,this._propertyBindings=new Array(o),this._cacheIndex=null,this._byClipCacheIndex=null,this._timeScaleInterpolant=null,this._weightInterpolant=null,this.loop=qt,this._loopCount=-1,this._startTime=null,this.time=0,this.timeScale=1,this._effectiveTimeScale=1,this.weight=1,this._effectiveWeight=1,this.repetitions=1/0,this.paused=!1,this.enabled=!0,this.clampWhenFinished=!1,this.zeroSlopeAtStart=!0,this.zeroSlopeAtEnd=!0}return Object(h.a)(e,[{key:"play",value:function(){return this._mixer._activateAction(this),this}},{key:"stop",value:function(){return this._mixer._deactivateAction(this),this.reset()}},{key:"reset",value:function(){return this.paused=!1,this.enabled=!0,this.time=0,this._loopCount=-1,this._startTime=null,this.stopFading().stopWarping()}},{key:"isRunning",value:function(){return this.enabled&&!this.paused&&0!==this.timeScale&&null===this._startTime&&this._mixer._isActiveAction(this)}},{key:"isScheduled",value:function(){return this._mixer._isActiveAction(this)}},{key:"startAt",value:function(e){return this._startTime=e,this}},{key:"setLoop",value:function(e,t){return this.loop=e,this.repetitions=t,this}},{key:"setEffectiveWeight",value:function(e){return this.weight=e,this._effectiveWeight=this.enabled?e:0,this.stopFading()}},{key:"getEffectiveWeight",value:function(){return this._effectiveWeight}},{key:"fadeIn",value:function(e){return this._scheduleFading(e,0,1)}},{key:"fadeOut",value:function(e){return this._scheduleFading(e,1,0)}},{key:"crossFadeFrom",value:function(e,t,n){if(e.fadeOut(t),this.fadeIn(t),n){var r=this._clip.duration,i=e._clip.duration,a=i/r,o=r/i;e.warp(1,a,t),this.warp(o,1,t)}return this}},{key:"crossFadeTo",value:function(e,t,n){return e.crossFadeFrom(this,t,n)}},{key:"stopFading",value:function(){var e=this._weightInterpolant;return null!==e&&(this._weightInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}},{key:"setEffectiveTimeScale",value:function(e){return this.timeScale=e,this._effectiveTimeScale=this.paused?0:e,this.stopWarping()}},{key:"getEffectiveTimeScale",value:function(){return this._effectiveTimeScale}},{key:"setDuration",value:function(e){return this.timeScale=this._clip.duration/e,this.stopWarping()}},{key:"syncWith",value:function(e){return this.time=e.time,this.timeScale=e.timeScale,this.stopWarping()}},{key:"halt",value:function(e){return this.warp(this._effectiveTimeScale,0,e)}},{key:"warp",value:function(e,t,n){var r=this._mixer,i=r.time,a=this.timeScale,o=this._timeScaleInterpolant;null===o&&(o=r._lendControlInterpolant(),this._timeScaleInterpolant=o);var s=o.parameterPositions,l=o.sampleValues;return s[0]=i,s[1]=i+n,l[0]=e/a,l[1]=t/a,this}},{key:"stopWarping",value:function(){var e=this._timeScaleInterpolant;return null!==e&&(this._timeScaleInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}},{key:"getMixer",value:function(){return this._mixer}},{key:"getClip",value:function(){return this._clip}},{key:"getRoot",value:function(){return this._localRoot||this._mixer._root}},{key:"_update",value:function(e,t,n,r){if(this.enabled){var i=this._startTime;if(null!==i){var a=(e-i)*n;if(a<0||0===n)return;this._startTime=null,t=n*a}t*=this._updateTimeScale(e);var o=this._updateTime(t),s=this._updateWeight(e);if(s>0){var l=this._interpolants,u=this._propertyBindings;switch(this.blendMode){case nn:for(var c=0,d=l.length;c!==d;++c)l[c].evaluate(o),u[c].accumulateAdditive(s);break;case tn:default:for(var h=0,f=l.length;h!==f;++h)l[h].evaluate(o),u[h].accumulate(r,s)}}}else this._updateWeight(e)}},{key:"_updateWeight",value:function(e){var t=0;if(this.enabled){t=this.weight;var n=this._weightInterpolant;if(null!==n){var r=n.evaluate(e)[0];t*=r,e>n.parameterPositions[1]&&(this.stopFading(),0===r&&(this.enabled=!1))}}return this._effectiveWeight=t,t}},{key:"_updateTimeScale",value:function(e){var t=0;if(!this.paused){t=this.timeScale;var n=this._timeScaleInterpolant;if(null!==n)t*=n.evaluate(e)[0],e>n.parameterPositions[1]&&(this.stopWarping(),0===t?this.paused=!0:this.timeScale=t)}return this._effectiveTimeScale=t,t}},{key:"_updateTime",value:function(e){var t=this._clip.duration,n=this.loop,r=this.time+e,i=this._loopCount,a=n===Yt;if(0===e)return-1===i?r:a&&1===(1&i)?t-r:r;if(n===Xt){-1===i&&(this._loopCount=0,this._setEndings(!0,!0,!1));e:{if(r>=t)r=t;else{if(!(r<0)){this.time=r;break e}r=0}this.clampWhenFinished?this.paused=!0:this.enabled=!1,this.time=r,this._mixer.dispatchEvent({type:"finished",action:this,direction:e<0?-1:1})}}else{if(-1===i&&(e>=0?(i=0,this._setEndings(!0,0===this.repetitions,a)):this._setEndings(0===this.repetitions,!0,a)),r>=t||r<0){var o=Math.floor(r/t);r-=t*o,i+=Math.abs(o);var s=this.repetitions-i;if(s<=0)this.clampWhenFinished?this.paused=!0:this.enabled=!1,r=e>0?t:0,this.time=r,this._mixer.dispatchEvent({type:"finished",action:this,direction:e>0?1:-1});else{if(1===s){var l=e<0;this._setEndings(l,!l,a)}else this._setEndings(!1,!1,a);this._loopCount=i,this.time=r,this._mixer.dispatchEvent({type:"loop",action:this,loopDelta:o})}}else this.time=r;if(a&&1===(1&i))return t-r}return r}},{key:"_setEndings",value:function(e,t,n){var r=this._interpolantSettings;n?(r.endingStart=Jt,r.endingEnd=Jt):(r.endingStart=e?this.zeroSlopeAtStart?Jt:Kt:en,r.endingEnd=t?this.zeroSlopeAtEnd?Jt:Kt:en)}},{key:"_scheduleFading",value:function(e,t,n){var r=this._mixer,i=r.time,a=this._weightInterpolant;null===a&&(a=r._lendControlInterpolant(),this._weightInterpolant=a);var o=a.parameterPositions,s=a.sampleValues;return o[0]=i,s[0]=t,o[1]=i+e,s[1]=n,this}}]),e}();function Bh(e){this._root=e,this._initMemoryManager(),this._accuIndex=0,this.time=0,this.timeScale=1}Bh.prototype=Object.assign(Object.create(Xn.prototype),{constructor:Bh,_bindAction:function(e,t){var n=e._localRoot||this._root,r=e._clip.tracks,i=r.length,a=e._propertyBindings,o=e._interpolants,s=n.uuid,l=this._bindingsByRootAndName,u=l[s];void 0===u&&(u={},l[s]=u);for(var c=0;c!==i;++c){var d=r[c],h=d.name,f=u[h];if(void 0!==f)a[c]=f;else{if(void 0!==(f=a[c])){null===f._cacheIndex&&(++f.referenceCount,this._addInactiveBinding(f,s,h));continue}var p=t&&t._propertyBindings[c].binding.parsedPath;++(f=new Ah(Gh.create(n,h,p),d.ValueTypeName,d.getValueSize())).referenceCount,this._addInactiveBinding(f,s,h),a[c]=f}o[c].resultBuffer=f.buffer}},_activateAction:function(e){if(!this._isActiveAction(e)){if(null===e._cacheIndex){var t=(e._localRoot||this._root).uuid,n=e._clip.uuid,r=this._actionsByClip[n];this._bindAction(e,r&&r.knownActions[0]),this._addInactiveAction(e,n,t)}for(var i=e._propertyBindings,a=0,o=i.length;a!==o;++a){var s=i[a];0===s.useCount++&&(this._lendBinding(s),s.saveOriginalState())}this._lendAction(e)}},_deactivateAction:function(e){if(this._isActiveAction(e)){for(var t=e._propertyBindings,n=0,r=t.length;n!==r;++n){var i=t[n];0===--i.useCount&&(i.restoreOriginalState(),this._takeBackBinding(i))}this._takeBackAction(e)}},_initMemoryManager:function(){this._actions=[],this._nActiveActions=0,this._actionsByClip={},this._bindings=[],this._nActiveBindings=0,this._bindingsByRootAndName={},this._controlInterpolants=[],this._nActiveControlInterpolants=0;var e=this;this.stats={actions:{get total(){return e._actions.length},get inUse(){return e._nActiveActions}},bindings:{get total(){return e._bindings.length},get inUse(){return e._nActiveBindings}},controlInterpolants:{get total(){return e._controlInterpolants.length},get inUse(){return e._nActiveControlInterpolants}}}},_isActiveAction:function(e){var t=e._cacheIndex;return null!==t&&t<this._nActiveActions},_addInactiveAction:function(e,t,n){var r=this._actions,i=this._actionsByClip,a=i[t];if(void 0===a)a={knownActions:[e],actionByRoot:{}},e._byClipCacheIndex=0,i[t]=a;else{var o=a.knownActions;e._byClipCacheIndex=o.length,o.push(e)}e._cacheIndex=r.length,r.push(e),a.actionByRoot[n]=e},_removeInactiveAction:function(e){var t=this._actions,n=t[t.length-1],r=e._cacheIndex;n._cacheIndex=r,t[r]=n,t.pop(),e._cacheIndex=null;var i=e._clip.uuid,a=this._actionsByClip,o=a[i],s=o.knownActions,l=s[s.length-1],u=e._byClipCacheIndex;l._byClipCacheIndex=u,s[u]=l,s.pop(),e._byClipCacheIndex=null,delete o.actionByRoot[(e._localRoot||this._root).uuid],0===s.length&&delete a[i],this._removeInactiveBindingsForAction(e)},_removeInactiveBindingsForAction:function(e){for(var t=e._propertyBindings,n=0,r=t.length;n!==r;++n){var i=t[n];0===--i.referenceCount&&this._removeInactiveBinding(i)}},_lendAction:function(e){var t=this._actions,n=e._cacheIndex,r=this._nActiveActions++,i=t[r];e._cacheIndex=r,t[r]=e,i._cacheIndex=n,t[n]=i},_takeBackAction:function(e){var t=this._actions,n=e._cacheIndex,r=--this._nActiveActions,i=t[r];e._cacheIndex=r,t[r]=e,i._cacheIndex=n,t[n]=i},_addInactiveBinding:function(e,t,n){var r=this._bindingsByRootAndName,i=this._bindings,a=r[t];void 0===a&&(a={},r[t]=a),a[n]=e,e._cacheIndex=i.length,i.push(e)},_removeInactiveBinding:function(e){var t=this._bindings,n=e.binding,r=n.rootNode.uuid,i=n.path,a=this._bindingsByRootAndName,o=a[r],s=t[t.length-1],l=e._cacheIndex;s._cacheIndex=l,t[l]=s,t.pop(),delete o[i],0===Object.keys(o).length&&delete a[r]},_lendBinding:function(e){var t=this._bindings,n=e._cacheIndex,r=this._nActiveBindings++,i=t[r];e._cacheIndex=r,t[r]=e,i._cacheIndex=n,t[n]=i},_takeBackBinding:function(e){var t=this._bindings,n=e._cacheIndex,r=--this._nActiveBindings,i=t[r];e._cacheIndex=r,t[r]=e,i._cacheIndex=n,t[n]=i},_lendControlInterpolant:function(){var e=this._controlInterpolants,t=this._nActiveControlInterpolants++,n=e[t];return void 0===n&&((n=new jc(new Float32Array(2),new Float32Array(2),1,this._controlInterpolantsResultBuffer)).__cacheIndex=t,e[t]=n),n},_takeBackControlInterpolant:function(e){var t=this._controlInterpolants,n=e.__cacheIndex,r=--this._nActiveControlInterpolants,i=t[r];e.__cacheIndex=r,t[r]=e,i.__cacheIndex=n,t[n]=i},_controlInterpolantsResultBuffer:new Float32Array(1),clipAction:function(e,t,n){var r=t||this._root,i=r.uuid,a="string"===typeof e?qc.findByName(r,e):e,o=null!==a?a.uuid:e,s=this._actionsByClip[o],l=null;if(void 0===n&&(n=null!==a?a.blendMode:tn),void 0!==s){var u=s.actionByRoot[i];if(void 0!==u&&u.blendMode===n)return u;l=s.knownActions[0],null===a&&(a=l._clip)}if(null===a)return null;var c=new zh(this,a,t,n);return this._bindAction(c,l),this._addInactiveAction(c,o,i),c},existingAction:function(e,t){var n=t||this._root,r=n.uuid,i="string"===typeof e?qc.findByName(n,e):e,a=i?i.uuid:e,o=this._actionsByClip[a];return void 0!==o&&o.actionByRoot[r]||null},stopAllAction:function(){for(var e=this._actions,t=this._nActiveActions-1;t>=0;--t)e[t].stop();return this},update:function(e){e*=this.timeScale;for(var t=this._actions,n=this._nActiveActions,r=this.time+=e,i=Math.sign(e),a=this._accuIndex^=1,o=0;o!==n;++o){t[o]._update(r,e,i,a)}for(var s=this._bindings,l=this._nActiveBindings,u=0;u!==l;++u)s[u].apply(a);return this},setTime:function(e){this.time=0;for(var t=0;t<this._actions.length;t++)this._actions[t].time=0;return this.update(e)},getRoot:function(){return this._root},uncacheClip:function(e){var t=this._actions,n=e.uuid,r=this._actionsByClip,i=r[n];if(void 0!==i){for(var a=i.knownActions,o=0,s=a.length;o!==s;++o){var l=a[o];this._deactivateAction(l);var u=l._cacheIndex,c=t[t.length-1];l._cacheIndex=null,l._byClipCacheIndex=null,c._cacheIndex=u,t[u]=c,t.pop(),this._removeInactiveBindingsForAction(l)}delete r[n]}},uncacheRoot:function(e){var t=e.uuid,n=this._actionsByClip;for(var r in n){var i=n[r].actionByRoot[t];void 0!==i&&(this._deactivateAction(i),this._removeInactiveAction(i))}var a=this._bindingsByRootAndName[t];if(void 0!==a)for(var o in a){var s=a[o];s.restoreOriginalState(),this._removeInactiveBinding(s)}},uncacheAction:function(e,t){var n=this.existingAction(e,t);null!==n&&(this._deactivateAction(n),this._removeInactiveAction(n))}});var Vh=function(){function e(t){Object(d.a)(this,e),"string"===typeof t&&(console.warn("THREE.Uniform: Type parameter is no longer needed."),t=arguments[1]),this.value=t}return Object(h.a)(e,[{key:"clone",value:function(){return new e(void 0===this.value.clone?this.value:this.value.clone())}}]),e}();function Hh(e,t,n){Ks.call(this,e,t),this.meshPerAttribute=n||1}function Wh(e,t,n,r,i){this.buffer=e,this.type=t,this.itemSize=n,this.elementSize=r,this.count=i,this.version=0}function Xh(e,t,n,r){this.ray=new Pr(e,t),this.near=n||0,this.far=r||1/0,this.camera=null,this.layers=new qr,this.params={Mesh:{},Line:{threshold:1},LOD:{},Points:{threshold:1},Sprite:{}},Object.defineProperties(this.params,{PointCloud:{get:function(){return console.warn("THREE.Raycaster: params.PointCloud has been renamed to params.Points."),this.Points}}})}function qh(e,t){return e.distance-t.distance}function Yh(e,t,n,r){if(e.layers.test(t.layers)&&e.raycast(t,n),!0===r)for(var i=e.children,a=0,o=i.length;a<o;a++)Yh(i[a],t,n,!0)}Hh.prototype=Object.assign(Object.create(Ks.prototype),{constructor:Hh,isInstancedInterleavedBuffer:!0,copy:function(e){return Ks.prototype.copy.call(this,e),this.meshPerAttribute=e.meshPerAttribute,this},clone:function(e){var t=Ks.prototype.clone.call(this,e);return t.meshPerAttribute=this.meshPerAttribute,t},toJSON:function(e){var t=Ks.prototype.toJSON.call(this,e);return t.isInstancedInterleavedBuffer=!0,t.meshPerAttribute=this.meshPerAttribute,t}}),Object.defineProperty(Wh.prototype,"needsUpdate",{set:function(e){!0===e&&this.version++}}),Object.assign(Wh.prototype,{isGLBufferAttribute:!0,setBuffer:function(e){return this.buffer=e,this},setType:function(e,t){return this.type=e,this.elementSize=t,this},setItemSize:function(e){return this.itemSize=e,this},setCount:function(e){return this.count=e,this}}),Object.assign(Xh.prototype,{set:function(e,t){this.ray.set(e,t)},setFromCamera:function(e,t){t&&t.isPerspectiveCamera?(this.ray.origin.setFromMatrixPosition(t.matrixWorld),this.ray.direction.set(e.x,e.y,.5).unproject(t).sub(this.ray.origin).normalize(),this.camera=t):t&&t.isOrthographicCamera?(this.ray.origin.set(e.x,e.y,(t.near+t.far)/(t.near-t.far)).unproject(t),this.ray.direction.set(0,0,-1).transformDirection(t.matrixWorld),this.camera=t):console.error("THREE.Raycaster: Unsupported camera type.")},intersectObject:function(e,t,n){var r=n||[];return Yh(e,this,r,t),r.sort(qh),r},intersectObjects:function(e,t,n){var r=n||[];if(!1===Array.isArray(e))return console.warn("THREE.Raycaster.intersectObjects: objects is not an Array."),r;for(var i=0,a=e.length;i<a;i++)Yh(e[i],this,r,t);return r.sort(qh),r}});var Qh=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return Object(d.a)(this,e),this.radius=t,this.phi=n,this.theta=r,this}return Object(h.a)(e,[{key:"set",value:function(e,t,n){return this.radius=e,this.phi=t,this.theta=n,this}},{key:"clone",value:function(){return(new this.constructor).copy(this)}},{key:"copy",value:function(e){return this.radius=e.radius,this.phi=e.phi,this.theta=e.theta,this}},{key:"makeSafe",value:function(){var e=1e-6;return this.phi=Math.max(e,Math.min(Math.PI-e,this.phi)),this}},{key:"setFromVector3",value:function(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}},{key:"setFromCartesianCoords",value:function(e,t,n){return this.radius=Math.sqrt(e*e+t*t+n*n),0===this.radius?(this.theta=0,this.phi=0):(this.theta=Math.atan2(e,n),this.phi=Math.acos($n.clamp(t/this.radius,-1,1))),this}}]),e}(),Zh=function(){function e(t,n,r){return Object(d.a)(this,e),this.radius=void 0!==t?t:1,this.theta=void 0!==n?n:0,this.y=void 0!==r?r:0,this}return Object(h.a)(e,[{key:"set",value:function(e,t,n){return this.radius=e,this.theta=t,this.y=n,this}},{key:"clone",value:function(){return(new this.constructor).copy(this)}},{key:"copy",value:function(e){return this.radius=e.radius,this.theta=e.theta,this.y=e.y,this}},{key:"setFromVector3",value:function(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}},{key:"setFromCartesianCoords",value:function(e,t,n){return this.radius=Math.sqrt(e*e+n*n),this.theta=Math.atan2(e,n),this.y=t,this}}]),e}(),$h=new Kn,Kh=function(){function e(t,n){Object(d.a)(this,e),Object.defineProperty(this,"isBox2",{value:!0}),this.min=void 0!==t?t:new Kn(1/0,1/0),this.max=void 0!==n?n:new Kn(-1/0,-1/0)}return Object(h.a)(e,[{key:"set",value:function(e,t){return this.min.copy(e),this.max.copy(t),this}},{key:"setFromPoints",value:function(e){this.makeEmpty();for(var t=0,n=e.length;t<n;t++)this.expandByPoint(e[t]);return this}},{key:"setFromCenterAndSize",value:function(e,t){var n=$h.copy(t).multiplyScalar(.5);return this.min.copy(e).sub(n),this.max.copy(e).add(n),this}},{key:"clone",value:function(){return(new this.constructor).copy(this)}},{key:"copy",value:function(e){return this.min.copy(e.min),this.max.copy(e.max),this}},{key:"makeEmpty",value:function(){return this.min.x=this.min.y=1/0,this.max.x=this.max.y=-1/0,this}},{key:"isEmpty",value:function(){return this.max.x<this.min.x||this.max.y<this.min.y}},{key:"getCenter",value:function(e){return void 0===e&&(console.warn("THREE.Box2: .getCenter() target is now required"),e=new Kn),this.isEmpty()?e.set(0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}},{key:"getSize",value:function(e){return void 0===e&&(console.warn("THREE.Box2: .getSize() target is now required"),e=new Kn),this.isEmpty()?e.set(0,0):e.subVectors(this.max,this.min)}},{key:"expandByPoint",value:function(e){return this.min.min(e),this.max.max(e),this}},{key:"expandByVector",value:function(e){return this.min.sub(e),this.max.add(e),this}},{key:"expandByScalar",value:function(e){return this.min.addScalar(-e),this.max.addScalar(e),this}},{key:"containsPoint",value:function(e){return!(e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y)}},{key:"containsBox",value:function(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y}},{key:"getParameter",value:function(e,t){return void 0===t&&(console.warn("THREE.Box2: .getParameter() target is now required"),t=new Kn),t.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y))}},{key:"intersectsBox",value:function(e){return!(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y)}},{key:"clampPoint",value:function(e,t){return void 0===t&&(console.warn("THREE.Box2: .clampPoint() target is now required"),t=new Kn),t.copy(e).clamp(this.min,this.max)}},{key:"distanceToPoint",value:function(e){return $h.copy(e).clamp(this.min,this.max).sub(e).length()}},{key:"intersect",value:function(e){return this.min.max(e.min),this.max.min(e.max),this}},{key:"union",value:function(e){return this.min.min(e.min),this.max.max(e.max),this}},{key:"translate",value:function(e){return this.min.add(e),this.max.add(e),this}},{key:"equals",value:function(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}]),e}(),Jh=new lr,ef=new lr,tf=function(){function e(t,n){Object(d.a)(this,e),this.start=void 0!==t?t:new lr,this.end=void 0!==n?n:new lr}return Object(h.a)(e,[{key:"set",value:function(e,t){return this.start.copy(e),this.end.copy(t),this}},{key:"clone",value:function(){return(new this.constructor).copy(this)}},{key:"copy",value:function(e){return this.start.copy(e.start),this.end.copy(e.end),this}},{key:"getCenter",value:function(e){return void 0===e&&(console.warn("THREE.Line3: .getCenter() target is now required"),e=new lr),e.addVectors(this.start,this.end).multiplyScalar(.5)}},{key:"delta",value:function(e){return void 0===e&&(console.warn("THREE.Line3: .delta() target is now required"),e=new lr),e.subVectors(this.end,this.start)}},{key:"distanceSq",value:function(){return this.start.distanceToSquared(this.end)}},{key:"distance",value:function(){return this.start.distanceTo(this.end)}},{key:"at",value:function(e,t){return void 0===t&&(console.warn("THREE.Line3: .at() target is now required"),t=new lr),this.delta(t).multiplyScalar(e).add(this.start)}},{key:"closestPointToPointParameter",value:function(e,t){Jh.subVectors(e,this.start),ef.subVectors(this.end,this.start);var n=ef.dot(ef),r=ef.dot(Jh)/n;return t&&(r=$n.clamp(r,0,1)),r}},{key:"closestPointToPoint",value:function(e,t,n){var r=this.closestPointToPointParameter(e,t);return void 0===n&&(console.warn("THREE.Line3: .closestPointToPoint() target is now required"),n=new lr),this.delta(n).multiplyScalar(r).add(this.start)}},{key:"applyMatrix4",value:function(e){return this.start.applyMatrix4(e),this.end.applyMatrix4(e),this}},{key:"equals",value:function(e){return e.start.equals(this.start)&&e.end.equals(this.end)}}]),e}();function nf(e){si.call(this),this.material=e,this.render=function(){},this.hasPositions=!1,this.hasNormals=!1,this.hasColors=!1,this.hasUvs=!1,this.positionArray=null,this.normalArray=null,this.colorArray=null,this.uvArray=null,this.count=0}nf.prototype=Object.create(si.prototype),nf.prototype.constructor=nf,nf.prototype.isImmediateRenderObject=!0;var rf=new lr,af=function(e){Object(u.a)(n,e);var t=Object(c.a)(n);function n(e,r){var i;Object(d.a)(this,n),(i=t.call(this)).light=e,i.light.updateMatrixWorld(),i.matrix=e.matrixWorld,i.matrixAutoUpdate=!1,i.color=r;for(var a=new ia,o=[0,0,0,0,0,1,0,0,0,1,0,1,0,0,0,-1,0,1,0,0,0,0,1,1,0,0,0,0,-1,1],s=0,l=1;s<32;s++,l++){var u=s/32*Math.PI*2,c=l/32*Math.PI*2;o.push(Math.cos(u),Math.sin(u),1,Math.cos(c),Math.sin(c),1)}a.setAttribute("position",new Wi(o,3));var h=new kl({fog:!1,toneMapped:!1});return i.cone=new Gl(a,h),i.add(i.cone),i.update(),i}return Object(h.a)(n,[{key:"dispose",value:function(){this.cone.geometry.dispose(),this.cone.material.dispose()}},{key:"update",value:function(){this.light.updateMatrixWorld();var e=this.light.distance?this.light.distance:1e3,t=e*Math.tan(this.light.angle);this.cone.scale.set(t,t,e),rf.setFromMatrixPosition(this.light.target.matrixWorld),this.cone.lookAt(rf),void 0!==this.color?this.cone.material.color.set(this.color):this.cone.material.color.copy(this.light.color)}}]),n}(si),of=new lr,sf=new Nr,lf=new Nr,uf=function(e){Object(u.a)(n,e);var t=Object(c.a)(n);function n(e){var r;Object(d.a)(this,n);for(var i=cf(e),a=new ia,o=[],s=[],l=new Oi(0,0,1),u=new Oi(0,1,0),c=0;c<i.length;c++){var h=i[c];h.parent&&h.parent.isBone&&(o.push(0,0,0),o.push(0,0,0),s.push(l.r,l.g,l.b),s.push(u.r,u.g,u.b))}a.setAttribute("position",new Wi(o,3)),a.setAttribute("color",new Wi(s,3));var f=new kl({vertexColors:!0,depthTest:!1,depthWrite:!1,toneMapped:!1,transparent:!0});return(r=t.call(this,a,f)).type="SkeletonHelper",r.isSkeletonHelper=!0,r.root=e,r.bones=i,r.matrix=e.matrixWorld,r.matrixAutoUpdate=!1,r}return Object(h.a)(n,[{key:"updateMatrixWorld",value:function(e){var t=this.bones,r=this.geometry,i=r.getAttribute("position");lf.copy(this.root.matrixWorld).invert();for(var s=0,l=0;s<t.length;s++){var u=t[s];u.parent&&u.parent.isBone&&(sf.multiplyMatrices(lf,u.matrixWorld),of.setFromMatrixPosition(sf),i.setXYZ(l,of.x,of.y,of.z),sf.multiplyMatrices(lf,u.parent.matrixWorld),of.setFromMatrixPosition(sf),i.setXYZ(l+1,of.x,of.y,of.z),l+=2)}r.getAttribute("position").needsUpdate=!0,Object(a.a)(Object(o.a)(n.prototype),"updateMatrixWorld",this).call(this,e)}}]),n}(Gl);function cf(e){var t=[];e&&e.isBone&&t.push(e);for(var n=0;n<e.children.length;n++)t.push.apply(t,cf(e.children[n]));return t}var df=function(e){Object(u.a)(n,e);var t=Object(c.a)(n);function n(e,r,i){var a;Object(d.a)(this,n);var o=new uc(r,4,2),s=new Di({wireframe:!0,fog:!1,toneMapped:!1});return(a=t.call(this,o,s)).light=e,a.light.updateMatrixWorld(),a.color=i,a.type="PointLightHelper",a.matrix=a.light.matrixWorld,a.matrixAutoUpdate=!1,a.update(),a}return Object(h.a)(n,[{key:"dispose",value:function(){this.geometry.dispose(),this.material.dispose()}},{key:"update",value:function(){void 0!==this.color?this.material.color.set(this.color):this.material.color.copy(this.light.color)}}]),n}(Ma),hf=new lr,ff=new Oi,pf=new Oi,mf=function(e){Object(u.a)(n,e);var t=Object(c.a)(n);function n(e,r,i){var a;Object(d.a)(this,n),(a=t.call(this)).light=e,a.light.updateMatrixWorld(),a.matrix=e.matrixWorld,a.matrixAutoUpdate=!1,a.color=i;var o=new Ju(r);o.rotateY(.5*Math.PI),a.material=new Di({wireframe:!0,fog:!1,toneMapped:!1}),void 0===a.color&&(a.material.vertexColors=!0);var s=o.getAttribute("position"),l=new Float32Array(3*s.count);return o.setAttribute("color",new Ni(l,3)),a.add(new Ma(o,a.material)),a.update(),a}return Object(h.a)(n,[{key:"dispose",value:function(){this.children[0].geometry.dispose(),this.children[0].material.dispose()}},{key:"update",value:function(){var e=this.children[0];if(void 0!==this.color)this.material.color.set(this.color);else{var t=e.geometry.getAttribute("color");ff.copy(this.light.color),pf.copy(this.light.groundColor);for(var n=0,r=t.count;n<r;n++){var i=n<r/2?ff:pf;t.setXYZ(n,i.r,i.g,i.b)}t.needsUpdate=!0}e.lookAt(hf.setFromMatrixPosition(this.light.matrixWorld).negate())}}]),n}(si),vf=function(e){Object(u.a)(n,e);var t=Object(c.a)(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:10,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:4473924,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:8947848;Object(d.a)(this,n),a=new Oi(a),o=new Oi(o);for(var s=i/2,l=r/i,u=r/2,c=[],h=[],f=0,p=0,m=-u;f<=i;f++,m+=l){c.push(-u,0,m,u,0,m),c.push(m,0,-u,m,0,u);var v=f===s?a:o;v.toArray(h,p),p+=3,v.toArray(h,p),p+=3,v.toArray(h,p),p+=3,v.toArray(h,p),p+=3}var g=new ia;g.setAttribute("position",new Wi(c,3)),g.setAttribute("color",new Wi(h,3));var y=new kl({vertexColors:!0,toneMapped:!1});return(e=t.call(this,g,y)).type="GridHelper",e}return n}(Gl),gf=function(e){Object(u.a)(n,e);var t=Object(c.a)(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:10,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:16,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:8,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:64,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:4473924,l=arguments.length>5&&void 0!==arguments[5]?arguments[5]:8947848;Object(d.a)(this,n),s=new Oi(s),l=new Oi(l);for(var u=[],c=[],h=0;h<=i;h++){var f=h/i*(2*Math.PI),p=Math.sin(f)*r,m=Math.cos(f)*r;u.push(0,0,0),u.push(p,0,m);var v=1&h?s:l;c.push(v.r,v.g,v.b),c.push(v.r,v.g,v.b)}for(var g=0;g<=a;g++)for(var y=1&g?s:l,b=r-r/a*g,x=0;x<o;x++){var w=x/o*(2*Math.PI),M=Math.sin(w)*b,_=Math.cos(w)*b;u.push(M,0,_),c.push(y.r,y.g,y.b),w=(x+1)/o*(2*Math.PI),M=Math.sin(w)*b,_=Math.cos(w)*b,u.push(M,0,_),c.push(y.r,y.g,y.b)}var S=new ia;S.setAttribute("position",new Wi(u,3)),S.setAttribute("color",new Wi(c,3));var E=new kl({vertexColors:!0,toneMapped:!1});return(e=t.call(this,S,E)).type="PolarGridHelper",e}return n}(Gl),yf=new lr,bf=new lr,xf=new lr,wf=function(e){Object(u.a)(n,e);var t=Object(c.a)(n);function n(e,r,i){var a;Object(d.a)(this,n),(a=t.call(this)).light=e,a.light.updateMatrixWorld(),a.matrix=e.matrixWorld,a.matrixAutoUpdate=!1,a.color=i,void 0===r&&(r=1);var o=new ia;o.setAttribute("position",new Wi([-r,r,0,r,r,0,r,-r,0,-r,-r,0,-r,r,0],3));var s=new kl({fog:!1,toneMapped:!1});return a.lightPlane=new Nl(o,s),a.add(a.lightPlane),(o=new ia).setAttribute("position",new Wi([0,0,0,0,0,1],3)),a.targetLine=new Nl(o,s),a.add(a.targetLine),a.update(),a}return Object(h.a)(n,[{key:"dispose",value:function(){this.lightPlane.geometry.dispose(),this.lightPlane.material.dispose(),this.targetLine.geometry.dispose(),this.targetLine.material.dispose()}},{key:"update",value:function(){yf.setFromMatrixPosition(this.light.matrixWorld),bf.setFromMatrixPosition(this.light.target.matrixWorld),xf.subVectors(bf,yf),this.lightPlane.lookAt(bf),void 0!==this.color?(this.lightPlane.material.color.set(this.color),this.targetLine.material.color.set(this.color)):(this.lightPlane.material.color.copy(this.light.color),this.targetLine.material.color.copy(this.light.color)),this.targetLine.lookAt(bf),this.targetLine.scale.z=xf.length()}}]),n}(si),Mf=new lr,_f=new ka,Sf=function(e){Object(u.a)(n,e);var t=Object(c.a)(n);function n(e){var r;Object(d.a)(this,n);var i=new ia,a=new kl({color:16777215,vertexColors:!0,toneMapped:!1}),o=[],s=[],l={},u=new Oi(16755200),c=new Oi(16711680),h=new Oi(43775),f=new Oi(16777215),p=new Oi(3355443);function m(e,t,n){v(e,n),v(t,n)}function v(e,t){o.push(0,0,0),s.push(t.r,t.g,t.b),void 0===l[e]&&(l[e]=[]),l[e].push(o.length/3-1)}return m("n1","n2",u),m("n2","n4",u),m("n4","n3",u),m("n3","n1",u),m("f1","f2",u),m("f2","f4",u),m("f4","f3",u),m("f3","f1",u),m("n1","f1",u),m("n2","f2",u),m("n3","f3",u),m("n4","f4",u),m("p","n1",c),m("p","n2",c),m("p","n3",c),m("p","n4",c),m("u1","u2",h),m("u2","u3",h),m("u3","u1",h),m("c","t",f),m("p","c",p),m("cn1","cn2",p),m("cn3","cn4",p),m("cf1","cf2",p),m("cf3","cf4",p),i.setAttribute("position",new Wi(o,3)),i.setAttribute("color",new Wi(s,3)),(r=t.call(this,i,a)).type="CameraHelper",r.camera=e,r.camera.updateProjectionMatrix&&r.camera.updateProjectionMatrix(),r.matrix=e.matrixWorld,r.matrixAutoUpdate=!1,r.pointMap=l,r.update(),r}return Object(h.a)(n,[{key:"update",value:function(){var e=this.geometry,t=this.pointMap;_f.projectionMatrixInverse.copy(this.camera.projectionMatrixInverse),Ef("c",t,e,_f,0,0,-1),Ef("t",t,e,_f,0,0,1),Ef("n1",t,e,_f,-1,-1,-1),Ef("n2",t,e,_f,1,-1,-1),Ef("n3",t,e,_f,-1,1,-1),Ef("n4",t,e,_f,1,1,-1),Ef("f1",t,e,_f,-1,-1,1),Ef("f2",t,e,_f,1,-1,1),Ef("f3",t,e,_f,-1,1,1),Ef("f4",t,e,_f,1,1,1),Ef("u1",t,e,_f,.7,1.1,-1),Ef("u2",t,e,_f,-.7,1.1,-1),Ef("u3",t,e,_f,0,2,-1),Ef("cf1",t,e,_f,-1,0,1),Ef("cf2",t,e,_f,1,0,1),Ef("cf3",t,e,_f,0,-1,1),Ef("cf4",t,e,_f,0,1,1),Ef("cn1",t,e,_f,-1,0,-1),Ef("cn2",t,e,_f,1,0,-1),Ef("cn3",t,e,_f,0,-1,-1),Ef("cn4",t,e,_f,0,1,-1),e.getAttribute("position").needsUpdate=!0}}]),n}(Gl);function Ef(e,t,n,r,i,a,o){Mf.set(i,a,o).unproject(r);var s=t[e];if(void 0!==s)for(var l=n.getAttribute("position"),u=0,c=s.length;u<c;u++)l.setXYZ(s[u],Mf.x,Mf.y,Mf.z)}var Tf,Af,Rf=new dr,Of=function(e){Object(u.a)(n,e);var t=Object(c.a)(n);function n(e){var r,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:16776960;Object(d.a)(this,n);var a=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),o=new Float32Array(24),s=new ia;return s.setIndex(new Ni(a,1)),s.setAttribute("position",new Ni(o,3)),(r=t.call(this,s,new kl({color:i,toneMapped:!1}))).object=e,r.type="BoxHelper",r.matrixAutoUpdate=!1,r.update(),r}return Object(h.a)(n,[{key:"update",value:function(e){if(void 0!==e&&console.warn("THREE.BoxHelper: .update() has no longer arguments."),void 0!==this.object&&Rf.setFromObject(this.object),!Rf.isEmpty()){var t=Rf.min,n=Rf.max,r=this.geometry.attributes.position,i=r.array;i[0]=n.x,i[1]=n.y,i[2]=n.z,i[3]=t.x,i[4]=n.y,i[5]=n.z,i[6]=t.x,i[7]=t.y,i[8]=n.z,i[9]=n.x,i[10]=t.y,i[11]=n.z,i[12]=n.x,i[13]=n.y,i[14]=t.z,i[15]=t.x,i[16]=n.y,i[17]=t.z,i[18]=t.x,i[19]=t.y,i[20]=t.z,i[21]=n.x,i[22]=t.y,i[23]=t.z,r.needsUpdate=!0,this.geometry.computeBoundingSphere()}}},{key:"setFromObject",value:function(e){return this.object=e,this.update(),this}},{key:"copy",value:function(e){return Gl.prototype.copy.call(this,e),this.object=e.object,this}}]),n}(Gl),kf=function(e){Object(u.a)(n,e);var t=Object(c.a)(n);function n(e){var r,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:16776960;Object(d.a)(this,n);var a=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),o=[1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,-1,-1,1,-1,-1,-1,-1,1,-1,-1],s=new ia;return s.setIndex(new Ni(a,1)),s.setAttribute("position",new Wi(o,3)),(r=t.call(this,s,new kl({color:i,toneMapped:!1}))).box=e,r.type="Box3Helper",r.geometry.computeBoundingSphere(),r}return Object(h.a)(n,[{key:"updateMatrixWorld",value:function(e){var t=this.box;t.isEmpty()||(t.getCenter(this.position),t.getSize(this.scale),this.scale.multiplyScalar(.5),Object(a.a)(Object(o.a)(n.prototype),"updateMatrixWorld",this).call(this,e))}}]),n}(Gl),If=function(e){Object(u.a)(n,e);var t=Object(c.a)(n);function n(e){var r,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:16776960;Object(d.a)(this,n);var o=a,s=[1,-1,1,-1,1,1,-1,-1,1,1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,1,0,0,1,0,0,0],l=new ia;l.setAttribute("position",new Wi(s,3)),l.computeBoundingSphere(),(r=t.call(this,l,new kl({color:o,toneMapped:!1}))).type="PlaneHelper",r.plane=e,r.size=i;var u=[1,1,1,-1,1,1,-1,-1,1,1,1,1,-1,-1,1,1,-1,1],c=new ia;return c.setAttribute("position",new Wi(u,3)),c.computeBoundingSphere(),r.add(new Ma(c,new Di({color:o,opacity:.2,transparent:!0,depthWrite:!1,toneMapped:!1}))),r}return Object(h.a)(n,[{key:"updateMatrixWorld",value:function(e){var t=-this.plane.constant;Math.abs(t)<1e-8&&(t=1e-8),this.scale.set(.5*this.size,.5*this.size,t),this.children[0].material.side=t<0?E:S,this.lookAt(this.plane.normal),Object(a.a)(Object(o.a)(n.prototype),"updateMatrixWorld",this).call(this,e)}}]),n}(Nl),Cf=new lr,Df=function(e){Object(u.a)(n,e);var t=Object(c.a)(n);function n(e,r,i,a,o,s){var l;return Object(d.a)(this,n),(l=t.call(this)).type="ArrowHelper",void 0===e&&(e=new lr(0,0,1)),void 0===r&&(r=new lr(0,0,0)),void 0===i&&(i=1),void 0===a&&(a=16776960),void 0===o&&(o=.2*i),void 0===s&&(s=.2*o),void 0===Tf&&((Tf=new ia).setAttribute("position",new Wi([0,0,0,0,1,0],3)),(Af=new ou(0,.5,1,5,1)).translate(0,-.5,0)),l.position.copy(r),l.line=new Nl(Tf,new kl({color:a,toneMapped:!1})),l.line.matrixAutoUpdate=!1,l.add(l.line),l.cone=new Ma(Af,new Di({color:a,toneMapped:!1})),l.cone.matrixAutoUpdate=!1,l.add(l.cone),l.setDirection(e),l.setLength(i,o,s),l}return Object(h.a)(n,[{key:"setDirection",value:function(e){if(e.y>.99999)this.quaternion.set(0,0,0,1);else if(e.y<-.99999)this.quaternion.set(1,0,0,0);else{Cf.set(e.z,0,-e.x).normalize();var t=Math.acos(e.y);this.quaternion.setFromAxisAngle(Cf,t)}}},{key:"setLength",value:function(e,t,n){void 0===t&&(t=.2*e),void 0===n&&(n=.2*t),this.line.scale.set(1,Math.max(1e-4,e-t),1),this.line.updateMatrix(),this.cone.scale.set(n,t,n),this.cone.position.y=e,this.cone.updateMatrix()}},{key:"setColor",value:function(e){this.line.material.color.set(e),this.cone.material.color.set(e)}},{key:"copy",value:function(e){return Object(a.a)(Object(o.a)(n.prototype),"copy",this).call(this,e,!1),this.line.copy(e.line),this.cone.copy(e.cone),this}}]),n}(si),Lf=function(e){Object(u.a)(n,e);var t=Object(c.a)(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;Object(d.a)(this,n);var i=[0,0,0,r,0,0,0,0,0,0,r,0,0,0,0,0,0,r],a=[1,0,0,1,.6,0,0,1,0,.6,1,0,0,0,1,0,.6,1],o=new ia;o.setAttribute("position",new Wi(i,3)),o.setAttribute("color",new Wi(a,3));var s=new kl({vertexColors:!0,toneMapped:!1});return(e=t.call(this,o,s)).type="AxesHelper",e}return n}(Gl),Pf=new Float32Array(1),Nf=new Int32Array(Pf.buffer),jf={toHalfFloat:function(e){Pf[0]=e;var t=Nf[0],n=t>>16&32768,r=t>>12&2047,i=t>>23&255;return i<103?n:i>142?(n|=31744,n|=(255==i?0:1)&&8388607&t):i<113?n|=((r|=2048)>>114-i)+(r>>113-i&1):(n|=i-112<<10|r>>1,n+=1&r)}},Ff=Math.pow(2,8),Gf=[.125,.215,.35,.446,.526,.582],Uf=5+Gf.length,zf=20,Bf=(r={},Object(s.a)(r,sn,0),Object(s.a)(r,ln,1),Object(s.a)(r,cn,2),Object(s.a)(r,hn,3),Object(s.a)(r,fn,4),Object(s.a)(r,pn,5),Object(s.a)(r,un,6),r),Vf=new jd,Hf=ep(),Wf=Hf._lodPlanes,Xf=Hf._sizeLods,qf=Hf._sigmas,Yf=null,Qf=(1+Math.sqrt(5))/2,Zf=1/Qf,$f=[new lr(1,1,1),new lr(-1,1,1),new lr(1,1,-1),new lr(-1,1,-1),new lr(0,Qf,Zf),new lr(0,Qf,-Zf),new lr(Zf,0,Qf),new lr(-Zf,0,Qf),new lr(Qf,Zf,0),new lr(-Qf,Zf,0)],Kf=function(){function e(t){Object(d.a)(this,e),this._renderer=t,this._pingPongRenderTarget=null,this._blurMaterial=function(e){var t=new Float32Array(e),n=new lr(0,1,0);return new Sc({name:"SphericalGaussianBlur",defines:{n:e},uniforms:{envMap:{value:null},samples:{value:1},weights:{value:t},latitudinal:{value:!1},dTheta:{value:0},mipInt:{value:0},poleAxis:{value:n},inputEncoding:{value:Bf[sn]},outputEncoding:{value:Bf[sn]}},vertexShader:"\n\n\t\tprecision mediump float;\n\t\tprecision mediump int;\n\n\t\tattribute vec3 position;\n\t\tattribute vec2 uv;\n\t\tattribute float faceIndex;\n\n\t\tvarying vec3 vOutputDirection;\n\n\t\t// RH coordinate system; PMREM face-indexing convention\n\t\tvec3 getDirection( vec2 uv, float face ) {\n\n\t\t\tuv = 2.0 * uv - 1.0;\n\n\t\t\tvec3 direction = vec3( uv, 1.0 );\n\n\t\t\tif ( face == 0.0 ) {\n\n\t\t\t\tdirection = direction.zyx; // ( 1, v, u ) pos x\n\n\t\t\t} else if ( face == 1.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xz *= -1.0; // ( -u, 1, -v ) pos y\n\n\t\t\t} else if ( face == 2.0 ) {\n\n\t\t\t\tdirection.x *= -1.0; // ( -u, v, 1 ) pos z\n\n\t\t\t} else if ( face == 3.0 ) {\n\n\t\t\t\tdirection = direction.zyx;\n\t\t\t\tdirection.xz *= -1.0; // ( -1, v, -u ) neg x\n\n\t\t\t} else if ( face == 4.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xy *= -1.0; // ( -u, -1, v ) neg y\n\n\t\t\t} else if ( face == 5.0 ) {\n\n\t\t\t\tdirection.z *= -1.0; // ( u, v, -1 ) neg z\n\n\t\t\t}\n\n\t\t\treturn direction;\n\n\t\t}\n\n\t\tvoid main() {\n\n\t\t\tvOutputDirection = getDirection( uv, faceIndex );\n\t\t\tgl_Position = vec4( position, 1.0 );\n\n\t\t}\n\t",fragmentShader:"\n\n\t\t\tprecision mediump float;\n\t\t\tprecision mediump int;\n\n\t\t\tvarying vec3 vOutputDirection;\n\n\t\t\tuniform sampler2D envMap;\n\t\t\tuniform int samples;\n\t\t\tuniform float weights[ n ];\n\t\t\tuniform bool latitudinal;\n\t\t\tuniform float dTheta;\n\t\t\tuniform float mipInt;\n\t\t\tuniform vec3 poleAxis;\n\n\t\t\t".concat("\n\n\t\tuniform int inputEncoding;\n\t\tuniform int outputEncoding;\n\n\t\t#include <encodings_pars_fragment>\n\n\t\tvec4 inputTexelToLinear( vec4 value ) {\n\n\t\t\tif ( inputEncoding == 0 ) {\n\n\t\t\t\treturn value;\n\n\t\t\t} else if ( inputEncoding == 1 ) {\n\n\t\t\t\treturn sRGBToLinear( value );\n\n\t\t\t} else if ( inputEncoding == 2 ) {\n\n\t\t\t\treturn RGBEToLinear( value );\n\n\t\t\t} else if ( inputEncoding == 3 ) {\n\n\t\t\t\treturn RGBMToLinear( value, 7.0 );\n\n\t\t\t} else if ( inputEncoding == 4 ) {\n\n\t\t\t\treturn RGBMToLinear( value, 16.0 );\n\n\t\t\t} else if ( inputEncoding == 5 ) {\n\n\t\t\t\treturn RGBDToLinear( value, 256.0 );\n\n\t\t\t} else {\n\n\t\t\t\treturn GammaToLinear( value, 2.2 );\n\n\t\t\t}\n\n\t\t}\n\n\t\tvec4 linearToOutputTexel( vec4 value ) {\n\n\t\t\tif ( outputEncoding == 0 ) {\n\n\t\t\t\treturn value;\n\n\t\t\t} else if ( outputEncoding == 1 ) {\n\n\t\t\t\treturn LinearTosRGB( value );\n\n\t\t\t} else if ( outputEncoding == 2 ) {\n\n\t\t\t\treturn LinearToRGBE( value );\n\n\t\t\t} else if ( outputEncoding == 3 ) {\n\n\t\t\t\treturn LinearToRGBM( value, 7.0 );\n\n\t\t\t} else if ( outputEncoding == 4 ) {\n\n\t\t\t\treturn LinearToRGBM( value, 16.0 );\n\n\t\t\t} else if ( outputEncoding == 5 ) {\n\n\t\t\t\treturn LinearToRGBD( value, 256.0 );\n\n\t\t\t} else {\n\n\t\t\t\treturn LinearToGamma( value, 2.2 );\n\n\t\t\t}\n\n\t\t}\n\n\t\tvec4 envMapTexelToLinear( vec4 color ) {\n\n\t\t\treturn inputTexelToLinear( color );\n\n\t\t}\n\t","\n\n\t\t\t#define ENVMAP_TYPE_CUBE_UV\n\t\t\t#include <cube_uv_reflection_fragment>\n\n\t\t\tvec3 getSample( float theta, vec3 axis ) {\n\n\t\t\t\tfloat cosTheta = cos( theta );\n\t\t\t\t// Rodrigues' axis-angle rotation\n\t\t\t\tvec3 sampleDirection = vOutputDirection * cosTheta\n\t\t\t\t\t+ cross( axis, vOutputDirection ) * sin( theta )\n\t\t\t\t\t+ axis * dot( axis, vOutputDirection ) * ( 1.0 - cosTheta );\n\n\t\t\t\treturn bilinearCubeUV( envMap, sampleDirection, mipInt );\n\n\t\t\t}\n\n\t\t\tvoid main() {\n\n\t\t\t\tvec3 axis = latitudinal ? poleAxis : cross( poleAxis, vOutputDirection );\n\n\t\t\t\tif ( all( equal( axis, vec3( 0.0 ) ) ) ) {\n\n\t\t\t\t\taxis = vec3( vOutputDirection.z, 0.0, - vOutputDirection.x );\n\n\t\t\t\t}\n\n\t\t\t\taxis = normalize( axis );\n\n\t\t\t\tgl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );\n\t\t\t\tgl_FragColor.rgb += weights[ 0 ] * getSample( 0.0, axis );\n\n\t\t\t\tfor ( int i = 1; i < n; i++ ) {\n\n\t\t\t\t\tif ( i >= samples ) {\n\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t}\n\n\t\t\t\t\tfloat theta = dTheta * float( i );\n\t\t\t\t\tgl_FragColor.rgb += weights[ i ] * getSample( -1.0 * theta, axis );\n\t\t\t\t\tgl_FragColor.rgb += weights[ i ] * getSample( theta, axis );\n\n\t\t\t\t}\n\n\t\t\t\tgl_FragColor = linearToOutputTexel( gl_FragColor );\n\n\t\t\t}\n\t\t"),blending:O,depthTest:!1,depthWrite:!1})}(zf),this._equirectShader=null,this._cubemapShader=null,this._compileMaterial(this._blurMaterial)}return Object(h.a)(e,[{key:"fromScene",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:.1,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:100;Yf=this._renderer.getRenderTarget();var i=this._allocateTargets();return this._sceneToCubeUV(e,n,r,i),t>0&&this._blur(i,0,0,t),this._applyPMREM(i),this._cleanup(i),i}},{key:"fromEquirectangular",value:function(e){return this._fromTexture(e)}},{key:"fromCubemap",value:function(e){return this._fromTexture(e)}},{key:"compileCubemapShader",value:function(){null===this._cubemapShader&&(this._cubemapShader=ip(),this._compileMaterial(this._cubemapShader))}},{key:"compileEquirectangularShader",value:function(){null===this._equirectShader&&(this._equirectShader=rp(),this._compileMaterial(this._equirectShader))}},{key:"dispose",value:function(){this._blurMaterial.dispose(),null!==this._cubemapShader&&this._cubemapShader.dispose(),null!==this._equirectShader&&this._equirectShader.dispose();for(var e=0;e<Wf.length;e++)Wf[e].dispose()}},{key:"_cleanup",value:function(e){this._pingPongRenderTarget.dispose(),this._renderer.setRenderTarget(Yf),e.scissorTest=!1,np(e,0,0,e.width,e.height)}},{key:"_fromTexture",value:function(e){Yf=this._renderer.getRenderTarget();var t=this._allocateTargets(e);return this._textureToCubeUV(e,t),this._applyPMREM(t),this._cleanup(t),t}},{key:"_allocateTargets",value:function(e){var t={magFilter:Se,minFilter:Se,generateMipmaps:!1,type:Le,format:$e,encoding:Jf(e)?e.encoding:cn,depthBuffer:!1},n=tp(t);return n.depthBuffer=!e,this._pingPongRenderTarget=tp(t),n}},{key:"_compileMaterial",value:function(e){var t=new Ma(Wf[0],e);this._renderer.compile(t,Vf)}},{key:"_sceneToCubeUV",value:function(e,t,n,r){var i=new Ia(90,1,t,n),a=[1,-1,1,1,1,1],o=[1,1,1,-1,-1,-1],s=this._renderer,l=s.outputEncoding,u=s.toneMapping,c=s.getClearColor(),d=s.getClearAlpha();s.toneMapping=le,s.outputEncoding=sn;var h=e.background;if(h&&h.isColor){h.convertSRGBToLinear();var f=Math.max(h.r,h.g,h.b),p=Math.min(Math.max(Math.ceil(Math.log2(f)),-128),127);h=h.multiplyScalar(Math.pow(2,-p));var m=(p+128)/255;s.setClearColor(h,m),e.background=null}for(var v=0;v<6;v++){var g=v%3;0==g?(i.up.set(0,a[v],0),i.lookAt(o[v],0,0)):1==g?(i.up.set(0,0,a[v]),i.lookAt(0,o[v],0)):(i.up.set(0,a[v],0),i.lookAt(0,0,o[v])),np(r,g*Ff,v>2?Ff:0,Ff,Ff),s.setRenderTarget(r),s.render(e,i)}s.toneMapping=u,s.outputEncoding=l,s.setClearColor(c,d)}},{key:"_textureToCubeUV",value:function(e,t){var n=this._renderer;e.isCubeTexture?null==this._cubemapShader&&(this._cubemapShader=ip()):null==this._equirectShader&&(this._equirectShader=rp());var r=e.isCubeTexture?this._cubemapShader:this._equirectShader,i=new Ma(Wf[0],r),a=r.uniforms;a.envMap.value=e,e.isCubeTexture||a.texelSize.value.set(1/e.image.width,1/e.image.height),a.inputEncoding.value=Bf[e.encoding],a.outputEncoding.value=Bf[t.texture.encoding],np(t,0,0,3*Ff,2*Ff),n.setRenderTarget(t),n.render(i,Vf)}},{key:"_applyPMREM",value:function(e){var t=this._renderer,n=t.autoClear;t.autoClear=!1;for(var r=1;r<Uf;r++){var i=Math.sqrt(qf[r]*qf[r]-qf[r-1]*qf[r-1]),a=$f[(r-1)%$f.length];this._blur(e,r-1,r,i,a)}t.autoClear=n}},{key:"_blur",value:function(e,t,n,r,i){var a=this._pingPongRenderTarget;this._halfBlur(e,a,t,n,r,"latitudinal",i),this._halfBlur(a,e,n,n,r,"longitudinal",i)}},{key:"_halfBlur",value:function(e,t,n,r,i,a,o){var s=this._renderer,l=this._blurMaterial;"latitudinal"!==a&&"longitudinal"!==a&&console.error("blur direction must be either latitudinal or longitudinal!");var u=new Ma(Wf[r],l),c=l.uniforms,d=Xf[n]-1,h=isFinite(i)?Math.PI/(2*d):2*Math.PI/39,f=i/h,p=isFinite(i)?1+Math.floor(3*f):zf;p>zf&&console.warn("sigmaRadians, ".concat(i,", is too large and will clip, as it requested ").concat(p," samples when the maximum is set to ").concat(zf));for(var m=[],v=0,g=0;g<zf;++g){var y=g/f,b=Math.exp(-y*y/2);m.push(b),0==g?v+=b:g<p&&(v+=2*b)}for(var x=0;x<m.length;x++)m[x]=m[x]/v;c.envMap.value=e.texture,c.samples.value=p,c.weights.value=m,c.latitudinal.value="latitudinal"===a,o&&(c.poleAxis.value=o),c.dTheta.value=h,c.mipInt.value=8-n,c.inputEncoding.value=Bf[e.texture.encoding],c.outputEncoding.value=Bf[e.texture.encoding];var w=Xf[r];np(t,3*Math.max(0,Ff-2*w),(0===r?0:2*Ff)+2*w*(r>4?r-8+4:0),3*w,2*w),s.setRenderTarget(t),s.render(u,Vf)}}]),e}();function Jf(e){return void 0!==e&&e.type===Le&&(e.encoding===sn||e.encoding===ln||e.encoding===un)}function ep(){for(var e=[],t=[],n=[],r=8,i=0;i<Uf;i++){var a=Math.pow(2,r);t.push(a);var o=1/a;i>4?o=Gf[i-8+4-1]:0==i&&(o=0),n.push(o);for(var s=1/(a-1),l=-s/2,u=1+s/2,c=[l,l,u,l,u,u,l,l,u,u,l,u],d=new Float32Array(108),h=new Float32Array(72),f=new Float32Array(36),p=0;p<6;p++){var m=p%3*2/3-1,v=p>2?0:-1,g=[m,v,0,m+2/3,v,0,m+2/3,v+1,0,m,v,0,m+2/3,v+1,0,m,v+1,0];d.set(g,18*p),h.set(c,12*p);var y=[p,p,p,p,p,p];f.set(y,6*p)}var b=new ia;b.setAttribute("position",new Ni(d,3)),b.setAttribute("uv",new Ni(h,2)),b.setAttribute("faceIndex",new Ni(f,1)),e.push(b),r>4&&r--}return{_lodPlanes:e,_sizeLods:t,_sigmas:n}}function tp(e){var t=new ar(3*Ff,3*Ff,e);return t.texture.mapping=be,t.texture.name="PMREM.cubeUv",t.scissorTest=!0,t}function np(e,t,n,r,i){e.viewport.set(t,n,r,i),e.scissor.set(t,n,r,i)}function rp(){return new Sc({name:"EquirectangularToCubeUV",uniforms:{envMap:{value:null},texelSize:{value:new Kn(1,1)},inputEncoding:{value:Bf[sn]},outputEncoding:{value:Bf[sn]}},vertexShader:"\n\n\t\tprecision mediump float;\n\t\tprecision mediump int;\n\n\t\tattribute vec3 position;\n\t\tattribute vec2 uv;\n\t\tattribute float faceIndex;\n\n\t\tvarying vec3 vOutputDirection;\n\n\t\t// RH coordinate system; PMREM face-indexing convention\n\t\tvec3 getDirection( vec2 uv, float face ) {\n\n\t\t\tuv = 2.0 * uv - 1.0;\n\n\t\t\tvec3 direction = vec3( uv, 1.0 );\n\n\t\t\tif ( face == 0.0 ) {\n\n\t\t\t\tdirection = direction.zyx; // ( 1, v, u ) pos x\n\n\t\t\t} else if ( face == 1.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xz *= -1.0; // ( -u, 1, -v ) pos y\n\n\t\t\t} else if ( face == 2.0 ) {\n\n\t\t\t\tdirection.x *= -1.0; // ( -u, v, 1 ) pos z\n\n\t\t\t} else if ( face == 3.0 ) {\n\n\t\t\t\tdirection = direction.zyx;\n\t\t\t\tdirection.xz *= -1.0; // ( -1, v, -u ) neg x\n\n\t\t\t} else if ( face == 4.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xy *= -1.0; // ( -u, -1, v ) neg y\n\n\t\t\t} else if ( face == 5.0 ) {\n\n\t\t\t\tdirection.z *= -1.0; // ( u, v, -1 ) neg z\n\n\t\t\t}\n\n\t\t\treturn direction;\n\n\t\t}\n\n\t\tvoid main() {\n\n\t\t\tvOutputDirection = getDirection( uv, faceIndex );\n\t\t\tgl_Position = vec4( position, 1.0 );\n\n\t\t}\n\t",fragmentShader:"\n\n\t\t\tprecision mediump float;\n\t\t\tprecision mediump int;\n\n\t\t\tvarying vec3 vOutputDirection;\n\n\t\t\tuniform sampler2D envMap;\n\t\t\tuniform vec2 texelSize;\n\n\t\t\t".concat("\n\n\t\tuniform int inputEncoding;\n\t\tuniform int outputEncoding;\n\n\t\t#include <encodings_pars_fragment>\n\n\t\tvec4 inputTexelToLinear( vec4 value ) {\n\n\t\t\tif ( inputEncoding == 0 ) {\n\n\t\t\t\treturn value;\n\n\t\t\t} else if ( inputEncoding == 1 ) {\n\n\t\t\t\treturn sRGBToLinear( value );\n\n\t\t\t} else if ( inputEncoding == 2 ) {\n\n\t\t\t\treturn RGBEToLinear( value );\n\n\t\t\t} else if ( inputEncoding == 3 ) {\n\n\t\t\t\treturn RGBMToLinear( value, 7.0 );\n\n\t\t\t} else if ( inputEncoding == 4 ) {\n\n\t\t\t\treturn RGBMToLinear( value, 16.0 );\n\n\t\t\t} else if ( inputEncoding == 5 ) {\n\n\t\t\t\treturn RGBDToLinear( value, 256.0 );\n\n\t\t\t} else {\n\n\t\t\t\treturn GammaToLinear( value, 2.2 );\n\n\t\t\t}\n\n\t\t}\n\n\t\tvec4 linearToOutputTexel( vec4 value ) {\n\n\t\t\tif ( outputEncoding == 0 ) {\n\n\t\t\t\treturn value;\n\n\t\t\t} else if ( outputEncoding == 1 ) {\n\n\t\t\t\treturn LinearTosRGB( value );\n\n\t\t\t} else if ( outputEncoding == 2 ) {\n\n\t\t\t\treturn LinearToRGBE( value );\n\n\t\t\t} else if ( outputEncoding == 3 ) {\n\n\t\t\t\treturn LinearToRGBM( value, 7.0 );\n\n\t\t\t} else if ( outputEncoding == 4 ) {\n\n\t\t\t\treturn LinearToRGBM( value, 16.0 );\n\n\t\t\t} else if ( outputEncoding == 5 ) {\n\n\t\t\t\treturn LinearToRGBD( value, 256.0 );\n\n\t\t\t} else {\n\n\t\t\t\treturn LinearToGamma( value, 2.2 );\n\n\t\t\t}\n\n\t\t}\n\n\t\tvec4 envMapTexelToLinear( vec4 color ) {\n\n\t\t\treturn inputTexelToLinear( color );\n\n\t\t}\n\t","\n\n\t\t\t#include <common>\n\n\t\t\tvoid main() {\n\n\t\t\t\tgl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );\n\n\t\t\t\tvec3 outputDirection = normalize( vOutputDirection );\n\t\t\t\tvec2 uv = equirectUv( outputDirection );\n\n\t\t\t\tvec2 f = fract( uv / texelSize - 0.5 );\n\t\t\t\tuv -= f * texelSize;\n\t\t\t\tvec3 tl = envMapTexelToLinear( texture2D ( envMap, uv ) ).rgb;\n\t\t\t\tuv.x += texelSize.x;\n\t\t\t\tvec3 tr = envMapTexelToLinear( texture2D ( envMap, uv ) ).rgb;\n\t\t\t\tuv.y += texelSize.y;\n\t\t\t\tvec3 br = envMapTexelToLinear( texture2D ( envMap, uv ) ).rgb;\n\t\t\t\tuv.x -= texelSize.x;\n\t\t\t\tvec3 bl = envMapTexelToLinear( texture2D ( envMap, uv ) ).rgb;\n\n\t\t\t\tvec3 tm = mix( tl, tr, f.x );\n\t\t\t\tvec3 bm = mix( bl, br, f.x );\n\t\t\t\tgl_FragColor.rgb = mix( tm, bm, f.y );\n\n\t\t\t\tgl_FragColor = linearToOutputTexel( gl_FragColor );\n\n\t\t\t}\n\t\t"),blending:O,depthTest:!1,depthWrite:!1})}function ip(){return new Sc({name:"CubemapToCubeUV",uniforms:{envMap:{value:null},inputEncoding:{value:Bf[sn]},outputEncoding:{value:Bf[sn]}},vertexShader:"\n\n\t\tprecision mediump float;\n\t\tprecision mediump int;\n\n\t\tattribute vec3 position;\n\t\tattribute vec2 uv;\n\t\tattribute float faceIndex;\n\n\t\tvarying vec3 vOutputDirection;\n\n\t\t// RH coordinate system; PMREM face-indexing convention\n\t\tvec3 getDirection( vec2 uv, float face ) {\n\n\t\t\tuv = 2.0 * uv - 1.0;\n\n\t\t\tvec3 direction = vec3( uv, 1.0 );\n\n\t\t\tif ( face == 0.0 ) {\n\n\t\t\t\tdirection = direction.zyx; // ( 1, v, u ) pos x\n\n\t\t\t} else if ( face == 1.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xz *= -1.0; // ( -u, 1, -v ) pos y\n\n\t\t\t} else if ( face == 2.0 ) {\n\n\t\t\t\tdirection.x *= -1.0; // ( -u, v, 1 ) pos z\n\n\t\t\t} else if ( face == 3.0 ) {\n\n\t\t\t\tdirection = direction.zyx;\n\t\t\t\tdirection.xz *= -1.0; // ( -1, v, -u ) neg x\n\n\t\t\t} else if ( face == 4.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xy *= -1.0; // ( -u, -1, v ) neg y\n\n\t\t\t} else if ( face == 5.0 ) {\n\n\t\t\t\tdirection.z *= -1.0; // ( u, v, -1 ) neg z\n\n\t\t\t}\n\n\t\t\treturn direction;\n\n\t\t}\n\n\t\tvoid main() {\n\n\t\t\tvOutputDirection = getDirection( uv, faceIndex );\n\t\t\tgl_Position = vec4( position, 1.0 );\n\n\t\t}\n\t",fragmentShader:"\n\n\t\t\tprecision mediump float;\n\t\t\tprecision mediump int;\n\n\t\t\tvarying vec3 vOutputDirection;\n\n\t\t\tuniform samplerCube envMap;\n\n\t\t\t".concat("\n\n\t\tuniform int inputEncoding;\n\t\tuniform int outputEncoding;\n\n\t\t#include <encodings_pars_fragment>\n\n\t\tvec4 inputTexelToLinear( vec4 value ) {\n\n\t\t\tif ( inputEncoding == 0 ) {\n\n\t\t\t\treturn value;\n\n\t\t\t} else if ( inputEncoding == 1 ) {\n\n\t\t\t\treturn sRGBToLinear( value );\n\n\t\t\t} else if ( inputEncoding == 2 ) {\n\n\t\t\t\treturn RGBEToLinear( value );\n\n\t\t\t} else if ( inputEncoding == 3 ) {\n\n\t\t\t\treturn RGBMToLinear( value, 7.0 );\n\n\t\t\t} else if ( inputEncoding == 4 ) {\n\n\t\t\t\treturn RGBMToLinear( value, 16.0 );\n\n\t\t\t} else if ( inputEncoding == 5 ) {\n\n\t\t\t\treturn RGBDToLinear( value, 256.0 );\n\n\t\t\t} else {\n\n\t\t\t\treturn GammaToLinear( value, 2.2 );\n\n\t\t\t}\n\n\t\t}\n\n\t\tvec4 linearToOutputTexel( vec4 value ) {\n\n\t\t\tif ( outputEncoding == 0 ) {\n\n\t\t\t\treturn value;\n\n\t\t\t} else if ( outputEncoding == 1 ) {\n\n\t\t\t\treturn LinearTosRGB( value );\n\n\t\t\t} else if ( outputEncoding == 2 ) {\n\n\t\t\t\treturn LinearToRGBE( value );\n\n\t\t\t} else if ( outputEncoding == 3 ) {\n\n\t\t\t\treturn LinearToRGBM( value, 7.0 );\n\n\t\t\t} else if ( outputEncoding == 4 ) {\n\n\t\t\t\treturn LinearToRGBM( value, 16.0 );\n\n\t\t\t} else if ( outputEncoding == 5 ) {\n\n\t\t\t\treturn LinearToRGBD( value, 256.0 );\n\n\t\t\t} else {\n\n\t\t\t\treturn LinearToGamma( value, 2.2 );\n\n\t\t\t}\n\n\t\t}\n\n\t\tvec4 envMapTexelToLinear( vec4 color ) {\n\n\t\t\treturn inputTexelToLinear( color );\n\n\t\t}\n\t","\n\n\t\t\tvoid main() {\n\n\t\t\t\tgl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );\n\t\t\t\tgl_FragColor.rgb = envMapTexelToLinear( textureCube( envMap, vec3( - vOutputDirection.x, vOutputDirection.yz ) ) ).rgb;\n\t\t\t\tgl_FragColor = linearToOutputTexel( gl_FragColor );\n\n\t\t\t}\n\t\t"),blending:O,depthTest:!1,depthWrite:!1})}function ap(e,t,n,r,i,a,o){return console.warn("THREE.Face4 has been removed. A THREE.Face3 will be created instead."),new ki(e,t,n,i,a,o)}var op=0,sp=1,lp=0,up=1,cp=2;function dp(e){return console.warn("THREE.MeshFaceMaterial has been removed. Use an Array instead."),e}function hp(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return console.warn("THREE.MultiMaterial has been removed. Use an Array instead."),e.isMultiMaterial=!0,e.materials=e,e.clone=function(){return e.slice()},e}function fp(e,t){return console.warn("THREE.PointCloud has been renamed to THREE.Points."),new Xl(e,t)}function pp(e){return console.warn("THREE.Particle has been renamed to THREE.Sprite."),new ml(e)}function mp(e,t){return console.warn("THREE.ParticleSystem has been renamed to THREE.Points."),new Xl(e,t)}function vp(e){return console.warn("THREE.PointCloudMaterial has been renamed to THREE.PointsMaterial."),new zl(e)}function gp(e){return console.warn("THREE.ParticleBasicMaterial has been renamed to THREE.PointsMaterial."),new zl(e)}function yp(e){return console.warn("THREE.ParticleSystemMaterial has been renamed to THREE.PointsMaterial."),new zl(e)}function bp(e,t,n){return console.warn("THREE.Vertex has been removed. Use THREE.Vector3 instead."),new lr(e,t,n)}function xp(e,t){return console.warn("THREE.DynamicBufferAttribute has been removed. Use new THREE.BufferAttribute().setUsage( THREE.DynamicDrawUsage ) instead."),new Ni(e,t).setUsage(Nn)}function wp(e,t){return console.warn("THREE.Int8Attribute has been removed. Use new THREE.Int8BufferAttribute() instead."),new ji(e,t)}function Mp(e,t){return console.warn("THREE.Uint8Attribute has been removed. Use new THREE.Uint8BufferAttribute() instead."),new Fi(e,t)}function _p(e,t){return console.warn("THREE.Uint8ClampedAttribute has been removed. Use new THREE.Uint8ClampedBufferAttribute() instead."),new Gi(e,t)}function Sp(e,t){return console.warn("THREE.Int16Attribute has been removed. Use new THREE.Int16BufferAttribute() instead."),new Ui(e,t)}function Ep(e,t){return console.warn("THREE.Uint16Attribute has been removed. Use new THREE.Uint16BufferAttribute() instead."),new zi(e,t)}function Tp(e,t){return console.warn("THREE.Int32Attribute has been removed. Use new THREE.Int32BufferAttribute() instead."),new Bi(e,t)}function Ap(e,t){return console.warn("THREE.Uint32Attribute has been removed. Use new THREE.Uint32BufferAttribute() instead."),new Vi(e,t)}function Rp(e,t){return console.warn("THREE.Float32Attribute has been removed. Use new THREE.Float32BufferAttribute() instead."),new Wi(e,t)}function Op(e,t){return console.warn("THREE.Float64Attribute has been removed. Use new THREE.Float64BufferAttribute() instead."),new Xi(e,t)}function kp(e){console.warn("THREE.ClosedSplineCurve3 has been deprecated. Use THREE.CatmullRomCurve3 instead."),md.call(this,e),this.type="catmullrom",this.closed=!0}function Ip(e){console.warn("THREE.SplineCurve3 has been deprecated. Use THREE.CatmullRomCurve3 instead."),md.call(this,e),this.type="catmullrom"}function Cp(e){console.warn("THREE.Spline has been removed. Use THREE.CatmullRomCurve3 instead."),md.call(this,e),this.type="catmullrom"}function Dp(e){return console.warn("THREE.AxisHelper has been renamed to THREE.AxesHelper."),new Lf(e)}function Lp(e,t){return console.warn("THREE.BoundingBoxHelper has been deprecated. Creating a THREE.BoxHelper instead."),new Of(e,t)}function Pp(e,t){return console.warn("THREE.EdgesHelper has been removed. Use THREE.EdgesGeometry instead."),new Gl(new gu(e.geometry),new kl({color:void 0!==t?t:16777215}))}function Np(e,t){return console.warn("THREE.WireframeHelper has been removed. Use THREE.WireframeGeometry instead."),new Gl(new wc(e.geometry),new kl({color:void 0!==t?t:16777215}))}function jp(e){return console.warn("THREE.XHRLoader has been renamed to THREE.FileLoader."),new ed(e)}function Fp(e){return console.warn("THREE.BinaryTextureLoader has been renamed to THREE.DataTextureLoader."),new ad(e)}function Gp(e,t,n){return console.warn("THREE.WebGLRenderTargetCube( width, height, options ) is now WebGLCubeRenderTarget( size, options )."),new Pa(e,n)}sd.create=function(e,t){return console.log("THREE.Curve.create() has been deprecated"),e.prototype=Object.create(sd.prototype),e.prototype.constructor=e,e.prototype.getPoint=t,e},Object.assign(Ad.prototype,{createPointsGeometry:function(e){console.warn("THREE.CurvePath: .createPointsGeometry() has been removed. Use new THREE.Geometry().setFromPoints( points ) instead.");var t=this.getPoints(e);return this.createGeometry(t)},createSpacedPointsGeometry:function(e){console.warn("THREE.CurvePath: .createSpacedPointsGeometry() has been removed. Use new THREE.Geometry().setFromPoints( points ) instead.");var t=this.getSpacedPoints(e);return this.createGeometry(t)},createGeometry:function(e){console.warn("THREE.CurvePath: .createGeometry() has been removed. Use new THREE.Geometry().setFromPoints( points ) instead.");for(var t=new nu,n=0,r=e.length;n<r;n++){var i=e[n];t.vertices.push(new lr(i.x,i.y,i.z||0))}return t}}),Object.assign(Rd.prototype,{fromPoints:function(e){return console.warn("THREE.Path: .fromPoints() has been renamed to .setFromPoints()."),this.setFromPoints(e)}}),kp.prototype=Object.create(md.prototype),Ip.prototype=Object.create(md.prototype),Cp.prototype=Object.create(md.prototype),Object.assign(Cp.prototype,{initFromArray:function(){console.error("THREE.Spline: .initFromArray() has been removed.")},getControlPointsArray:function(){console.error("THREE.Spline: .getControlPointsArray() has been removed.")},reparametrizeByArcLength:function(){console.error("THREE.Spline: .reparametrizeByArcLength() has been removed.")}}),vf.prototype.setColors=function(){console.error("THREE.GridHelper: setColors() has been deprecated, pass them in the constructor instead.")},uf.prototype.update=function(){console.error("THREE.SkeletonHelper: update() no longer needs to be called.")},Object.assign(Kc.prototype,{extractUrlBase:function(e){return console.warn("THREE.Loader: .extractUrlBase() has been deprecated. Use THREE.LoaderUtils.extractUrlBase() instead."),Wd.extractUrlBase(e)}}),Kc.Handlers={add:function(){console.error("THREE.Loader: Handlers.add() has been removed. Use LoadingManager.addHandler() instead.")},get:function(){console.error("THREE.Loader: Handlers.get() has been removed. Use LoadingManager.getHandler() instead.")}},Object.assign(Kh.prototype,{center:function(e){return console.warn("THREE.Box2: .center() has been renamed to .getCenter()."),this.getCenter(e)},empty:function(){return console.warn("THREE.Box2: .empty() has been renamed to .isEmpty()."),this.isEmpty()},isIntersectionBox:function(e){return console.warn("THREE.Box2: .isIntersectionBox() has been renamed to .intersectsBox()."),this.intersectsBox(e)},size:function(e){return console.warn("THREE.Box2: .size() has been renamed to .getSize()."),this.getSize(e)}}),Object.assign(dr.prototype,{center:function(e){return console.warn("THREE.Box3: .center() has been renamed to .getCenter()."),this.getCenter(e)},empty:function(){return console.warn("THREE.Box3: .empty() has been renamed to .isEmpty()."),this.isEmpty()},isIntersectionBox:function(e){return console.warn("THREE.Box3: .isIntersectionBox() has been renamed to .intersectsBox()."),this.intersectsBox(e)},isIntersectionSphere:function(e){return console.warn("THREE.Box3: .isIntersectionSphere() has been renamed to .intersectsSphere()."),this.intersectsSphere(e)},size:function(e){return console.warn("THREE.Box3: .size() has been renamed to .getSize()."),this.getSize(e)}}),Object.assign(Ar.prototype,{empty:function(){return console.warn("THREE.Sphere: .empty() has been renamed to .isEmpty()."),this.isEmpty()}}),Ga.prototype.setFromMatrix=function(e){return console.warn("THREE.Frustum: .setFromMatrix() has been renamed to .setFromProjectionMatrix()."),this.setFromProjectionMatrix(e)},tf.prototype.center=function(e){return console.warn("THREE.Line3: .center() has been renamed to .getCenter()."),this.getCenter(e)},Object.assign($n,{random16:function(){return console.warn("THREE.Math: .random16() has been deprecated. Use Math.random() instead."),Math.random()},nearestPowerOfTwo:function(e){return console.warn("THREE.Math: .nearestPowerOfTwo() has been renamed to .floorPowerOfTwo()."),$n.floorPowerOfTwo(e)},nextPowerOfTwo:function(e){return console.warn("THREE.Math: .nextPowerOfTwo() has been renamed to .ceilPowerOfTwo()."),$n.ceilPowerOfTwo(e)}}),Object.assign(Jn.prototype,{flattenToArrayOffset:function(e,t){return console.warn("THREE.Matrix3: .flattenToArrayOffset() has been deprecated. Use .toArray() instead."),this.toArray(e,t)},multiplyVector3:function(e){return console.warn("THREE.Matrix3: .multiplyVector3() has been removed. Use vector.applyMatrix3( matrix ) instead."),e.applyMatrix3(this)},multiplyVector3Array:function(){console.error("THREE.Matrix3: .multiplyVector3Array() has been removed.")},applyToBufferAttribute:function(e){return console.warn("THREE.Matrix3: .applyToBufferAttribute() has been removed. Use attribute.applyMatrix3( matrix ) instead."),e.applyMatrix3(this)},applyToVector3Array:function(){console.error("THREE.Matrix3: .applyToVector3Array() has been removed.")},getInverse:function(e){return console.warn("THREE.Matrix3: .getInverse() has been removed. Use matrixInv.copy( matrix ).invert(); instead."),this.copy(e).invert()}}),Object.assign(Nr.prototype,{extractPosition:function(e){return console.warn("THREE.Matrix4: .extractPosition() has been renamed to .copyPosition()."),this.copyPosition(e)},flattenToArrayOffset:function(e,t){return console.warn("THREE.Matrix4: .flattenToArrayOffset() has been deprecated. Use .toArray() instead."),this.toArray(e,t)},getPosition:function(){return console.warn("THREE.Matrix4: .getPosition() has been removed. Use Vector3.setFromMatrixPosition( matrix ) instead."),(new lr).setFromMatrixColumn(this,3)},setRotationFromQuaternion:function(e){return console.warn("THREE.Matrix4: .setRotationFromQuaternion() has been renamed to .makeRotationFromQuaternion()."),this.makeRotationFromQuaternion(e)},multiplyToArray:function(){console.warn("THREE.Matrix4: .multiplyToArray() has been removed.")},multiplyVector3:function(e){return console.warn("THREE.Matrix4: .multiplyVector3() has been removed. Use vector.applyMatrix4( matrix ) instead."),e.applyMatrix4(this)},multiplyVector4:function(e){return console.warn("THREE.Matrix4: .multiplyVector4() has been removed. Use vector.applyMatrix4( matrix ) instead."),e.applyMatrix4(this)},multiplyVector3Array:function(){console.error("THREE.Matrix4: .multiplyVector3Array() has been removed.")},rotateAxis:function(e){console.warn("THREE.Matrix4: .rotateAxis() has been removed. Use Vector3.transformDirection( matrix ) instead."),e.transformDirection(this)},crossVector:function(e){return console.warn("THREE.Matrix4: .crossVector() has been removed. Use vector.applyMatrix4( matrix ) instead."),e.applyMatrix4(this)},translate:function(){console.error("THREE.Matrix4: .translate() has been removed.")},rotateX:function(){console.error("THREE.Matrix4: .rotateX() has been removed.")},rotateY:function(){console.error("THREE.Matrix4: .rotateY() has been removed.")},rotateZ:function(){console.error("THREE.Matrix4: .rotateZ() has been removed.")},rotateByAxis:function(){console.error("THREE.Matrix4: .rotateByAxis() has been removed.")},applyToBufferAttribute:function(e){return console.warn("THREE.Matrix4: .applyToBufferAttribute() has been removed. Use attribute.applyMatrix4( matrix ) instead."),e.applyMatrix4(this)},applyToVector3Array:function(){console.error("THREE.Matrix4: .applyToVector3Array() has been removed.")},makeFrustum:function(e,t,n,r,i,a){return console.warn("THREE.Matrix4: .makeFrustum() has been removed. Use .makePerspective( left, right, top, bottom, near, far ) instead."),this.makePerspective(e,t,r,n,i,a)},getInverse:function(e){return console.warn("THREE.Matrix4: .getInverse() has been removed. Use matrixInv.copy( matrix ).invert(); instead."),this.copy(e).invert()}}),di.prototype.isIntersectionLine=function(e){return console.warn("THREE.Plane: .isIntersectionLine() has been renamed to .intersectsLine()."),this.intersectsLine(e)},Object.assign(sr.prototype,{multiplyVector3:function(e){return console.warn("THREE.Quaternion: .multiplyVector3() has been removed. Use is now vector.applyQuaternion( quaternion ) instead."),e.applyQuaternion(this)},inverse:function(){return console.warn("THREE.Quaternion: .inverse() has been renamed to invert()."),this.invert()}}),Object.assign(Pr.prototype,{isIntersectionBox:function(e){return console.warn("THREE.Ray: .isIntersectionBox() has been renamed to .intersectsBox()."),this.intersectsBox(e)},isIntersectionPlane:function(e){return console.warn("THREE.Ray: .isIntersectionPlane() has been renamed to .intersectsPlane()."),this.intersectsPlane(e)},isIntersectionSphere:function(e){return console.warn("THREE.Ray: .isIntersectionSphere() has been renamed to .intersectsSphere()."),this.intersectsSphere(e)}}),Object.assign(Mi.prototype,{area:function(){return console.warn("THREE.Triangle: .area() has been renamed to .getArea()."),this.getArea()},barycoordFromPoint:function(e,t){return console.warn("THREE.Triangle: .barycoordFromPoint() has been renamed to .getBarycoord()."),this.getBarycoord(e,t)},midpoint:function(e){return console.warn("THREE.Triangle: .midpoint() has been renamed to .getMidpoint()."),this.getMidpoint(e)},normal:function(e){return console.warn("THREE.Triangle: .normal() has been renamed to .getNormal()."),this.getNormal(e)},plane:function(e){return console.warn("THREE.Triangle: .plane() has been renamed to .getPlane()."),this.getPlane(e)}}),Object.assign(Mi,{barycoordFromPoint:function(e,t,n,r,i){return console.warn("THREE.Triangle: .barycoordFromPoint() has been renamed to .getBarycoord()."),Mi.getBarycoord(e,t,n,r,i)},normal:function(e,t,n,r){return console.warn("THREE.Triangle: .normal() has been renamed to .getNormal()."),Mi.getNormal(e,t,n,r)}}),Object.assign(Od.prototype,{extractAllPoints:function(e){return console.warn("THREE.Shape: .extractAllPoints() has been removed. Use .extractPoints() instead."),this.extractPoints(e)},extrude:function(e){return console.warn("THREE.Shape: .extrude() has been removed. Use ExtrudeGeometry() instead."),new Yu(this,e)},makeGeometry:function(e){return console.warn("THREE.Shape: .makeGeometry() has been removed. Use ShapeGeometry() instead."),new lc(this,e)}}),Object.assign(Kn.prototype,{fromAttribute:function(e,t,n){return console.warn("THREE.Vector2: .fromAttribute() has been renamed to .fromBufferAttribute()."),this.fromBufferAttribute(e,t,n)},distanceToManhattan:function(e){return console.warn("THREE.Vector2: .distanceToManhattan() has been renamed to .manhattanDistanceTo()."),this.manhattanDistanceTo(e)},lengthManhattan:function(){return console.warn("THREE.Vector2: .lengthManhattan() has been renamed to .manhattanLength()."),this.manhattanLength()}}),Object.assign(lr.prototype,{setEulerFromRotationMatrix:function(){console.error("THREE.Vector3: .setEulerFromRotationMatrix() has been removed. Use Euler.setFromRotationMatrix() instead.")},setEulerFromQuaternion:function(){console.error("THREE.Vector3: .setEulerFromQuaternion() has been removed. Use Euler.setFromQuaternion() instead.")},getPositionFromMatrix:function(e){return console.warn("THREE.Vector3: .getPositionFromMatrix() has been renamed to .setFromMatrixPosition()."),this.setFromMatrixPosition(e)},getScaleFromMatrix:function(e){return console.warn("THREE.Vector3: .getScaleFromMatrix() has been renamed to .setFromMatrixScale()."),this.setFromMatrixScale(e)},getColumnFromMatrix:function(e,t){return console.warn("THREE.Vector3: .getColumnFromMatrix() has been renamed to .setFromMatrixColumn()."),this.setFromMatrixColumn(t,e)},applyProjection:function(e){return console.warn("THREE.Vector3: .applyProjection() has been removed. Use .applyMatrix4( m ) instead."),this.applyMatrix4(e)},fromAttribute:function(e,t,n){return console.warn("THREE.Vector3: .fromAttribute() has been renamed to .fromBufferAttribute()."),this.fromBufferAttribute(e,t,n)},distanceToManhattan:function(e){return console.warn("THREE.Vector3: .distanceToManhattan() has been renamed to .manhattanDistanceTo()."),this.manhattanDistanceTo(e)},lengthManhattan:function(){return console.warn("THREE.Vector3: .lengthManhattan() has been renamed to .manhattanLength()."),this.manhattanLength()}}),Object.assign(ir.prototype,{fromAttribute:function(e,t,n){return console.warn("THREE.Vector4: .fromAttribute() has been renamed to .fromBufferAttribute()."),this.fromBufferAttribute(e,t,n)},lengthManhattan:function(){return console.warn("THREE.Vector4: .lengthManhattan() has been renamed to .manhattanLength()."),this.manhattanLength()}}),Object.assign(nu.prototype,{computeTangents:function(){console.error("THREE.Geometry: .computeTangents() has been removed.")},computeLineDistances:function(){console.error("THREE.Geometry: .computeLineDistances() has been removed. Use THREE.Line.computeLineDistances() instead.")},applyMatrix:function(e){return console.warn("THREE.Geometry: .applyMatrix() has been renamed to .applyMatrix4()."),this.applyMatrix4(e)}}),Object.assign(si.prototype,{getChildByName:function(e){return console.warn("THREE.Object3D: .getChildByName() has been renamed to .getObjectByName()."),this.getObjectByName(e)},renderDepth:function(){console.warn("THREE.Object3D: .renderDepth has been removed. Use .renderOrder, instead.")},translate:function(e,t){return console.warn("THREE.Object3D: .translate() has been removed. Use .translateOnAxis( axis, distance ) instead."),this.translateOnAxis(t,e)},getWorldRotation:function(){console.error("THREE.Object3D: .getWorldRotation() has been removed. Use THREE.Object3D.getWorldQuaternion( target ) instead.")},applyMatrix:function(e){return console.warn("THREE.Object3D: .applyMatrix() has been renamed to .applyMatrix4()."),this.applyMatrix4(e)}}),Object.defineProperties(si.prototype,{eulerOrder:{get:function(){return console.warn("THREE.Object3D: .eulerOrder is now .rotation.order."),this.rotation.order},set:function(e){console.warn("THREE.Object3D: .eulerOrder is now .rotation.order."),this.rotation.order=e}},useQuaternion:{get:function(){console.warn("THREE.Object3D: .useQuaternion has been removed. The library now uses quaternions by default.")},set:function(){console.warn("THREE.Object3D: .useQuaternion has been removed. The library now uses quaternions by default.")}}}),Object.assign(Ma.prototype,{setDrawMode:function(){console.error("THREE.Mesh: .setDrawMode() has been removed. The renderer now always assumes THREE.TrianglesDrawMode. Transform your geometry via BufferGeometryUtils.toTrianglesDrawMode() if necessary.")}}),Object.defineProperties(Ma.prototype,{drawMode:{get:function(){return console.error("THREE.Mesh: .drawMode has been removed. The renderer now always assumes THREE.TrianglesDrawMode."),rn},set:function(){console.error("THREE.Mesh: .drawMode has been removed. The renderer now always assumes THREE.TrianglesDrawMode. Transform your geometry via BufferGeometryUtils.toTrianglesDrawMode() if necessary.")}}}),Object.defineProperties(bl.prototype,{objects:{get:function(){return console.warn("THREE.LOD: .objects has been renamed to .levels."),this.levels}}}),Object.defineProperty(Sl.prototype,"useVertexTexture",{get:function(){console.warn("THREE.Skeleton: useVertexTexture has been removed.")},set:function(){console.warn("THREE.Skeleton: useVertexTexture has been removed.")}}),xl.prototype.initBones=function(){console.error("THREE.SkinnedMesh: initBones() has been removed.")},Object.defineProperty(sd.prototype,"__arcLengthDivisions",{get:function(){return console.warn("THREE.Curve: .__arcLengthDivisions is now .arcLengthDivisions."),this.arcLengthDivisions},set:function(e){console.warn("THREE.Curve: .__arcLengthDivisions is now .arcLengthDivisions."),this.arcLengthDivisions=e}}),Ia.prototype.setLens=function(e,t){console.warn("THREE.PerspectiveCamera.setLens is deprecated. Use .setFocalLength and .filmGauge for a photographic setup."),void 0!==t&&(this.filmGauge=t),this.setFocalLength(e)},Object.defineProperties(kd.prototype,{onlyShadow:{set:function(){console.warn("THREE.Light: .onlyShadow has been removed.")}},shadowCameraFov:{set:function(e){console.warn("THREE.Light: .shadowCameraFov is now .shadow.camera.fov."),this.shadow.camera.fov=e}},shadowCameraLeft:{set:function(e){console.warn("THREE.Light: .shadowCameraLeft is now .shadow.camera.left."),this.shadow.camera.left=e}},shadowCameraRight:{set:function(e){console.warn("THREE.Light: .shadowCameraRight is now .shadow.camera.right."),this.shadow.camera.right=e}},shadowCameraTop:{set:function(e){console.warn("THREE.Light: .shadowCameraTop is now .shadow.camera.top."),this.shadow.camera.top=e}},shadowCameraBottom:{set:function(e){console.warn("THREE.Light: .shadowCameraBottom is now .shadow.camera.bottom."),this.shadow.camera.bottom=e}},shadowCameraNear:{set:function(e){console.warn("THREE.Light: .shadowCameraNear is now .shadow.camera.near."),this.shadow.camera.near=e}},shadowCameraFar:{set:function(e){console.warn("THREE.Light: .shadowCameraFar is now .shadow.camera.far."),this.shadow.camera.far=e}},shadowCameraVisible:{set:function(){console.warn("THREE.Light: .shadowCameraVisible has been removed. Use new THREE.CameraHelper( light.shadow.camera ) instead.")}},shadowBias:{set:function(e){console.warn("THREE.Light: .shadowBias is now .shadow.bias."),this.shadow.bias=e}},shadowDarkness:{set:function(){console.warn("THREE.Light: .shadowDarkness has been removed.")}},shadowMapWidth:{set:function(e){console.warn("THREE.Light: .shadowMapWidth is now .shadow.mapSize.width."),this.shadow.mapSize.width=e}},shadowMapHeight:{set:function(e){console.warn("THREE.Light: .shadowMapHeight is now .shadow.mapSize.height."),this.shadow.mapSize.height=e}}}),Object.defineProperties(Ni.prototype,{length:{get:function(){return console.warn("THREE.BufferAttribute: .length has been deprecated. Use .count instead."),this.array.length}},dynamic:{get:function(){return console.warn("THREE.BufferAttribute: .dynamic has been deprecated. Use .usage instead."),this.usage===Nn},set:function(){console.warn("THREE.BufferAttribute: .dynamic has been deprecated. Use .usage instead."),this.setUsage(Nn)}}}),Object.assign(Ni.prototype,{setDynamic:function(e){return console.warn("THREE.BufferAttribute: .setDynamic() has been deprecated. Use .setUsage() instead."),this.setUsage(!0===e?Nn:Pn),this},copyIndicesArray:function(){console.error("THREE.BufferAttribute: .copyIndicesArray() has been removed.")},setArray:function(){console.error("THREE.BufferAttribute: .setArray has been removed. Use BufferGeometry .setAttribute to replace/resize attribute buffers")}}),Object.assign(ia.prototype,{addIndex:function(e){console.warn("THREE.BufferGeometry: .addIndex() has been renamed to .setIndex()."),this.setIndex(e)},addAttribute:function(e,t){return console.warn("THREE.BufferGeometry: .addAttribute() has been renamed to .setAttribute()."),t&&t.isBufferAttribute||t&&t.isInterleavedBufferAttribute?"index"===e?(console.warn("THREE.BufferGeometry.addAttribute: Use .setIndex() for index attribute."),this.setIndex(t),this):this.setAttribute(e,t):(console.warn("THREE.BufferGeometry: .addAttribute() now expects ( name, attribute )."),this.setAttribute(e,new Ni(arguments[1],arguments[2])))},addDrawCall:function(e,t,n){void 0!==n&&console.warn("THREE.BufferGeometry: .addDrawCall() no longer supports indexOffset."),console.warn("THREE.BufferGeometry: .addDrawCall() is now .addGroup()."),this.addGroup(e,t)},clearDrawCalls:function(){console.warn("THREE.BufferGeometry: .clearDrawCalls() is now .clearGroups()."),this.clearGroups()},computeTangents:function(){console.warn("THREE.BufferGeometry: .computeTangents() has been removed.")},computeOffsets:function(){console.warn("THREE.BufferGeometry: .computeOffsets() has been removed.")},removeAttribute:function(e){return console.warn("THREE.BufferGeometry: .removeAttribute() has been renamed to .deleteAttribute()."),this.deleteAttribute(e)},applyMatrix:function(e){return console.warn("THREE.BufferGeometry: .applyMatrix() has been renamed to .applyMatrix4()."),this.applyMatrix4(e)}}),Object.defineProperties(ia.prototype,{drawcalls:{get:function(){return console.error("THREE.BufferGeometry: .drawcalls has been renamed to .groups."),this.groups}},offsets:{get:function(){return console.warn("THREE.BufferGeometry: .offsets has been renamed to .groups."),this.groups}}}),Object.defineProperties(Xd.prototype,{maxInstancedCount:{get:function(){return console.warn("THREE.InstancedBufferGeometry: .maxInstancedCount has been renamed to .instanceCount."),this.instanceCount},set:function(e){console.warn("THREE.InstancedBufferGeometry: .maxInstancedCount has been renamed to .instanceCount."),this.instanceCount=e}}}),Object.defineProperties(Xh.prototype,{linePrecision:{get:function(){return console.warn("THREE.Raycaster: .linePrecision has been deprecated. Use .params.Line.threshold instead."),this.params.Line.threshold},set:function(e){console.warn("THREE.Raycaster: .linePrecision has been deprecated. Use .params.Line.threshold instead."),this.params.Line.threshold=e}}}),Object.defineProperties(Ks.prototype,{dynamic:{get:function(){return console.warn("THREE.InterleavedBuffer: .length has been deprecated. Use .usage instead."),this.usage===Nn},set:function(e){console.warn("THREE.InterleavedBuffer: .length has been deprecated. Use .usage instead."),this.setUsage(e)}}}),Object.assign(Ks.prototype,{setDynamic:function(e){return console.warn("THREE.InterleavedBuffer: .setDynamic() has been deprecated. Use .setUsage() instead."),this.setUsage(!0===e?Nn:Pn),this},setArray:function(){console.error("THREE.InterleavedBuffer: .setArray has been removed. Use BufferGeometry .setAttribute to replace/resize attribute buffers")}}),Object.assign(Xu.prototype,{getArrays:function(){console.error("THREE.ExtrudeBufferGeometry: .getArrays() has been removed.")},addShapeList:function(){console.error("THREE.ExtrudeBufferGeometry: .addShapeList() has been removed.")},addShape:function(){console.error("THREE.ExtrudeBufferGeometry: .addShape() has been removed.")}}),Object.assign($s.prototype,{dispose:function(){console.error("THREE.Scene: .dispose() has been removed.")}}),Object.defineProperties(Vh.prototype,{dynamic:{set:function(){console.warn("THREE.Uniform: .dynamic has been removed. Use object.onBeforeRender() instead.")}},onUpdate:{value:function(){return console.warn("THREE.Uniform: .onUpdate() has been removed. Use object.onBeforeRender() instead."),this}}}),Object.defineProperties(Ci.prototype,{wrapAround:{get:function(){console.warn("THREE.Material: .wrapAround has been removed.")},set:function(){console.warn("THREE.Material: .wrapAround has been removed.")}},overdraw:{get:function(){console.warn("THREE.Material: .overdraw has been removed.")},set:function(){console.warn("THREE.Material: .overdraw has been removed.")}},wrapRGB:{get:function(){return console.warn("THREE.Material: .wrapRGB has been removed."),new Oi}},shading:{get:function(){console.error("THREE."+this.type+": .shading has been removed. Use the boolean .flatShading instead.")},set:function(e){console.warn("THREE."+this.type+": .shading has been removed. Use the boolean .flatShading instead."),this.flatShading=e===A}},stencilMask:{get:function(){return console.warn("THREE."+this.type+": .stencilMask has been removed. Use .stencilFuncMask instead."),this.stencilFuncMask},set:function(e){console.warn("THREE."+this.type+": .stencilMask has been removed. Use .stencilFuncMask instead."),this.stencilFuncMask=e}}}),Object.defineProperties(Ac.prototype,{metal:{get:function(){return console.warn("THREE.MeshPhongMaterial: .metal has been removed. Use THREE.MeshStandardMaterial instead."),!1},set:function(){console.warn("THREE.MeshPhongMaterial: .metal has been removed. Use THREE.MeshStandardMaterial instead")}}}),Object.defineProperties(Tc.prototype,{transparency:{get:function(){return console.warn("THREE.MeshPhysicalMaterial: .transparency has been renamed to .transmission."),this.transmission},set:function(e){console.warn("THREE.MeshPhysicalMaterial: .transparency has been renamed to .transmission."),this.transmission=e}}}),Object.defineProperties(Oa.prototype,{derivatives:{get:function(){return console.warn("THREE.ShaderMaterial: .derivatives has been moved to .extensions.derivatives."),this.extensions.derivatives},set:function(e){console.warn("THREE. ShaderMaterial: .derivatives has been moved to .extensions.derivatives."),this.extensions.derivatives=e}}}),Object.assign(qs.prototype,{clearTarget:function(e,t,n,r){console.warn("THREE.WebGLRenderer: .clearTarget() has been deprecated. Use .setRenderTarget() and .clear() instead."),this.setRenderTarget(e),this.clear(t,n,r)},animate:function(e){console.warn("THREE.WebGLRenderer: .animate() is now .setAnimationLoop()."),this.setAnimationLoop(e)},getCurrentRenderTarget:function(){return console.warn("THREE.WebGLRenderer: .getCurrentRenderTarget() is now .getRenderTarget()."),this.getRenderTarget()},getMaxAnisotropy:function(){return console.warn("THREE.WebGLRenderer: .getMaxAnisotropy() is now .capabilities.getMaxAnisotropy()."),this.capabilities.getMaxAnisotropy()},getPrecision:function(){return console.warn("THREE.WebGLRenderer: .getPrecision() is now .capabilities.precision."),this.capabilities.precision},resetGLState:function(){return console.warn("THREE.WebGLRenderer: .resetGLState() is now .state.reset()."),this.state.reset()},supportsFloatTextures:function(){return console.warn("THREE.WebGLRenderer: .supportsFloatTextures() is now .extensions.get( 'OES_texture_float' )."),this.extensions.get("OES_texture_float")},supportsHalfFloatTextures:function(){return console.warn("THREE.WebGLRenderer: .supportsHalfFloatTextures() is now .extensions.get( 'OES_texture_half_float' )."),this.extensions.get("OES_texture_half_float")},supportsStandardDerivatives:function(){return console.warn("THREE.WebGLRenderer: .supportsStandardDerivatives() is now .extensions.get( 'OES_standard_derivatives' )."),this.extensions.get("OES_standard_derivatives")},supportsCompressedTextureS3TC:function(){return console.warn("THREE.WebGLRenderer: .supportsCompressedTextureS3TC() is now .extensions.get( 'WEBGL_compressed_texture_s3tc' )."),this.extensions.get("WEBGL_compressed_texture_s3tc")},supportsCompressedTexturePVRTC:function(){return console.warn("THREE.WebGLRenderer: .supportsCompressedTexturePVRTC() is now .extensions.get( 'WEBGL_compressed_texture_pvrtc' )."),this.extensions.get("WEBGL_compressed_texture_pvrtc")},supportsBlendMinMax:function(){return console.warn("THREE.WebGLRenderer: .supportsBlendMinMax() is now .extensions.get( 'EXT_blend_minmax' )."),this.extensions.get("EXT_blend_minmax")},supportsVertexTextures:function(){return console.warn("THREE.WebGLRenderer: .supportsVertexTextures() is now .capabilities.vertexTextures."),this.capabilities.vertexTextures},supportsInstancedArrays:function(){return console.warn("THREE.WebGLRenderer: .supportsInstancedArrays() is now .extensions.get( 'ANGLE_instanced_arrays' )."),this.extensions.get("ANGLE_instanced_arrays")},enableScissorTest:function(e){console.warn("THREE.WebGLRenderer: .enableScissorTest() is now .setScissorTest()."),this.setScissorTest(e)},initMaterial:function(){console.warn("THREE.WebGLRenderer: .initMaterial() has been removed.")},addPrePlugin:function(){console.warn("THREE.WebGLRenderer: .addPrePlugin() has been removed.")},addPostPlugin:function(){console.warn("THREE.WebGLRenderer: .addPostPlugin() has been removed.")},updateShadowMap:function(){console.warn("THREE.WebGLRenderer: .updateShadowMap() has been removed.")},setFaceCulling:function(){console.warn("THREE.WebGLRenderer: .setFaceCulling() has been removed.")},allocTextureUnit:function(){console.warn("THREE.WebGLRenderer: .allocTextureUnit() has been removed.")},setTexture:function(){console.warn("THREE.WebGLRenderer: .setTexture() has been removed.")},setTexture2D:function(){console.warn("THREE.WebGLRenderer: .setTexture2D() has been removed.")},setTextureCube:function(){console.warn("THREE.WebGLRenderer: .setTextureCube() has been removed.")},getActiveMipMapLevel:function(){return console.warn("THREE.WebGLRenderer: .getActiveMipMapLevel() is now .getActiveMipmapLevel()."),this.getActiveMipmapLevel()}}),Object.defineProperties(qs.prototype,{shadowMapEnabled:{get:function(){return this.shadowMap.enabled},set:function(e){console.warn("THREE.WebGLRenderer: .shadowMapEnabled is now .shadowMap.enabled."),this.shadowMap.enabled=e}},shadowMapType:{get:function(){return this.shadowMap.type},set:function(e){console.warn("THREE.WebGLRenderer: .shadowMapType is now .shadowMap.type."),this.shadowMap.type=e}},shadowMapCullFace:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMapCullFace has been removed. Set Material.shadowSide instead.")},set:function(){console.warn("THREE.WebGLRenderer: .shadowMapCullFace has been removed. Set Material.shadowSide instead.")}},context:{get:function(){return console.warn("THREE.WebGLRenderer: .context has been removed. Use .getContext() instead."),this.getContext()}},vr:{get:function(){return console.warn("THREE.WebGLRenderer: .vr has been renamed to .xr"),this.xr}},gammaInput:{get:function(){return console.warn("THREE.WebGLRenderer: .gammaInput has been removed. Set the encoding for textures via Texture.encoding instead."),!1},set:function(){console.warn("THREE.WebGLRenderer: .gammaInput has been removed. Set the encoding for textures via Texture.encoding instead.")}},gammaOutput:{get:function(){return console.warn("THREE.WebGLRenderer: .gammaOutput has been removed. Set WebGLRenderer.outputEncoding instead."),!1},set:function(e){console.warn("THREE.WebGLRenderer: .gammaOutput has been removed. Set WebGLRenderer.outputEncoding instead."),this.outputEncoding=!0===e?ln:sn}},toneMappingWhitePoint:{get:function(){return console.warn("THREE.WebGLRenderer: .toneMappingWhitePoint has been removed."),1},set:function(){console.warn("THREE.WebGLRenderer: .toneMappingWhitePoint has been removed.")}}}),Object.defineProperties(Fs.prototype,{cullFace:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMap.cullFace has been removed. Set Material.shadowSide instead.")},set:function(){console.warn("THREE.WebGLRenderer: .shadowMap.cullFace has been removed. Set Material.shadowSide instead.")}},renderReverseSided:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderReverseSided has been removed. Set Material.shadowSide instead.")},set:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderReverseSided has been removed. Set Material.shadowSide instead.")}},renderSingleSided:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderSingleSided has been removed. Set Material.shadowSide instead.")},set:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderSingleSided has been removed. Set Material.shadowSide instead.")}}}),Object.defineProperties(ar.prototype,{wrapS:{get:function(){return console.warn("THREE.WebGLRenderTarget: .wrapS is now .texture.wrapS."),this.texture.wrapS},set:function(e){console.warn("THREE.WebGLRenderTarget: .wrapS is now .texture.wrapS."),this.texture.wrapS=e}},wrapT:{get:function(){return console.warn("THREE.WebGLRenderTarget: .wrapT is now .texture.wrapT."),this.texture.wrapT},set:function(e){console.warn("THREE.WebGLRenderTarget: .wrapT is now .texture.wrapT."),this.texture.wrapT=e}},magFilter:{get:function(){return console.warn("THREE.WebGLRenderTarget: .magFilter is now .texture.magFilter."),this.texture.magFilter},set:function(e){console.warn("THREE.WebGLRenderTarget: .magFilter is now .texture.magFilter."),this.texture.magFilter=e}},minFilter:{get:function(){return console.warn("THREE.WebGLRenderTarget: .minFilter is now .texture.minFilter."),this.texture.minFilter},set:function(e){console.warn("THREE.WebGLRenderTarget: .minFilter is now .texture.minFilter."),this.texture.minFilter=e}},anisotropy:{get:function(){return console.warn("THREE.WebGLRenderTarget: .anisotropy is now .texture.anisotropy."),this.texture.anisotropy},set:function(e){console.warn("THREE.WebGLRenderTarget: .anisotropy is now .texture.anisotropy."),this.texture.anisotropy=e}},offset:{get:function(){return console.warn("THREE.WebGLRenderTarget: .offset is now .texture.offset."),this.texture.offset},set:function(e){console.warn("THREE.WebGLRenderTarget: .offset is now .texture.offset."),this.texture.offset=e}},repeat:{get:function(){return console.warn("THREE.WebGLRenderTarget: .repeat is now .texture.repeat."),this.texture.repeat},set:function(e){console.warn("THREE.WebGLRenderTarget: .repeat is now .texture.repeat."),this.texture.repeat=e}},format:{get:function(){return console.warn("THREE.WebGLRenderTarget: .format is now .texture.format."),this.texture.format},set:function(e){console.warn("THREE.WebGLRenderTarget: .format is now .texture.format."),this.texture.format=e}},type:{get:function(){return console.warn("THREE.WebGLRenderTarget: .type is now .texture.type."),this.texture.type},set:function(e){console.warn("THREE.WebGLRenderTarget: .type is now .texture.type."),this.texture.type=e}},generateMipmaps:{get:function(){return console.warn("THREE.WebGLRenderTarget: .generateMipmaps is now .texture.generateMipmaps."),this.texture.generateMipmaps},set:function(e){console.warn("THREE.WebGLRenderTarget: .generateMipmaps is now .texture.generateMipmaps."),this.texture.generateMipmaps=e}}}),Object.defineProperties(xh.prototype,{load:{value:function(e){console.warn("THREE.Audio: .load has been deprecated. Use THREE.AudioLoader instead.");var t=this;return(new sh).load(e,(function(e){t.setBuffer(e)})),this}},startTime:{set:function(){console.warn("THREE.Audio: .startTime is now .play( delay ).")}}}),Th.prototype.getData=function(){return console.warn("THREE.AudioAnalyser: .getData() is now .getFrequencyData()."),this.getFrequencyData()},Da.prototype.updateCubeMap=function(e,t){return console.warn("THREE.CubeCamera: .updateCubeMap() is now .update()."),this.update(e,t)},Da.prototype.clear=function(e,t,n,r){return console.warn("THREE.CubeCamera: .clear() is now .renderTarget.clear()."),this.renderTarget.clear(e,t,n,r)};var Up={merge:function(e,t,n){var r;console.warn("THREE.GeometryUtils: .merge() has been moved to Geometry. Use geometry.merge( geometry2, matrix, materialIndexOffset ) instead."),t.isMesh&&(t.matrixAutoUpdate&&t.updateMatrix(),r=t.matrix,t=t.geometry),e.merge(t,r,n)},center:function(e){return console.warn("THREE.GeometryUtils: .center() has been moved to Geometry. Use geometry.center() instead."),e.center()}};function zp(){console.error("THREE.CanvasRenderer has been removed")}function Bp(){console.error("THREE.JSONLoader has been removed.")}er.crossOrigin=void 0,er.loadTexture=function(e,t,n,r){console.warn("THREE.ImageUtils.loadTexture has been deprecated. Use THREE.TextureLoader() instead.");var i=new od;i.setCrossOrigin(this.crossOrigin);var a=i.load(e,n,void 0,r);return t&&(a.mapping=t),a},er.loadTextureCube=function(e,t,n,r){console.warn("THREE.ImageUtils.loadTextureCube has been deprecated. Use THREE.CubeTextureLoader() instead.");var i=new id;i.setCrossOrigin(this.crossOrigin);var a=i.load(e,n,void 0,r);return t&&(a.mapping=t),a},er.loadCompressedTexture=function(){console.error("THREE.ImageUtils.loadCompressedTexture has been removed. Use THREE.DDSLoader instead.")},er.loadCompressedTextureCube=function(){console.error("THREE.ImageUtils.loadCompressedTextureCube has been removed. Use THREE.DDSLoader instead.")};var Vp={createMultiMaterialObject:function(){console.error("THREE.SceneUtils has been moved to /examples/jsm/utils/SceneUtils.js")},detach:function(){console.error("THREE.SceneUtils has been moved to /examples/jsm/utils/SceneUtils.js")},attach:function(){console.error("THREE.SceneUtils has been moved to /examples/jsm/utils/SceneUtils.js")}};function Hp(){console.error("THREE.LensFlare has been moved to /examples/jsm/objects/Lensflare.js")}"undefined"!==typeof __THREE_DEVTOOLS__&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:f}}))},function(e,t,n){"use strict";e.exports=n(106)},function(e,t,n){"use strict";function r(){return(r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";n.d(t,"g",(function(){return i})),n.d(t,"a",(function(){return a})),n.d(t,"d",(function(){return o})),n.d(t,"f",(function(){return s})),n.d(t,"e",(function(){return l})),n.d(t,"b",(function(){return u})),n.d(t,"h",(function(){return c})),n.d(t,"c",(function(){return d}));var r=n(15),i=function(){},a=function(e,t,n){return Object.defineProperty(e,t,{value:n,writable:!0,configurable:!0})},o={arr:Array.isArray,obj:function(e){return!!e&&"Object"===e.constructor.name},fun:function(e){return"function"===typeof e},str:function(e){return"string"===typeof e},num:function(e){return"number"===typeof e},und:function(e){return void 0===e}};function s(e,t){if(o.arr(e)){if(!o.arr(t)||e.length!==t.length)return!1;for(var n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}return e===t}var l=function(e){return o.str(e)&&("#"==e[0]||/\d/.test(e)||!(!r.colorNames||!r.colorNames[e]))},u=function(e,t,n){o.fun(e.forEach)?e.forEach(t,n):Object.keys(e).forEach((function(r){return t.call(n,e[r],r)}))},c=function(e){return o.und(e)?[]:o.arr(e)?e:[e]};function d(e,t){if(e.size){var n=Array.from(e);e.clear(),u(n,t)}}},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(53);function i(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Object(r.a)(e,t)}},function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(19),i=n(69),a=n(73);function o(e){var t=Object(i.a)();return function(){var n,i=Object(r.a)(e);if(t){var o=Object(r.a)(this).constructor;n=Reflect.construct(i,arguments,o)}else n=i.apply(this,arguments);return Object(a.a)(this,n)}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(18);function i(e,t){if(null==e)return{};var n,i,a=Object(r.a)(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}},function(e,t,n){"use strict";function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function i(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}n.d(t,"a",(function(){return i}))},function(e,t,n){"use strict";function r(e){var t,n,i="";if("string"===typeof e||"number"===typeof e)i+=e;else if("object"===typeof e)if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(n=r(e[t]))&&(i&&(i+=" "),i+=n);else for(t in e)e[t]&&(i&&(i+=" "),i+=t);return i}t.a=function(){for(var e,t,n=0,i="";n<arguments.length;)(e=arguments[n++])&&(t=r(e))&&(i&&(i+=" "),i+=t);return i}},function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(62);var i=n(38),a=n(63);function o(e,t){return Object(r.a)(e)||function(e,t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,i=!1,a=void 0;try{for(var o,s=e[Symbol.iterator]();!(r=(o=s.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(l){i=!0,a=l}finally{try{r||null==s.return||s.return()}finally{if(i)throw a}}return n}}(e,t)||Object(i.a)(e,t)||Object(a.a)()}},function(e,t,n){"use strict";var r=n(2),i=n(7),a=n(1),o=n.n(a),s=(n(16),n(83)),l=n.n(s),u="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},c="object"===("undefined"===typeof window?"undefined":u(window))&&"object"===("undefined"===typeof document?"undefined":u(document))&&9===document.nodeType;var d=n(54),h=n(47),f=n(58),p=n(18),m={}.constructor;function v(e){if(null==e||"object"!==typeof e)return e;if(Array.isArray(e))return e.map(v);if(e.constructor!==m)return e;var t={};for(var n in e)t[n]=v(e[n]);return t}function g(e,t,n){void 0===e&&(e="unnamed");var r=n.jss,i=v(t),a=r.plugins.onCreateRule(e,i,n);return a||(e[0],null)}var y=function(e,t){for(var n="",r=0;r<e.length&&"!important"!==e[r];r++)n&&(n+=t),n+=e[r];return n},b=function(e,t){if(void 0===t&&(t=!1),!Array.isArray(e))return e;var n="";if(Array.isArray(e[0]))for(var r=0;r<e.length&&"!important"!==e[r];r++)n&&(n+=", "),n+=y(e[r]," ");else n=y(e,", ");return t||"!important"!==e[e.length-1]||(n+=" !important"),n};function x(e,t){for(var n="",r=0;r<t;r++)n+="  ";return n+e}function w(e,t,n){void 0===n&&(n={});var r="";if(!t)return r;var i=n.indent,a=void 0===i?0:i,o=t.fallbacks;if(e&&a++,o)if(Array.isArray(o))for(var s=0;s<o.length;s++){var l=o[s];for(var u in l){var c=l[u];null!=c&&(r&&(r+="\n"),r+=""+x(u+": "+b(c)+";",a))}}else for(var d in o){var h=o[d];null!=h&&(r&&(r+="\n"),r+=""+x(d+": "+b(h)+";",a))}for(var f in t){var p=t[f];null!=p&&"fallbacks"!==f&&(r&&(r+="\n"),r+=""+x(f+": "+b(p)+";",a))}return(r||n.allowEmpty)&&e?(r&&(r="\n"+r+"\n"),x(e+" {"+r,--a)+x("}",a)):r}var M=/([[\].#*$><+~=|^:(),"'`\s])/g,_="undefined"!==typeof CSS&&CSS.escape,S=function(e){return _?_(e):e.replace(M,"\\$1")},E=function(){function e(e,t,n){this.type="style",this.key=void 0,this.isProcessed=!1,this.style=void 0,this.renderer=void 0,this.renderable=void 0,this.options=void 0;var r=n.sheet,i=n.Renderer;this.key=e,this.options=n,this.style=t,r?this.renderer=r.renderer:i&&(this.renderer=new i)}return e.prototype.prop=function(e,t,n){if(void 0===t)return this.style[e];var r=!!n&&n.force;if(!r&&this.style[e]===t)return this;var i=t;n&&!1===n.process||(i=this.options.jss.plugins.onChangeValue(t,e,this));var a=null==i||!1===i,o=e in this.style;if(a&&!o&&!r)return this;var s=a&&o;if(s?delete this.style[e]:this.style[e]=i,this.renderable&&this.renderer)return s?this.renderer.removeProperty(this.renderable,e):this.renderer.setProperty(this.renderable,e,i),this;var l=this.options.sheet;return l&&l.attached,this},e}(),T=function(e){function t(t,n,r){var i;(i=e.call(this,t,n,r)||this).selectorText=void 0,i.id=void 0,i.renderable=void 0;var a=r.selector,o=r.scoped,s=r.sheet,l=r.generateId;return a?i.selectorText=a:!1!==o&&(i.id=l(Object(f.a)(Object(f.a)(i)),s),i.selectorText="."+S(i.id)),i}Object(h.a)(t,e);var n=t.prototype;return n.applyTo=function(e){var t=this.renderer;if(t){var n=this.toJSON();for(var r in n)t.setProperty(e,r,n[r])}return this},n.toJSON=function(){var e={};for(var t in this.style){var n=this.style[t];"object"!==typeof n?e[t]=n:Array.isArray(n)&&(e[t]=b(n))}return e},n.toString=function(e){var t=this.options.sheet,n=!!t&&t.options.link?Object(r.a)({},e,{allowEmpty:!0}):e;return w(this.selectorText,this.style,n)},Object(d.a)(t,[{key:"selector",set:function(e){if(e!==this.selectorText){this.selectorText=e;var t=this.renderer,n=this.renderable;if(n&&t)t.setSelector(n,e)||t.replaceRule(n,this)}},get:function(){return this.selectorText}}]),t}(E),A={onCreateRule:function(e,t,n){return"@"===e[0]||n.parent&&"keyframes"===n.parent.type?null:new T(e,t,n)}},R={indent:1,children:!0},O=/@([\w-]+)/,k=function(){function e(e,t,n){this.type="conditional",this.at=void 0,this.key=void 0,this.query=void 0,this.rules=void 0,this.options=void 0,this.isProcessed=!1,this.renderable=void 0,this.key=e;var i=e.match(O);for(var a in this.at=i?i[1]:"unknown",this.query=n.name||"@"+this.at,this.options=n,this.rules=new J(Object(r.a)({},n,{parent:this})),t)this.rules.add(a,t[a]);this.rules.process()}var t=e.prototype;return t.getRule=function(e){return this.rules.get(e)},t.indexOf=function(e){return this.rules.indexOf(e)},t.addRule=function(e,t,n){var r=this.rules.add(e,t,n);return r?(this.options.jss.plugins.onProcessRule(r),r):null},t.toString=function(e){if(void 0===e&&(e=R),null==e.indent&&(e.indent=R.indent),null==e.children&&(e.children=R.children),!1===e.children)return this.query+" {}";var t=this.rules.toString(e);return t?this.query+" {\n"+t+"\n}":""},e}(),I=/@media|@supports\s+/,C={onCreateRule:function(e,t,n){return I.test(e)?new k(e,t,n):null}},D={indent:1,children:!0},L=/@keyframes\s+([\w-]+)/,P=function(){function e(e,t,n){this.type="keyframes",this.at="@keyframes",this.key=void 0,this.name=void 0,this.id=void 0,this.rules=void 0,this.options=void 0,this.isProcessed=!1,this.renderable=void 0;var i=e.match(L);i&&i[1]?this.name=i[1]:this.name="noname",this.key=this.type+"-"+this.name,this.options=n;var a=n.scoped,o=n.sheet,s=n.generateId;for(var l in this.id=!1===a?this.name:S(s(this,o)),this.rules=new J(Object(r.a)({},n,{parent:this})),t)this.rules.add(l,t[l],Object(r.a)({},n,{parent:this}));this.rules.process()}return e.prototype.toString=function(e){if(void 0===e&&(e=D),null==e.indent&&(e.indent=D.indent),null==e.children&&(e.children=D.children),!1===e.children)return this.at+" "+this.id+" {}";var t=this.rules.toString(e);return t&&(t="\n"+t+"\n"),this.at+" "+this.id+" {"+t+"}"},e}(),N=/@keyframes\s+/,j=/\$([\w-]+)/g,F=function(e,t){return"string"===typeof e?e.replace(j,(function(e,n){return n in t?t[n]:e})):e},G=function(e,t,n){var r=e[t],i=F(r,n);i!==r&&(e[t]=i)},U={onCreateRule:function(e,t,n){return"string"===typeof e&&N.test(e)?new P(e,t,n):null},onProcessStyle:function(e,t,n){return"style"===t.type&&n?("animation-name"in e&&G(e,"animation-name",n.keyframes),"animation"in e&&G(e,"animation",n.keyframes),e):e},onChangeValue:function(e,t,n){var r=n.options.sheet;if(!r)return e;switch(t){case"animation":case"animation-name":return F(e,r.keyframes);default:return e}}},z=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).renderable=void 0,t}return Object(h.a)(t,e),t.prototype.toString=function(e){var t=this.options.sheet,n=!!t&&t.options.link?Object(r.a)({},e,{allowEmpty:!0}):e;return w(this.key,this.style,n)},t}(E),B={onCreateRule:function(e,t,n){return n.parent&&"keyframes"===n.parent.type?new z(e,t,n):null}},V=function(){function e(e,t,n){this.type="font-face",this.at="@font-face",this.key=void 0,this.style=void 0,this.options=void 0,this.isProcessed=!1,this.renderable=void 0,this.key=e,this.style=t,this.options=n}return e.prototype.toString=function(e){if(Array.isArray(this.style)){for(var t="",n=0;n<this.style.length;n++)t+=w(this.at,this.style[n]),this.style[n+1]&&(t+="\n");return t}return w(this.at,this.style,e)},e}(),H=/@font-face/,W={onCreateRule:function(e,t,n){return H.test(e)?new V(e,t,n):null}},X=function(){function e(e,t,n){this.type="viewport",this.at="@viewport",this.key=void 0,this.style=void 0,this.options=void 0,this.isProcessed=!1,this.renderable=void 0,this.key=e,this.style=t,this.options=n}return e.prototype.toString=function(e){return w(this.key,this.style,e)},e}(),q={onCreateRule:function(e,t,n){return"@viewport"===e||"@-ms-viewport"===e?new X(e,t,n):null}},Y=function(){function e(e,t,n){this.type="simple",this.key=void 0,this.value=void 0,this.options=void 0,this.isProcessed=!1,this.renderable=void 0,this.key=e,this.value=t,this.options=n}return e.prototype.toString=function(e){if(Array.isArray(this.value)){for(var t="",n=0;n<this.value.length;n++)t+=this.key+" "+this.value[n]+";",this.value[n+1]&&(t+="\n");return t}return this.key+" "+this.value+";"},e}(),Q={"@charset":!0,"@import":!0,"@namespace":!0},Z=[A,C,U,B,W,q,{onCreateRule:function(e,t,n){return e in Q?new Y(e,t,n):null}}],$={process:!0},K={force:!0,process:!0},J=function(){function e(e){this.map={},this.raw={},this.index=[],this.counter=0,this.options=void 0,this.classes=void 0,this.keyframes=void 0,this.options=e,this.classes=e.classes,this.keyframes=e.keyframes}var t=e.prototype;return t.add=function(e,t,n){var i=this.options,a=i.parent,o=i.sheet,s=i.jss,l=i.Renderer,u=i.generateId,c=i.scoped,d=Object(r.a)({classes:this.classes,parent:a,sheet:o,jss:s,Renderer:l,generateId:u,scoped:c,name:e,keyframes:this.keyframes,selector:void 0},n),h=e;e in this.raw&&(h=e+"-d"+this.counter++),this.raw[h]=t,h in this.classes&&(d.selector="."+S(this.classes[h]));var f=g(h,t,d);if(!f)return null;this.register(f);var p=void 0===d.index?this.index.length:d.index;return this.index.splice(p,0,f),f},t.get=function(e){return this.map[e]},t.remove=function(e){this.unregister(e),delete this.raw[e.key],this.index.splice(this.index.indexOf(e),1)},t.indexOf=function(e){return this.index.indexOf(e)},t.process=function(){var e=this.options.jss.plugins;this.index.slice(0).forEach(e.onProcessRule,e)},t.register=function(e){this.map[e.key]=e,e instanceof T?(this.map[e.selector]=e,e.id&&(this.classes[e.key]=e.id)):e instanceof P&&this.keyframes&&(this.keyframes[e.name]=e.id)},t.unregister=function(e){delete this.map[e.key],e instanceof T?(delete this.map[e.selector],delete this.classes[e.key]):e instanceof P&&delete this.keyframes[e.name]},t.update=function(){var e,t,n;if("string"===typeof(arguments.length<=0?void 0:arguments[0])?(e=arguments.length<=0?void 0:arguments[0],t=arguments.length<=1?void 0:arguments[1],n=arguments.length<=2?void 0:arguments[2]):(t=arguments.length<=0?void 0:arguments[0],n=arguments.length<=1?void 0:arguments[1],e=null),e)this.updateOne(this.map[e],t,n);else for(var r=0;r<this.index.length;r++)this.updateOne(this.index[r],t,n)},t.updateOne=function(t,n,r){void 0===r&&(r=$);var i=this.options,a=i.jss.plugins,o=i.sheet;if(t.rules instanceof e)t.rules.update(n,r);else{var s=t,l=s.style;if(a.onUpdate(n,t,o,r),r.process&&l&&l!==s.style){for(var u in a.onProcessStyle(s.style,s,o),s.style){var c=s.style[u];c!==l[u]&&s.prop(u,c,K)}for(var d in l){var h=s.style[d],f=l[d];null==h&&h!==f&&s.prop(d,null,K)}}}},t.toString=function(e){for(var t="",n=this.options.sheet,r=!!n&&n.options.link,i=0;i<this.index.length;i++){var a=this.index[i].toString(e);(a||r)&&(t&&(t+="\n"),t+=a)}return t},e}(),ee=function(){function e(e,t){for(var n in this.options=void 0,this.deployed=void 0,this.attached=void 0,this.rules=void 0,this.renderer=void 0,this.classes=void 0,this.keyframes=void 0,this.queue=void 0,this.attached=!1,this.deployed=!1,this.classes={},this.keyframes={},this.options=Object(r.a)({},t,{sheet:this,parent:this,classes:this.classes,keyframes:this.keyframes}),t.Renderer&&(this.renderer=new t.Renderer(this)),this.rules=new J(this.options),e)this.rules.add(n,e[n]);this.rules.process()}var t=e.prototype;return t.attach=function(){return this.attached||(this.renderer&&this.renderer.attach(),this.attached=!0,this.deployed||this.deploy()),this},t.detach=function(){return this.attached?(this.renderer&&this.renderer.detach(),this.attached=!1,this):this},t.addRule=function(e,t,n){var r=this.queue;this.attached&&!r&&(this.queue=[]);var i=this.rules.add(e,t,n);return i?(this.options.jss.plugins.onProcessRule(i),this.attached?this.deployed?(r?r.push(i):(this.insertRule(i),this.queue&&(this.queue.forEach(this.insertRule,this),this.queue=void 0)),i):i:(this.deployed=!1,i)):null},t.insertRule=function(e){this.renderer&&this.renderer.insertRule(e)},t.addRules=function(e,t){var n=[];for(var r in e){var i=this.addRule(r,e[r],t);i&&n.push(i)}return n},t.getRule=function(e){return this.rules.get(e)},t.deleteRule=function(e){var t="object"===typeof e?e:this.rules.get(e);return!(!t||this.attached&&!t.renderable)&&(this.rules.remove(t),!(this.attached&&t.renderable&&this.renderer)||this.renderer.deleteRule(t.renderable))},t.indexOf=function(e){return this.rules.indexOf(e)},t.deploy=function(){return this.renderer&&this.renderer.deploy(),this.deployed=!0,this},t.update=function(){var e;return(e=this.rules).update.apply(e,arguments),this},t.updateOne=function(e,t,n){return this.rules.updateOne(e,t,n),this},t.toString=function(e){return this.rules.toString(e)},e}(),te=function(){function e(){this.plugins={internal:[],external:[]},this.registry=void 0}var t=e.prototype;return t.onCreateRule=function(e,t,n){for(var r=0;r<this.registry.onCreateRule.length;r++){var i=this.registry.onCreateRule[r](e,t,n);if(i)return i}return null},t.onProcessRule=function(e){if(!e.isProcessed){for(var t=e.options.sheet,n=0;n<this.registry.onProcessRule.length;n++)this.registry.onProcessRule[n](e,t);e.style&&this.onProcessStyle(e.style,e,t),e.isProcessed=!0}},t.onProcessStyle=function(e,t,n){for(var r=0;r<this.registry.onProcessStyle.length;r++)t.style=this.registry.onProcessStyle[r](t.style,t,n)},t.onProcessSheet=function(e){for(var t=0;t<this.registry.onProcessSheet.length;t++)this.registry.onProcessSheet[t](e)},t.onUpdate=function(e,t,n,r){for(var i=0;i<this.registry.onUpdate.length;i++)this.registry.onUpdate[i](e,t,n,r)},t.onChangeValue=function(e,t,n){for(var r=e,i=0;i<this.registry.onChangeValue.length;i++)r=this.registry.onChangeValue[i](r,t,n);return r},t.use=function(e,t){void 0===t&&(t={queue:"external"});var n=this.plugins[t.queue];-1===n.indexOf(e)&&(n.push(e),this.registry=[].concat(this.plugins.external,this.plugins.internal).reduce((function(e,t){for(var n in t)n in e&&e[n].push(t[n]);return e}),{onCreateRule:[],onProcessRule:[],onProcessStyle:[],onProcessSheet:[],onChangeValue:[],onUpdate:[]}))},e}(),ne=new(function(){function e(){this.registry=[]}var t=e.prototype;return t.add=function(e){var t=this.registry,n=e.options.index;if(-1===t.indexOf(e))if(0===t.length||n>=this.index)t.push(e);else for(var r=0;r<t.length;r++)if(t[r].options.index>n)return void t.splice(r,0,e)},t.reset=function(){this.registry=[]},t.remove=function(e){var t=this.registry.indexOf(e);this.registry.splice(t,1)},t.toString=function(e){for(var t=void 0===e?{}:e,n=t.attached,r=Object(p.a)(t,["attached"]),i="",a=0;a<this.registry.length;a++){var o=this.registry[a];null!=n&&o.attached!==n||(i&&(i+="\n"),i+=o.toString(r))}return i},Object(d.a)(e,[{key:"index",get:function(){return 0===this.registry.length?0:this.registry[this.registry.length-1].options.index}}]),e}()),re="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")(),ie="2f1acc6c3a606b082e5eef5e54414ffb";null==re[ie]&&(re[ie]=0);var ae=re[ie]++,oe=function(e){void 0===e&&(e={});var t=0;return function(n,r){t+=1;var i="",a="";return r&&(r.options.classNamePrefix&&(a=r.options.classNamePrefix),null!=r.options.jss.id&&(i=String(r.options.jss.id))),e.minify?""+(a||"c")+ae+i+t:a+n.key+"-"+ae+(i?"-"+i:"")+"-"+t}},se=function(e){var t;return function(){return t||(t=e()),t}},le=function(e,t){try{return e.attributeStyleMap?e.attributeStyleMap.get(t):e.style.getPropertyValue(t)}catch(n){return""}},ue=function(e,t,n){try{var r=n;if(Array.isArray(n)&&(r=b(n,!0),"!important"===n[n.length-1]))return e.style.setProperty(t,r,"important"),!0;e.attributeStyleMap?e.attributeStyleMap.set(t,r):e.style.setProperty(t,r)}catch(i){return!1}return!0},ce=function(e,t){try{e.attributeStyleMap?e.attributeStyleMap.delete(t):e.style.removeProperty(t)}catch(n){}},de=function(e,t){return e.selectorText=t,e.selectorText===t},he=se((function(){return document.querySelector("head")}));function fe(e){var t=ne.registry;if(t.length>0){var n=function(e,t){for(var n=0;n<e.length;n++){var r=e[n];if(r.attached&&r.options.index>t.index&&r.options.insertionPoint===t.insertionPoint)return r}return null}(t,e);if(n&&n.renderer)return{parent:n.renderer.element.parentNode,node:n.renderer.element};if((n=function(e,t){for(var n=e.length-1;n>=0;n--){var r=e[n];if(r.attached&&r.options.insertionPoint===t.insertionPoint)return r}return null}(t,e))&&n.renderer)return{parent:n.renderer.element.parentNode,node:n.renderer.element.nextSibling}}var r=e.insertionPoint;if(r&&"string"===typeof r){var i=function(e){for(var t=he(),n=0;n<t.childNodes.length;n++){var r=t.childNodes[n];if(8===r.nodeType&&r.nodeValue.trim()===e)return r}return null}(r);if(i)return{parent:i.parentNode,node:i.nextSibling}}return!1}var pe=se((function(){var e=document.querySelector('meta[property="csp-nonce"]');return e?e.getAttribute("content"):null})),me=function(e,t,n){try{if("insertRule"in e)e.insertRule(t,n);else if("appendRule"in e){e.appendRule(t)}}catch(r){return!1}return e.cssRules[n]},ve=function(e,t){var n=e.cssRules.length;return void 0===t||t>n?n:t},ge=function(){function e(e){this.getPropertyValue=le,this.setProperty=ue,this.removeProperty=ce,this.setSelector=de,this.element=void 0,this.sheet=void 0,this.hasInsertedRules=!1,this.cssRules=[],e&&ne.add(e),this.sheet=e;var t=this.sheet?this.sheet.options:{},n=t.media,r=t.meta,i=t.element;this.element=i||function(){var e=document.createElement("style");return e.textContent="\n",e}(),this.element.setAttribute("data-jss",""),n&&this.element.setAttribute("media",n),r&&this.element.setAttribute("data-meta",r);var a=pe();a&&this.element.setAttribute("nonce",a)}var t=e.prototype;return t.attach=function(){if(!this.element.parentNode&&this.sheet){!function(e,t){var n=t.insertionPoint,r=fe(t);if(!1!==r&&r.parent)r.parent.insertBefore(e,r.node);else if(n&&"number"===typeof n.nodeType){var i=n,a=i.parentNode;a&&a.insertBefore(e,i.nextSibling)}else he().appendChild(e)}(this.element,this.sheet.options);var e=Boolean(this.sheet&&this.sheet.deployed);this.hasInsertedRules&&e&&(this.hasInsertedRules=!1,this.deploy())}},t.detach=function(){if(this.sheet){var e=this.element.parentNode;e&&e.removeChild(this.element),this.sheet.options.link&&(this.cssRules=[],this.element.textContent="\n")}},t.deploy=function(){var e=this.sheet;e&&(e.options.link?this.insertRules(e.rules):this.element.textContent="\n"+e.toString()+"\n")},t.insertRules=function(e,t){for(var n=0;n<e.index.length;n++)this.insertRule(e.index[n],n,t)},t.insertRule=function(e,t,n){if(void 0===n&&(n=this.element.sheet),e.rules){var r=e,i=n;if("conditional"===e.type||"keyframes"===e.type){var a=ve(n,t);if(!1===(i=me(n,r.toString({children:!1}),a)))return!1;this.refCssRule(e,a,i)}return this.insertRules(r.rules,i),i}var o=e.toString();if(!o)return!1;var s=ve(n,t),l=me(n,o,s);return!1!==l&&(this.hasInsertedRules=!0,this.refCssRule(e,s,l),l)},t.refCssRule=function(e,t,n){e.renderable=n,e.options.parent instanceof ee&&(this.cssRules[t]=n)},t.deleteRule=function(e){var t=this.element.sheet,n=this.indexOf(e);return-1!==n&&(t.deleteRule(n),this.cssRules.splice(n,1),!0)},t.indexOf=function(e){return this.cssRules.indexOf(e)},t.replaceRule=function(e,t){var n=this.indexOf(e);return-1!==n&&(this.element.sheet.deleteRule(n),this.cssRules.splice(n,1),this.insertRule(t,n))},t.getRules=function(){return this.element.sheet.cssRules},e}(),ye=0,be=function(){function e(e){this.id=ye++,this.version="10.5.0",this.plugins=new te,this.options={id:{minify:!1},createGenerateId:oe,Renderer:c?ge:null,plugins:[]},this.generateId=oe({minify:!1});for(var t=0;t<Z.length;t++)this.plugins.use(Z[t],{queue:"internal"});this.setup(e)}var t=e.prototype;return t.setup=function(e){return void 0===e&&(e={}),e.createGenerateId&&(this.options.createGenerateId=e.createGenerateId),e.id&&(this.options.id=Object(r.a)({},this.options.id,e.id)),(e.createGenerateId||e.id)&&(this.generateId=this.options.createGenerateId(this.options.id)),null!=e.insertionPoint&&(this.options.insertionPoint=e.insertionPoint),"Renderer"in e&&(this.options.Renderer=e.Renderer),e.plugins&&this.use.apply(this,e.plugins),this},t.createStyleSheet=function(e,t){void 0===t&&(t={});var n=t.index;"number"!==typeof n&&(n=0===ne.index?0:ne.index+1);var i=new ee(e,Object(r.a)({},t,{jss:this,generateId:t.generateId||this.generateId,insertionPoint:this.options.insertionPoint,Renderer:this.options.Renderer,index:n}));return this.plugins.onProcessSheet(i),i},t.removeStyleSheet=function(e){return e.detach(),ne.remove(e),this},t.createRule=function(e,t,n){if(void 0===t&&(t={}),void 0===n&&(n={}),"object"===typeof e)return this.createRule(void 0,e,t);var i=Object(r.a)({},n,{name:e,jss:this,Renderer:this.options.Renderer});i.generateId||(i.generateId=this.generateId),i.classes||(i.classes={}),i.keyframes||(i.keyframes={});var a=g(e,t,i);return a&&this.plugins.onProcessRule(a),a},t.use=function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return n.forEach((function(t){e.plugins.use(t)})),this},e}();function xe(e){var t=null;for(var n in e){var r=e[n],i=typeof r;if("function"===i)t||(t={}),t[n]=r;else if("object"===i&&null!==r&&!Array.isArray(r)){var a=xe(r);a&&(t||(t={}),t[n]=a)}}return t}var we="object"===typeof CSS&&null!=CSS&&"number"in CSS,Me=function(e){return new be(e)},_e=(Me(),n(162)),Se={set:function(e,t,n,r){var i=e.get(t);i||(i=new Map,e.set(t,i)),i.set(n,r)},get:function(e,t,n){var r=e.get(t);return r?r.get(n):void 0},delete:function(e,t,n){e.get(t).delete(n)}},Ee=n(129),Te="function"===typeof Symbol&&Symbol.for?Symbol.for("mui.nested"):"__THEME_NESTED__",Ae=["checked","disabled","error","focused","focusVisible","required","expanded","selected"];var Re=Date.now(),Oe="fnValues"+Re,ke="fnStyle"+ ++Re,Ie=function(){return{onCreateRule:function(e,t,n){if("function"!==typeof t)return null;var r=g(e,{},n);return r[ke]=t,r},onProcessStyle:function(e,t){if(Oe in t||ke in t)return e;var n={};for(var r in e){var i=e[r];"function"===typeof i&&(delete e[r],n[r]=i)}return t[Oe]=n,e},onUpdate:function(e,t,n,r){var i=t,a=i[ke];a&&(i.style=a(e)||{});var o=i[Oe];if(o)for(var s in o)i.prop(s,o[s](e),r)}}},Ce="@global",De="@global ",Le=function(){function e(e,t,n){for(var i in this.type="global",this.at=Ce,this.rules=void 0,this.options=void 0,this.key=void 0,this.isProcessed=!1,this.key=e,this.options=n,this.rules=new J(Object(r.a)({},n,{parent:this})),t)this.rules.add(i,t[i]);this.rules.process()}var t=e.prototype;return t.getRule=function(e){return this.rules.get(e)},t.addRule=function(e,t,n){var r=this.rules.add(e,t,n);return r&&this.options.jss.plugins.onProcessRule(r),r},t.indexOf=function(e){return this.rules.indexOf(e)},t.toString=function(){return this.rules.toString()},e}(),Pe=function(){function e(e,t,n){this.type="global",this.at=Ce,this.options=void 0,this.rule=void 0,this.isProcessed=!1,this.key=void 0,this.key=e,this.options=n;var i=e.substr(De.length);this.rule=n.jss.createRule(i,t,Object(r.a)({},n,{parent:this}))}return e.prototype.toString=function(e){return this.rule?this.rule.toString(e):""},e}(),Ne=/\s*,\s*/g;function je(e,t){for(var n=e.split(Ne),r="",i=0;i<n.length;i++)r+=t+" "+n[i].trim(),n[i+1]&&(r+=", ");return r}var Fe=function(){return{onCreateRule:function(e,t,n){if(!e)return null;if(e===Ce)return new Le(e,t,n);if("@"===e[0]&&e.substr(0,De.length)===De)return new Pe(e,t,n);var r=n.parent;return r&&("global"===r.type||r.options.parent&&"global"===r.options.parent.type)&&(n.scoped=!1),!1===n.scoped&&(n.selector=e),null},onProcessRule:function(e,t){"style"===e.type&&t&&(function(e,t){var n=e.options,i=e.style,a=i?i[Ce]:null;if(a){for(var o in a)t.addRule(o,a[o],Object(r.a)({},n,{selector:je(o,e.selector)}));delete i[Ce]}}(e,t),function(e,t){var n=e.options,i=e.style;for(var a in i)if("@"===a[0]&&a.substr(0,Ce.length)===Ce){var o=je(a.substr(Ce.length),e.selector);t.addRule(o,i[a],Object(r.a)({},n,{selector:o})),delete i[a]}}(e,t))}}},Ge=/\s*,\s*/g,Ue=/&/g,ze=/\$([\w-]+)/g;var Be=function(){function e(e,t){return function(n,r){var i=e.getRule(r)||t&&t.getRule(r);return i?(i=i).selector:r}}function t(e,t){for(var n=t.split(Ge),r=e.split(Ge),i="",a=0;a<n.length;a++)for(var o=n[a],s=0;s<r.length;s++){var l=r[s];i&&(i+=", "),i+=-1!==l.indexOf("&")?l.replace(Ue,o):o+" "+l}return i}function n(e,t,n){if(n)return Object(r.a)({},n,{index:n.index+1});var i=e.options.nestingLevel;i=void 0===i?1:i+1;var a=Object(r.a)({},e.options,{nestingLevel:i,index:t.indexOf(e)+1});return delete a.name,a}return{onProcessStyle:function(i,a,o){if("style"!==a.type)return i;var s,l,u=a,c=u.options.parent;for(var d in i){var h=-1!==d.indexOf("&"),f="@"===d[0];if(h||f){if(s=n(u,c,s),h){var p=t(d,u.selector);l||(l=e(c,o)),p=p.replace(ze,l),c.addRule(p,i[d],Object(r.a)({},s,{selector:p}))}else f&&c.addRule(d,{},s).addRule(u.key,i[d],{selector:u.selector});delete i[d]}}return i}}},Ve=/[A-Z]/g,He=/^ms-/,We={};function Xe(e){return"-"+e.toLowerCase()}var qe=function(e){if(We.hasOwnProperty(e))return We[e];var t=e.replace(Ve,Xe);return We[e]=He.test(t)?"-"+t:t};function Ye(e){var t={};for(var n in e){t[0===n.indexOf("--")?n:qe(n)]=e[n]}return e.fallbacks&&(Array.isArray(e.fallbacks)?t.fallbacks=e.fallbacks.map(Ye):t.fallbacks=Ye(e.fallbacks)),t}var Qe=function(){return{onProcessStyle:function(e){if(Array.isArray(e)){for(var t=0;t<e.length;t++)e[t]=Ye(e[t]);return e}return Ye(e)},onChangeValue:function(e,t,n){if(0===t.indexOf("--"))return e;var r=qe(t);return t===r?e:(n.prop(r,e),null)}}},Ze=we&&CSS?CSS.px:"px",$e=we&&CSS?CSS.ms:"ms",Ke=we&&CSS?CSS.percent:"%";function Je(e){var t=/(-[a-z])/g,n=function(e){return e[1].toUpperCase()},r={};for(var i in e)r[i]=e[i],r[i.replace(t,n)]=e[i];return r}var et=Je({"animation-delay":$e,"animation-duration":$e,"background-position":Ze,"background-position-x":Ze,"background-position-y":Ze,"background-size":Ze,border:Ze,"border-bottom":Ze,"border-bottom-left-radius":Ze,"border-bottom-right-radius":Ze,"border-bottom-width":Ze,"border-left":Ze,"border-left-width":Ze,"border-radius":Ze,"border-right":Ze,"border-right-width":Ze,"border-top":Ze,"border-top-left-radius":Ze,"border-top-right-radius":Ze,"border-top-width":Ze,"border-width":Ze,"border-block":Ze,"border-block-end":Ze,"border-block-end-width":Ze,"border-block-start":Ze,"border-block-start-width":Ze,"border-block-width":Ze,"border-inline":Ze,"border-inline-end":Ze,"border-inline-end-width":Ze,"border-inline-start":Ze,"border-inline-start-width":Ze,"border-inline-width":Ze,"border-start-start-radius":Ze,"border-start-end-radius":Ze,"border-end-start-radius":Ze,"border-end-end-radius":Ze,margin:Ze,"margin-bottom":Ze,"margin-left":Ze,"margin-right":Ze,"margin-top":Ze,"margin-block":Ze,"margin-block-end":Ze,"margin-block-start":Ze,"margin-inline":Ze,"margin-inline-end":Ze,"margin-inline-start":Ze,padding:Ze,"padding-bottom":Ze,"padding-left":Ze,"padding-right":Ze,"padding-top":Ze,"padding-block":Ze,"padding-block-end":Ze,"padding-block-start":Ze,"padding-inline":Ze,"padding-inline-end":Ze,"padding-inline-start":Ze,"mask-position-x":Ze,"mask-position-y":Ze,"mask-size":Ze,height:Ze,width:Ze,"min-height":Ze,"max-height":Ze,"min-width":Ze,"max-width":Ze,bottom:Ze,left:Ze,top:Ze,right:Ze,inset:Ze,"inset-block":Ze,"inset-block-end":Ze,"inset-block-start":Ze,"inset-inline":Ze,"inset-inline-end":Ze,"inset-inline-start":Ze,"box-shadow":Ze,"text-shadow":Ze,"column-gap":Ze,"column-rule":Ze,"column-rule-width":Ze,"column-width":Ze,"font-size":Ze,"font-size-delta":Ze,"letter-spacing":Ze,"text-indent":Ze,"text-stroke":Ze,"text-stroke-width":Ze,"word-spacing":Ze,motion:Ze,"motion-offset":Ze,outline:Ze,"outline-offset":Ze,"outline-width":Ze,perspective:Ze,"perspective-origin-x":Ke,"perspective-origin-y":Ke,"transform-origin":Ke,"transform-origin-x":Ke,"transform-origin-y":Ke,"transform-origin-z":Ke,"transition-delay":$e,"transition-duration":$e,"vertical-align":Ze,"flex-basis":Ze,"shape-margin":Ze,size:Ze,gap:Ze,grid:Ze,"grid-gap":Ze,"grid-row-gap":Ze,"grid-column-gap":Ze,"grid-template-rows":Ze,"grid-template-columns":Ze,"grid-auto-rows":Ze,"grid-auto-columns":Ze,"box-shadow-x":Ze,"box-shadow-y":Ze,"box-shadow-blur":Ze,"box-shadow-spread":Ze,"font-line-height":Ze,"text-shadow-x":Ze,"text-shadow-y":Ze,"text-shadow-blur":Ze});function tt(e,t,n){if(null==t)return t;if(Array.isArray(t))for(var r=0;r<t.length;r++)t[r]=tt(e,t[r],n);else if("object"===typeof t)if("fallbacks"===e)for(var i in t)t[i]=tt(i,t[i],n);else for(var a in t)t[a]=tt(e+"-"+a,t[a],n);else if("number"===typeof t){var o=n[e]||et[e];return!o||0===t&&o===Ze?t.toString():"function"===typeof o?o(t).toString():""+t+o}return t}var nt=function(e){void 0===e&&(e={});var t=Je(e);return{onProcessStyle:function(e,n){if("style"!==n.type)return e;for(var r in e)e[r]=tt(r,e[r],t);return e},onChangeValue:function(e,n){return tt(n,e,t)}}},rt=n(36),it="",at="",ot="",st="",lt=c&&"ontouchstart"in document.documentElement;if(c){var ut={Moz:"-moz-",ms:"-ms-",O:"-o-",Webkit:"-webkit-"},ct=document.createElement("p").style;for(var dt in ut)if(dt+"Transform"in ct){it=dt,at=ut[dt];break}"Webkit"===it&&"msHyphens"in ct&&(it="ms",at=ut.ms,st="edge"),"Webkit"===it&&"-apple-trailing-word"in ct&&(ot="apple")}var ht=it,ft=at,pt=ot,mt=st,vt=lt;var gt={noPrefill:["appearance"],supportedProperty:function(e){return"appearance"===e&&("ms"===ht?"-webkit-"+e:ft+e)}},yt={noPrefill:["color-adjust"],supportedProperty:function(e){return"color-adjust"===e&&("Webkit"===ht?ft+"print-"+e:e)}},bt=/[-\s]+(.)?/g;function xt(e,t){return t?t.toUpperCase():""}function wt(e){return e.replace(bt,xt)}function Mt(e){return wt("-"+e)}var _t,St={noPrefill:["mask"],supportedProperty:function(e,t){if(!/^mask/.test(e))return!1;if("Webkit"===ht){var n="mask-image";if(wt(n)in t)return e;if(ht+Mt(n)in t)return ft+e}return e}},Et={noPrefill:["text-orientation"],supportedProperty:function(e){return"text-orientation"===e&&("apple"!==pt||vt?e:ft+e)}},Tt={noPrefill:["transform"],supportedProperty:function(e,t,n){return"transform"===e&&(n.transform?e:ft+e)}},At={noPrefill:["transition"],supportedProperty:function(e,t,n){return"transition"===e&&(n.transition?e:ft+e)}},Rt={noPrefill:["writing-mode"],supportedProperty:function(e){return"writing-mode"===e&&("Webkit"===ht||"ms"===ht&&"edge"!==mt?ft+e:e)}},Ot={noPrefill:["user-select"],supportedProperty:function(e){return"user-select"===e&&("Moz"===ht||"ms"===ht||"apple"===pt?ft+e:e)}},kt={supportedProperty:function(e,t){return!!/^break-/.test(e)&&("Webkit"===ht?"WebkitColumn"+Mt(e)in t&&ft+"column-"+e:"Moz"===ht&&("page"+Mt(e)in t&&"page-"+e))}},It={supportedProperty:function(e,t){if(!/^(border|margin|padding)-inline/.test(e))return!1;if("Moz"===ht)return e;var n=e.replace("-inline","");return ht+Mt(n)in t&&ft+n}},Ct={supportedProperty:function(e,t){return wt(e)in t&&e}},Dt={supportedProperty:function(e,t){var n=Mt(e);return"-"===e[0]||"-"===e[0]&&"-"===e[1]?e:ht+n in t?ft+e:"Webkit"!==ht&&"Webkit"+n in t&&"-webkit-"+e}},Lt={supportedProperty:function(e){return"scroll-snap"===e.substring(0,11)&&("ms"===ht?""+ft+e:e)}},Pt={supportedProperty:function(e){return"overscroll-behavior"===e&&("ms"===ht?ft+"scroll-chaining":e)}},Nt={"flex-grow":"flex-positive","flex-shrink":"flex-negative","flex-basis":"flex-preferred-size","justify-content":"flex-pack",order:"flex-order","align-items":"flex-align","align-content":"flex-line-pack"},jt={supportedProperty:function(e,t){var n=Nt[e];return!!n&&(ht+Mt(n)in t&&ft+n)}},Ft={flex:"box-flex","flex-grow":"box-flex","flex-direction":["box-orient","box-direction"],order:"box-ordinal-group","align-items":"box-align","flex-flow":["box-orient","box-direction"],"justify-content":"box-pack"},Gt=Object.keys(Ft),Ut=function(e){return ft+e},zt=[gt,yt,St,Et,Tt,At,Rt,Ot,kt,It,Ct,Dt,Lt,Pt,jt,{supportedProperty:function(e,t,n){var r=n.multiple;if(Gt.indexOf(e)>-1){var i=Ft[e];if(!Array.isArray(i))return ht+Mt(i)in t&&ft+i;if(!r)return!1;for(var a=0;a<i.length;a++)if(!(ht+Mt(i[0])in t))return!1;return i.map(Ut)}return!1}}],Bt=zt.filter((function(e){return e.supportedProperty})).map((function(e){return e.supportedProperty})),Vt=zt.filter((function(e){return e.noPrefill})).reduce((function(e,t){return e.push.apply(e,Object(rt.a)(t.noPrefill)),e}),[]),Ht={};if(c){_t=document.createElement("p");var Wt=window.getComputedStyle(document.documentElement,"");for(var Xt in Wt)isNaN(Xt)||(Ht[Wt[Xt]]=Wt[Xt]);Vt.forEach((function(e){return delete Ht[e]}))}function qt(e,t){if(void 0===t&&(t={}),!_t)return e;if(null!=Ht[e])return Ht[e];"transition"!==e&&"transform"!==e||(t[e]=e in _t.style);for(var n=0;n<Bt.length&&(Ht[e]=Bt[n](e,_t.style,t),!Ht[e]);n++);try{_t.style[e]=""}catch(r){return!1}return Ht[e]}var Yt,Qt={},Zt={transition:1,"transition-property":1,"-webkit-transition":1,"-webkit-transition-property":1},$t=/(^\s*[\w-]+)|, (\s*[\w-]+)(?![^()]*\))/g;function Kt(e,t,n){if("var"===t)return"var";if("all"===t)return"all";if("all"===n)return", all";var r=t?qt(t):", "+qt(n);return r||(t||n)}function Jt(e,t){var n=t;if(!Yt||"content"===e)return t;if("string"!==typeof n||!isNaN(parseInt(n,10)))return n;var r=e+n;if(null!=Qt[r])return Qt[r];try{Yt.style[e]=n}catch(i){return Qt[r]=!1,!1}if(Zt[e])n=n.replace($t,Kt);else if(""===Yt.style[e]&&("-ms-flex"===(n=ft+n)&&(Yt.style[e]="-ms-flexbox"),Yt.style[e]=n,""===Yt.style[e]))return Qt[r]=!1,!1;return Yt.style[e]="",Qt[r]=n,Qt[r]}c&&(Yt=document.createElement("p"));var en=function(){function e(t){for(var n in t){var r=t[n];if("fallbacks"===n&&Array.isArray(r))t[n]=r.map(e);else{var i=!1,a=qt(n);a&&a!==n&&(i=!0);var o=!1,s=Jt(a,b(r));s&&s!==r&&(o=!0),(i||o)&&(i&&delete t[n],t[a||n]=s||r)}}return t}return{onProcessRule:function(e){if("keyframes"===e.type){var t=e;t.at="-"===(n=t.at)[1]||"ms"===ht?n:"@"+ft+"keyframes"+n.substr(10)}var n},onProcessStyle:function(t,n){return"style"!==n.type?t:e(t)},onChangeValue:function(e,t){return Jt(t,b(e))||e}}};var tn=function(){var e=function(e,t){return e.length===t.length?e>t?1:-1:e.length-t.length};return{onProcessStyle:function(t,n){if("style"!==n.type)return t;for(var r={},i=Object.keys(t).sort(e),a=0;a<i.length;a++)r[i[a]]=t[i[a]];return r}}};function nn(){return{plugins:[Ie(),Fe(),Be(),Qe(),nt(),"undefined"===typeof window?null:en(),tn()]}}var rn=Me(nn()),an={disableGeneration:!1,generateClassName:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.disableGlobal,n=void 0!==t&&t,r=e.productionPrefix,i=void 0===r?"jss":r,a=e.seed,o=void 0===a?"":a,s=""===o?"":"".concat(o,"-"),l=0,u=function(){return l+=1};return function(e,t){var r=t.options.name;if(r&&0===r.indexOf("Mui")&&!t.options.link&&!n){if(-1!==Ae.indexOf(e.key))return"Mui-".concat(e.key);var a="".concat(s).concat(r,"-").concat(e.key);return t.options.theme[Te]&&""===o?"".concat(a,"-").concat(u()):a}return"".concat(s).concat(i).concat(u())}}(),jss:rn,sheetsCache:null,sheetsManager:new Map,sheetsRegistry:null},on=o.a.createContext(an);var sn=-1e9;function ln(){return sn+=1}n(46);var un=n(163);function cn(e){var t="function"===typeof e;return{create:function(n,i){var a;try{a=t?e(n):e}catch(l){throw l}if(!i||!n.overrides||!n.overrides[i])return a;var o=n.overrides[i],s=Object(r.a)({},a);return Object.keys(o).forEach((function(e){s[e]=Object(un.a)(s[e],o[e])})),s},options:{}}}var dn={};function hn(e,t,n){var r=e.state;if(e.stylesOptions.disableGeneration)return t||{};r.cacheClasses||(r.cacheClasses={value:null,lastProp:null,lastJSS:{}});var i=!1;return r.classes!==r.cacheClasses.lastJSS&&(r.cacheClasses.lastJSS=r.classes,i=!0),t!==r.cacheClasses.lastProp&&(r.cacheClasses.lastProp=t,i=!0),i&&(r.cacheClasses.value=Object(_e.a)({baseClasses:r.cacheClasses.lastJSS,newClasses:t,Component:n})),r.cacheClasses.value}function fn(e,t){var n=e.state,i=e.theme,a=e.stylesOptions,o=e.stylesCreator,s=e.name;if(!a.disableGeneration){var l=Se.get(a.sheetsManager,o,i);l||(l={refs:0,staticSheet:null,dynamicStyles:null},Se.set(a.sheetsManager,o,i,l));var u=Object(r.a)({},o.options,a,{theme:i,flip:"boolean"===typeof a.flip?a.flip:"rtl"===i.direction});u.generateId=u.serverGenerateClassName||u.generateClassName;var c=a.sheetsRegistry;if(0===l.refs){var d;a.sheetsCache&&(d=Se.get(a.sheetsCache,o,i));var h=o.create(i,s);d||((d=a.jss.createStyleSheet(h,Object(r.a)({link:!1},u))).attach(),a.sheetsCache&&Se.set(a.sheetsCache,o,i,d)),c&&c.add(d),l.staticSheet=d,l.dynamicStyles=xe(h)}if(l.dynamicStyles){var f=a.jss.createStyleSheet(l.dynamicStyles,Object(r.a)({link:!0},u));f.update(t),f.attach(),n.dynamicSheet=f,n.classes=Object(_e.a)({baseClasses:l.staticSheet.classes,newClasses:f.classes}),c&&c.add(f)}else n.classes=l.staticSheet.classes;l.refs+=1}}function pn(e,t){var n=e.state;n.dynamicSheet&&n.dynamicSheet.update(t)}function mn(e){var t=e.state,n=e.theme,r=e.stylesOptions,i=e.stylesCreator;if(!r.disableGeneration){var a=Se.get(r.sheetsManager,i,n);a.refs-=1;var o=r.sheetsRegistry;0===a.refs&&(Se.delete(r.sheetsManager,i,n),r.jss.removeStyleSheet(a.staticSheet),o&&o.remove(a.staticSheet)),t.dynamicSheet&&(r.jss.removeStyleSheet(t.dynamicSheet),o&&o.remove(t.dynamicSheet))}}function vn(e,t){var n,r=o.a.useRef([]),i=o.a.useMemo((function(){return{}}),t);r.current!==i&&(r.current=i,n=e()),o.a.useEffect((function(){return function(){n&&n()}}),[i])}function gn(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.name,a=t.classNamePrefix,s=t.Component,l=t.defaultTheme,u=void 0===l?dn:l,c=Object(i.a)(t,["name","classNamePrefix","Component","defaultTheme"]),d=cn(e),h=n||a||"makeStyles";d.options={index:ln(),name:n,meta:h,classNamePrefix:h};var f=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=Object(Ee.a)()||u,i=Object(r.a)({},o.a.useContext(on),c),a=o.a.useRef(),l=o.a.useRef();vn((function(){var r={name:n,state:{},stylesCreator:d,stylesOptions:i,theme:t};return fn(r,e),l.current=!1,a.current=r,function(){mn(r)}}),[t,d]),o.a.useEffect((function(){l.current&&pn(a.current,e),l.current=!0}));var h=hn(a.current,e.classes,s);return h};return f}var yn=n(164),bn=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return function(n){var a=t.defaultTheme,s=t.withTheme,u=void 0!==s&&s,c=t.name,d=Object(i.a)(t,["defaultTheme","withTheme","name"]);var h=c,f=gn(e,Object(r.a)({defaultTheme:a,Component:n,name:c||n.displayName,classNamePrefix:h},d)),p=o.a.forwardRef((function(e,t){e.classes;var s,l=e.innerRef,d=Object(i.a)(e,["classes","innerRef"]),h=f(Object(r.a)({},n.defaultProps,e)),p=d;return("string"===typeof c||u)&&(s=Object(Ee.a)()||a,c&&(p=Object(yn.a)({theme:s,name:c,props:d})),u&&!p.theme&&(p.theme=s)),o.a.createElement(n,Object(r.a)({ref:l||t,classes:h},p))}));return l()(p,n),p}},xn=n(71);t.a=function(e,t){return bn(e,Object(r.a)({defaultTheme:xn.a},t))}},function(e,t,n){"use strict";e.exports=n(105)},function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(17);function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){Object(r.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}},function(e,t,n){"use strict";n.d(t,"a",(function(){return ve})),n.d(t,"b",(function(){return N})),n.d(t,"c",(function(){return P})),n.d(t,"d",(function(){return B})),n.d(t,"e",(function(){return ie})),n.d(t,"f",(function(){return ue})),n.d(t,"g",(function(){return ae})),n.d(t,"h",(function(){return oe}));var r=n(43),i=n(52);function a(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var o=n(30),s=n(62),l=n(70),u=n(38),c=n(63);function d(e){return Object(s.a)(e)||Object(l.a)(e)||Object(u.a)(e)||Object(c.a)()}var h=n(10),f=n(13),p=n(2),m=n(0),v=n(87),g=n.n(v),y=n(51),b=n(1),x=n(88),w=[],M=function(e,t){return e.length===t.length&&e.every((function(e,n){return e===t[n]}))};function _(e,t,n){var i,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,s=arguments.length>4&&void 0!==arguments[4]&&arguments[4],l=Object(r.a)(t);try{for(l.s();!(i=l.n()).done;){var u=i.value;if(M(n,u.args)){if(s)return;if(u.error)throw u.error;if(u.response)return u.response;throw u.promise}}}catch(d){l.e(d)}finally{l.f()}var c={args:n,promise:e.apply(void 0,Object(o.a)(n)).then((function(e){return c.response=null==e||e})).catch((function(e){return c.error=e})).then((function(){a>0&&setTimeout((function(){var e=t.indexOf(c);-1!==e&&t.splice(e,1)}),a)}))};if(t.push(c),!s)throw c.promise}function S(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if(void 0===n)e.splice(0,e.length);else{var i=e.find((function(e){return M(n,e.args)}));if(i){var a=e.indexOf(i);-1!==a&&e.splice(a,1)}}}function E(e,t){return Object(b.useMemo)((function(){return _(e,w,t,E.lifespan)}),t)}E.lifespan=0,E.clear=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return S.apply(void 0,[w].concat(t))},E.preload=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];_(e,w,n,E.lifespan,!0)},E.peek=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r;return null==(r=w.find((function(e){return M(t,e.args)})))?void 0:r.response};var T=n(89),A=n(44),R=new Map,O={},k={obj:function(e){return e===Object(e)&&!k.arr(e)},fun:function(e){return"function"===typeof e},str:function(e){return"string"===typeof e},num:function(e){return"number"===typeof e},und:function(e){return void 0===e},arr:function(e){return Array.isArray(e)},equ:function(e,t){if(typeof e!==typeof t||!!e!==!!t)return!1;if(k.str(e)||k.num(e)||k.obj(e))return e===t;if(k.arr(e)&&e==t)return!0;var n;for(n in e)if(!(n in t))return!1;for(n in t)if(e[n]!==t[n])return!1;return!k.und(n)||e===t}};function I(e,t){var n=t.length;return t.push(e),function(){t.splice(n,1)}}var C=[],D=[],L=[],P=function(e){return I(e,C)},N=function(e){return I(e,D)};function j(e,t){var n,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(i)for(n=0;n<C.length;n++)C[n](t),r++;var a=e.current.clock.getDelta();for(n=0;n<e.current.subscribers.length;n++)e.current.subscribers[n].ref.current(e.current,a);if(e.current.frames=Math.max(0,e.current.frames-1),r+=e.current.invalidateFrameloop?e.current.frames:1,!e.current.manual&&e.current.gl.render&&e.current.gl.render(e.current.scene,e.current.camera),i)for(n=0;n<D.length;n++)D[n](t);return r}var F=!1;function G(e){F=!0;var t,n=0;for(t=0;t<C.length;t++)C[t](e),n++;for(R.forEach((function(t){var r=t.containerInfo.__state;r.current.active&&r.current.ready&&(!r.current.invalidateFrameloop||r.current.frames>0)&&(n=j(r,e,n))})),t=0;t<D.length;t++)D[t](e);if(0!==n)return requestAnimationFrame(G);for(t=0;t<L.length;t++)L[t](e);F=!1}function U(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;if(!0===e)R.forEach((function(e){var n=e.containerInfo.__state;n.current.frames=n.current.ready?n.current.frames+t:t}));else if(e&&e.current){if(e.current.vr)return;e.current.frames=e.current.ready?e.current.frames+t:t}F||(F=!0,requestAnimationFrame(G))}var z={};function B(e,t){var n,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=arguments.length>3&&void 0!==arguments[3]&&arguments[3],a=e.__container,s=[],l=[],u=Object.keys(t);for(n=0;n<u.length;n++)k.equ(t[u[n]],r[u[n]])&&s.push(u[n]),k.fun(t[u[n]])&&u[n].startsWith("on")&&(u[n].includes("Pointer")||u[n].includes("Click")||u[n].includes("ContextMenu")||u[n].includes("Wheel"))&&l.push(u[n]);var c=[];if(u=Object.keys(r),i)for(n=0;n<u.length;n++)void 0===t[u[n]]&&c.push(u[n]);var p=[].concat(s,["children","key","ref"]);e.__instance&&p.push("object");var v=Object(f.a)({},t);for(u=Object.keys(v),n=0;n<u.length;n++)p.indexOf(u[n])>-1&&delete v[u[n]];for(u=Object.keys(c),n=0;n<u.length;n++)"children"!==u[n]&&(v[u[n]]=void 0);var g=Object.entries(v);if(g.length>0){if(g.forEach((function(t){var n=Object(h.a)(t,2),r=n[0],i=n[1];if(!l.includes(r)){var a,s,u=e,c=u[r];if(r.includes("-")){var f=r.split("-");if(!(c=f.reduce((function(e,t){return e[t]}),e))||!c.set){var p=d(f.reverse()),v=p[0];u=p.slice(1).reverse().reduce((function(e,t){return e[t]}),e),r=v}}var g,y=null==(a=e.__container)||null==(s=a.__state)?void 0:s.current.colorManagement;if(c&&c.set&&(c.copy||c instanceof m.Layers))if(Array.isArray(i))(g=c).set.apply(g,Object(o.a)(i));else c.copy&&i&&i.constructor&&c.constructor.name===i.constructor.name?c.copy(i):void 0!==i&&(c.set(i),y&&c instanceof m.Color&&c.convertSRGBToLinear());else u[r]=i,y&&u[r]instanceof m.Texture&&(u[r].encoding=m.sRGBEncoding);V(e)}})),i&&a&&e.raycast&&e.__handlers){e.__handlers=void 0;var y=a.__interaction.indexOf(e);y>-1&&a.__interaction.splice(y,1)}l.length&&(i&&a&&e.raycast&&a.__interaction.push(e),e.__handlers=l.reduce((function(e,n){return e[n.charAt(2).toLowerCase()+n.substr(3)]=t[n],e}),{})),e.parent&&H(e)}}function V(e){e.__container&&e.__container.__state&&U(e.__container.__state)}function H(e){e.onUpdate&&e.onUpdate(e)}function W(e,t,n,r,s){var l,u=t.args,c=void 0===u?[]:u,d=a(t,["args"]),h="".concat(e[0].toUpperCase()).concat(e.slice(1));if("primitive"===e)(l=(d=Object(f.a)({dispose:null},d)).object).__instance=!0,l.__dispose=l.dispose;else{var p=z[h]||m[h];if(!p)throw'"'.concat(h,'" is not part of the THREE namespace! Did you forget to extend it? See: https://github.com/pmndrs/react-three-fiber/blob/master/markdown/api.md#using-3rd-party-objects-declaratively');l=k.arr(c)?Object(i.a)(p,Object(o.a)(c)):new p(c)}for(;n.__container;)n=n.__container;if(!R.has(n)){n=function e(t){return t.return?e(t.return):t.stateNode&&t.stateNode.containerInfo}(s)}return l.__objects=[],l.__container=n,h.endsWith("Geometry")?d=Object(f.a)({attach:"geometry"},d):h.endsWith("Material")&&(d=Object(f.a)({attach:"material"},d)),B(l,d,{}),l}function X(e,t){t&&(t.isObject3D?e.add(t):(e.__objects.push(t),t.parent=e,t.attachArray?(k.arr(e[t.attachArray])||(e[t.attachArray]=[]),e[t.attachArray].push(t)):t.attachObject?(k.obj(e[t.attachObject[0]])||(e[t.attachObject[0]]={}),e[t.attachObject[0]][t.attachObject[1]]=t):t.attach&&(e[t.attach]=t)),H(t),V(t))}function q(e,t,n){if(t){if(t.isObject3D){t.parent=e,t.dispatchEvent({type:"added"});var r=e.children.filter((function(e){return e!==t})),i=r.indexOf(n);e.children=[].concat(Object(o.a)(r.slice(0,i)),[t],Object(o.a)(r.slice(i))),H(t)}else X(e,t);V(t)}}function Y(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(e){var r=n?Object(o.a)(e):e;r.forEach((function(e){return Q(t,e)}))}}function Q(e,t){t&&(t.isObject3D?e.remove(t):(t.parent=null,e.__objects&&(e.__objects=e.__objects.filter((function(e){return e!==t}))),t.attachArray?e[t.attachArray]=e[t.attachArray].filter((function(e){return e!==t})):t.attachObject?delete e[t.attachObject[0]][t.attachObject[1]]:t.attach&&(e[t.attach]=null)),t.__container&&(t.__container.__interaction=t.__container.__interaction.filter((function(e){return e!==t}))),V(t),null!==t.dispose&&Object(y.unstable_runWithPriority)(y.unstable_IdlePriority,(function(){Y(t.__objects,t),Y(t.children,t,!0),t.dispose&&"Scene"!==t.type?t.dispose():t.__dispose&&t.__dispose(),delete t.__container,delete t.__objects})))}function Z(e,t,n,r){var i=e.parent,a=W(t,n,e.__container,0,r);Q(i,e),X(i,a),[r,r.alternate].forEach((function(e){null!==e&&(e.stateNode=a,e.ref&&(k.fun(e.ref)?e.ref(a):e.ref.current=a))}))}var $=g()({now:y.unstable_now,createInstance:W,removeChild:Q,appendChild:X,insertBefore:q,warnsIfNotActing:!0,supportsMutation:!0,isPrimaryRenderer:!1,scheduleTimeout:k.fun(setTimeout)?setTimeout:void 0,cancelTimeout:k.fun(clearTimeout)?clearTimeout:void 0,setTimeout:k.fun(setTimeout)?setTimeout:void 0,clearTimeout:k.fun(clearTimeout)?clearTimeout:void 0,noTimeout:-1,appendInitialChild:X,appendChildToContainer:X,removeChildFromContainer:Q,insertInContainerBefore:q,commitUpdate:function(e,t,n,r,i,o){if(e.__instance&&i.object&&i.object!==e)Z(e,n,i,o);else{var s=i.args,l=void 0===s?[]:s,u=a(i,["args"]),c=r.args,d=void 0===c?[]:c,f=a(r,["args"]);l.some((function(e,t){return k.obj(e)?Object.entries(e).some((function(e){var n=Object(h.a)(e,2),r=n[0];return n[1]!==d[t][r]})):e!==d[t]}))?Z(e,n,i,o):B(e,u,f,!0)}},hideInstance:function(e){e.isObject3D&&(e.visible=!1,V(e))},unhideInstance:function(e,t){(e.isObject3D&&null==t.visible||t.visible)&&(e.visible=!0,V(e))},hideTextInstance:function(){throw new Error("Text is not allowed in the react-three-fibre tree. You may have extraneous whitespace between components.")},getPublicInstance:function(e){return e},getRootHostContext:function(){return O},getChildHostContext:function(){return O},createTextInstance:function(){},finalizeInitialChildren:function(e){return e.__handlers},commitMount:function(e){var t=e.__container;t&&e.raycast&&e.__handlers&&t.__interaction.push(e)},prepareUpdate:function(){return O},shouldDeprioritizeSubtree:function(){return!1},prepareForCommit:function(){return null},preparePortalMount:function(){return null},resetAfterCommit:function(){},shouldSetTextContent:function(){return!1},clearContainer:function(){return!1}});k.fun(Symbol)&&Symbol.for&&Symbol.for("react.portal");$.injectIntoDevTools({bundleType:0,findHostInstanceByFiber:function(){return null},version:"5.3.3",rendererPackageName:"react-three-fiber"});function K(e){return e.isOrthographicCamera}function J(e){return(e.eventObject||e.object).uuid+"/"+e.index}var ee=Object(b.createContext)({});function te(e){var t=e.children,n=e.gl,i=e.camera,s=e.orthographic,l=e.raycaster,u=e.size,c=e.pixelRatio,d=e.vr,p=void 0!==d&&d,v=e.concurrent,g=void 0!==v&&v,y=e.shadowMap,w=void 0!==y&&y,M=e.colorManagement,_=void 0===M||M,S=e.invalidateFrameloop,E=void 0!==S&&S,T=e.updateDefaultCamera,A=void 0===T||T,O=e.noEvents,k=void 0!==O&&O,I=e.onCreated,C=e.onPointerMissed,D=e.forceResize,L=Object(b.useState)(!1),P=Object(h.a)(L,2),N=P[0],F=P[1],G=Object(b.useState)((function(){return new m.Vector2})),z=Object(h.a)(G,1)[0],V=Object(b.useState)((function(){var e=new m.Raycaster;if(l){l.filter,l.computeOffsets;B(e,a(l,["filter","computeOffsets"]),{})}return e})),H=Object(h.a)(V,1)[0],W=Object(b.useState)((function(){var e=new m.Scene;return e.__interaction=[],e.__objects=[],e})),X=Object(h.a)(W,1)[0],q=Object(b.useState)((function(){var e=s?new m.OrthographicCamera(0,0,0,0,.1,1e3):new m.PerspectiveCamera(75,0,.1,1e3);return e.position.z=5,i&&B(e,i,{}),e.lookAt(0,0,0),e})),Y=Object(h.a)(q,2),Q=Y[0],Z=Y[1],te=Object(b.useState)((function(){return new m.Clock})),re=Object(h.a)(te,1)[0],ie=Object(b.useRef)({ready:!1,active:!0,manual:0,colorManagement:_,vr:p,concurrent:g,noEvents:k,invalidateFrameloop:!1,frames:0,aspect:0,subscribers:[],camera:Q,scene:X,raycaster:H,mouse:z,clock:re,gl:n,size:u,viewport:null,initialClick:[0,0],initialHits:[],pointer:new x.TinyEmitter,captured:void 0,events:void 0,subscribe:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return t&&ie.current.manual++,ie.current.subscribers.push({ref:e,priority:t}),ie.current.subscribers=ie.current.subscribers.sort((function(e,t){return e.priority-t.priority})),function(){var n;null!=(n=ie.current)&&n.subscribers&&(t&&ie.current.manual--,ie.current.subscribers=ie.current.subscribers.filter((function(t){return t.ref!==e})))}},setDefaultCamera:function(e){return Z(e)},invalidate:function(){return U(ie)},intersect:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return pe(e,t)},forceResize:D}),ae=Object(b.useCallback)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ie.current.camera,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new m.Vector3(0,0,0),n=ie.current.size,r=n.width,i=n.height,a=e.position.distanceTo(t);if(K(e))return{width:r/e.zoom,height:i/e.zoom,factor:1,distance:a};var o=e.fov*Math.PI/180,s=2*Math.tan(o/2)*a,l=s*(r/i);return{width:l,height:s,factor:r/l,distance:a}}),[]);Object(b.useMemo)((function(){ie.current.ready=N,ie.current.size=u,ie.current.camera=Q,ie.current.invalidateFrameloop=E,ie.current.vr=p,ie.current.gl=n,ie.current.concurrent=g,ie.current.noEvents=k,ie.current.viewport=ae}),[E,p,g,k,N,u,Q,n,ae]),Object(b.useMemo)((function(){ie.current.aspect=u.width/u.height,Object.assign(ie.current.viewport,ae()),A&&(K(Q)?(Q.left=u.width/-2,Q.right=u.width/2,Q.top=u.height/2,Q.bottom=u.height/-2):Q.aspect=ie.current.aspect,Q.updateProjectionMatrix(),Q.updateMatrixWorld()),n.setSize(u.width,u.height),N&&U(ie)}),[Q,n,u,A,ae,N]);var oe=Object(b.useMemo)((function(){return new Map}),[]),se=new m.Vector3,le=Object(b.useCallback)((function(e){var t=(null==l||null==l.computeOffsets?void 0:l.computeOffsets(e))||e.nativeEvent;if(t){var n=t.offsetX,r=t.offsetY,i=ie.current.size,a=i.width,o=i.height;z.set(n/a*2-1,-r/o*2+1),H.setFromCamera(z,ie.current.camera)}}),[]),ue=Object(b.useCallback)((function(e,t){if(ie.current.noEvents)return[];var n=new Set,i=[],a=t?t(ie.current.scene.__interaction):ie.current.scene.__interaction,o=H.intersectObjects(a,!0).filter((function(e){var t=J(e);return!n.has(t)&&(n.add(t),!0)}));l&&l.filter&&ve.current&&(o=l.filter(o,ve.current));var s,u=Object(r.a)(o);try{for(u.s();!(s=u.n()).done;)for(var c=s.value,d=c.object;d;){d.__handlers&&i.push(Object(f.a)(Object(f.a)({},c),{},{eventObject:d})),d=d.parent}}catch(h){u.e(h)}finally{u.f()}return i}),[]),ce=Object(b.useCallback)((function(e){var t=e.nativeEvent.offsetX-ie.current.initialClick[0],n=e.nativeEvent.offsetY-ie.current.initialClick[1];return Math.round(Math.sqrt(t*t+n*n))}),[]),de=Object(b.useCallback)((function(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];ie.current.pointer.emit("pointerCancel",e),n&&le(e),Array.from(oe.values()).forEach((function(e){if(t&&(!t.length||!t.find((function(t){return t.eventObject===e.eventObject})))){var n=e.eventObject.__handlers;oe.delete(J(e)),n&&(n.pointerOut&&n.pointerOut(Object(f.a)(Object(f.a)({},e),{},{type:"pointerout"})),n.pointerLeave&&n.pointerLeave(Object(f.a)(Object(f.a)({},e),{},{type:"pointerleave"})))}}))}),[]),he=Object(b.useCallback)((function(e,t){var n=ue(e,t);return ie.current.captured&&"click"!==e.type&&"wheel"!==e.type&&ie.current.captured.forEach((function(e){n.find((function(t){return t.eventObject===e.eventObject}))||n.push(e)})),n}),[]),fe=Object(b.useCallback)((function(e,t,n){return e.length&&function(){var i,a=se.set(z.x,z.y,0).unproject(ie.current.camera),s="click"===t.type?ce(t):0,l=function(e){return t.target.releasePointerCapture(e)},u={stopped:!1,captured:!1},c=Object(r.a)(e);try{var d=function(){var r=i.value,c=function(e){u.captured||(u.captured=!0,ie.current.captured=[]),ie.current.captured&&ie.current.captured.push(r),t.target.setPointerCapture(e)},d=Object(f.a)(Object(f.a)(Object(f.a)({},t),r),{},{intersections:e,stopped:u.stopped,delta:s,unprojectedPoint:a,ray:H.ray,camera:ie.current.camera,stopPropagation:function(){var t=ie.current.captured;if((!t||t.find((function(e){return e.eventObject.id===r.eventObject.id})))&&(d.stopped=u.stopped=!0,oe.size&&Array.from(oe.values()).find((function(e){return e.object===r.object})))){var n=e.slice(0,e.indexOf(r));de(d,[].concat(Object(o.a)(n),[r]))}},target:Object(f.a)(Object(f.a)({},t.target),{},{setPointerCapture:c,releasePointerCapture:l}),currentTarget:Object(f.a)(Object(f.a)({},t.currentTarget),{},{setPointerCapture:c,releasePointerCapture:l}),sourceEvent:t});if(n(d),!0===u.stopped)return"break"};for(c.s();!(i=c.n()).done;){if("break"===d())break}}catch(h){c.e(h)}finally{c.f()}}(),e}),[]),pe=Object(b.useCallback)((function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];ie.current.pointer.emit("pointerMove",e),t&&le(e);var n=he(e,(function(e){return e.filter((function(e){return["Move","Over","Enter","Out","Leave"].some((function(t){return e.__handlers["pointer"+t]}))}))}));return de(e,n),fe(n,e,(function(e){var t=e.eventObject.__handlers;if(t){if(t.pointerOver||t.pointerEnter||t.pointerOut||t.pointerLeave){var n=J(e),r=oe.get(n);r?r.stopped&&e.stopPropagation():(oe.set(n,e),t.pointerOver&&t.pointerOver(Object(f.a)(Object(f.a)({},e),{},{type:"pointerover"})),t.pointerEnter&&t.pointerEnter(Object(f.a)(Object(f.a)({},e),{},{type:"pointerenter"})))}t.pointerMove&&t.pointerMove(e)}})),n}),[]),me=Object(b.useCallback)((function(e){return function(t){var n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];ie.current.pointer.emit(e,t),n&&le(t);var r=he(t);fe(r,t,(function(t){var n=t.eventObject,r=n.__handlers;r&&r[e]&&("click"!==e&&"contextMenu"!==e&&"doubleClick"!==e||ie.current.initialHits.includes(n))&&r[e](t)})),"pointerDown"===e&&(ie.current.initialClick=[t.nativeEvent.offsetX,t.nativeEvent.offsetY],ie.current.initialHits=r.map((function(e){return e.eventObject}))),"click"!==e&&"contextMenu"!==e&&"doubleClick"!==e||r.length||!C||ce(t)<=2&&C()}}),[C,ce,he,fe,le]);Object(b.useMemo)((function(){ie.current.events={onClick:me("click"),onContextMenu:me("contextMenu"),onDoubleClick:me("doubleClick"),onWheel:me("wheel"),onPointerDown:me("pointerDown"),onPointerUp:me("pointerUp"),onPointerLeave:function(e){return de(e,[])},onPointerMove:pe,onGotPointerCaptureLegacy:function(e){return ie.current.captured=ue(e)},onLostPointerCapture:function(e){return ie.current.captured=void 0,de(e)}}}),[me,ue,de,pe]);var ve=Object(b.useRef)();Object(b.useMemo)((function(){var e=ie.current,t=(e.ready,e.manual,e.vr,e.noEvents,e.invalidateFrameloop,e.frames,e.subscribers,e.captured,e.initialClick,e.initialHits,a(e,["ready","manual","vr","noEvents","invalidateFrameloop","frames","subscribers","captured","initialClick","initialHits"]));ve.current=t}),[u,Q]),Object(b.useLayoutEffect)((function(){c&&(Array.isArray(c)?n.setPixelRatio(Math.max(Math.min(c[0],window.devicePixelRatio),c[1])):n.setPixelRatio(c))}),[n,c]),Object(b.useLayoutEffect)((function(){w&&(n.shadowMap.enabled=!0,"object"===typeof w?Object.assign(n.shadowMap,w):n.shadowMap.type=m.PCFSoftShadowMap),_&&(n.toneMapping=m.ACESFilmicToneMapping,n.outputEncoding=m.sRGBEncoding)}),[w,_,n]);var ge=Object(b.useCallback)((function(e){var t=function(){return F(!0)};return Object(b.useEffect)((function(){var e=I&&I(ie.current);e&&e.then?e.then(t):t()}),[]),e.children}),[I]);return Object(b.useLayoutEffect)((function(){!function(e,t,n){var r=R.get(t);if(!r){t.__state=n;var i=r=$.createContainer(t,void 0!==n&&n.current.concurrent?2:0,!1,null);R.set(t,i)}$.updateContainer(e,r,null,(function(){})),$.getPublicRootInstance(r)}(Object(b.createElement)(ge,null,Object(b.createElement)(ee.Provider,{value:ve.current},"function"===typeof t?t(ie.current):t)),X,ie)}),[N,t,ve.current,ge,X]),Object(b.useLayoutEffect)((function(){N&&(ie.current.vr?(n.xr||n.vr)&&n.setAnimationLoop?((n.xr||n.vr).enabled=!0,n.setAnimationLoop((function(e){return j(ie,e,0,!0)}))):console.warn("the gl instance does not support VR!"):0===ie.current.frames&&U(ie))}),[n,N,E]),Object(b.useEffect)((function(){return function(){ie.current.gl&&(ie.current.gl.renderLists&&ie.current.gl.renderLists.dispose(),ie.current.gl.forceContextLoss&&ie.current.gl.forceContextLoss(),ne(ie.current.gl)),function(e,t){var n=R.get(e);n&&$.updateContainer(null,n,null,(function(){R.delete(e),t&&t(e)}))}(ie.current.scene,(function(){ne(ie.current.raycaster),ne(ie.current.camera),ne(ie.current)}))}}),[]),ie.current.events}function ne(e){for(var t in e.dispose&&"Scene"!==e.type&&e.dispose(),e)"object"===typeof t&&t.dispose&&t.dispose(),delete e[t]}function re(e){var t=Object(b.useContext)(e);return t||console.warn("hooks can only be used within the canvas! https://github.com/react-spring/react-three-fiber#hooks"),t}function ie(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=re(ee),r=n.subscribe,i=Object(b.useRef)(e);return Object(b.useLayoutEffect)((function(){i.current=e}),[e]),Object(b.useEffect)((function(){var e=r(i,t);return function(){return e()}}),[t,r]),null}function ae(){return re(ee)}function oe(e,t,n){var r=re(ee).invalidate,i=Object(b.useRef)(),a=n||i;return Object(b.useLayoutEffect)((function(){a.current&&(e(a.current),r())}),t),a}function se(e){var t={nodes:{},materials:{}};return e&&e.traverse((function(e){e.name&&(t.nodes[e.name]=e),e.material&&!t.materials[e.material.name]&&(t.materials[e.material.name]=e.material)})),t}function le(e,t){return function(n,r){var i=new n;e&&e(i);var a=Array.isArray(r)?r:[r];return Promise.all(a.map((function(e){return new Promise((function(n,r){return i.load(e,(function(e){e.scene&&Object.assign(e,se(e.scene)),n(e)}),t,(function(e){return r(e.message)}))}))})))}}function ue(e,t,n,r){var i=E(le(n,r),[e,t]);return Array.isArray(t)?i:i[0]}ue.preload=function(e,t,n){return E.preload(le(n),e,t)};var ce={position:"relative",width:"100%",height:"100%",overflow:"hidden"};function de(e){var t=e.children,n=e.setEvents,r=e.container,i=e.renderer,o=e.effects,s=a(e,["children","setEvents","container","renderer","effects"]),l=Object(b.useState)(i),u=Object(h.a)(l,1)[0];u||console.warn("No renderer created!"),Object(b.useEffect)((function(){o&&null!==r&&o(u,r)}),[r,o,u]);var c=te(Object(f.a)(Object(f.a)({},s),{},{children:t,gl:u}));return Object(b.useEffect)((function(){n(c)}),[c,n]),null}function he(e){e.renderer,e.effects,e.children,e.vr,e.webgl1,e.concurrent,e.shadowMap,e.colorManagement,e.orthographic,e.invalidateFrameloop,e.updateDefaultCamera,e.noEvents,e.gl,e.camera,e.raycaster,e.pixelRatio,e.onCreated,e.onPointerMissed;var t=e.preRender,n=e.resize,r=e.style,i=a(e,["renderer","effects","children","vr","webgl1","concurrent","shadowMap","colorManagement","orthographic","invalidateFrameloop","updateDefaultCamera","noEvents","gl","camera","raycaster","pixelRatio","onCreated","onPointerMissed","preRender","resize","style"]),o=Object(b.useRef)(null),s=Object(b.useState)({}),l=Object(h.a)(s,2),u=l[0],c=(u.onGotPointerCaptureLegacy,a(u,["onGotPointerCaptureLegacy"])),d=l[1],m=Object(T.a)(Object(f.a)({scroll:!0,debounce:{scroll:50,resize:0}},n)),v=Object(h.a)(m,3),g=v[0],y=v[1],x=v[2],w=Object(b.useRef)(!1),M=Object(b.useMemo)((function(){return w.current=w.current||!!y.width&&!!y.height}),[y]),_=Object(b.useMemo)((function(){return{size:y,forceResize:x,setEvents:d,container:o.current}}),[x,y]),S=Object(b.useMemo)((function(){return Object(f.a)(Object(f.a)({},ce),r)}),[r]);return"undefined"===typeof window?Object(b.createElement)("div",Object(p.a)({style:S},i),t):Object(b.createElement)("div",Object(p.a)({ref:Object(A.a)([g,o]),style:S},c,i),t,M&&Object(b.createElement)(de,Object(p.a)({},e,_)))}var fe=Object(b.memo)(he),pe={display:"block"};function me(e){var t=e.children,n=a(e,["children"]),r=Object(b.useRef)(null),i=Object(b.useMemo)((function(){return n.webgl1?m.WebGL1Renderer:m.WebGLRenderer}),[n.webgl1]),o=Object(b.useCallback)((function(){if(null!==r.current){var e=Object(f.a)({antialias:!0,alpha:!0},n.gl);return new i(Object(f.a)({powerPreference:"high-performance",canvas:r.current},e))}}),[i,n.gl]),s=Object(b.useMemo)((function(){return Object(b.createElement)("canvas",{ref:r,style:pe})}),[]);return Object(b.createElement)(fe,Object(p.a)({},n,{renderer:o,preRender:s}),t)}var ve=Object(b.memo)(me)},function(e,t,n){"use strict";n.r(t),n.d(t,"createStringInterpolator",(function(){return r})),n.d(t,"frameLoop",(function(){return s})),n.d(t,"to",(function(){return i})),n.d(t,"now",(function(){return l})),n.d(t,"colorNames",(function(){return u})),n.d(t,"skipAnimation",(function(){return c})),n.d(t,"requestAnimationFrame",(function(){return d})),n.d(t,"batchedUpdates",(function(){return h})),n.d(t,"willAdvance",(function(){return f})),n.d(t,"assign",(function(){return p}));var r,i,a=n(56),o=n(3),s=new a.a,l=function(){return performance.now()},u=null,c=!1,d="undefined"!==typeof window?window.requestAnimationFrame:function(){return-1},h=function(e){return e()},f=o.g,p=function(e){var t;return t=Object.assign({to:i,now:l,frameLoop:s,colorNames:u,skipAnimation:c,createStringInterpolator:r,requestAnimationFrame:d,batchedUpdates:h,willAdvance:f},function(e){var t={};for(var n in e)void 0!==e[n]&&(t[n]=e[n]);return t}(e)),i=t.to,l=t.now,s=t.frameLoop,u=t.colorNames,c=t.skipAnimation,r=t.createStringInterpolator,d=t.requestAnimationFrame,h=t.batchedUpdates,f=t.willAdvance,t}},function(e,t,n){e.exports=n(110)()},function(e,t,n){"use strict";function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";function r(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";function r(e){return(r=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(107)},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(98);function i(e){if("string"!==typeof e)throw new Error(Object(r.a)(7));return e.charAt(0).toUpperCase()+e.slice(1)}},,function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(1),i=n(42);function a(e,t){return r.useMemo((function(){return null==e&&null==t?null:function(n){Object(i.a)(e,n),Object(i.a)(t,n)}}),[e,t])}},function(e,t,n){"use strict";n.d(t,"c",(function(){return i})),n.d(t,"b",(function(){return a})),n.d(t,"a",(function(){return o}));var r=Symbol.for("FluidValue:config");function i(e){var t=a(e);return t?t.get():e}function a(e){if(e)return e[r]}var o=function(){var e,t;e=this,t=this,Object.defineProperty(e,r,{value:t,configurable:!0})}},function(e,t,n){"use strict";n.d(t,"a",(function(){return A})),n.d(t,"b",(function(){return T})),n.d(t,"c",(function(){return S})),n.d(t,"d",(function(){return _})),n.d(t,"e",(function(){return I})),n.d(t,"f",(function(){return b})),n.d(t,"g",(function(){return w})),n.d(t,"h",(function(){return x}));var r=n(28),i=n(26),a=n(19),o=n(5),s=n(6),l=n(4),u=n(8),c=n(3),d=n(40),h=n(24),f=n(45),p=n(2),m=n(15),v=n(1),g=n(37),y=Symbol.for("Animated:node"),b=function(e){return e&&e[y]},x=function(e,t){return Object(c.a)(e,y,t)},w=function(e){return e&&e[y]&&e[y].getPayload()},M=function(){function e(){Object(l.a)(this,e),this.payload=void 0,x(this,this)}return Object(u.a)(e,[{key:"getPayload",value:function(){return this.payload||[]}}]),e}(),_=function(e){Object(o.a)(n,e);var t=Object(s.a)(n);function n(e){var r;return Object(l.a)(this,n),(r=t.call(this))._value=e,r.done=!0,r.elapsedTime=void 0,r.lastPosition=void 0,r.lastVelocity=void 0,r.v0=void 0,c.d.num(r._value)&&(r.lastPosition=r._value),r}return Object(u.a)(n,[{key:"getPayload",value:function(){return[this]}},{key:"getValue",value:function(){return this._value}},{key:"setValue",value:function(e,t){return c.d.num(e)&&(this.lastPosition=e,t&&(e=Math.round(e/t)*t,this.done&&(this.lastPosition=e))),this._value!==e&&(this._value=e,!0)}},{key:"reset",value:function(){var e=this.done;this.done=!1,c.d.num(this._value)&&(this.elapsedTime=0,this.lastPosition=this._value,e&&(this.lastVelocity=null),this.v0=null)}}],[{key:"create",value:function(e,t){return new n(e)}}]),n}(M),S=function(e){Object(o.a)(n,e);var t=Object(s.a)(n);function n(e,r){var i;return Object(l.a)(this,n),(i=t.call(this,0))._value=void 0,i._string=null,i._toString=void 0,i._toString=Object(d.a)({output:[e,r]}),i}return Object(u.a)(n,[{key:"getValue",value:function(){var e=this._string;return null==e?this._string=this._toString(this._value):e}},{key:"setValue",value:function(e){if(c.d.num(e)){if(!Object(i.a)(Object(a.a)(n.prototype),"setValue",this).call(this,e))return!1;this._string=null}else this._string=e,this._value=1;return!0}},{key:"reset",value:function(e){e&&(this._toString=Object(d.a)({output:[this.getValue(),e]})),this._value=0,Object(i.a)(Object(a.a)(n.prototype),"reset",this).call(this)}}],[{key:"create",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e;if(c.d.str(e)&&c.d.str(t))return new n(e,t);throw TypeError('Expected "from" and "to" to be strings')}}]),n}(_),E={current:null},T=function(e){Object(o.a)(n,e);var t=Object(s.a)(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return Object(l.a)(this,n),(e=t.call(this)).source=void 0,e.setValue(r),e}return Object(u.a)(n,[{key:"getValue",value:function(e){if(!this.source)return null;var t={};return Object(c.b)(this.source,(function(n,r){if((a=n)&&a[y]===a)t[r]=n.getValue(e);else{var i=Object(h.b)(n);i?t[r]=i.get():e||(t[r]=n)}var a})),t}},{key:"setValue",value:function(e){this.source=e,this.payload=this._makePayload(e)}},{key:"reset",value:function(){this.payload&&Object(c.b)(this.payload,(function(e){return e.reset()}))}},{key:"_makePayload",value:function(e){if(e){var t=new Set;return Object(c.b)(e,this._addToPayload,t),Array.from(t)}}},{key:"_addToPayload",value:function(e){var t=this;Object(h.b)(e)&&E.current&&E.current.dependencies.add(e);var n=w(e);n&&Object(c.b)(n,(function(e){return t.add(e)}))}}]),n}(M),A=function(e){Object(o.a)(n,e);var t=Object(s.a)(n);function n(e,o){var s,u;return Object(l.a)(this,n),(u=t.call(this,null)).source=void 0,Object(i.a)((s=Object(r.a)(u),Object(a.a)(n.prototype)),"setValue",s).call(s,u._makeAnimated(e,o)),u}return Object(u.a)(n,[{key:"getValue",value:function(){return this.source.map((function(e){return e.getValue()}))}},{key:"setValue",value:function(e){var t=this.getPayload();e&&e.length==t.length?Object(c.b)(t,(function(t,n){return t.setValue(e[n])})):(this.source=this._makeAnimated(e),this.payload=this._makePayload(this.source))}},{key:"_makeAnimated",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e;return e?e.map((function(e,n){return(Object(c.e)(e)?S:_).create(e,t[n])})):[]}}],[{key:"create",value:function(e,t){return new n(e,t)}}]),n}(T),R=function(e){Object(o.a)(n,e);var t=Object(s.a)(n);function n(e){var r;return Object(l.a)(this,n),(r=t.call(this,null)).update=e,r.dirty=!1,r}return Object(u.a)(n,[{key:"setValue",value:function(e,t){if(e){if(t&&(E.current=t,e.style)){var r=t.host.createAnimatedStyle;e=Object(p.a)(Object(p.a)({},e),{},{style:r(e.style)})}Object(i.a)(Object(a.a)(n.prototype),"setValue",this).call(this,e),E.current=null}}},{key:"onParentChange",value:function(e){var t=this,n=e.type;this.dirty||"change"!==n||(this.dirty=!0,m.frameLoop.onFrame((function(){t.dirty=!1,t.update()})))}}]),n}(T),O=function(e,t){return Object(v.forwardRef)((function(n,r){var i=Object(v.useRef)(null),a=!c.d.fun(e)||e.prototype&&e.prototype.isReactComponent,o=Object(f.a)(),s=new R((function(){var e=i.current;a&&!e||!1===(!!e&&t.applyAnimatedValues(e,s.getValue(!0)))&&o()})),l=new Set;return s.setValue(n,{dependencies:l,host:t}),Object(g.a)((function(){return Object(c.b)(l,(function(e){return e.addChild(s)})),function(){return Object(c.b)(l,(function(e){return e.removeChild(s)}))}})),Object(v.createElement)(e,Object(p.a)({},t.getComponentProps(s.getValue()),{ref:a&&function(e){i.current=function(e,t){e&&(c.d.fun(e)?e(t):e.current=t);return t}(r,e)}}))}))};var k=Symbol.for("AnimatedComponent"),I=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.applyAnimatedValues,r=void 0===n?function(){return!1}:n,i=t.createAnimatedStyle,a=void 0===i?function(e){return new T(e)}:i,o=t.getComponentProps,s=void 0===o?function(e){return e}:o,l={applyAnimatedValues:r,createAnimatedStyle:a,getComponentProps:s},u=function(e){var t=C(e)||"Anonymous";return(e=c.d.str(e)?O(e,l):e[k]||(e[k]=O(e,l))).displayName="Animated("+t+")",e};return Object(c.b)(e,(function(e,t){c.d.str(t)||(t=C(e)),u[t]=u(e)})),{animated:u}},C=function(e){return c.d.str(e)?e:e&&c.d.str(e.displayName)?e.displayName:c.d.fun(e)&&e.name||null}},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(19);function i(e,t,n){return(i="undefined"!==typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var i=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Object(r.a)(e)););return e}(e,t);if(i){var a=Object.getOwnPropertyDescriptor(i,t);return a.get?a.get.call(n):a.value}})(e,t,n||e)}},function(e,t,n){"use strict";function r(e){return e&&e.ownerDocument||document}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";function r(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(1),i="undefined"!==typeof window?r.useLayoutEffect:r.useEffect;function a(e){var t=r.useRef(e);return i((function(){t.current=e})),r.useCallback((function(){return t.current.apply(void 0,arguments)}),[])}},function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(57);var i=n(70),a=n(38);function o(e){return function(e){if(Array.isArray(e))return Object(r.a)(e)}(e)||Object(i.a)(e)||Object(a.a)(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},function(e,t,n){"use strict";n.d(t,"c",(function(){return s})),n.d(t,"b",(function(){return u})),n.d(t,"a",(function(){return c})),n.d(t,"d",(function(){return d}));var r=n(98);function i(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return Math.min(Math.max(t,e),n)}function a(e){if(e.type)return e;if("#"===e.charAt(0))return a(function(e){e=e.substr(1);var t=new RegExp(".{1,".concat(e.length>=6?2:1,"}"),"g"),n=e.match(t);return n&&1===n[0].length&&(n=n.map((function(e){return e+e}))),n?"rgb".concat(4===n.length?"a":"","(").concat(n.map((function(e,t){return t<3?parseInt(e,16):Math.round(parseInt(e,16)/255*1e3)/1e3})).join(", "),")"):""}(e));var t=e.indexOf("("),n=e.substring(0,t);if(-1===["rgb","rgba","hsl","hsla"].indexOf(n))throw new Error(Object(r.a)(3,e));var i=e.substring(t+1,e.length-1).split(",");return{type:n,values:i=i.map((function(e){return parseFloat(e)}))}}function o(e){var t=e.type,n=e.values;return-1!==t.indexOf("rgb")?n=n.map((function(e,t){return t<3?parseInt(e,10):e})):-1!==t.indexOf("hsl")&&(n[1]="".concat(n[1],"%"),n[2]="".concat(n[2],"%")),"".concat(t,"(").concat(n.join(", "),")")}function s(e,t){var n=l(e),r=l(t);return(Math.max(n,r)+.05)/(Math.min(n,r)+.05)}function l(e){var t="hsl"===(e=a(e)).type?a(function(e){var t=(e=a(e)).values,n=t[0],r=t[1]/100,i=t[2]/100,s=r*Math.min(i,1-i),l=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:(e+n/30)%12;return i-s*Math.max(Math.min(t-3,9-t,1),-1)},u="rgb",c=[Math.round(255*l(0)),Math.round(255*l(8)),Math.round(255*l(4))];return"hsla"===e.type&&(u+="a",c.push(t[3])),o({type:u,values:c})}(e)).values:e.values;return t=t.map((function(e){return(e/=255)<=.03928?e/12.92:Math.pow((e+.055)/1.055,2.4)})),Number((.2126*t[0]+.7152*t[1]+.0722*t[2]).toFixed(3))}function u(e,t){return e=a(e),t=i(t),"rgb"!==e.type&&"hsl"!==e.type||(e.type+="a"),e.values[3]=t,o(e)}function c(e,t){if(e=a(e),t=i(t),-1!==e.type.indexOf("hsl"))e.values[2]*=1-t;else if(-1!==e.type.indexOf("rgb"))for(var n=0;n<3;n+=1)e.values[n]*=1-t;return o(e)}function d(e,t){if(e=a(e),t=i(t),-1!==e.type.indexOf("hsl"))e.values[2]+=(100-e.values[2])*t;else if(-1!==e.type.indexOf("rgb"))for(var n=0;n<3;n+=1)e.values[n]+=(255-e.values[n])*t;return o(e)}},function(e,t,n){e.exports=n(125)},function(e,t,n){"use strict";function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";function r(e){var t=e.props,n=e.states,r=e.muiFormControl;return n.reduce((function(e,n){return e[n]=t[n],r&&"undefined"===typeof t[n]&&(e[n]=r[n]),e}),{})}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";var r=n(15);n.d(t,"Globals",(function(){return r}));n(24)},function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(59);var i=n(84),a=n(64);function o(e){return function(e){if(Array.isArray(e))return Object(r.a)(e)}(e)||Object(i.a)(e)||Object(a.a)(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(1),i="undefined"!==typeof window&&window.document&&window.document.createElement?r.useLayoutEffect:r.useEffect},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(57);function i(e,t){if(e){if("string"===typeof e)return Object(r.a)(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Object(r.a)(e,t):void 0}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(129),i=(n(1),n(71));function a(){return Object(r.a)()||i.a}},function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(15),i=n(3),a=function e(t,n,a){if(i.d.fun(t))return t;if(i.d.arr(t))return e({range:t,output:n,extrapolate:a});if(i.d.str(t.output[0]))return r.createStringInterpolator(t);var o=t,s=o.output,l=o.range||[0,1],u=o.extrapolateLeft||o.extrapolate||"extend",c=o.extrapolateRight||o.extrapolate||"extend",d=o.easing||function(e){return e};return function(e){var t=function(e,t){for(var n=1;n<t.length-1&&!(t[n]>=e);++n);return n-1}(e,l);return function(e,t,n,r,i,a,o,s,l){var u=l?l(e):e;if(u<t){if("identity"===o)return u;"clamp"===o&&(u=t)}if(u>n){if("identity"===s)return u;"clamp"===s&&(u=n)}if(r===i)return r;if(t===n)return e<=t?r:i;t===-1/0?u=-u:n===1/0?u-=t:u=(u-t)/(n-t);u=a(u),r===-1/0?u=-u:i===1/0?u+=r:u=u*(i-r)+r;return u}(e,l[t],l[t+1],s[t],s[t+1],d,u,c,o.map)}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(85);var i=n(64),a=n(86);function o(e,t){return Object(r.a)(e)||function(e,t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,i=!1,a=void 0;try{for(var o,s=e[Symbol.iterator]();!(r=(o=s.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(l){i=!0,a=l}finally{try{r||null==s.return||s.return()}finally{if(i)throw a}}return n}}(e,t)||Object(i.a)(e,t)||Object(a.a)()}},function(e,t,n){"use strict";function r(e,t){"function"===typeof e?e(t):e&&(e.current=t)}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(38);function i(e,t){var n;if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=Object(r.a)(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var i=0,a=function(){};return{s:a,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,s=!0,l=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return s=e.done,e},e:function(e){l=!0,o=e},f:function(){try{s||null==n.return||n.return()}finally{if(l)throw o}}}}},function(e,t,n){"use strict";t.a=function(e){return function(t){e.forEach((function(e){"function"===typeof e?e(t):null!=e&&(e.current=t)}))}}},function(e,t,n){"use strict";n.d(t,"b",(function(){return i})),n.d(t,"a",(function(){return a})),n.d(t,"c",(function(){return o}));var r=n(1),i=function(e){return Object(r.useEffect)(e,[])},a=function(){var e=Object(r.useState)(0)[1],t=Object(r.useRef)(!1);return i((function(){return function(){t.current=!0}})),function(){t.current||e({})}};function o(e){var t=Object(r.useRef)(void 0);return Object(r.useEffect)((function(){t.current=e})),t.current}},function(e,t,n){"use strict";function r(e){return(r="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";function r(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";n.d(t,"b",(function(){return a}));var r=n(1),i=r.createContext();function a(){return r.useContext(i)}t.a=i},function(e,t,n){"use strict";function r(e){return null!=e&&!(Array.isArray(e)&&0===e.length)}function i(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return e&&(r(e.value)&&""!==e.value||t&&r(e.defaultValue)&&""!==e.defaultValue)}function a(e){return e.startAdornment}n.d(t,"b",(function(){return i})),n.d(t,"a",(function(){return a}))},function(e,t,n){"use strict";function r(e,t,n,r,i,a,o){try{var s=e[a](o),l=s.value}catch(u){return void n(u)}s.done?t(l):Promise.resolve(l).then(r,i)}function i(e){return function(){var t=this,n=arguments;return new Promise((function(i,a){var o=e.apply(t,n);function s(e){r(o,i,a,s,l,"next",e)}function l(e){r(o,i,a,s,l,"throw",e)}s(void 0)}))}}n.d(t,"a",(function(){return i}))},function(e,t,n){"use strict";e.exports=n(108)},function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(53),i=n(69);function a(e,t,n){return(a=Object(i.a)()?Reflect.construct:function(e,t,n){var i=[null];i.push.apply(i,t);var a=new(Function.bind.apply(e,i));return n&&Object(r.a)(a,n.prototype),a}).apply(null,arguments)}},function(e,t,n){"use strict";function r(e,t){return(r=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function i(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}n.d(t,"a",(function(){return i}))},function(e,t,n){"use strict";var r=n(1),i=n.n(r);t.a=i.a.createContext(null)},function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return a}));var r=n(15),i=function(e){return(0,r.requestAnimationFrame)(e)},a=function(e){void 0===e&&(e=i);var t=!0,n=!1,a=0,s=[],l=0,u=new Set,c=new Set,d=new Set,h=function(e){var t=s.indexOf(e);t<0&&(t=s.findIndex((function(t){return t.priority>e.priority})),s.splice(~t?t:s.length,0,e))},f=function n(){if(!t)try{v(),e(n)}catch(r){console.error(r)}},p=function(){t&&(t=!1,0==a&&(a=r.now(),e(f)))},m=[];this.setTimeout=function(e,t){var n=r.now()+t,i=o(m,(function(e){return e.time>n})),a={time:n,handler:e,cancel:function e(){var t=m.findIndex((function(t){return t.cancel==e}));t>=0&&m.splice(t,1)}};return m.splice(i,0,a),p(),a};var v=this.advance=function(){var e=r.now();if(u.size&&(u.forEach(h),u.clear()),m.length&&r.batchedUpdates((function(){var t=o(m,(function(t){return t.time>e}));m.splice(0,t).forEach((function(e){return e.handler()}))})),e>a){var t=Math.min(64,e-a);a=e,r.batchedUpdates((function(){s.length&&(r.willAdvance(s),s=s.filter((function(e){return l=e.priority,e.idle||e.advance(t),!e.idle})),l=0),c.size&&(c.forEach((function(t){return t(e)})),c.clear()),d.size&&(n=!0,d.forEach((function(t){return t(e)})),d.clear(),n=!1)}))}};this.start=function(e){l>e.priority?u.add(e):(h(e),p())},this.onFrame=function(e){c.add(e),p()},this.onWrite=function(e){n?e(a):d.add(e)}};function o(e,t){var n=e.findIndex(t);return n<0?e.length:n}}).call(this,n(126))},function(e,t,n){"use strict";function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";function r(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";var r=Object.getOwnPropertySymbols,i=Object.prototype.hasOwnProperty,a=Object.prototype.propertyIsEnumerable;function o(e){if(null===e||void 0===e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}e.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(t).map((function(e){return t[e]})).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach((function(e){r[e]=e})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(i){return!1}}()?Object.assign:function(e,t){for(var n,s,l=o(e),u=1;u<arguments.length;u++){for(var c in n=Object(arguments[u]))i.call(n,c)&&(l[c]=n[c]);if(r){s=r(n);for(var d=0;d<s.length;d++)a.call(n,s[d])&&(l[s[d]]=n[s[d]])}}return l}},function(e,t,n){"use strict";e.exports=n(112)},function(e,t,n){"use strict";function r(e){if(Array.isArray(e))return e}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";function r(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(59);function i(e,t){if(e){if("string"===typeof e)return Object(r.a)(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Object(r.a)(e,t):void 0}}},function(e,t,n){"use strict";t.a={mobileStepper:1e3,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500}},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(1);function i(e){var t=e.controlled,n=e.default,i=(e.name,e.state,r.useRef(void 0!==t).current),a=r.useState(n),o=a[0],s=a[1];return[i?t:o,r.useCallback((function(e){i||s(e)}),[])]}},function(e,t,n){"use strict";n.d(t,"a",(function(){return p}));var r=n(1),i=n(20),a=!0,o=!1,s=null,l={text:!0,search:!0,url:!0,tel:!0,email:!0,password:!0,number:!0,date:!0,month:!0,week:!0,time:!0,datetime:!0,"datetime-local":!0};function u(e){e.metaKey||e.altKey||e.ctrlKey||(a=!0)}function c(){a=!1}function d(){"hidden"===this.visibilityState&&o&&(a=!0)}function h(e){var t=e.target;try{return t.matches(":focus-visible")}catch(n){}return a||function(e){var t=e.type,n=e.tagName;return!("INPUT"!==n||!l[t]||e.readOnly)||"TEXTAREA"===n&&!e.readOnly||!!e.isContentEditable}(t)}function f(){o=!0,window.clearTimeout(s),s=window.setTimeout((function(){o=!1}),100)}function p(){return{isFocusVisible:h,onBlurVisible:f,ref:r.useCallback((function(e){var t,n=i.findDOMNode(e);null!=n&&((t=n.ownerDocument).addEventListener("keydown",u,!0),t.addEventListener("mousedown",c,!0),t.addEventListener("pointerdown",c,!0),t.addEventListener("touchstart",c,!0),t.addEventListener("visibilitychange",d,!0))}),[])}}},function(e,t,n){"use strict";function r(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:166;function r(){for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];var o=this,s=function(){e.apply(o,i)};clearTimeout(t),t=setTimeout(s,n)}return r.clear=function(){clearTimeout(t)},r}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";function r(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";function r(e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";var r=n(33),i=n(7),a=n(163),o=n(2),s=["xs","sm","md","lg","xl"];function l(e){var t=e.values,n=void 0===t?{xs:0,sm:600,md:960,lg:1280,xl:1920}:t,r=e.unit,a=void 0===r?"px":r,l=e.step,u=void 0===l?5:l,c=Object(i.a)(e,["values","unit","step"]);function d(e){var t="number"===typeof n[e]?n[e]:e;return"@media (min-width:".concat(t).concat(a,")")}function h(e,t){var r=s.indexOf(t);return r===s.length-1?d(e):"@media (min-width:".concat("number"===typeof n[e]?n[e]:e).concat(a,") and ")+"(max-width:".concat((-1!==r&&"number"===typeof n[s[r+1]]?n[s[r+1]]:t)-u/100).concat(a,")")}return Object(o.a)({keys:s,values:n,up:d,down:function(e){var t=s.indexOf(e)+1,r=n[s[t]];return t===s.length?d("xs"):"@media (max-width:".concat(("number"===typeof r&&t>0?r:e)-u/100).concat(a,")")},between:h,only:function(e){return h(e,e)},width:function(e){return n[e]}},c)}function u(e,t,n){var i;return Object(o.a)({gutters:function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object(o.a)({paddingLeft:t(2),paddingRight:t(2)},n,Object(r.a)({},e.up("sm"),Object(o.a)({paddingLeft:t(3),paddingRight:t(3)},n[e.up("sm")])))},toolbar:(i={minHeight:56},Object(r.a)(i,"".concat(e.up("xs")," and (orientation: landscape)"),{minHeight:48}),Object(r.a)(i,e.up("sm"),{minHeight:64}),i)},n)}var c=n(98),d={black:"#000",white:"#fff"},h={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#d5d5d5",A200:"#aaaaaa",A400:"#303030",A700:"#616161"},f={50:"#e8eaf6",100:"#c5cae9",200:"#9fa8da",300:"#7986cb",400:"#5c6bc0",500:"#3f51b5",600:"#3949ab",700:"#303f9f",800:"#283593",900:"#1a237e",A100:"#8c9eff",A200:"#536dfe",A400:"#3d5afe",A700:"#304ffe"},p={50:"#fce4ec",100:"#f8bbd0",200:"#f48fb1",300:"#f06292",400:"#ec407a",500:"#e91e63",600:"#d81b60",700:"#c2185b",800:"#ad1457",900:"#880e4f",A100:"#ff80ab",A200:"#ff4081",A400:"#f50057",A700:"#c51162"},m={50:"#ffebee",100:"#ffcdd2",200:"#ef9a9a",300:"#e57373",400:"#ef5350",500:"#f44336",600:"#e53935",700:"#d32f2f",800:"#c62828",900:"#b71c1c",A100:"#ff8a80",A200:"#ff5252",A400:"#ff1744",A700:"#d50000"},v={50:"#fff3e0",100:"#ffe0b2",200:"#ffcc80",300:"#ffb74d",400:"#ffa726",500:"#ff9800",600:"#fb8c00",700:"#f57c00",800:"#ef6c00",900:"#e65100",A100:"#ffd180",A200:"#ffab40",A400:"#ff9100",A700:"#ff6d00"},g={50:"#e3f2fd",100:"#bbdefb",200:"#90caf9",300:"#64b5f6",400:"#42a5f5",500:"#2196f3",600:"#1e88e5",700:"#1976d2",800:"#1565c0",900:"#0d47a1",A100:"#82b1ff",A200:"#448aff",A400:"#2979ff",A700:"#2962ff"},y={50:"#e8f5e9",100:"#c8e6c9",200:"#a5d6a7",300:"#81c784",400:"#66bb6a",500:"#4caf50",600:"#43a047",700:"#388e3c",800:"#2e7d32",900:"#1b5e20",A100:"#b9f6ca",A200:"#69f0ae",A400:"#00e676",A700:"#00c853"},b=n(31),x={text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.54)",disabled:"rgba(0, 0, 0, 0.38)",hint:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:d.white,default:h[50]},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}},w={text:{primary:d.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",hint:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:h[800],default:"#303030"},action:{active:d.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}};function M(e,t,n,r){var i=r.light||r,a=r.dark||1.5*r;e[t]||(e.hasOwnProperty(n)?e[t]=e[n]:"light"===t?e.light=Object(b.d)(e.main,i):"dark"===t&&(e.dark=Object(b.a)(e.main,a)))}function _(e){var t=e.primary,n=void 0===t?{light:f[300],main:f[500],dark:f[700]}:t,r=e.secondary,s=void 0===r?{light:p.A200,main:p.A400,dark:p.A700}:r,l=e.error,u=void 0===l?{light:m[300],main:m[500],dark:m[700]}:l,_=e.warning,S=void 0===_?{light:v[300],main:v[500],dark:v[700]}:_,E=e.info,T=void 0===E?{light:g[300],main:g[500],dark:g[700]}:E,A=e.success,R=void 0===A?{light:y[300],main:y[500],dark:y[700]}:A,O=e.type,k=void 0===O?"light":O,I=e.contrastThreshold,C=void 0===I?3:I,D=e.tonalOffset,L=void 0===D?.2:D,P=Object(i.a)(e,["primary","secondary","error","warning","info","success","type","contrastThreshold","tonalOffset"]);function N(e){return Object(b.c)(e,w.text.primary)>=C?w.text.primary:x.text.primary}var j=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:500,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:300,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:700;if(!(e=Object(o.a)({},e)).main&&e[t]&&(e.main=e[t]),!e.main)throw new Error(Object(c.a)(4,t));if("string"!==typeof e.main)throw new Error(Object(c.a)(5,JSON.stringify(e.main)));return M(e,"light",n,L),M(e,"dark",r,L),e.contrastText||(e.contrastText=N(e.main)),e},F={dark:w,light:x};return Object(a.a)(Object(o.a)({common:d,type:k,primary:j(n),secondary:j(s,"A400","A200","A700"),error:j(u),warning:j(S),info:j(T),success:j(R),grey:h,contrastThreshold:C,getContrastText:N,augmentColor:j,tonalOffset:L},F[k]),P)}function S(e){return Math.round(1e5*e)/1e5}var E={textTransform:"uppercase"},T='"Roboto", "Helvetica", "Arial", sans-serif';function A(e,t){var n="function"===typeof t?t(e):t,r=n.fontFamily,s=void 0===r?T:r,l=n.fontSize,u=void 0===l?14:l,c=n.fontWeightLight,d=void 0===c?300:c,h=n.fontWeightRegular,f=void 0===h?400:h,p=n.fontWeightMedium,m=void 0===p?500:p,v=n.fontWeightBold,g=void 0===v?700:v,y=n.htmlFontSize,b=void 0===y?16:y,x=n.allVariants,w=n.pxToRem,M=Object(i.a)(n,["fontFamily","fontSize","fontWeightLight","fontWeightRegular","fontWeightMedium","fontWeightBold","htmlFontSize","allVariants","pxToRem"]);var _=u/14,A=w||function(e){return"".concat(e/b*_,"rem")},R=function(e,t,n,r,i){return Object(o.a)({fontFamily:s,fontWeight:e,fontSize:A(t),lineHeight:n},s===T?{letterSpacing:"".concat(S(r/t),"em")}:{},i,x)},O={h1:R(d,96,1.167,-1.5),h2:R(d,60,1.2,-.5),h3:R(f,48,1.167,0),h4:R(f,34,1.235,.25),h5:R(f,24,1.334,0),h6:R(m,20,1.6,.15),subtitle1:R(f,16,1.75,.15),subtitle2:R(m,14,1.57,.1),body1:R(f,16,1.5,.15),body2:R(f,14,1.43,.15),button:R(m,14,1.75,.4,E),caption:R(f,12,1.66,.4),overline:R(f,12,2.66,1,E)};return Object(a.a)(Object(o.a)({htmlFontSize:b,pxToRem:A,round:S,fontFamily:s,fontSize:u,fontWeightLight:d,fontWeightRegular:f,fontWeightMedium:m,fontWeightBold:g},O),M,{clone:!1})}function R(){return["".concat(arguments.length<=0?void 0:arguments[0],"px ").concat(arguments.length<=1?void 0:arguments[1],"px ").concat(arguments.length<=2?void 0:arguments[2],"px ").concat(arguments.length<=3?void 0:arguments[3],"px rgba(0,0,0,").concat(.2,")"),"".concat(arguments.length<=4?void 0:arguments[4],"px ").concat(arguments.length<=5?void 0:arguments[5],"px ").concat(arguments.length<=6?void 0:arguments[6],"px ").concat(arguments.length<=7?void 0:arguments[7],"px rgba(0,0,0,").concat(.14,")"),"".concat(arguments.length<=8?void 0:arguments[8],"px ").concat(arguments.length<=9?void 0:arguments[9],"px ").concat(arguments.length<=10?void 0:arguments[10],"px ").concat(arguments.length<=11?void 0:arguments[11],"px rgba(0,0,0,").concat(.12,")")].join(",")}var O=["none",R(0,2,1,-1,0,1,1,0,0,1,3,0),R(0,3,1,-2,0,2,2,0,0,1,5,0),R(0,3,3,-2,0,3,4,0,0,1,8,0),R(0,2,4,-1,0,4,5,0,0,1,10,0),R(0,3,5,-1,0,5,8,0,0,1,14,0),R(0,3,5,-1,0,6,10,0,0,1,18,0),R(0,4,5,-2,0,7,10,1,0,2,16,1),R(0,5,5,-3,0,8,10,1,0,3,14,2),R(0,5,6,-3,0,9,12,1,0,3,16,2),R(0,6,6,-3,0,10,14,1,0,4,18,3),R(0,6,7,-4,0,11,15,1,0,4,20,3),R(0,7,8,-4,0,12,17,2,0,5,22,4),R(0,7,8,-4,0,13,19,2,0,5,24,4),R(0,7,9,-4,0,14,21,2,0,5,26,4),R(0,8,9,-5,0,15,22,2,0,6,28,5),R(0,8,10,-5,0,16,24,2,0,6,30,5),R(0,8,11,-5,0,17,26,2,0,6,32,5),R(0,9,11,-5,0,18,28,2,0,7,34,6),R(0,9,12,-6,0,19,29,2,0,7,36,6),R(0,10,13,-6,0,20,31,3,0,8,38,7),R(0,10,13,-6,0,21,33,3,0,8,40,7),R(0,10,14,-6,0,22,35,3,0,8,42,7),R(0,11,14,-7,0,23,36,3,0,9,44,8),R(0,11,15,-7,0,24,38,3,0,9,46,8)],k={borderRadius:4},I=n(41),C=(n(36),n(46));n(16);var D=function(e,t){return t?Object(a.a)(e,t,{clone:!1}):e},L={xs:0,sm:600,md:960,lg:1280,xl:1920},P={keys:["xs","sm","md","lg","xl"],up:function(e){return"@media (min-width:".concat(L[e],"px)")}};var N={m:"margin",p:"padding"},j={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},F={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},G=function(e){var t={};return function(n){return void 0===t[n]&&(t[n]=e(n)),t[n]}}((function(e){if(e.length>2){if(!F[e])return[e];e=F[e]}var t=e.split(""),n=Object(I.a)(t,2),r=n[0],i=n[1],a=N[r],o=j[i]||"";return Array.isArray(o)?o.map((function(e){return a+e})):[a+o]})),U=["m","mt","mr","mb","ml","mx","my","p","pt","pr","pb","pl","px","py","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY"];function z(e){var t=e.spacing||8;return"number"===typeof t?function(e){return t*e}:Array.isArray(t)?function(e){return t[e]}:"function"===typeof t?t:function(){}}function B(e,t){return function(n){return e.reduce((function(e,r){return e[r]=function(e,t){if("string"===typeof t)return t;var n=e(Math.abs(t));return t>=0?n:"number"===typeof n?-n:"-".concat(n)}(t,n),e}),{})}}function V(e){var t=z(e.theme);return Object.keys(e).map((function(n){if(-1===U.indexOf(n))return null;var r=B(G(n),t),i=e[n];return function(e,t,n){if(Array.isArray(t)){var r=e.theme.breakpoints||P;return t.reduce((function(e,i,a){return e[r.up(r.keys[a])]=n(t[a]),e}),{})}if("object"===Object(C.a)(t)){var i=e.theme.breakpoints||P;return Object.keys(t).reduce((function(e,r){return e[i.up(r)]=n(t[r]),e}),{})}return n(t)}(e,i,r)})).reduce(D,{})}V.propTypes={},V.filterProps=U;function H(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:8;if(e.mui)return e;var t=z({spacing:e}),n=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return 0===n.length?t(1):1===n.length?t(n[0]):n.map((function(e){if("string"===typeof e)return e;var n=t(e);return"number"===typeof n?"".concat(n,"px"):n})).join(" ")};return Object.defineProperty(n,"unit",{get:function(){return e}}),n.mui=!0,n}var W={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},X={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function q(e){return"".concat(Math.round(e),"ms")}var Y={easing:W,duration:X,create:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:["all"],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.duration,r=void 0===n?X.standard:n,a=t.easing,o=void 0===a?W.easeInOut:a,s=t.delay,l=void 0===s?0:s;Object(i.a)(t,["duration","easing","delay"]);return(Array.isArray(e)?e:[e]).map((function(e){return"".concat(e," ").concat("string"===typeof r?r:q(r)," ").concat(o," ").concat("string"===typeof l?l:q(l))})).join(",")},getAutoHeightDuration:function(e){if(!e)return 0;var t=e/36;return Math.round(10*(4+15*Math.pow(t,.25)+t/5))}},Q=n(65);var Z=function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.breakpoints,n=void 0===t?{}:t,r=e.mixins,o=void 0===r?{}:r,s=e.palette,c=void 0===s?{}:s,d=e.spacing,h=e.typography,f=void 0===h?{}:h,p=Object(i.a)(e,["breakpoints","mixins","palette","spacing","typography"]),m=_(c),v=l(n),g=H(d),y=Object(a.a)({breakpoints:v,direction:"ltr",mixins:u(v,g,o),overrides:{},palette:m,props:{},shadows:O,typography:A(m,f),spacing:g,shape:k,transitions:Y,zIndex:Q.a},p),b=arguments.length,x=new Array(b>1?b-1:0),w=1;w<b;w++)x[w-1]=arguments[w];return y=x.reduce((function(e,t){return Object(a.a)(e,t)}),y)}();t.a=Z},function(e,t,n){"use strict";n.d(t,"a",(function(){return O}));var r=function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};var i=n(24),a=n(40),o="[-+]?\\d*\\.?\\d+",s=o+"%";function l(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return"\\(\\s*("+e.join(")\\s*,\\s*(")+")\\s*\\)"}var u=new RegExp("rgb"+l(o,o,o)),c=new RegExp("rgba"+l(o,o,o,o)),d=new RegExp("hsl"+l(o,s,s)),h=new RegExp("hsla"+l(o,s,s,o)),f=/^#([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,p=/^#([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,m=/^#([0-9a-fA-F]{6})$/,v=/^#([0-9a-fA-F]{8})$/,g=n(15);function y(e,t,n){var r=(1-Math.abs(2*n-1))*t,i=n-r/2,a=function(e,t,n){return e<60?[t,n,0]:e<120?[n,t,0]:e<180?[0,t,n]:e<240?[0,n,t]:e<300?[n,0,t]:[t,0,n]}(e,r,r*(1-Math.abs(e/60%2-1))),o=a[0],s=a[1],l=a[2];return Math.round(255*(o+i))<<24|Math.round(255*(s+i))<<16|Math.round(255*(l+i))<<8}function b(e){var t=parseInt(e,10);return t<0?0:t>255?255:t}function x(e){return(parseFloat(e)%360+360)%360/360}function w(e){var t=parseFloat(e);return t<0?0:t>1?255:Math.round(255*t)}function M(e){var t=parseFloat(e);return t<0?0:t>100?1:t/100}function _(e){var t=function(e){var t;return"number"===typeof e?e>>>0===e&&e>=0&&e<=4294967295?e:null:(t=m.exec(e))?parseInt(t[1]+"ff",16)>>>0:g.colorNames&&void 0!==g.colorNames[e]?g.colorNames[e]:(t=u.exec(e))?(b(t[1])<<24|b(t[2])<<16|b(t[3])<<8|255)>>>0:(t=c.exec(e))?(b(t[1])<<24|b(t[2])<<16|b(t[3])<<8|w(t[4]))>>>0:(t=f.exec(e))?parseInt(t[1]+t[1]+t[2]+t[2]+t[3]+t[3]+"ff",16)>>>0:(t=v.exec(e))?parseInt(t[1],16)>>>0:(t=p.exec(e))?parseInt(t[1]+t[1]+t[2]+t[2]+t[3]+t[3]+t[4]+t[4],16)>>>0:(t=d.exec(e))?(255|y(x(t[1]),M(t[2]),M(t[3])))>>>0:(t=h.exec(e))?(y(x(t[1]),M(t[2]),M(t[3]))|w(t[4]))>>>0:null}(e);return null===t?e:"rgba("+((4278190080&(t=t||0))>>>24)+", "+((16711680&t)>>>16)+", "+((65280&t)>>>8)+", "+(255&t)/255+")"}var S,E=/[+\-]?(?:0|[1-9]\d*)(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,T=/(#(?:[0-9a-f]{2}){2,4}|(#[0-9a-f]{3})|(rgb|hsl)a?\((-?\d+%?[,\s]+){2,3}\s*[\d\.]+%?\))/gi,A=/rgba\(([0-9\.-]+), ([0-9\.-]+), ([0-9\.-]+), ([0-9\.-]+)\)/gi,R=function(e,t,n,r,i){return"rgba("+Math.round(t)+", "+Math.round(n)+", "+Math.round(r)+", "+i+")"},O=function(e){S||(S=g.colorNames?new RegExp("("+Object.keys(g.colorNames).join("|")+")","g"):/^\b$/);var t=e.output.map((function(e){return Object(i.c)(e).replace(T,_).replace(S,_)})),n=t.map((function(e){return e.match(E).map(Number)})),o=n[0].map((function(e,t){return n.map((function(e){if(!(t in e))throw Error('The arity of each "output" value must be equal');return e[t]}))})).map((function(t){return Object(a.a)(r(r({},e),{output:t}))}));return function(e){var n=0;return t[0].replace(E,(function(){return String(o[n++](e))})).replace(A,R)}}},function(e,t,n){"use strict";function r(e){return(r="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}n.d(t,"a",(function(){return a}));var i=n(28);function a(e,t){return!t||"object"!==r(t)&&"function"!==typeof t?Object(i.a)(e):t}},function(e,t,n){"use strict";n.d(t,"a",(function(){return R}));var r=n(8),i=n(10),a=n(4),o=n(5),s=n(6),l=n(18),u=n(35),c=n(20),d=n(72),h=n(95),f=n(25),p=n(3),m=n(24),v=/^--/;function g(e,t){return null==t||"boolean"===typeof t||""===t?"":"number"!==typeof t||0===t||v.test(e)||b.hasOwnProperty(e)&&b[e]?(""+t).trim():t+"px"}var y={};var b={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},x=["Webkit","Ms","Moz","O"];b=Object.keys(b).reduce((function(e,t){return x.forEach((function(n){return e[function(e,t){return e+t.charAt(0).toUpperCase()+t.substring(1)}(n,t)]=e[t]})),e}),b);var w=/^(matrix|translate|scale|rotate|skew)/,M=/^(translate)/,_=/^(rotate|skew)/,S=function(e,t){return p.d.num(e)&&0!==e?e+t:e},E=function e(t,n){return p.d.arr(t)?t.every((function(t){return e(t,n)})):p.d.num(t)?t===n:parseFloat(t)===n},T=function(e){Object(o.a)(n,e);var t=Object(s.a)(n);function n(e){Object(a.a)(this,n);var r=e.x,o=e.y,s=e.z,u=Object(l.a)(e,["x","y","z"]),c=[],d=[];return(r||o||s)&&(c.push([r||0,o||0,s||0]),d.push((function(e){return["translate3d("+e.map((function(e){return S(e,"px")})).join(",")+")",E(e,0)]}))),Object(p.b)(u,(function(e,t){if("transform"===t)c.push([e||""]),d.push((function(e){return[e,""===e]}));else if(w.test(t)){if(delete u[t],p.d.und(e))return;var n=M.test(t)?"px":_.test(t)?"deg":"";c.push(Object(p.h)(e)),d.push("rotate3d"===t?function(e){var t=Object(i.a)(e,4),r=t[0],a=t[1],o=t[2],s=t[3];return["rotate3d("+r+","+a+","+o+","+S(s,n)+")",E(s,0)]}:function(e){return[t+"("+e.map((function(e){return S(e,n)})).join(",")+")",E(e,t.startsWith("scale")?1:0)]})}})),c.length&&(u.transform=new A(c,d)),t.call(this,u)}return n}(f.b),A=function(e){Object(o.a)(n,e);var t=Object(s.a)(n);function n(e,r){var i;return Object(a.a)(this,n),(i=t.call(this)).inputs=e,i.transforms=r,i._value=null,i._children=new Set,i}return Object(r.a)(n,[{key:"get",value:function(){return this._value||(this._value=this._get())}},{key:"_get",value:function(){var e=this,t="",n=!0;return Object(p.b)(this.inputs,(function(r,a){var o=Object(m.c)(r[0]),s=e.transforms[a](p.d.arr(o)?o:r.map(m.c)),l=Object(i.a)(s,2),u=l[0],c=l[1];t+=" "+u,n=n&&c})),n?"none":t}},{key:"addChild",value:function(e){var t=this;this._children.size||Object(p.b)(this.inputs,(function(e){return Object(p.b)(e,(function(e){var n=Object(m.b)(e);n&&n.addChild(t)}))})),this._children.add(e)}},{key:"removeChild",value:function(e){var t=this;this._children.delete(e),this._children.size||Object(p.b)(this.inputs,(function(e){return Object(p.b)(e,(function(e){var n=Object(m.b)(e);n&&n.removeChild(t)}))}))}},{key:"onParentChange",value:function(e){"change"==e.type&&(this._value=null),Object(p.b)(this._children,(function(t){t.onParentChange(e)}))}}]),n}(m.a);u.Globals.assign({colorNames:h.a,createStringInterpolator:d.a,batchedUpdates:c.unstable_batchedUpdates});var R=Object(f.e)(["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"],{applyAnimatedValues:function(e,t){if(!e.nodeType||!e.setAttribute)return!1;var n="filter"===e.nodeName||e.parentNode&&"filter"===e.parentNode.nodeName,r=t,i=r.style,a=r.children,o=r.scrollTop,s=r.scrollLeft,c=Object(l.a)(r,["style","children","scrollTop","scrollLeft"]),d=Object.values(c),h=Object.keys(c).map((function(t){return n||e.hasAttribute(t)?t:y[t]||(y[t]=t.replace(/([A-Z])/g,(function(e){return"-"+e.toLowerCase()})))}));u.Globals.frameLoop.onWrite((function(){for(var t in void 0!==a&&(e.textContent=a),i)if(i.hasOwnProperty(t)){var n=g(t,i[t]);"float"===t?t="cssFloat":v.test(t)?e.style.setProperty(t,n):e.style[t]=n}h.forEach((function(t,n){e.setAttribute(t,d[n])})),void 0!==o&&(e.scrollTop=o),void 0!==s&&(e.scrollLeft=s)}))},createAnimatedStyle:function(e){return new T(e)},getComponentProps:function(e){return Object(l.a)(e,["scrollTop","scrollLeft"])}}).animated},,,function(e,t,n){"use strict";n.d(t,"useTransition",(function(){return Le}));var r=n(28),i=n(10),a=n(32),o=n.n(a),s=n(26),l=n(19),u=n(8),c=n(5),d=n(6),h=n(97),f=n(50),p=n(43),m=n(4),v=n(30),g=n(37),y=n(3),b=n(24),x=n(35),w=n(45),M=n(40),_=n(2),S=n(1),E=n(25),T=n(15),A=n(79),R=n(80),O=n(18),k=n(72);var I=Object(_.a)(Object(_.a)({},{tension:170,friction:26}),{},{mass:1,damping:1,easing:function(e){return e},clamp:!1}),C=function e(){Object(m.a)(this,e),this.tension=void 0,this.friction=void 0,this.frequency=void 0,this.damping=void 0,this.mass=void 0,this.velocity=0,this.restVelocity=void 0,this.precision=void 0,this.progress=void 0,this.duration=void 0,this.easing=void 0,this.clamp=void 0,this.bounce=void 0,this.decay=void 0,this.round=void 0,Object.assign(this,I)};function D(e,t){if(y.d.und(t.decay)){var n=!y.d.und(t.tension)||!y.d.und(t.friction);!n&&y.d.und(t.frequency)&&y.d.und(t.damping)&&y.d.und(t.mass)||(e.duration=void 0,e.decay=void 0),n&&(e.frequency=void 0)}else e.duration=void 0}var L=[],P=function e(){Object(m.a)(this,e),this.changed=!1,this.values=L,this.toValues=null,this.fromValues=L,this.to=void 0,this.from=void 0,this.config=new C,this.immediate=!1,this.onStart=void 0,this.onChange=void 0,this.onRest=[]},N=function(e,t){return Object(A.b)(e,t||[{}])};function j(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return y.d.fun(e)?e.apply(void 0,n):e}var F=function(e,t){return!0===e||!!(t&&e&&(y.d.fun(e)?e(t):Object(y.h)(e).includes(t)))},G=function(e,t,n){return e&&(y.d.fun(e)?e(t,n):y.d.arr(e)?e[t]:Object(_.a)({},e))},U=function(e,t){return!0===e.default?e[t]:e.default?e.default[t]:void 0},z=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=B;e.default&&!0!==e.default&&(e=e.default,r=Object.keys(e));var i,a=Object(p.a)(r);try{for(a.s();!(i=a.n()).done;){var o=i.value,s=e[o];y.d.und(s)||t.includes(o)||(n[o]=s)}}catch(l){a.e(l)}finally{a.f()}return n},B=["pause","cancel","config","immediate","onDelayEnd","onProps","onStart","onChange","onRest"],V={config:1,from:1,to:1,ref:1,loop:1,reset:1,pause:1,cancel:1,reverse:1,immediate:1,default:1,delay:1,onDelayEnd:1,onProps:1,onStart:1,onChange:1,onRest:1,items:1,trail:1,sort:1,expires:1,initial:1,enter:1,update:1,leave:1,children:1,keys:1,callId:1,parentId:1};function H(e){var t=function(e){var t={},n=0;if(Object(y.b)(e,(function(e,r){V[r]||(t[r]=e,n++)})),n)return t}(e);if(t){var n={to:t};return Object(y.b)(e,(function(e,r){return r in t||(n[r]=e)})),n}return Object(_.a)({},e)}function W(e){var t=Object(b.b)(e);return t?W(t.get()):y.d.arr(e)?e.map(W):Object(y.e)(e)?Object(T.createStringInterpolator)({range:[0,1],output:[e,e]})(1):e}function X(e,t){var n=t.key,r=t.props,i=t.state,a=t.actions;return new Promise((function(t,o){var s,l,u=!1,c=F(r.cancel,n);function d(){i.resumeQueue.add(h),l.cancel(),s=l.time-x.Globals.now()}function h(){s>0?(i.pauseQueue.add(d),l=x.Globals.frameLoop.setTimeout(f,s)):f()}function f(){i.pauseQueue.delete(d),e<=(i.cancelId||0)&&(c=!0);try{a.start(Object(_.a)(Object(_.a)({},r),{},{callId:e,delay:s,cancel:c,pause:u}),t)}catch(n){o(n)}}c?f():(s=j(r.delay||0,n),(u=F(r.pause,n))?(i.resumeQueue.add(h),a.pause()):(a.resume(),h()))}))}var q=function(e,t){return 1==t.length?t[0]:t.some((function(e){return e.cancelled}))?Z(e):t.every((function(e){return e.noop}))?Y(e):Q(e,t.every((function(e){return e.finished})))},Y=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.get();return{value:t,noop:!0,finished:!0,target:e}},Q=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e.get();return{value:n,finished:t,target:e}},Z=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.get();return{value:t,cancelled:!0,target:e}};function $(e,t,n,r){return K.apply(this,arguments)}function K(){return(K=Object(f.a)(o.a.mark((function e(t,n,r,i){var a,s,l,u,c;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!n.pause){e.next=3;break}return e.next=3,new Promise((function(e){r.resumeQueue.add(e)}));case 3:if(a=n.callId,s=n.parentId,l=n.onRest,u=r.asyncTo,c=r.promise,s||t!==u||n.reset){e.next=7;break}return e.abrupt("return",c);case 7:return e.abrupt("return",r.promise=Object(f.a)(o.a.mark((function e(){var d,h,m,v,g,b,x,w;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r.asyncId=a,r.asyncTo=t,d=z(n,["onRest"]),v=new Promise((function(e,t){return h=e,m=t})),g=function(e){var t=a<=(r.cancelId||0)&&Z(i)||a!==r.asyncId&&Q(i,!1);if(t)throw e.result=t,e},b=function(e){return function(){var t=function(e){throw e instanceof ee&&m(e),e};try{return e.apply(void 0,arguments).catch(t)}catch(n){t(n)}}}((function(e,t){var n=new ee;g(n);var s=y.d.obj(e)?Object(_.a)({},e):Object(_.a)(Object(_.a)({},t),{},{to:e});return s.parentId=a,Object(y.b)(d,(function(e,t){y.d.und(s[t])&&(s[t]=e)})),i.start(s).then(function(){var e=Object(f.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(g(n),!i.is("PAUSED")){e.next=4;break}return e.next=4,new Promise((function(e){r.resumeQueue.add(e)}));case 4:return e.abrupt("return",t);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())})),e.prev=7,y.d.arr(t)?w=function(){var e=Object(f.a)(o.a.mark((function e(t){var n,r,i;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=Object(p.a)(t),e.prev=1,n.s();case 3:if((r=n.n()).done){e.next=9;break}return i=r.value,e.next=7,b(i);case 7:e.next=3;break;case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),n.e(e.t0);case 14:return e.prev=14,n.f(),e.finish(14);case 17:case"end":return e.stop()}}),e,null,[[1,11,14,17]])})));return function(t){return e.apply(this,arguments)}}()(t):y.d.fun(t)&&(w=Promise.resolve(t(b,i.stop.bind(i)))),e.next=11,Promise.all([w.then(h),v]);case 11:x=Q(i,!0),e.next=21;break;case 14:if(e.prev=14,e.t0=e.catch(7),!(e.t0 instanceof ee)){e.next=20;break}x=e.t0.result,e.next=21;break;case 20:throw e.t0;case 21:return e.prev=21,a==r.asyncId&&(r.asyncId=s,r.asyncTo=s?u:void 0,r.promise=s?c:void 0),e.finish(21);case 24:return y.d.fun(l)&&Object(T.batchedUpdates)((function(){l(x)})),e.abrupt("return",x);case 26:case"end":return e.stop()}}),e,null,[[7,14,21,24]])})))());case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function J(e,t){e.cancelId=t,e.asyncId=e.asyncTo=e.promise=void 0}var ee=function(e){Object(c.a)(n,e);var t=Object(d.a)(n);function n(){var e;return Object(m.a)(this,n),(e=t.call(this,"An async animation has been interrupted. You see this error because you forgot to use `await` or `.catch(...)` on its returned promise.")).result=void 0,e}return n}(Object(h.a)(Error)),te=function(e){return e instanceof re},ne=1,re=function(e){Object(c.a)(n,e);var t=Object(d.a)(n);function n(){var e;Object(m.a)(this,n);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return(e=t.call.apply(t,[this].concat(i))).id=ne++,e.key=void 0,e._priority=0,e._children=new Set,e}return Object(u.a)(n,[{key:"get",value:function(){var e=Object(E.f)(this);return e&&e.getValue()}},{key:"to",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return Object(T.to)(this,t)}},{key:"interpolate",value:function(){Object(R.a)();for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return Object(T.to)(this,t)}},{key:"addChild",value:function(e){this._children.size||this._attach(),this._children.add(e)}},{key:"removeChild",value:function(e){this._children.delete(e),this._children.size||this._detach()}},{key:"onParentChange",value:function(e){var t=e.type;this.idle?"start"==t&&(this._reset(),this._start()):"reset"==t&&this._reset()}},{key:"_attach",value:function(){}},{key:"_detach",value:function(){}},{key:"_reset",value:function(){this._emit({type:"reset",parent:this})}},{key:"_start",value:function(){this._emit({type:"start",parent:this})}},{key:"_onChange",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this._emit({type:"change",parent:this,value:e,idle:t})}},{key:"_onPriorityChange",value:function(e){this.idle||T.frameLoop.start(this),this._emit({type:"priority",parent:this,priority:e})}},{key:"_emit",value:function(e){Object(y.b)(Array.from(this._children),(function(t){t.onParentChange(e)}))}},{key:"priority",get:function(){return this._priority},set:function(e){this._priority!=e&&(this._priority=e,this._onPriorityChange(e))}}]),n}(b.a),ie="CREATED",ae="IDLE",oe="ACTIVE",se="PAUSED",le="DISPOSED",ue=function(e){Object(c.a)(n,e);var t=Object(d.a)(n);function n(e,r){var i;if(Object(m.a)(this,n),(i=t.call(this)).key=void 0,i.animation=new P,i.queue=void 0,i._phase=ie,i._state={pauseQueue:new Set,resumeQueue:new Set},i._defaultProps={},i._lastCallId=0,i._lastToId=0,!y.d.und(e)||!y.d.und(r)){var a=y.d.obj(e)?Object(_.a)({},e):Object(_.a)(Object(_.a)({},r),{},{from:e});a.default=!0,i.start(a)}return i}return Object(u.a)(n,[{key:"advance",value:function(e){var t=this,n=!0,r=!1,i=this.animation,a=i.config,o=i.toValues,s=Object(E.g)(i.to);if(!s){var l=Object(b.b)(i.to);l&&(o=Object(y.h)(l.get()))}return i.values.forEach((function(l,u){if(!l.done){var c=s?s[u].lastPosition:o[u],d=i.immediate,h=c;if(!d){if(h=l.lastPosition,a.tension<=0)return void(l.done=!0);var f,p=l.elapsedTime+=e,m=i.fromValues[u],v=null!=l.v0?l.v0:l.v0=y.d.arr(a.velocity)?a.velocity[u]:a.velocity;if(y.d.und(a.duration))if(a.decay){var g=!0===a.decay?.998:a.decay,b=Math.exp(-(1-g)*p);h=m+v/(1-g)*(1-b),d=Math.abs(l.lastPosition-h)<.1,f=v*b}else{f=null==l.lastVelocity?v:l.lastVelocity;for(var x=a.precision||(m==c?.005:Math.min(1,.001*Math.abs(c-m))),w=a.restVelocity||x/10,M=a.clamp?0:a.bounce,_=!y.d.und(M),S=m==c?l.v0>0:m<c,E=Math.ceil(e/1),T=0;T<E&&(Math.abs(f)>w||!(d=Math.abs(c-h)<=x));++T){_&&(h==c||h>c==S)&&(f=-f*M,h=c),h+=1*(f+=1*((1e-6*-a.tension*(h-c)+.001*-a.friction*f)/a.mass))}}else{var A=a.progress||0;a.duration<=0?A=1:A+=(1-A)*Math.min(1,p/a.duration),f=((h=m+a.easing(A)*(c-m))-l.lastPosition)/e,d=1==A}l.lastVelocity=f,Number.isNaN(h)&&(console.warn("Got NaN while animating:",t),d=!0)}s&&!s[u].done&&(d=!1),d?l.done=!0:n=!1,l.setValue(h,a.round)&&(r=!0)}})),n?this.finish():r&&this._onChange(this.get()),n}},{key:"is",value:function(e){return this._phase==e}},{key:"set",value:function(e){var t=this;return Object(T.batchedUpdates)((function(){if(t._focus(e),t._set(e)&&!t.is(oe))return t._onChange(t.get(),!0);t._stop()})),this}},{key:"pause",value:function(){ce(this,"pause"),this.is(se)||(this._phase=se,Object(y.c)(this._state.pauseQueue,(function(e){return e()})))}},{key:"resume",value:function(){ce(this,"resume"),this.is(se)&&(this._start(),Object(y.c)(this._state.resumeQueue,(function(e){return e()})))}},{key:"finish",value:function(e){var t=this;if(this.resume(),this.is(oe)){var n=this.animation;!n.config.decay&&y.d.und(e)&&(e=n.to),y.d.und(e)||this._set(e),Object(T.batchedUpdates)((function(){n.changed||(n.changed=!0,n.onStart&&n.onStart(t)),t._stop()}))}return this}},{key:"update",value:function(e){return ce(this,"update"),(this.queue||(this.queue=[])).push(e),this}},{key:"start",value:function(){var e=Object(f.a)(o.a.mark((function e(t,n){var r,i,a=this;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return ce(this,"start"),y.d.und(t)?(r=this.queue||[],this.queue=[]):r=[y.d.obj(t)?t:Object(_.a)(Object(_.a)({},n),{},{to:t})],e.next=4,Promise.all(r.map((function(e){return a._update(e)})));case 4:return i=e.sent,e.abrupt("return",q(this,i));case 6:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"stop",value:function(e){var t=this;return this.is(le)||(J(this._state,this._lastCallId),this._focus(this.get()),Object(T.batchedUpdates)((function(){return t._stop(e)}))),this}},{key:"reset",value:function(){this._update({reset:!0})}},{key:"dispose",value:function(){this.is(le)||(this.animation&&(this.animation.onRest=[]),this.stop(),this._phase=le)}},{key:"onParentChange",value:function(e){Object(s.a)(Object(l.a)(n.prototype),"onParentChange",this).call(this,e),"change"==e.type?this.is(oe)||(this._reset(),this.is(se)||this._start()):"priority"==e.type&&(this.priority=e.priority+1)}},{key:"_prepareNode",value:function(e){var t=e.to,n=e.from,r=e.reverse,i=this.key||"",a={to:t=!y.d.obj(t)||Object(b.b)(t)?t:t[i],from:n=!y.d.obj(n)||Object(b.b)(n)?n:n[i]};if(this.is(ie)){if(r){var o=[n,t];t=o[0],n=o[1]}n=Object(b.c)(n);var s=this._updateNode(y.d.und(n)?Object(b.c)(t):n);s&&!y.d.und(n)&&s.setValue(n)}return a}},{key:"_updateNode",value:function(e){var t=Object(E.f)(this);if(!y.d.und(e)){var n=this._getNodeType(e);t&&t.constructor===n||Object(E.h)(this,t=n.create(e))}return t}},{key:"_getNodeType",value:function(e){var t=Object(E.f)(e);return t?t.constructor:y.d.arr(e)?E.a:Object(y.e)(e)?E.c:E.d}},{key:"_update",value:function(e,t){var n=this,r=this._defaultProps,i=function(t){var n=U(e,t);y.d.und(n)||(r[t]=n),r[t]&&(e[t]=r[t])};i("cancel"),i("pause");var a=this._prepareNode(e);return X(++this._lastCallId,{key:this.key,props:e,state:this._state,actions:{pause:this.pause.bind(this),resume:this.resume.bind(this),start:this._merge.bind(this,a)}}).then((function(r){if(e.loop&&r.finished&&(!t||!r.noop)){var i=fe(e);if(i)return n._update(i,!0)}return r}))}},{key:"_merge",value:function(e,t,n){if(t.cancel)return this.stop(!0),n(Z(this));var r=this.key,i=this.animation,a=this._defaultProps,o=!y.d.und(e.to),s=!y.d.und(e.from);if(o||s){if(!(t.callId>this._lastToId))return n(Z(this));this._lastToId=t.callId}var l=function(e){return y.d.und(t[e])?a[e]:t[e]},u=de(l("onDelayEnd"),r);u&&u(t,this),t.default&&function(e,t,n){z(t,n,e)}(a,t,["pause","cancel"]);var c=i.to,d=i.from,h=e.to,f=void 0===h?c:h,p=e.from,m=void 0===p?d:p;if(s&&!o&&(f=m),t.reverse){var v=[m,f];f=v[0],m=v[1]}var g=!Object(y.f)(m,d);g&&(i.from=m);var x=!Object(y.f)(f,c);x&&this._focus(f);var w=Object(b.b)(f),M=Object(b.b)(m);M&&(m=M.get());var S=y.d.arr(t.to)||y.d.fun(t.to),A=i.config,R=A.decay,O=A.velocity;t.config&&!S&&function(e,t,n){for(var r in n&&(D(n=Object(_.a)({},n),t),t=Object(_.a)(Object(_.a)({},n),t)),D(e,t),Object.assign(e,t),I)null==e[r]&&(e[r]=I[r]);var i=e.mass,a=e.frequency,o=e.damping;y.d.und(a)||(a<.01&&(a=.01),o<0&&(o=0),e.tension=Math.pow(2*Math.PI/a,2)*i,e.friction=4*Math.PI*o*i/a)}(A,j(t.config,r),t.config!==a.config?j(a.config,r):void 0);var k=Object(E.f)(this);if(!k||y.d.und(f))return n(Q(this,!0));var C=y.d.und(t.reset)?s&&!t.default:!y.d.und(m)&&F(t.reset,r),L=C?m:this.get(),P=W(f),N=y.d.num(P)||y.d.arr(P)||Object(y.e)(P),G=!S&&(!N||F(a.immediate||t.immediate,r));if(x)if(G)k=this._updateNode(P);else{var U=this._getNodeType(f);if(U!==k.constructor)throw Error("Cannot animate between "+k.constructor.name+" and "+U.name+', as the "to" prop suggests')}var B=k.constructor,V=!!w,H=!1;if(!V){var X=C||this.is(ie)&&g;(x||X)&&(V=!(H=Object(y.f)(W(L),P))),Object(y.f)(A.decay,R)&&Object(y.f)(A.velocity,O)||(V=!0)}if(H&&this.is(oe)&&(i.changed&&!C?V=!0:V||this._stop()),!S){(V||Object(b.b)(c))&&(i.values=k.getPayload(),i.toValues=w?null:B==E.c?[1]:Object(y.h)(P)),i.immediate=G,i.onStart=de(l("onStart"),r),i.onChange=de(l("onChange"),r);var q=i.onRest,K=C&&!t.onRest?q[0]||y.g:he(de(l("onRest"),r),this);if(V){i.onRest=[K,he(n,this)];var J=C?0:1;J<q.length&&Object(T.batchedUpdates)((function(){for(;J<q.length;J++)q[J]()}))}else(C||t.onRest)&&(i.onRest[0]=K)}var ee=de(l("onProps"),r);ee&&ee(t,this),C&&k.setValue(L),S?n($(t.to,t,this._state,this)):V?(C&&(this._phase=ae),this._reset(),this._start()):this.is(oe)&&!x?i.onRest.push(he(n,this)):n(Y(this,L))}},{key:"_focus",value:function(e){var t=this.animation;if(e!==t.to){var n=Object(b.b)(t.to);n&&n.removeChild(this),t.to=e;var r=0;(n=Object(b.b)(e))&&(n.addChild(this),te(e)&&(r=(e.priority||0)+1)),this.priority=r}}},{key:"_set",value:function(e){var t=Object(b.b)(e);t&&(e=t.get());var n=Object(E.f)(this),r=n&&n.getValue();return n?n.setValue(e):this._updateNode(e),!Object(y.f)(e,r)}},{key:"_onChange",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=this.animation;r.changed||t||(r.changed=!0,r.onStart&&r.onStart(this)),r.onChange&&r.onChange(e,this),Object(s.a)(Object(l.a)(n.prototype),"_onChange",this).call(this,e,t)}},{key:"_reset",value:function(){var e=this.animation;Object(E.f)(this).reset(e.to),this.is(oe)||(e.changed=!1),e.immediate||(e.fromValues=e.values.map((function(e){return e.lastPosition}))),Object(s.a)(Object(l.a)(n.prototype),"_reset",this).call(this)}},{key:"_start",value:function(){this.is(oe)||(this._phase=oe,Object(s.a)(Object(l.a)(n.prototype),"_start",this).call(this),T.skipAnimation?this.finish():T.frameLoop.start(this))}},{key:"_stop",value:function(e){if(this.resume(),this.is(oe)){this._phase=ae,this._onChange(this.get(),!0);var t=this.animation;Object(y.b)(t.values,(function(e){e.done=!0}));var n=t.onRest;n.length&&(t.onRest=[t.toValues?y.g:n[0]],t.changed||(n[0]=y.g),Object(y.b)(n,(function(t){return t(e)})))}}},{key:"idle",get:function(){return!this.is(oe)&&!this._state.asyncTo}},{key:"goal",get:function(){return Object(b.c)(this.animation.to)}},{key:"velocity",get:function(){var e=Object(E.f)(this);return e instanceof E.d?e.lastVelocity||0:e.getPayload().map((function(e){return e.lastVelocity||0}))}}]),n}(re);function ce(e,t){if(e.is(le))throw Error('Cannot call "'+t+'" of disposed "'+e.constructor.name+'" object')}function de(e,t){return y.d.fun(e)?e:t&&e?e[t]:void 0}var he=function(e,t){var n=t.animation.to;return e?function(r){if(r)e(Z(t));else{var i=W(n),a=W(t.get()),o=Object(y.f)(a,i);e(Q(t,o))}}:y.g};function fe(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.loop,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e.to,r=j(t);if(r){var i=!0!==r&&H(r),a=(i||e).reverse,o=!i||i.reset;return pe(Object(_.a)(Object(_.a)({},e),{},{loop:t,default:!1,to:!a||y.d.arr(n)||y.d.fun(n)?n:void 0,from:o?e.from:void 0,reset:o},i))}}function pe(e){var t=e=H(e),n=t.to,r=t.from,i=new Set;return r?me(r,i):delete e.from,y.d.obj(n)?me(n,i):n||delete e.to,e.keys=i.size?Array.from(i):null,e}function me(e,t){Object(y.b)(e,(function(e,n){return null!=e&&t.add(n)}))}var ve=["onStart","onChange","onRest"],ge=1,ye=function(){function e(t,n){Object(m.a)(this,e),this.id=ge++,this.springs={},this.queue=[],this._flush=void 0,this._initialProps=void 0,this._phase=ie,this._lastAsyncId=0,this._active=new Set,this._state={pauseQueue:new Set,resumeQueue:new Set},this._events={onStart:new Set,onChange:new Set,onRest:new Map},this._onFrame=this._onFrame.bind(this),n&&(this._flush=n),t&&this.start(t)}return Object(u.a)(e,[{key:"is",value:function(e){return this._phase==e}},{key:"get",value:function(){var e={};return this.each((function(t,n){return e[n]=t.get()})),e}},{key:"update",value:function(e){return e&&this.queue.push(pe(e)),this}},{key:"start",value:function(e){var t=e?Object(y.h)(e).map(pe):this.queue;return e||(this.queue=[]),this._flush?this._flush(this,t):(Ee(this,t),be(this,t))}},{key:"stop",value:function(e){if(y.d.und(e))this.each((function(e){return e.stop()})),J(this._state,this._lastAsyncId);else{var t=this.springs;Object(y.b)(Object(y.h)(e),(function(e){return t[e].stop()}))}return this}},{key:"pause",value:function(e){if(y.d.und(e))this.each((function(e){return e.pause()}));else{var t=this.springs;Object(y.b)(Object(y.h)(e),(function(e){return t[e].pause()}))}return this}},{key:"resume",value:function(e){if(y.d.und(e))this.each((function(e){return e.resume()}));else{var t=this.springs;Object(y.b)(Object(y.h)(e),(function(e){return t[e].resume()}))}return this}},{key:"reset",value:function(){return this.each((function(e){return e.reset()})),this}},{key:"each",value:function(e){Object(y.b)(this.springs,e)}},{key:"dispose",value:function(){this._state.asyncTo=void 0,this.each((function(e){return e.dispose()})),this.springs={}}},{key:"_onFrame",value:function(){var e=this,t=this._events,n=t.onStart,r=t.onChange,a=t.onRest,o=this._active.size>0;o&&this._phase!=oe&&(this._phase=oe,Object(y.c)(n,(function(t){return t(e)})));var s=(r.size||!o&&a.size)&&this.get();Object(y.c)(r,(function(e){return e(s)})),o||(this._phase=ae,Object(y.c)(a,(function(e){var t=Object(i.a)(e,2),n=t[0],r=t[1];r.value=s,n(r)})))}},{key:"onParentChange",value:function(e){"change"==e.type&&(this._active[e.idle?"delete":"add"](e.parent),T.frameLoop.onFrame(this._onFrame))}},{key:"idle",get:function(){return!this._state.asyncTo&&Object.values(this.springs).every((function(e){return e.idle}))}}]),e}();function be(e,t){return Promise.all(t.map((function(t){return xe(e,t)}))).then((function(t){return q(e,t)}))}function xe(e,t,n){var r=t.to,i=t.loop,a=t.onRest;i&&(t.loop=!1);var o=y.d.arr(r)||y.d.fun(r)?r:void 0;o?(t.to=void 0,t.onRest=void 0):Object(y.b)(ve,(function(n){var r=t[n];if(y.d.fun(r)){var i=e._events[n];i instanceof Set?t[n]=function(){return i.add(r)}:t[n]=function(e){var t=e.finished,n=e.cancelled,a=i.get(r);a?(t||(a.finished=!1),n&&(a.cancelled=!0)):i.set(r,{value:null,finished:t,cancelled:n})}}}));var s=(t.keys||Object.keys(e.springs)).map((function(n){return e.springs[n].start(t)})),l=e._state;return o?s.push(X(++e._lastAsyncId,{props:t,state:l,actions:{pause:y.g,resume:y.g,start:function(t,n){t.onRest=a,t.cancel?function(e,t){return!y.d.und(U(e,t))}(t,"cancel")&&J(l,t.callId):n($(o,t,l,e))}}})):t.keys||!0!==t.cancel||J(l,e._lastAsyncId),Promise.all(s).then((function(a){var o=q(e,a);if(i&&o.finished&&(!n||!o.noop)){var s=fe(t,i,r);if(s)return Ee(e,[s]),xe(e,s,!0)}return o}))}function we(e,t){var n=Object(_.a)({},e.springs);return t&&Object(y.b)(Object(y.h)(t),(function(e){y.d.und(e.keys)&&(e=pe(e)),y.d.obj(e.to)||(e=Object(_.a)(Object(_.a)({},e),{},{to:void 0})),Se(n,e,(function(e){return _e(e)}))})),n}function Me(e,t){Object(y.b)(t,(function(t,n){e.springs[n]||(e.springs[n]=t,t.addChild(e))}))}function _e(e,t){var n=new ue;return n.key=e,t&&n.addChild(t),n}function Se(e,t,n){t.keys&&Object(y.b)(t.keys,(function(r){(e[r]||(e[r]=n(r)))._prepareNode(t)}))}function Ee(e,t){Object(y.b)(t,(function(t){Se(e.springs,t,(function(t){return _e(t,e)}))}))}var Te=Object(S.createContext)({}),Ae=function(e){var t=e.children,n=Object(O.a)(e,["children"]),r=Object(S.useContext)(Te);n=N((function(){return Object(_.a)(Object(_.a)({},r),n)}),[r,n.pause,n.cancel,n.immediate,n.config]);var i=Te.Provider;return Object(S.createElement)(i,{value:n},t)};Ae.Provider=Te.Provider,Ae.Consumer=Te.Consumer;var Re=function(){return Object(S.useContext)(Te)},Oe=function(e){return{get controllers(){return e()},update:function(t){return Object(y.b)(e(),(function(e,n){e.update(G(t,n,e))})),this},start:function(t){return Object(f.a)(o.a.mark((function n(){var r;return o.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Promise.all(e().map((function(e,n){var r=G(t,n,e);return e.start(r)})));case 2:return r=n.sent,n.abrupt("return",{value:r.map((function(e){return e.value})),finished:r.every((function(e){return e.finished}))});case 4:case"end":return n.stop()}}),n)})))()},stop:function(t){return Object(y.b)(e(),(function(e){return e.stop(t)}))},pause:function(t){return Object(y.b)(e(),(function(e){return e.pause(t)}))},resume:function(t){return Object(y.b)(e(),(function(e){return e.resume(t)}))}}};var ke="mount",Ie="enter",Ce="update",De="leave";function Le(e,t,n){var r=t.ref,i=t.reset,a=t.sort,o=t.trail,s=void 0===o?0:o,l=t.expires,u=void 0===l||l,c=Object(y.h)(e),d=[],h=Pe(c,t),f=Object(S.useRef)(null),p=i?null:f.current;Object(g.a)((function(){f.current=d})),Object(w.b)((function(){return function(){return Object(y.b)(f.current,(function(e){e.expired&&clearTimeout(e.expirationId),e.ctrl.dispose()}))}}));var m=[];if(p&&Object(y.b)(p,(function(e,t){e.expired?clearTimeout(e.expirationId):~(t=m[t]=h.indexOf(e.key))&&(d[t]=e)})),Object(y.b)(c,(function(e,t){d[t]||(d[t]={key:h[t],item:e,phase:ke,ctrl:new ye})})),m.length){var v=-1;Object(y.b)(m,(function(e,n){var r=p[n];~e?(v=d.indexOf(r),d[v]=Object(_.a)(Object(_.a)({},r),{},{item:c[e]})):t.leave&&d.splice(++v,0,r)}))}y.d.fun(a)&&d.sort((function(e,t){return a(e.item,t.item)}));var b=-s,x=Object(w.a)(),M=z(t),E=new Map;Object(y.b)(d,(function(e,n){var r,i,a=e.key,o=e.phase;if(o==ke)r=t.enter,i=Ie;else{var l=h.indexOf(a)<0;if(o!=De)if(l)r=t.leave,i=De;else{if(!(r=t.update))return;i=Ce}else{if(l)return;r=t.enter,i=Ie}}if(r=j(r,e.item,n),!(r=y.d.obj(r)?H(r):{to:r}).config){var c=t.config||M.config;r.config=j(c,e.item,n)}var d=Object(_.a)(Object(_.a)({},M),{},{delay:b+=s,reset:!1},r);if(i==Ie&&y.d.und(d.from)){var m=y.d.und(t.initial)||p?t.from:t.initial;d.from=j(m,e.item,n)}var v=d.onRest;d.onRest=function(e){var t=f.current,n=t.find((function(e){return e.key===a}));if(n)if(y.d.fun(v)&&v(e,n),e.cancelled&&n.phase!=Ce)n.phase=o;else if(n.ctrl.idle){var r=t.every((function(e){return e.ctrl.idle}));if(n.phase==De){var i=j(u,n.item);if(!1!==i){var s=!0===i?0:i;if(n.expired=!0,!r&&s>0)return void(s<=2147483647&&(n.expirationId=setTimeout(x,s)))}}r&&t.some((function(e){return e.expired}))&&x()}};var g=we(e.ctrl,d);E.set(e,{phase:i,springs:g,payload:d})}));var T=Re();Object(g.a)((function(){Object(y.b)(d,(function(e){e.ctrl.start({default:T})}))}),[T]);var A=Object(S.useMemo)((function(){return Oe((function(){return f.current.map((function(e){return e.ctrl}))}))}),[]);Object(S.useImperativeHandle)(r,(function(){return A})),Object(g.a)((function(){Object(y.b)(E,(function(e,t){var n=e.phase,i=e.springs,a=e.payload;Me(t.ctrl,i),T.cancel||(t.phase=n,n==Ie&&t.ctrl.start({default:T}),t.ctrl[r?"update":"start"](a))}))}),i?void 0:n);var R=function(e){return Object(S.createElement)(S.Fragment,null,d.map((function(t,n){var r=(E.get(t)||t.ctrl).springs,i=e(Object(_.a)({},r),t.item,t,n);return i&&i.type?Object(S.createElement)(i.type,Object(_.a)({},i.props,{key:y.d.str(t.key)||y.d.num(t.key)?t.key:t.ctrl.id,ref:i.ref})):i})))};return 3==arguments.length?[R,A.start,A.stop]:R}function Pe(e,t){var n=t.key,r=t.keys,i=void 0===r?n:r;return y.d.und(i)?e:y.d.fun(i)?e.map(i):Object(y.h)(i)}var Ne=function(e){Object(c.a)(n,e);var t=Object(d.a)(n);function n(e,i){var a;Object(m.a)(this,n),(a=t.call(this)).source=e,a.key=void 0,a.idle=!0,a.calc=void 0,a.calc=M.a.apply(void 0,Object(v.a)(i));var o=a._get(),s=y.d.arr(o)?E.a:E.d;return Object(E.h)(Object(r.a)(a),s.create(o)),a}return Object(u.a)(n,[{key:"advance",value:function(e){var t=this._get(),n=this.get();Object(y.f)(t,n)||(Object(E.f)(this).setValue(t),this._onChange(t,this.idle))}},{key:"_get",value:function(){var e=y.d.arr(this.source)?this.source.map((function(e){return e.get()})):Object(y.h)(this.source.get());return this.calc.apply(this,Object(v.a)(e))}},{key:"_reset",value:function(){Object(y.b)(Object(E.g)(this),(function(e){return e.reset()})),Object(s.a)(Object(l.a)(n.prototype),"_reset",this).call(this)}},{key:"_start",value:function(){this.idle=!1,Object(s.a)(Object(l.a)(n.prototype),"_start",this).call(this),T.skipAnimation?(this.idle=!0,this.advance()):T.frameLoop.start(this)}},{key:"_attach",value:function(){var e=this,t=!0,n=1;Object(y.b)(Object(y.h)(this.source),(function(r){te(r)&&(r.idle||(t=!1),n=Math.max(n,r.priority+1)),r.addChild(e)})),this.priority=n,t||(this._reset(),this._start())}},{key:"_detach",value:function(){var e=this;Object(y.b)(Object(y.h)(this.source),(function(t){t.removeChild(e)})),this.idle=!0}},{key:"onParentChange",value:function(e){"start"==e.type?this.advance():"change"==e.type?this.idle?this.advance():e.idle&&(this.idle=Object(y.h)(this.source).every((function(e){return!1!==e.idle})),this.idle&&(this.advance(),Object(y.b)(Object(E.g)(this),(function(e){e.done=!0})))):"priority"==e.type&&(this.priority=Object(y.h)(this.source).reduce((function(e,t){return Math.max(e,(t.priority||0)+1)}),0)),Object(s.a)(Object(l.a)(n.prototype),"onParentChange",this).call(this,e)}}]),n}(re);x.Globals.assign({createStringInterpolator:k.a,to:function(e,t){return new Ne(e,t)}})},function(e,t){function n(e,t,n){var r,i,a,o,s;function l(){var u=Date.now()-o;u<t&&u>=0?r=setTimeout(l,t-u):(r=null,n||(s=e.apply(a,i),a=i=null))}null==t&&(t=100);var u=function(){a=this,i=arguments,o=Date.now();var u=n&&!r;return r||(r=setTimeout(l,t)),u&&(s=e.apply(a,i),a=i=null),s};return u.clear=function(){r&&(clearTimeout(r),r=null)},u.flush=function(){r&&(s=e.apply(a,i),a=i=null,clearTimeout(r),r=null)},u}n.debounce=n,e.exports=n},function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return i}));var r=n(1);function i(e,t){var n=Object(r.useState)((function(){return{inputs:t,result:e()}}))[0],i=Object(r.useRef)(n),a=Boolean(t&&i.current.inputs&&function(e,t){if(e.length!==t.length)return!1;for(var n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}(t,i.current.inputs))?i.current:{inputs:t,result:e()};return Object(r.useEffect)((function(){i.current=a}),[a]),a.result}function a(e,t){return i((function(){return e}),t)}},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=!1;function i(){r||(r=!0,console.warn('react-spring: The "interpolate" function is deprecated in v10 (use "to" instead)'))}},,function(e,t){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(r){"object"===typeof window&&(n=window)}e.exports=n},function(e,t,n){"use strict";var r=n(61),i={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},a={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},o={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},s={};function l(e){return r.isMemo(e)?o:s[e.$$typeof]||i}s[r.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},s[r.Memo]=o;var u=Object.defineProperty,c=Object.getOwnPropertyNames,d=Object.getOwnPropertySymbols,h=Object.getOwnPropertyDescriptor,f=Object.getPrototypeOf,p=Object.prototype;e.exports=function e(t,n,r){if("string"!==typeof n){if(p){var i=f(n);i&&i!==p&&e(t,i,r)}var o=c(n);d&&(o=o.concat(d(n)));for(var s=l(t),m=l(n),v=0;v<o.length;++v){var g=o[v];if(!a[g]&&(!r||!r[g])&&(!m||!m[g])&&(!s||!s[g])){var y=h(n,g);try{u(t,g,y)}catch(b){}}}}return t}},function(e,t,n){"use strict";function r(e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";function r(e){if(Array.isArray(e))return e}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";function r(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";e.exports=n(114)},function(e,t){function n(){}n.prototype={on:function(e,t,n){var r=this.e||(this.e={});return(r[e]||(r[e]=[])).push({fn:t,ctx:n}),this},once:function(e,t,n){var r=this;function i(){r.off(e,i),t.apply(n,arguments)}return i._=t,this.on(e,i,n)},emit:function(e){for(var t=[].slice.call(arguments,1),n=((this.e||(this.e={}))[e]||[]).slice(),r=0,i=n.length;r<i;r++)n[r].fn.apply(n[r].ctx,t);return this},off:function(e,t){var n=this.e||(this.e={}),r=n[e],i=[];if(r&&t)for(var a=0,o=r.length;a<o;a++)r[a].fn!==t&&r[a].fn._!==t&&i.push(r[a]);return i.length?n[e]=i:delete n[e],this}},e.exports=n,e.exports.TinyEmitter=n},function(e,t,n){"use strict";(function(e){var r=n(30),i=n(10),a=n(4),o=n(1),s=n(78);function l(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{debounce:0,scroll:!1},t=e.debounce,n=e.scroll,r=e.polyfill,l=r||("undefined"===typeof window?function e(){Object(a.a)(this,e)}:window.ResizeObserver);if(!l)throw new Error("This browser does not support ResizeObserver out of the box. See: https://github.com/react-spring/react-use-measure/#resize-observer-polyfills");var h=Object(o.useState)({left:0,top:0,width:0,height:0,bottom:0,right:0,x:0,y:0}),p=Object(i.a)(h,2),m=p[0],v=p[1],g=Object(o.useRef)({element:null,scrollContainers:null,resizeObserver:null,lastBounds:m}),y=t?"number"===typeof t?t:t.scroll:null,b=t?"number"===typeof t?t:t.resize:null,x=Object(o.useRef)(!1);Object(o.useEffect)((function(){return x.current=!0,function(){x.current=!1}}));var w=Object(o.useMemo)((function(){var e=function(){if(g.current.element){var e=g.current.element.getBoundingClientRect(),t={left:e.left,top:e.top,width:e.width,height:e.height,bottom:e.bottom,right:e.right,x:e.x,y:e.y};Object.freeze(t),x.current&&!f(g.current.lastBounds,t)&&v(g.current.lastBounds=t)}};return[e,b?Object(s.debounce)(e,b):e,y?Object(s.debounce)(e,y):e]}),[v,y,b]),M=Object(i.a)(w,3),_=M[0],S=M[1],E=M[2];function T(){g.current.scrollContainers&&(g.current.scrollContainers.forEach((function(e){return e.removeEventListener("scroll",E,!0)})),g.current.scrollContainers=null),g.current.resizeObserver&&(g.current.resizeObserver.disconnect(),g.current.resizeObserver=null)}function A(){g.current.element&&(g.current.resizeObserver=new l(E),g.current.resizeObserver.observe(g.current.element),n&&g.current.scrollContainers&&g.current.scrollContainers.forEach((function(e){return e.addEventListener("scroll",E,{capture:!0,passive:!0})})))}var R=function(e){e&&e!==g.current.element&&(T(),g.current.element=e,g.current.scrollContainers=d(e),A())};return c(E,Boolean(n)),u(S),Object(o.useEffect)((function(){T(),A()}),[n,E,S]),Object(o.useEffect)((function(){return T}),[]),[R,m,_]}function u(e){Object(o.useEffect)((function(){var t=e;return window.addEventListener("resize",t),function(){window.removeEventListener("resize",t)}}),[e])}function c(e,t){Object(o.useEffect)((function(){if(t){var n=e;return window.addEventListener("scroll",n,{capture:!0,passive:!0}),function(){window.removeEventListener("scroll",n,!0)}}}),[e,t])}function d(e){var t=[];if(!e||e===document.body)return t;var n=window.getComputedStyle(e);return[n.overflow,n.overflowX,n.overflowY].some((function(e){return"auto"===e||"scroll"===e}))&&t.push(e),[].concat(t,Object(r.a)(d(e.parentElement)))}var h=["x","y","top","bottom","left","right","width","height"],f=function(e,t){return h.every((function(n){return e[n]===t[n]}))};Object.getOwnPropertyDescriptor&&Object.getOwnPropertyDescriptor(e,"exports").writable&&(e.exports=l),t.a=l}).call(this,n(116)(e))},function(e,t,n){!function(e,t,n,r){"use strict";function i(e,t){var n=t.sdfDistancePercent,r=16;function i(e,t,n,r,i,a,o){var s=1-o;return{x:s*s*e+2*s*o*n+o*o*i,y:s*s*t+2*s*o*r+o*o*a}}function a(e,t,n,r,i,a,o,s,l){var u=1-l;return{x:u*u*u*e+3*u*u*l*n+3*u*l*l*i+l*l*l*o,y:u*u*u*t+3*u*u*l*r+3*u*l*l*a+l*l*l*s}}function o(t,o){var s=new Uint8Array(o*o),l=t.xMax-t.xMin,u=t.yMax-t.yMin,c=Math.max(l,u)*n,d=(l+2*c)/o,h=(u+2*c)/o,f=t.xMin-c-d,p=t.yMin-c-h,m=t.xMax+c+d,v=t.yMax+c+h;function g(e){return f+(m-f)*e/o}function y(e){return p+(v-p)*e/o}if(t.pathCommandCount){var b,x,w,M,_=e(t);t.forEachPathCommand((function(e,t,n,o,s,l,u){switch(e){case"M":w=b=t,M=x=n;break;case"L":t===w&&n===M||_.addLineSegment(w,M,w=t,M=n);break;case"Q":for(var c={x:w,y:M},d=1;d<r;d++){var h=i(w,M,t,n,o,s,d/(r-1));_.addLineSegment(c.x,c.y,h.x,h.y),c=h}w=o,M=s;break;case"C":for(var f={x:w,y:M},p=1;p<r;p++){var m=a(w,M,t,n,o,s,l,u,p/(r-1));_.addLineSegment(f.x,f.y,m.x,m.y),f=m}w=l,M=u;break;case"Z":w===b&&M===x||_.addLineSegment(w,M,b,x)}}));for(var S=0;S<o;S++)for(var E=0;E<o;E++){var T=_.findNearestSignedDistance(g(S+.5),y(E+.5),c),A=isFinite(T)?Math.round(255*(1+T/c)*.5):T;A=Math.max(0,Math.min(255,A)),s[E*o+S]=A}}return{textureData:s,renderingBounds:[f,p,m,v]}}return o}function a(e,t,n){var r=n.defaultFontUrl,i=Object.create(null),a=Object.create(null),o=1/0;function s(t,n){function i(){var a=function(e){console.error("Failure loading font "+t+(t===r?"":"; trying fallback"),e),t!==r&&(t=r,i())};try{var o=new XMLHttpRequest;o.open("get",t,!0),o.responseType="arraybuffer",o.onload=function(){if(o.status>=400)a(new Error(o.statusText));else if(o.status>0)try{var t=e(o.response);n(t)}catch(r){a(r)}},o.onerror=a,o.send()}catch(s){a(s)}}i()}function l(e,t){e||(e=r);var n=a[e];n?n.pending?n.pending.push(t):t(n):(a[e]={pending:[t]},s(e,(function(t){var n=a[e].pending;a[e]=t,n.forEach((function(e){return e(t)}))})))}function u(e,t,n){e||(e=r);var a=e+"@"+t,o=i[a];o?n(o):l(e,(function(e){o=i[a]||(i[a]={fontObj:e,glyphs:{},glyphCount:0}),n(o)}))}function c(e,n,i){var a=e.text;void 0===a&&(a="");var s=e.font;void 0===s&&(s=r);var l=e.sdfGlyphSize;void 0===l&&(l=64);var c=e.fontSize;void 0===c&&(c=1);var d=e.letterSpacing;void 0===d&&(d=0);var m=e.lineHeight;void 0===m&&(m="normal");var v=e.maxWidth;void 0===v&&(v=o);var g=e.textAlign;void 0===g&&(g="left");var y=e.textIndent;void 0===y&&(y=0);var b=e.whiteSpace;void 0===b&&(b="normal");var x=e.overflowWrap;void 0===x&&(x="normal");var w=e.anchorX;void 0===w&&(w=0);var M=e.anchorY;void 0===M&&(M=0);var _=e.includeCaretPositions;void 0===_&&(_=!1);var S=e.chunkedBoundsSize;void 0===S&&(S=8192);var E=e.colorRanges;void 0===E&&(E=null),void 0===i&&(i=!1);var T=f(),A={total:0,fontLoad:0,layout:0,sdf:{},sdfTotal:0};a.indexOf("\r")>-1&&(console.warn("FontProcessor.process: got text with \\r chars; normalizing to \\n"),a=a.replace(/\r\n/g,"\n").replace(/\r/g,"\n")),c=+c,d=+d,v=+v,m=m||"normal",y=+y,u(s,l,(function(e){var r=e.fontObj,s=isFinite(v),u=null,R=null,O=null,k=null,I=null,C=null,D=null,L=0,P=0,N="nowrap"!==b,j=r.ascender,F=r.descender,G=r.unitsPerEm;A.fontLoad=f()-T;var U=f(),z=c/G;"normal"===m&&(m=(j-F)/G);var B=((m*=c)-(j-F)*z)/2,V=-(c+B),H=Math.min(m,(j-F)*z),W=(j+F)/2*z-H/2,X=y,q=new p,Y=[q];if(r.forEachGlyph(a,c,d,(function(e,t,n){var r,i=a.charAt(n),o=e.advanceWidth*z,l=q.count;if("isEmpty"in e||(e.isWhitespace=!!i&&/\s/.test(i),e.isEmpty=e.xMin===e.xMax||e.yMin===e.yMax),e.isWhitespace||e.isEmpty||P++,N&&s&&!e.isWhitespace&&t+o+X>v&&l){if(q.glyphAt(l-1).glyphObj.isWhitespace)r=new p,X=-t;else for(var u=l;u--;){if(0===u&&"break-word"===x){r=new p,X=-t;break}if(q.glyphAt(u).glyphObj.isWhitespace){var h=(r=q.splitAt(u+1)).glyphAt(0).x;X-=h;for(var f=r.count;f--;)r.glyphAt(f).x-=h;break}}r&&(q.isSoftWrapped=!0,q=r,Y.push(q),L=v)}var m=q.glyphAt(q.count);m.glyphObj=e,m.x=t+X,m.width=o,m.charIndex=n,"\n"===i&&(q=new p,Y.push(q),X=-(t+o+d*c)+y)})),Y.forEach((function(e){for(var t=e.count;t--;){var n=e.glyphAt(t),r=n.glyphObj,i=n.x,a=n.width;if(!r.isWhitespace)return e.width=i+a,void(e.width>L&&(L=e.width))}})),!i){var Q=0,Z=0;if(w&&("number"===typeof w?Q=-w:"string"===typeof w&&(Q=-L*("left"===w?0:"center"===w?.5:"right"===w?1:h(w)))),M)if("number"===typeof M)Z=-M;else if("string"===typeof M){var $=Y.length*m;Z="top"===M?0:"top-baseline"===M?-V:"middle"===M?$/2:"bottom"===M?$:"bottom-baseline"===M?$-B+F*z:h(M)*$}R=new Float32Array(4*P),O=new Float32Array(P),C=[o,o,-o,-o],D=[];var K=V;_&&(I=new Float32Array(3*a.length)),E&&(k=new Uint8Array(3*P));var J,ee,te=0,ne=-1,re=-1;Y.forEach((function(n){var r=n.count,i=n.width;if(r>0){var s=0,c=0;if("center"===g)s=(L-i)/2;else if("right"===g)s=L-i;else if("justify"===g&&n.isSoftWrapped){for(var d=0,h=r;h--;)if(!n.glyphAt(h).glyphObj.isWhitespace){for(;h--;)n.glyphAt(h).glyphObj,n.glyphAt(h).glyphObj.isWhitespace&&d++;break}c=(L-i)/d}for(var p=0;p<r;p++){var v=n.glyphAt(p),y=v.glyphObj;if(s&&(v.x+=s),0!==c&&y.isWhitespace&&(s+=c,v.width+=c),_){var b=v.charIndex;for(I[3*b]=v.x+Q,I[3*b+1]=v.x+v.width+Q,I[3*b+2]=K+W+Z;b-ne>1;)I[3*(ne+1)]=I[3*ne+1],I[3*(ne+1)+1]=I[3*ne+1],I[3*(ne+1)+2]=I[3*ne+2],ne++;ne=b}if(E)for(var x=v.charIndex;x>re;)re++,E.hasOwnProperty(re)&&(ee=E[re]);if(!y.isWhitespace&&!y.isEmpty){var w=te++,M=e.glyphs[y.index];if(!M){var T=f(),P=t(y,l);A.sdf[a.charAt(v.charIndex)]=f()-T,P.atlasIndex=e.glyphCount++,u||(u=[]),u.push(P),M=e.glyphs[y.index]={atlasIndex:P.atlasIndex,glyphObj:y,renderingBounds:P.renderingBounds}}var N=M.renderingBounds,j=4*w,F=R[j]=v.x+N[0]*z+Q,G=R[j+1]=K+N[1]*z+Z,U=R[j+2]=v.x+N[2]*z+Q,B=R[j+3]=K+N[3]*z+Z;if(F<C[0]&&(C[0]=F),G<C[1]&&(C[1]=G),U>C[2]&&(C[2]=U),B>C[3]&&(C[3]=B),w%S===0&&(J={start:w,end:w,rect:[o,o,-o,-o]},D.push(J)),J.end++,F<J.rect[0]&&(J.rect[0]=F),G<J.rect[1]&&(J.rect[1]=G),U>J.rect[2]&&(J.rect[2]=U),B>J.rect[3]&&(J.rect[3]=B),O[w]=M.atlasIndex,E){var V=3*w;k[V]=ee>>16&255,k[V+1]=ee>>8&255,k[V+2]=255&ee}}}}K-=m}))}for(var ie in A.sdf)A.sdfTotal+=A.sdf[ie];A.layout=f()-U-A.sdfTotal,A.total=f()-T,n({glyphBounds:R,glyphAtlasIndices:O,caretPositions:I,caretHeight:H,glyphColors:k,chunkedBounds:D,ascender:j*z,descender:F*z,lineHeight:m,topBaseline:V,totalBounds:C,totalBlockSize:[L,Y.length*m],newGlyphSDFs:u,timings:A})}))}function d(e,t){c(e,(function(e){t({width:e.totalBlockSize[0],height:e.totalBlockSize[1]})}),{metricsOnly:!0})}function h(e){var t=e.match(/^([\d.]+)%$/),n=t?parseFloat(t[1]):NaN;return isNaN(n)?0:n/100}function f(){return(self.performance||Date).now()}function p(){this.data=[]}return p.prototype={width:0,isSoftWrapped:!1,get count(){return Math.ceil(this.data.length/4)},glyphAt:function(e){var t=p.flyweight;return t.data=this.data,t.index=e,t},splitAt:function(e){var t=new p;return t.data=this.data.splice(4*e),t}},p.flyweight=["glyphObj","x","width","charIndex"].reduce((function(e,t,n,r){return Object.defineProperty(e,t,{get:function(){return this.data[4*this.index+n]},set:function(e){this.data[4*this.index+n]=e}}),e}),{data:null,index:0}),{process:c,measure:d,loadFont:l}}function o(e){var t=e.xMin,n=e.yMin,r=e.xMax-t,i=e.yMax-n,a=1/0,o={0:null,1:null,2:null,3:null,data:null,cx:Math.round(t+r/2),cy:Math.round(n+i/2),r:Math.pow(2,Math.floor(Math.log(Math.max(r,i))*Math.LOG2E)),minX:a,minY:a,maxX:-a,maxY:-a};function s(e,t,n,r){l({x0:e,y0:t,x1:n,y1:r,cx:(e+n)/2,cy:(t+r)/2,minX:Math.min(e,n),minY:Math.min(t,r),maxX:Math.max(e,n),maxY:Math.max(t,r),next:null},o)}function l(e,t){var n=e.minX,r=e.minY,i=e.maxX,a=e.maxY,o=e.cx,s=e.cy;n<t.minX&&(t.minX=n),r<t.minY&&(t.minY=r),i>t.maxX&&(t.maxX=i),a>t.maxY&&(t.maxY=a);var u=t.data;if(u)if(u.cx===o&&u.cy===s){for(;u.next;)u=u.next;u.next=e}else t.data=null,l(u,t),l(e,t);else{var c=(s<t.cy?0:2)+(o<t.cx?0:1);t[c]?l(e,t[c]):t[c]={0:null,1:null,2:null,3:null,data:e,cx:t.cx+t.r/2*(c%2?1:-1),cy:t.cy+t.r/2*(c<2?-1:1),r:t.r/2,minX:n,minY:r,maxX:i,maxY:a}}}function u(e){c(o,e)}function c(e,t){if(!1!==t(e)&&!e.data)for(var n=0;n<4;n++)null!==e[n]&&c(e[n],t)}function d(e,t,n){var r=n,i=r*r;return u((function(n){if(e-r>n.maxX||e+r<n.minX||t-r>n.maxY||t+r<n.minY)return!1;for(var a=n.data;a;a=a.next){var o=f(e,t,a.x0,a.y0,a.x1,a.y1);o<i&&(i=o,r=Math.sqrt(o))}})),h(e,t)||(r=-r),r}function h(e,t){var n=!1;return u((function(r){if(r.maxX<e||r.minY>t||r.maxY<t)return!1;for(var i=r.data;i;i=i.next){var a=i.x0,o=i.y0,s=i.x1,l=i.y1;o>t!==l>t&&e<(s-a)*(t-o)/(l-o)+a&&(n=!n)}})),n}function f(e,t,n,r,i,a){var o=i-n,s=a-r,l=o*o+s*s,u=l?Math.max(0,Math.min(1,((e-n)*o+(t-r)*s)/l)):0,c=e-(n+u*o),d=t-(r+u*s);return c*c+d*d}return{addLineSegment:s,findNearestSignedDistance:d}}function s(){var e=self,t={parse:function(e){var n=t._bin,r=new Uint8Array(e);if("ttcf"==n.readASCII(r,0,4)){var i=4;n.readUshort(r,i),i+=2,n.readUshort(r,i),i+=2;var a=n.readUint(r,i);i+=4;for(var o=[],s=0;s<a;s++){var l=n.readUint(r,i);i+=4,o.push(t._readFont(r,l))}return o}return[t._readFont(r,0)]},_readFont:function(e,n){var r=t._bin,i=n;r.readFixed(e,n),n+=4;var a=r.readUshort(e,n);n+=2,r.readUshort(e,n),n+=2,r.readUshort(e,n),n+=2,r.readUshort(e,n),n+=2;for(var o=["cmap","head","hhea","maxp","hmtx","name","OS/2","post","loca","glyf","kern","CFF ","GPOS","GSUB","SVG "],s={_data:e,_offset:i},l={},u=0;u<a;u++){var c=r.readASCII(e,n,4);n+=4,r.readUint(e,n),n+=4;var d=r.readUint(e,n);n+=4;var h=r.readUint(e,n);n+=4,l[c]={offset:d,length:h}}for(u=0;u<o.length;u++){var f=o[u];l[f]&&(s[f.trim()]=t[f.trim()].parse(e,l[f].offset,l[f].length,s))}return s},_tabOffset:function(e,n,r){for(var i=t._bin,a=i.readUshort(e,r+4),o=r+12,s=0;s<a;s++){var l=i.readASCII(e,o,4);o+=4,i.readUint(e,o),o+=4;var u=i.readUint(e,o);if(o+=4,i.readUint(e,o),o+=4,l==n)return u}return 0}};return t._bin={readFixed:function(e,t){return(e[t]<<8|e[t+1])+(e[t+2]<<8|e[t+3])/65540},readF2dot14:function(e,n){return t._bin.readShort(e,n)/16384},readInt:function(e,n){var r=t._bin.t.uint8;return r[0]=e[n+3],r[1]=e[n+2],r[2]=e[n+1],r[3]=e[n],t._bin.t.int32[0]},readInt8:function(e,n){return t._bin.t.uint8[0]=e[n],t._bin.t.int8[0]},readShort:function(e,n){var r=t._bin.t.uint8;return r[1]=e[n],r[0]=e[n+1],t._bin.t.int16[0]},readUshort:function(e,t){return e[t]<<8|e[t+1]},readUshorts:function(e,n,r){for(var i=[],a=0;a<r;a++)i.push(t._bin.readUshort(e,n+2*a));return i},readUint:function(e,n){var r=t._bin.t.uint8;return r[3]=e[n],r[2]=e[n+1],r[1]=e[n+2],r[0]=e[n+3],t._bin.t.uint32[0]},readUint64:function(e,n){return 4294967296*t._bin.readUint(e,n)+t._bin.readUint(e,n+4)},readASCII:function(e,t,n){for(var r="",i=0;i<n;i++)r+=String.fromCharCode(e[t+i]);return r},readUnicode:function(e,t,n){for(var r="",i=0;i<n;i++){var a=e[t++]<<8|e[t++];r+=String.fromCharCode(a)}return r},_tdec:e.TextDecoder?new e.TextDecoder:null,readUTF8:function(e,n,r){var i=t._bin._tdec;return i&&0==n&&r==e.length?i.decode(e):t._bin.readASCII(e,n,r)},readBytes:function(e,t,n){for(var r=[],i=0;i<n;i++)r.push(e[t+i]);return r},readASCIIArray:function(e,t,n){for(var r=[],i=0;i<n;i++)r.push(String.fromCharCode(e[t+i]));return r}},t._bin.t={buff:new ArrayBuffer(8)},t._bin.t.int8=new Int8Array(t._bin.t.buff),t._bin.t.uint8=new Uint8Array(t._bin.t.buff),t._bin.t.int16=new Int16Array(t._bin.t.buff),t._bin.t.uint16=new Uint16Array(t._bin.t.buff),t._bin.t.int32=new Int32Array(t._bin.t.buff),t._bin.t.uint32=new Uint32Array(t._bin.t.buff),t._lctf={},t._lctf.parse=function(e,n,r,i,a){var o=t._bin,s={},l=n;o.readFixed(e,n),n+=4;var u=o.readUshort(e,n);n+=2;var c=o.readUshort(e,n);n+=2;var d=o.readUshort(e,n);return n+=2,s.scriptList=t._lctf.readScriptList(e,l+u),s.featureList=t._lctf.readFeatureList(e,l+c),s.lookupList=t._lctf.readLookupList(e,l+d,a),s},t._lctf.readLookupList=function(e,n,r){var i=t._bin,a=n,o=[],s=i.readUshort(e,n);n+=2;for(var l=0;l<s;l++){var u=i.readUshort(e,n);n+=2;var c=t._lctf.readLookupTable(e,a+u,r);o.push(c)}return o},t._lctf.readLookupTable=function(e,n,r){var i=t._bin,a=n,o={tabs:[]};o.ltype=i.readUshort(e,n),n+=2,o.flag=i.readUshort(e,n),n+=2;var s=i.readUshort(e,n);n+=2;for(var l=0;l<s;l++){var u=i.readUshort(e,n);n+=2;var c=r(e,o.ltype,a+u);o.tabs.push(c)}return o},t._lctf.numOfOnes=function(e){for(var t=0,n=0;n<32;n++)0!=(e>>>n&1)&&t++;return t},t._lctf.readClassDef=function(e,n){var r=t._bin,i=[],a=r.readUshort(e,n);if(n+=2,1==a){var o=r.readUshort(e,n);n+=2;var s=r.readUshort(e,n);n+=2;for(var l=0;l<s;l++)i.push(o+l),i.push(o+l),i.push(r.readUshort(e,n)),n+=2}if(2==a){var u=r.readUshort(e,n);for(n+=2,l=0;l<u;l++)i.push(r.readUshort(e,n)),n+=2,i.push(r.readUshort(e,n)),n+=2,i.push(r.readUshort(e,n)),n+=2}return i},t._lctf.getInterval=function(e,t){for(var n=0;n<e.length;n+=3){var r=e[n],i=e[n+1];if(e[n+2],r<=t&&t<=i)return n}return-1},t._lctf.readCoverage=function(e,n){var r=t._bin,i={};i.fmt=r.readUshort(e,n),n+=2;var a=r.readUshort(e,n);return n+=2,1==i.fmt&&(i.tab=r.readUshorts(e,n,a)),2==i.fmt&&(i.tab=r.readUshorts(e,n,3*a)),i},t._lctf.coverageIndex=function(e,n){var r=e.tab;if(1==e.fmt)return r.indexOf(n);if(2==e.fmt){var i=t._lctf.getInterval(r,n);if(-1!=i)return r[i+2]+(n-r[i])}return-1},t._lctf.readFeatureList=function(e,n){var r=t._bin,i=n,a=[],o=r.readUshort(e,n);n+=2;for(var s=0;s<o;s++){var l=r.readASCII(e,n,4);n+=4;var u=r.readUshort(e,n);n+=2,a.push({tag:l.trim(),tab:t._lctf.readFeatureTable(e,i+u)})}return a},t._lctf.readFeatureTable=function(e,n){var r=t._bin;r.readUshort(e,n),n+=2;var i=r.readUshort(e,n);n+=2;for(var a=[],o=0;o<i;o++)a.push(r.readUshort(e,n+2*o));return a},t._lctf.readScriptList=function(e,n){var r=t._bin,i=n,a={},o=r.readUshort(e,n);n+=2;for(var s=0;s<o;s++){var l=r.readASCII(e,n,4);n+=4;var u=r.readUshort(e,n);n+=2,a[l.trim()]=t._lctf.readScriptTable(e,i+u)}return a},t._lctf.readScriptTable=function(e,n){var r=t._bin,i=n,a={},o=r.readUshort(e,n);n+=2,a.default=t._lctf.readLangSysTable(e,i+o);var s=r.readUshort(e,n);n+=2;for(var l=0;l<s;l++){var u=r.readASCII(e,n,4);n+=4;var c=r.readUshort(e,n);n+=2,a[u.trim()]=t._lctf.readLangSysTable(e,i+c)}return a},t._lctf.readLangSysTable=function(e,n){var r=t._bin,i={};r.readUshort(e,n),n+=2,i.reqFeature=r.readUshort(e,n),n+=2;var a=r.readUshort(e,n);return n+=2,i.features=r.readUshorts(e,n,a),i},t.CFF={},t.CFF.parse=function(e,n,r){var i=t._bin;(e=new Uint8Array(e.buffer,n,r))[n=0],e[++n],e[++n],e[++n],n++;var a=[];n=t.CFF.readIndex(e,n,a);for(var o=[],s=0;s<a.length-1;s++)o.push(i.readASCII(e,n+a[s],a[s+1]-a[s]));n+=a[a.length-1];var l=[];n=t.CFF.readIndex(e,n,l);var u=[];for(s=0;s<l.length-1;s++)u.push(t.CFF.readDict(e,n+l[s],n+l[s+1]));n+=l[l.length-1];var c=u[0],d=[];n=t.CFF.readIndex(e,n,d);var h=[];for(s=0;s<d.length-1;s++)h.push(i.readASCII(e,n+d[s],d[s+1]-d[s]));if(n+=d[d.length-1],t.CFF.readSubrs(e,n,c),c.CharStrings){n=c.CharStrings,d=[],n=t.CFF.readIndex(e,n,d);var f=[];for(s=0;s<d.length-1;s++)f.push(i.readBytes(e,n+d[s],d[s+1]-d[s]));c.CharStrings=f}if(c.ROS){n=c.FDArray;var p=[];for(n=t.CFF.readIndex(e,n,p),c.FDArray=[],s=0;s<p.length-1;s++){var m=t.CFF.readDict(e,n+p[s],n+p[s+1]);t.CFF._readFDict(e,m,h),c.FDArray.push(m)}n+=p[p.length-1],n=c.FDSelect,c.FDSelect=[];var v=e[n];if(n++,3!=v)throw v;var g=i.readUshort(e,n);for(n+=2,s=0;s<g+1;s++)c.FDSelect.push(i.readUshort(e,n),e[n+2]),n+=3}return c.Encoding&&(c.Encoding=t.CFF.readEncoding(e,c.Encoding,c.CharStrings.length)),c.charset&&(c.charset=t.CFF.readCharset(e,c.charset,c.CharStrings.length)),t.CFF._readFDict(e,c,h),c},t.CFF._readFDict=function(e,n,r){var i;for(var a in n.Private&&(i=n.Private[1],n.Private=t.CFF.readDict(e,i,i+n.Private[0]),n.Private.Subrs&&t.CFF.readSubrs(e,i+n.Private.Subrs,n.Private)),n)-1!=["FamilyName","FontName","FullName","Notice","version","Copyright"].indexOf(a)&&(n[a]=r[n[a]-426+35])},t.CFF.readSubrs=function(e,n,r){var i=t._bin,a=[];n=t.CFF.readIndex(e,n,a);var o,s=a.length;o=s<1240?107:s<33900?1131:32768,r.Bias=o,r.Subrs=[];for(var l=0;l<a.length-1;l++)r.Subrs.push(i.readBytes(e,n+a[l],a[l+1]-a[l]))},t.CFF.tableSE=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,92,93,94,95,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,96,97,98,99,100,101,102,103,104,105,106,107,108,109,110,0,111,112,113,114,0,115,116,117,118,119,120,121,122,0,123,0,124,125,126,127,128,129,130,131,0,132,133,0,134,135,136,137,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,138,0,139,0,0,0,0,140,141,142,143,0,0,0,0,0,144,0,0,0,145,0,0,146,147,148,149,0,0,0,0],t.CFF.glyphByUnicode=function(e,t){for(var n=0;n<e.charset.length;n++)if(e.charset[n]==t)return n;return-1},t.CFF.glyphBySE=function(e,n){return n<0||n>255?-1:t.CFF.glyphByUnicode(e,t.CFF.tableSE[n])},t.CFF.readEncoding=function(e,n,r){t._bin;var i=[".notdef"],a=e[n];if(n++,0!=a)throw"error: unknown encoding format: "+a;var o=e[n];n++;for(var s=0;s<o;s++)i.push(e[n+s]);return i},t.CFF.readCharset=function(e,n,r){var i=t._bin,a=[".notdef"],o=e[n];if(n++,0==o)for(var s=0;s<r;s++){var l=i.readUshort(e,n);n+=2,a.push(l)}else{if(1!=o&&2!=o)throw"error: format: "+o;for(;a.length<r;){l=i.readUshort(e,n),n+=2;var u=0;for(1==o?(u=e[n],n++):(u=i.readUshort(e,n),n+=2),s=0;s<=u;s++)a.push(l),l++}}return a},t.CFF.readIndex=function(e,n,r){var i=t._bin,a=i.readUshort(e,n)+1,o=e[n+=2];if(n++,1==o)for(var s=0;s<a;s++)r.push(e[n+s]);else if(2==o)for(s=0;s<a;s++)r.push(i.readUshort(e,n+2*s));else if(3==o)for(s=0;s<a;s++)r.push(16777215&i.readUint(e,n+3*s-1));else if(1!=a)throw"unsupported offset size: "+o+", count: "+a;return(n+=a*o)-1},t.CFF.getCharString=function(e,n,r){var i=t._bin,a=e[n],o=e[n+1],s=(e[n+2],e[n+3],e[n+4],1),l=null,u=null;a<=20&&(l=a,s=1),12==a&&(l=100*a+o,s=2),21<=a&&a<=27&&(l=a,s=1),28==a&&(u=i.readShort(e,n+1),s=3),29<=a&&a<=31&&(l=a,s=1),32<=a&&a<=246&&(u=a-139,s=1),247<=a&&a<=250&&(u=256*(a-247)+o+108,s=2),251<=a&&a<=254&&(u=256*-(a-251)-o-108,s=2),255==a&&(u=i.readInt(e,n+1)/65535,s=5),r.val=null!=u?u:"o"+l,r.size=s},t.CFF.readCharString=function(e,n,r){for(var i=n+r,a=t._bin,o=[];n<i;){var s=e[n],l=e[n+1],u=(e[n+2],e[n+3],e[n+4],1),c=null,d=null;s<=20&&(c=s,u=1),12==s&&(c=100*s+l,u=2),19!=s&&20!=s||(c=s,u=2),21<=s&&s<=27&&(c=s,u=1),28==s&&(d=a.readShort(e,n+1),u=3),29<=s&&s<=31&&(c=s,u=1),32<=s&&s<=246&&(d=s-139,u=1),247<=s&&s<=250&&(d=256*(s-247)+l+108,u=2),251<=s&&s<=254&&(d=256*-(s-251)-l-108,u=2),255==s&&(d=a.readInt(e,n+1)/65535,u=5),o.push(null!=d?d:"o"+c),n+=u}return o},t.CFF.readDict=function(e,n,r){for(var i=t._bin,a={},o=[];n<r;){var s=e[n],l=e[n+1],u=(e[n+2],e[n+3],e[n+4],1),c=null,d=null;if(28==s&&(d=i.readShort(e,n+1),u=3),29==s&&(d=i.readInt(e,n+1),u=5),32<=s&&s<=246&&(d=s-139,u=1),247<=s&&s<=250&&(d=256*(s-247)+l+108,u=2),251<=s&&s<=254&&(d=256*-(s-251)-l-108,u=2),255==s)throw d=i.readInt(e,n+1)/65535,u=5,"unknown number";if(30==s){var h=[];for(u=1;;){var f=e[n+u];u++;var p=f>>4,m=15&f;if(15!=p&&h.push(p),15!=m&&h.push(m),15==m)break}for(var v="",g=[0,1,2,3,4,5,6,7,8,9,".","e","e-","reserved","-","endOfNumber"],y=0;y<h.length;y++)v+=g[h[y]];d=parseFloat(v)}s<=21&&(c=["version","Notice","FullName","FamilyName","Weight","FontBBox","BlueValues","OtherBlues","FamilyBlues","FamilyOtherBlues","StdHW","StdVW","escape","UniqueID","XUID","charset","Encoding","CharStrings","Private","Subrs","defaultWidthX","nominalWidthX"][s],u=1,12==s&&(c=["Copyright","isFixedPitch","ItalicAngle","UnderlinePosition","UnderlineThickness","PaintType","CharstringType","FontMatrix","StrokeWidth","BlueScale","BlueShift","BlueFuzz","StemSnapH","StemSnapV","ForceBold",0,0,"LanguageGroup","ExpansionFactor","initialRandomSeed","SyntheticBase","PostScript","BaseFontName","BaseFontBlend",0,0,0,0,0,0,"ROS","CIDFontVersion","CIDFontRevision","CIDFontType","CIDCount","UIDBase","FDArray","FDSelect","FontName"][l],u=2)),null!=c?(a[c]=1==o.length?o[0]:o,o=[]):o.push(d),n+=u}return a},t.cmap={},t.cmap.parse=function(e,n,r){e=new Uint8Array(e.buffer,n,r),n=0;var i=t._bin,a={};i.readUshort(e,n),n+=2;var o=i.readUshort(e,n);n+=2;var s=[];a.tables=[];for(var l=0;l<o;l++){var u=i.readUshort(e,n);n+=2;var c=i.readUshort(e,n);n+=2;var d=i.readUint(e,n);n+=4;var h="p"+u+"e"+c,f=s.indexOf(d);if(-1==f){var p;f=a.tables.length,s.push(d);var m=i.readUshort(e,d);0==m?p=t.cmap.parse0(e,d):4==m?p=t.cmap.parse4(e,d):6==m?p=t.cmap.parse6(e,d):12==m?p=t.cmap.parse12(e,d):console.log("unknown format: "+m,u,c,d),a.tables.push(p)}if(null!=a[h])throw"multiple tables for one platform+encoding";a[h]=f}return a},t.cmap.parse0=function(e,n){var r=t._bin,i={};i.format=r.readUshort(e,n),n+=2;var a=r.readUshort(e,n);n+=2,r.readUshort(e,n),n+=2,i.map=[];for(var o=0;o<a-6;o++)i.map.push(e[n+o]);return i},t.cmap.parse4=function(e,n){var r=t._bin,i=n,a={};a.format=r.readUshort(e,n),n+=2;var o=r.readUshort(e,n);n+=2,r.readUshort(e,n),n+=2;var s=r.readUshort(e,n);n+=2;var l=s/2;a.searchRange=r.readUshort(e,n),n+=2,a.entrySelector=r.readUshort(e,n),n+=2,a.rangeShift=r.readUshort(e,n),n+=2,a.endCount=r.readUshorts(e,n,l),n+=2*l,n+=2,a.startCount=r.readUshorts(e,n,l),n+=2*l,a.idDelta=[];for(var u=0;u<l;u++)a.idDelta.push(r.readShort(e,n)),n+=2;for(a.idRangeOffset=r.readUshorts(e,n,l),n+=2*l,a.glyphIdArray=[];n<i+o;)a.glyphIdArray.push(r.readUshort(e,n)),n+=2;return a},t.cmap.parse6=function(e,n){var r=t._bin,i={};i.format=r.readUshort(e,n),n+=2,r.readUshort(e,n),n+=2,r.readUshort(e,n),n+=2,i.firstCode=r.readUshort(e,n),n+=2;var a=r.readUshort(e,n);n+=2,i.glyphIdArray=[];for(var o=0;o<a;o++)i.glyphIdArray.push(r.readUshort(e,n)),n+=2;return i},t.cmap.parse12=function(e,n){var r=t._bin,i={};i.format=r.readUshort(e,n),n+=2,n+=2,r.readUint(e,n),n+=4,r.readUint(e,n),n+=4;var a=r.readUint(e,n);n+=4,i.groups=[];for(var o=0;o<a;o++){var s=n+12*o,l=r.readUint(e,s+0),u=r.readUint(e,s+4),c=r.readUint(e,s+8);i.groups.push([l,u,c])}return i},t.glyf={},t.glyf.parse=function(e,t,n,r){for(var i=[],a=0;a<r.maxp.numGlyphs;a++)i.push(null);return i},t.glyf._parseGlyf=function(e,n){var r=t._bin,i=e._data,a=t._tabOffset(i,"glyf",e._offset)+e.loca[n];if(e.loca[n]==e.loca[n+1])return null;var o={};if(o.noc=r.readShort(i,a),a+=2,o.xMin=r.readShort(i,a),a+=2,o.yMin=r.readShort(i,a),a+=2,o.xMax=r.readShort(i,a),a+=2,o.yMax=r.readShort(i,a),a+=2,o.xMin>=o.xMax||o.yMin>=o.yMax)return null;if(o.noc>0){o.endPts=[];for(var s=0;s<o.noc;s++)o.endPts.push(r.readUshort(i,a)),a+=2;var l=r.readUshort(i,a);if(a+=2,i.length-a<l)return null;o.instructions=r.readBytes(i,a,l),a+=l;var u=o.endPts[o.noc-1]+1;for(o.flags=[],s=0;s<u;s++){var c=i[a];if(a++,o.flags.push(c),0!=(8&c)){var d=i[a];a++;for(var h=0;h<d;h++)o.flags.push(c),s++}}for(o.xs=[],s=0;s<u;s++){var f=0!=(2&o.flags[s]),p=0!=(16&o.flags[s]);f?(o.xs.push(p?i[a]:-i[a]),a++):p?o.xs.push(0):(o.xs.push(r.readShort(i,a)),a+=2)}for(o.ys=[],s=0;s<u;s++)f=0!=(4&o.flags[s]),p=0!=(32&o.flags[s]),f?(o.ys.push(p?i[a]:-i[a]),a++):p?o.ys.push(0):(o.ys.push(r.readShort(i,a)),a+=2);var m=0,v=0;for(s=0;s<u;s++)m+=o.xs[s],v+=o.ys[s],o.xs[s]=m,o.ys[s]=v}else{var g,y=1,b=2,x=8,w=32,M=64,_=128,S=256;o.parts=[];do{g=r.readUshort(i,a),a+=2;var E={m:{a:1,b:0,c:0,d:1,tx:0,ty:0},p1:-1,p2:-1};if(o.parts.push(E),E.glyphIndex=r.readUshort(i,a),a+=2,g&y){var T=r.readShort(i,a);a+=2;var A=r.readShort(i,a);a+=2}else T=r.readInt8(i,a),a++,A=r.readInt8(i,a),a++;g&b?(E.m.tx=T,E.m.ty=A):(E.p1=T,E.p2=A),g&x?(E.m.a=E.m.d=r.readF2dot14(i,a),a+=2):g&M?(E.m.a=r.readF2dot14(i,a),a+=2,E.m.d=r.readF2dot14(i,a),a+=2):g&_&&(E.m.a=r.readF2dot14(i,a),a+=2,E.m.b=r.readF2dot14(i,a),a+=2,E.m.c=r.readF2dot14(i,a),a+=2,E.m.d=r.readF2dot14(i,a),a+=2)}while(g&w);if(g&S){var R=r.readUshort(i,a);for(a+=2,o.instr=[],s=0;s<R;s++)o.instr.push(i[a]),a++}}return o},t.GPOS={},t.GPOS.parse=function(e,n,r,i){return t._lctf.parse(e,n,r,i,t.GPOS.subt)},t.GPOS.subt=function(e,n,r){var i=t._bin,a=r,o={};if(o.fmt=i.readUshort(e,r),r+=2,1==n||2==n||3==n||7==n||8==n&&o.fmt<=2){var s=i.readUshort(e,r);r+=2,o.coverage=t._lctf.readCoverage(e,s+a)}if(1==n&&1==o.fmt){var l=i.readUshort(e,r);r+=2;var u=t._lctf.numOfOnes(l);0!=l&&(o.pos=t.GPOS.readValueRecord(e,r,l))}else if(2==n){l=i.readUshort(e,r),r+=2;var c=i.readUshort(e,r);r+=2,u=t._lctf.numOfOnes(l);var d=t._lctf.numOfOnes(c);if(1==o.fmt){o.pairsets=[];var h=i.readUshort(e,r);r+=2;for(var f=0;f<h;f++){var p=a+i.readUshort(e,r);r+=2;var m=i.readUshort(e,p);p+=2;for(var v=[],g=0;g<m;g++){var y=i.readUshort(e,p);p+=2,0!=l&&(S=t.GPOS.readValueRecord(e,p,l),p+=2*u),0!=c&&(E=t.GPOS.readValueRecord(e,p,c),p+=2*d),v.push({gid2:y,val1:S,val2:E})}o.pairsets.push(v)}}if(2==o.fmt){var b=i.readUshort(e,r);r+=2;var x=i.readUshort(e,r);r+=2;var w=i.readUshort(e,r);r+=2;var M=i.readUshort(e,r);for(r+=2,o.classDef1=t._lctf.readClassDef(e,a+b),o.classDef2=t._lctf.readClassDef(e,a+x),o.matrix=[],f=0;f<w;f++){var _=[];for(g=0;g<M;g++){var S=null,E=null;0!=o.valFmt1&&(S=t.GPOS.readValueRecord(e,r,o.valFmt1),r+=2*u),0!=o.valFmt2&&(E=t.GPOS.readValueRecord(e,r,o.valFmt2),r+=2*d),_.push({val1:S,val2:E})}o.matrix.push(_)}}}return o},t.GPOS.readValueRecord=function(e,n,r){var i=t._bin,a=[];return a.push(1&r?i.readShort(e,n):0),n+=1&r?2:0,a.push(2&r?i.readShort(e,n):0),n+=2&r?2:0,a.push(4&r?i.readShort(e,n):0),n+=4&r?2:0,a.push(8&r?i.readShort(e,n):0),n+=8&r?2:0,a},t.GSUB={},t.GSUB.parse=function(e,n,r,i){return t._lctf.parse(e,n,r,i,t.GSUB.subt)},t.GSUB.subt=function(e,n,r){var i=t._bin,a=r,o={};if(o.fmt=i.readUshort(e,r),r+=2,1!=n&&4!=n&&5!=n&&6!=n)return null;if(1==n||4==n||5==n&&o.fmt<=2||6==n&&o.fmt<=2){var s=i.readUshort(e,r);r+=2,o.coverage=t._lctf.readCoverage(e,a+s)}if(1==n){if(1==o.fmt)o.delta=i.readShort(e,r),r+=2;else if(2==o.fmt){var l=i.readUshort(e,r);r+=2,o.newg=i.readUshorts(e,r,l),r+=2*o.newg.length}}else if(4==n){o.vals=[],l=i.readUshort(e,r),r+=2;for(var u=0;u<l;u++){var c=i.readUshort(e,r);r+=2,o.vals.push(t.GSUB.readLigatureSet(e,a+c))}}else if(5==n){if(2==o.fmt){var d=i.readUshort(e,r);r+=2,o.cDef=t._lctf.readClassDef(e,a+d),o.scset=[];var h=i.readUshort(e,r);for(r+=2,u=0;u<h;u++){var f=i.readUshort(e,r);r+=2,o.scset.push(0==f?null:t.GSUB.readSubClassSet(e,a+f))}}}else if(6==n&&3==o.fmt){for(u=0;u<3;u++){l=i.readUshort(e,r),r+=2;for(var p=[],m=0;m<l;m++)p.push(t._lctf.readCoverage(e,a+i.readUshort(e,r+2*m)));r+=2*l,0==u&&(o.backCvg=p),1==u&&(o.inptCvg=p),2==u&&(o.ahedCvg=p)}l=i.readUshort(e,r),r+=2,o.lookupRec=t.GSUB.readSubstLookupRecords(e,r,l)}return o},t.GSUB.readSubClassSet=function(e,n){var r=t._bin.readUshort,i=n,a=[],o=r(e,n);n+=2;for(var s=0;s<o;s++){var l=r(e,n);n+=2,a.push(t.GSUB.readSubClassRule(e,i+l))}return a},t.GSUB.readSubClassRule=function(e,n){var r=t._bin.readUshort,i={},a=r(e,n),o=r(e,n+=2);n+=2,i.input=[];for(var s=0;s<a-1;s++)i.input.push(r(e,n)),n+=2;return i.substLookupRecords=t.GSUB.readSubstLookupRecords(e,n,o),i},t.GSUB.readSubstLookupRecords=function(e,n,r){for(var i=t._bin.readUshort,a=[],o=0;o<r;o++)a.push(i(e,n),i(e,n+2)),n+=4;return a},t.GSUB.readChainSubClassSet=function(e,n){var r=t._bin,i=n,a=[],o=r.readUshort(e,n);n+=2;for(var s=0;s<o;s++){var l=r.readUshort(e,n);n+=2,a.push(t.GSUB.readChainSubClassRule(e,i+l))}return a},t.GSUB.readChainSubClassRule=function(e,n){for(var r=t._bin,i={},a=["backtrack","input","lookahead"],o=0;o<a.length;o++){var s=r.readUshort(e,n);n+=2,1==o&&s--,i[a[o]]=r.readUshorts(e,n,s),n+=2*i[a[o]].length}return s=r.readUshort(e,n),n+=2,i.subst=r.readUshorts(e,n,2*s),n+=2*i.subst.length,i},t.GSUB.readLigatureSet=function(e,n){var r=t._bin,i=n,a=[],o=r.readUshort(e,n);n+=2;for(var s=0;s<o;s++){var l=r.readUshort(e,n);n+=2,a.push(t.GSUB.readLigature(e,i+l))}return a},t.GSUB.readLigature=function(e,n){var r=t._bin,i={chain:[]};i.nglyph=r.readUshort(e,n),n+=2;var a=r.readUshort(e,n);n+=2;for(var o=0;o<a-1;o++)i.chain.push(r.readUshort(e,n)),n+=2;return i},t.head={},t.head.parse=function(e,n,r){var i=t._bin,a={};return i.readFixed(e,n),n+=4,a.fontRevision=i.readFixed(e,n),n+=4,i.readUint(e,n),n+=4,i.readUint(e,n),n+=4,a.flags=i.readUshort(e,n),n+=2,a.unitsPerEm=i.readUshort(e,n),n+=2,a.created=i.readUint64(e,n),n+=8,a.modified=i.readUint64(e,n),n+=8,a.xMin=i.readShort(e,n),n+=2,a.yMin=i.readShort(e,n),n+=2,a.xMax=i.readShort(e,n),n+=2,a.yMax=i.readShort(e,n),n+=2,a.macStyle=i.readUshort(e,n),n+=2,a.lowestRecPPEM=i.readUshort(e,n),n+=2,a.fontDirectionHint=i.readShort(e,n),n+=2,a.indexToLocFormat=i.readShort(e,n),n+=2,a.glyphDataFormat=i.readShort(e,n),n+=2,a},t.hhea={},t.hhea.parse=function(e,n,r){var i=t._bin,a={};return i.readFixed(e,n),n+=4,a.ascender=i.readShort(e,n),n+=2,a.descender=i.readShort(e,n),n+=2,a.lineGap=i.readShort(e,n),n+=2,a.advanceWidthMax=i.readUshort(e,n),n+=2,a.minLeftSideBearing=i.readShort(e,n),n+=2,a.minRightSideBearing=i.readShort(e,n),n+=2,a.xMaxExtent=i.readShort(e,n),n+=2,a.caretSlopeRise=i.readShort(e,n),n+=2,a.caretSlopeRun=i.readShort(e,n),n+=2,a.caretOffset=i.readShort(e,n),n+=2,n+=8,a.metricDataFormat=i.readShort(e,n),n+=2,a.numberOfHMetrics=i.readUshort(e,n),n+=2,a},t.hmtx={},t.hmtx.parse=function(e,n,r,i){for(var a=t._bin,o={aWidth:[],lsBearing:[]},s=0,l=0,u=0;u<i.maxp.numGlyphs;u++)u<i.hhea.numberOfHMetrics&&(s=a.readUshort(e,n),n+=2,l=a.readShort(e,n),n+=2),o.aWidth.push(s),o.lsBearing.push(l);return o},t.kern={},t.kern.parse=function(e,n,r,i){var a=t._bin,o=a.readUshort(e,n);if(n+=2,1==o)return t.kern.parseV1(e,n-2,r,i);var s=a.readUshort(e,n);n+=2;for(var l={glyph1:[],rval:[]},u=0;u<s;u++){n+=2,r=a.readUshort(e,n),n+=2;var c=a.readUshort(e,n);n+=2;var d=c>>>8;if(0!=(d&=15))throw"unknown kern table format: "+d;n=t.kern.readFormat0(e,n,l)}return l},t.kern.parseV1=function(e,n,r,i){var a=t._bin;a.readFixed(e,n),n+=4;var o=a.readUint(e,n);n+=4;for(var s={glyph1:[],rval:[]},l=0;l<o;l++){a.readUint(e,n),n+=4;var u=a.readUshort(e,n);n+=2,a.readUshort(e,n),n+=2;var c=u>>>8;if(0!=(c&=15))throw"unknown kern table format: "+c;n=t.kern.readFormat0(e,n,s)}return s},t.kern.readFormat0=function(e,n,r){var i=t._bin,a=-1,o=i.readUshort(e,n);n+=2,i.readUshort(e,n),n+=2,i.readUshort(e,n),n+=2,i.readUshort(e,n),n+=2;for(var s=0;s<o;s++){var l=i.readUshort(e,n);n+=2;var u=i.readUshort(e,n);n+=2;var c=i.readShort(e,n);n+=2,l!=a&&(r.glyph1.push(l),r.rval.push({glyph2:[],vals:[]}));var d=r.rval[r.rval.length-1];d.glyph2.push(u),d.vals.push(c),a=l}return n},t.loca={},t.loca.parse=function(e,n,r,i){var a=t._bin,o=[],s=i.head.indexToLocFormat,l=i.maxp.numGlyphs+1;if(0==s)for(var u=0;u<l;u++)o.push(a.readUshort(e,n+(u<<1))<<1);if(1==s)for(u=0;u<l;u++)o.push(a.readUint(e,n+(u<<2)));return o},t.maxp={},t.maxp.parse=function(e,n,r){var i=t._bin,a={},o=i.readUint(e,n);return n+=4,a.numGlyphs=i.readUshort(e,n),n+=2,65536==o&&(a.maxPoints=i.readUshort(e,n),n+=2,a.maxContours=i.readUshort(e,n),n+=2,a.maxCompositePoints=i.readUshort(e,n),n+=2,a.maxCompositeContours=i.readUshort(e,n),n+=2,a.maxZones=i.readUshort(e,n),n+=2,a.maxTwilightPoints=i.readUshort(e,n),n+=2,a.maxStorage=i.readUshort(e,n),n+=2,a.maxFunctionDefs=i.readUshort(e,n),n+=2,a.maxInstructionDefs=i.readUshort(e,n),n+=2,a.maxStackElements=i.readUshort(e,n),n+=2,a.maxSizeOfInstructions=i.readUshort(e,n),n+=2,a.maxComponentElements=i.readUshort(e,n),n+=2,a.maxComponentDepth=i.readUshort(e,n),n+=2),a},t.name={},t.name.parse=function(e,n,r){var i=t._bin,a={};i.readUshort(e,n),n+=2;var o=i.readUshort(e,n);n+=2,i.readUshort(e,n);for(var s,l=["copyright","fontFamily","fontSubfamily","ID","fullName","version","postScriptName","trademark","manufacturer","designer","description","urlVendor","urlDesigner","licence","licenceURL","---","typoFamilyName","typoSubfamilyName","compatibleFull","sampleText","postScriptCID","wwsFamilyName","wwsSubfamilyName","lightPalette","darkPalette"],u=n+=2,c=0;c<o;c++){var d=i.readUshort(e,n);n+=2;var h=i.readUshort(e,n);n+=2;var f=i.readUshort(e,n);n+=2;var p=i.readUshort(e,n);n+=2;var m=i.readUshort(e,n);n+=2;var v=i.readUshort(e,n);n+=2;var g,y=l[p],b=u+12*o+v;if(0==d)g=i.readUnicode(e,b,m/2);else if(3==d&&0==h)g=i.readUnicode(e,b,m/2);else if(0==h)g=i.readASCII(e,b,m);else if(1==h)g=i.readUnicode(e,b,m/2);else if(3==h)g=i.readUnicode(e,b,m/2);else{if(1!=d)throw"unknown encoding "+h+", platformID: "+d;g=i.readASCII(e,b,m),console.log("reading unknown MAC encoding "+h+" as ASCII")}var x="p"+d+","+f.toString(16);null==a[x]&&(a[x]={}),a[x][y]=g,a[x]._lang=f}for(var w in a)if(null!=a[w].postScriptName&&1033==a[w]._lang)return a[w];for(var w in a)if(null!=a[w].postScriptName&&0==a[w]._lang)return a[w];for(var w in a)if(null!=a[w].postScriptName&&3084==a[w]._lang)return a[w];for(var w in a)if(null!=a[w].postScriptName)return a[w];for(var w in a){s=w;break}return console.log("returning name table with languageID "+a[s]._lang),a[s]},t["OS/2"]={},t["OS/2"].parse=function(e,n,r){var i=t._bin.readUshort(e,n);n+=2;var a={};if(0==i)t["OS/2"].version0(e,n,a);else if(1==i)t["OS/2"].version1(e,n,a);else if(2==i||3==i||4==i)t["OS/2"].version2(e,n,a);else{if(5!=i)throw"unknown OS/2 table version: "+i;t["OS/2"].version5(e,n,a)}return a},t["OS/2"].version0=function(e,n,r){var i=t._bin;return r.xAvgCharWidth=i.readShort(e,n),n+=2,r.usWeightClass=i.readUshort(e,n),n+=2,r.usWidthClass=i.readUshort(e,n),n+=2,r.fsType=i.readUshort(e,n),n+=2,r.ySubscriptXSize=i.readShort(e,n),n+=2,r.ySubscriptYSize=i.readShort(e,n),n+=2,r.ySubscriptXOffset=i.readShort(e,n),n+=2,r.ySubscriptYOffset=i.readShort(e,n),n+=2,r.ySuperscriptXSize=i.readShort(e,n),n+=2,r.ySuperscriptYSize=i.readShort(e,n),n+=2,r.ySuperscriptXOffset=i.readShort(e,n),n+=2,r.ySuperscriptYOffset=i.readShort(e,n),n+=2,r.yStrikeoutSize=i.readShort(e,n),n+=2,r.yStrikeoutPosition=i.readShort(e,n),n+=2,r.sFamilyClass=i.readShort(e,n),n+=2,r.panose=i.readBytes(e,n,10),n+=10,r.ulUnicodeRange1=i.readUint(e,n),n+=4,r.ulUnicodeRange2=i.readUint(e,n),n+=4,r.ulUnicodeRange3=i.readUint(e,n),n+=4,r.ulUnicodeRange4=i.readUint(e,n),n+=4,r.achVendID=[i.readInt8(e,n),i.readInt8(e,n+1),i.readInt8(e,n+2),i.readInt8(e,n+3)],n+=4,r.fsSelection=i.readUshort(e,n),n+=2,r.usFirstCharIndex=i.readUshort(e,n),n+=2,r.usLastCharIndex=i.readUshort(e,n),n+=2,r.sTypoAscender=i.readShort(e,n),n+=2,r.sTypoDescender=i.readShort(e,n),n+=2,r.sTypoLineGap=i.readShort(e,n),n+=2,r.usWinAscent=i.readUshort(e,n),n+=2,r.usWinDescent=i.readUshort(e,n),n+=2},t["OS/2"].version1=function(e,n,r){var i=t._bin;return n=t["OS/2"].version0(e,n,r),r.ulCodePageRange1=i.readUint(e,n),n+=4,r.ulCodePageRange2=i.readUint(e,n),n+=4},t["OS/2"].version2=function(e,n,r){var i=t._bin;return n=t["OS/2"].version1(e,n,r),r.sxHeight=i.readShort(e,n),n+=2,r.sCapHeight=i.readShort(e,n),n+=2,r.usDefault=i.readUshort(e,n),n+=2,r.usBreak=i.readUshort(e,n),n+=2,r.usMaxContext=i.readUshort(e,n),n+=2},t["OS/2"].version5=function(e,n,r){var i=t._bin;return n=t["OS/2"].version2(e,n,r),r.usLowerOpticalPointSize=i.readUshort(e,n),n+=2,r.usUpperOpticalPointSize=i.readUshort(e,n),n+=2},t.post={},t.post.parse=function(e,n,r){var i=t._bin,a={};return a.version=i.readFixed(e,n),n+=4,a.italicAngle=i.readFixed(e,n),n+=4,a.underlinePosition=i.readShort(e,n),n+=2,a.underlineThickness=i.readShort(e,n),n+=2,a},t.SVG={},t.SVG.parse=function(e,n,r){var i=t._bin,a={entries:[]},o=n;i.readUshort(e,n),n+=2;var s=i.readUint(e,n);n+=4,i.readUint(e,n),n+=4,n=s+o;var l=i.readUshort(e,n);n+=2;for(var u=0;u<l;u++){var c=i.readUshort(e,n);n+=2;var d=i.readUshort(e,n);n+=2;var h=i.readUint(e,n);n+=4;var f=i.readUint(e,n);n+=4;for(var p=new Uint8Array(e.buffer,o+h+s,f),m=i.readUTF8(p,0,p.length),v=c;v<=d;v++)a.entries[v]=m}return a},t.SVG.toPath=function(e){var n={cmds:[],crds:[]};if(null==e)return n;for(var r=(new DOMParser).parseFromString(e,"image/svg+xml").firstChild;"svg"!=r.tagName;)r=r.nextSibling;var i=r.getAttribute("viewBox");i=i?i.trim().split(" ").map(parseFloat):[0,0,1e3,1e3],t.SVG._toPath(r.children,n);for(var a=0;a<n.crds.length;a+=2){var o=n.crds[a],s=n.crds[a+1];o-=i[0],s=-(s-=i[1]),n.crds[a]=o,n.crds[a+1]=s}return n},t.SVG._toPath=function(e,n,r){for(var i=0;i<e.length;i++){var a=e[i],o=a.tagName,s=a.getAttribute("fill");if(null==s&&(s=r),"g"==o)t.SVG._toPath(a.children,n,s);else if("path"==o){n.cmds.push(s||"#000000");var l=a.getAttribute("d"),u=t.SVG._tokens(l);t.SVG._toksToPath(u,n),n.cmds.push("X")}else"defs"==o||console.log(o,a)}},t.SVG._tokens=function(e){for(var t=[],n=0,r=!1,i="";n<e.length;){var a=e.charCodeAt(n),o=e.charAt(n);n++;var s=48<=a&&a<=57||"."==o||"-"==o;r?"-"==o?(t.push(parseFloat(i)),i=o):s?i+=o:(t.push(parseFloat(i)),","!=o&&" "!=o&&t.push(o),r=!1):s?(i=o,r=!0):","!=o&&" "!=o&&t.push(o)}return r&&t.push(parseFloat(i)),t},t.SVG._toksToPath=function(e,n){for(var r=0,i=0,a=0,o=0,s=0,l={M:2,L:2,H:1,V:1,S:4,C:6},u=n.cmds,c=n.crds;r<e.length;){var d=e[r];if(r++,"z"==d)u.push("Z"),i=o,a=s;else for(var h=d.toUpperCase(),f=l[h],p=t.SVG._reps(e,r,f),m=0;m<p;m++){var v=0,g=0;if(d!=h&&(v=i,g=a),"M"==h)i=v+e[r++],a=g+e[r++],u.push("M"),c.push(i,a),o=i,s=a;else if("L"==h)i=v+e[r++],a=g+e[r++],u.push("L"),c.push(i,a);else if("H"==h)i=v+e[r++],u.push("L"),c.push(i,a);else if("V"==h)a=g+e[r++],u.push("L"),c.push(i,a);else if("C"==h){var y=v+e[r++],b=g+e[r++],x=v+e[r++],w=g+e[r++],M=v+e[r++],_=g+e[r++];u.push("C"),c.push(y,b,x,w,M,_),i=M,a=_}else if("S"==h){var S=Math.max(c.length-4,0);y=i+i-c[S],b=a+a-c[S+1],x=v+e[r++],w=g+e[r++],M=v+e[r++],_=g+e[r++],u.push("C"),c.push(y,b,x,w,M,_),i=M,a=_}else console.log("Unknown SVG command "+d)}}},t.SVG._reps=function(e,t,n){for(var r=t;r<e.length&&"string"!=typeof e[r];)r+=n;return(r-t)/n},null==t&&(t={}),null==t.U&&(t.U={}),t.U.codeToGlyph=function(e,t){var n=e.cmap,r=-1;if(null!=n.p0e4?r=n.p0e4:null!=n.p3e1?r=n.p3e1:null!=n.p1e0?r=n.p1e0:null!=n.p0e3&&(r=n.p0e3),-1==r)throw"no familiar platform and encoding!";var i=n.tables[r];if(0==i.format)return t>=i.map.length?0:i.map[t];if(4==i.format){for(var a=-1,o=0;o<i.endCount.length;o++)if(t<=i.endCount[o]){a=o;break}return-1==a||i.startCount[a]>t?0:65535&(0!=i.idRangeOffset[a]?i.glyphIdArray[t-i.startCount[a]+(i.idRangeOffset[a]>>1)-(i.idRangeOffset.length-a)]:t+i.idDelta[a])}if(12==i.format){if(t>i.groups[i.groups.length-1][1])return 0;for(o=0;o<i.groups.length;o++){var s=i.groups[o];if(s[0]<=t&&t<=s[1])return s[2]+(t-s[0])}return 0}throw"unknown cmap table format "+i.format},t.U.glyphToPath=function(e,n){var r={cmds:[],crds:[]};if(e.SVG&&e.SVG.entries[n]){var i=e.SVG.entries[n];return null==i?r:("string"==typeof i&&(i=t.SVG.toPath(i),e.SVG.entries[n]=i),i)}if(e.CFF){var a={x:0,y:0,stack:[],nStems:0,haveWidth:!1,width:e.CFF.Private?e.CFF.Private.defaultWidthX:0,open:!1},o=e.CFF,s=e.CFF.Private;if(o.ROS){for(var l=0;o.FDSelect[l+2]<=n;)l+=2;s=o.FDArray[o.FDSelect[l+1]].Private}t.U._drawCFF(e.CFF.CharStrings[n],a,o,s,r)}else e.glyf&&t.U._drawGlyf(n,e,r);return r},t.U._drawGlyf=function(e,n,r){var i=n.glyf[e];null==i&&(i=n.glyf[e]=t.glyf._parseGlyf(n,e)),null!=i&&(i.noc>-1?t.U._simpleGlyph(i,r):t.U._compoGlyph(i,n,r))},t.U._simpleGlyph=function(e,n){for(var r=0;r<e.noc;r++){for(var i=0==r?0:e.endPts[r-1]+1,a=e.endPts[r],o=i;o<=a;o++){var s=o==i?a:o-1,l=o==a?i:o+1,u=1&e.flags[o],c=1&e.flags[s],d=1&e.flags[l],h=e.xs[o],f=e.ys[o];if(o==i)if(u){if(!c){t.U.P.moveTo(n,h,f);continue}t.U.P.moveTo(n,e.xs[s],e.ys[s])}else c?t.U.P.moveTo(n,e.xs[s],e.ys[s]):t.U.P.moveTo(n,(e.xs[s]+h)/2,(e.ys[s]+f)/2);u?c&&t.U.P.lineTo(n,h,f):d?t.U.P.qcurveTo(n,h,f,e.xs[l],e.ys[l]):t.U.P.qcurveTo(n,h,f,(h+e.xs[l])/2,(f+e.ys[l])/2)}t.U.P.closePath(n)}},t.U._compoGlyph=function(e,n,r){for(var i=0;i<e.parts.length;i++){var a={cmds:[],crds:[]},o=e.parts[i];t.U._drawGlyf(o.glyphIndex,n,a);for(var s=o.m,l=0;l<a.crds.length;l+=2){var u=a.crds[l],c=a.crds[l+1];r.crds.push(u*s.a+c*s.b+s.tx),r.crds.push(u*s.c+c*s.d+s.ty)}for(l=0;l<a.cmds.length;l++)r.cmds.push(a.cmds[l])}},t.U._getGlyphClass=function(e,n){var r=t._lctf.getInterval(n,e);return-1==r?0:n[r+2]},t.U.getPairAdjustment=function(e,n,r){if(e.GPOS)for(var i=e.GPOS,a=i.lookupList,o=i.featureList,s=[],l=0;l<o.length;l++){var u=o[l];if("kern"==u.tag)for(var c=0;c<u.tab.length;c++)if(!s[u.tab[c]]){s[u.tab[c]]=!0;for(var d=a[u.tab[c]],h=0;h<d.tabs.length;h++)if(null!=d.tabs[l]){var f,p=d.tabs[h];if(!p.coverage||-1!=(f=t._lctf.coverageIndex(p.coverage,n)))if(1==d.ltype);else if(2==d.ltype){var m;if(1==p.fmt){var v=p.pairsets[f];for(l=0;l<v.length;l++)v[l].gid2==r&&(m=v[l])}else if(2==p.fmt){var g=t.U._getGlyphClass(n,p.classDef1),y=t.U._getGlyphClass(r,p.classDef2);m=p.matrix[g][y]}if(m&&m.val2)return m.val2[2]}}}}if(e.kern){var b=e.kern.glyph1.indexOf(n);if(-1!=b){var x=e.kern.rval[b].glyph2.indexOf(r);if(-1!=x)return e.kern.rval[b].vals[x]}}return 0},t.U.stringToGlyphs=function(e,n){for(var r=[],i=0;i<n.length;i++)(a=n.codePointAt(i))>65535&&i++,r.push(t.U.codeToGlyph(e,a));for(i=0;i<n.length;i++){var a;if(2367==(a=n.codePointAt(i))){var o=r[i-1];r[i-1]=r[i],r[i]=o}a>65535&&i++}var s=e.GSUB;if(null==s)return r;for(var l=s.lookupList,u=s.featureList,c=["rlig","liga","mset","isol","init","fina","medi","half","pres","blws"],d=[],h=0;h<u.length;h++){var f=u[h];if(-1!=c.indexOf(f.tag))for(var p=0;p<f.tab.length;p++)if(!d[f.tab[p]]){d[f.tab[p]]=!0;for(var m=l[f.tab[p]],v=0;v<r.length;v++){var g=t.U._getWPfeature(n,v);-1!="isol,init,fina,medi".indexOf(f.tag)&&f.tag!=g||t.U._applySubs(r,v,m,l)}}}return r},t.U._getWPfeature=function(e,t){var n='\n\t" ,.:;!?()  \u060c',r="\u0622\u0623\u0624\u0625\u0627\u0629\u062f\u0630\u0631\u0632\u0648\u0671\u0672\u0673\u0675\u0676\u0677\u0688\u0689\u068a\u068b\u068c\u068d\u068e\u068f\u0690\u0691\u0692\u0693\u0694\u0695\u0696\u0697\u0698\u0699\u06c0\u06c3\u06c4\u06c5\u06c6\u06c7\u06c8\u06c9\u06ca\u06cb\u06cd\u06cf\u06d2\u06d3\u06d5\u06ee\u06ef\u0710\u0715\u0716\u0717\u0718\u0719\u071e\u0728\u072a\u072c\u072f\u074d\u0759\u075a\u075b\u076b\u076c\u0771\u0773\u0774\u0778\u0779\u0840\u0846\u0847\u0849\u0854\u0867\u0869\u086a\u08aa\u08ab\u08ac\u08ae\u08b1\u08b2\u08b9\u0ac5\u0ac7\u0ac9\u0aca\u0ace\u0acf\u0ad0\u0ad1\u0ad2\u0add\u0ae1\u0ae4\u0aef\u0b81\u0b83\u0b84\u0b85\u0b89\u0b8c\u0b8e\u0b8f\u0b91\u0ba9\u0baa\u0bab\u0bac",i="\ua872\u0acd\u0ad7",a=0==t||-1!=n.indexOf(e[t-1]),o=t==e.length-1||-1!=n.indexOf(e[t+1]);return a||-1==r.indexOf(e[t-1])||(a=!0),o||-1==r.indexOf(e[t])||(o=!0),o||-1==i.indexOf(e[t+1])||(o=!0),a||-1==i.indexOf(e[t])||(a=!0),a?o?"isol":"init":o?"fina":"medi"},t.U._applySubs=function(e,n,r,i){for(var a=e.length-n-1,o=0;o<r.tabs.length;o++)if(null!=r.tabs[o]){var s,l=r.tabs[o];if(!l.coverage||-1!=(s=t._lctf.coverageIndex(l.coverage,e[n])))if(1==r.ltype)e[n],1==l.fmt?e[n]=e[n]+l.delta:e[n]=l.newg[s];else if(4==r.ltype)for(var u=l.vals[s],c=0;c<u.length;c++){var d=u[c],h=d.chain.length;if(!(h>a)){for(var f=!0,p=0,m=0;m<h;m++){for(;-1==e[n+p+(1+m)];)p++;d.chain[m]!=e[n+p+(1+m)]&&(f=!1)}if(f){for(e[n]=d.nglyph,m=0;m<h+p;m++)e[n+m+1]=-1;break}}}else if(5==r.ltype&&2==l.fmt)for(var v=t._lctf.getInterval(l.cDef,e[n]),g=l.cDef[v+2],y=l.scset[g],b=0;b<y.length;b++){var x=y[b],w=x.input;if(!(w.length>a)){for(f=!0,m=0;m<w.length;m++){var M=t._lctf.getInterval(l.cDef,e[n+1+m]);if(-1==v&&l.cDef[M+2]!=w[m]){f=!1;break}}if(f){var _=x.substLookupRecords;for(c=0;c<_.length;c+=2)_[c],_[c+1]}}}else if(6==r.ltype&&3==l.fmt){if(!t.U._glsCovered(e,l.backCvg,n-l.backCvg.length))continue;if(!t.U._glsCovered(e,l.inptCvg,n))continue;if(!t.U._glsCovered(e,l.ahedCvg,n+l.inptCvg.length))continue;var S=l.lookupRec;for(b=0;b<S.length;b+=2){v=S[b];var E=i[S[b+1]];t.U._applySubs(e,n+v,E,i)}}}},t.U._glsCovered=function(e,n,r){for(var i=0;i<n.length;i++)if(-1==t._lctf.coverageIndex(n[i],e[r+i]))return!1;return!0},t.U.glyphsToPath=function(e,n,r){for(var i={cmds:[],crds:[]},a=0,o=0;o<n.length;o++){var s=n[o];if(-1!=s){for(var l=o<n.length-1&&-1!=n[o+1]?n[o+1]:0,u=t.U.glyphToPath(e,s),c=0;c<u.crds.length;c+=2)i.crds.push(u.crds[c]+a),i.crds.push(u.crds[c+1]);for(r&&i.cmds.push(r),c=0;c<u.cmds.length;c++)i.cmds.push(u.cmds[c]);r&&i.cmds.push("X"),a+=e.hmtx.aWidth[s],o<n.length-1&&(a+=t.U.getPairAdjustment(e,s,l))}}return i},t.U.pathToSVG=function(e,t){null==t&&(t=5);for(var n=[],r=0,i={M:2,L:2,Q:4,C:6},a=0;a<e.cmds.length;a++){var o=e.cmds[a],s=r+(i[o]?i[o]:0);for(n.push(o);r<s;){var l=e.crds[r++];n.push(parseFloat(l.toFixed(t))+(r==s?"":" "))}}return n.join("")},t.U.pathToContext=function(e,t){for(var n=0,r=e.crds,i=0;i<e.cmds.length;i++){var a=e.cmds[i];"M"==a?(t.moveTo(r[n],r[n+1]),n+=2):"L"==a?(t.lineTo(r[n],r[n+1]),n+=2):"C"==a?(t.bezierCurveTo(r[n],r[n+1],r[n+2],r[n+3],r[n+4],r[n+5]),n+=6):"Q"==a?(t.quadraticCurveTo(r[n],r[n+1],r[n+2],r[n+3]),n+=4):"#"==a.charAt(0)?(t.beginPath(),t.fillStyle=a):"Z"==a?t.closePath():"X"==a&&t.fill()}},t.U.P={},t.U.P.moveTo=function(e,t,n){e.cmds.push("M"),e.crds.push(t,n)},t.U.P.lineTo=function(e,t,n){e.cmds.push("L"),e.crds.push(t,n)},t.U.P.curveTo=function(e,t,n,r,i,a,o){e.cmds.push("C"),e.crds.push(t,n,r,i,a,o)},t.U.P.qcurveTo=function(e,t,n,r,i){e.cmds.push("Q"),e.crds.push(t,n,r,i)},t.U.P.closePath=function(e){e.cmds.push("Z")},t.U._drawCFF=function(e,n,r,i,a){for(var o=n.stack,s=n.nStems,l=n.haveWidth,u=n.width,c=n.open,d=0,h=n.x,f=n.y,p=0,m=0,v=0,g=0,y=0,b=0,x=0,w=0,M=0,_=0,S={val:0,size:0};d<e.length;){t.CFF.getCharString(e,d,S);var E=S.val;if(d+=S.size,"o1"==E||"o18"==E)o.length%2!==0&&!l&&(u=o.shift()+i.nominalWidthX),s+=o.length>>1,o.length=0,l=!0;else if("o3"==E||"o23"==E)o.length%2!==0&&!l&&(u=o.shift()+i.nominalWidthX),s+=o.length>>1,o.length=0,l=!0;else if("o4"==E)o.length>1&&!l&&(u=o.shift()+i.nominalWidthX,l=!0),c&&t.U.P.closePath(a),f+=o.pop(),t.U.P.moveTo(a,h,f),c=!0;else if("o5"==E)for(;o.length>0;)h+=o.shift(),f+=o.shift(),t.U.P.lineTo(a,h,f);else if("o6"==E||"o7"==E)for(var T=o.length,A="o6"==E,R=0;R<T;R++){var O=o.shift();A?h+=O:f+=O,A=!A,t.U.P.lineTo(a,h,f)}else if("o8"==E||"o24"==E){T=o.length;for(var k=0;k+6<=T;)p=h+o.shift(),m=f+o.shift(),v=p+o.shift(),g=m+o.shift(),h=v+o.shift(),f=g+o.shift(),t.U.P.curveTo(a,p,m,v,g,h,f),k+=6;"o24"==E&&(h+=o.shift(),f+=o.shift(),t.U.P.lineTo(a,h,f))}else{if("o11"==E)break;if("o1234"==E||"o1235"==E||"o1236"==E||"o1237"==E)"o1234"==E&&(m=f,v=(p=h+o.shift())+o.shift(),_=g=m+o.shift(),b=g,w=f,h=(x=(y=(M=v+o.shift())+o.shift())+o.shift())+o.shift(),t.U.P.curveTo(a,p,m,v,g,M,_),t.U.P.curveTo(a,y,b,x,w,h,f)),"o1235"==E&&(p=h+o.shift(),m=f+o.shift(),v=p+o.shift(),g=m+o.shift(),M=v+o.shift(),_=g+o.shift(),y=M+o.shift(),b=_+o.shift(),x=y+o.shift(),w=b+o.shift(),h=x+o.shift(),f=w+o.shift(),o.shift(),t.U.P.curveTo(a,p,m,v,g,M,_),t.U.P.curveTo(a,y,b,x,w,h,f)),"o1236"==E&&(p=h+o.shift(),m=f+o.shift(),v=p+o.shift(),_=g=m+o.shift(),b=g,x=(y=(M=v+o.shift())+o.shift())+o.shift(),w=b+o.shift(),h=x+o.shift(),t.U.P.curveTo(a,p,m,v,g,M,_),t.U.P.curveTo(a,y,b,x,w,h,f)),"o1237"==E&&(p=h+o.shift(),m=f+o.shift(),v=p+o.shift(),g=m+o.shift(),M=v+o.shift(),_=g+o.shift(),y=M+o.shift(),b=_+o.shift(),x=y+o.shift(),w=b+o.shift(),Math.abs(x-h)>Math.abs(w-f)?h=x+o.shift():f=w+o.shift(),t.U.P.curveTo(a,p,m,v,g,M,_),t.U.P.curveTo(a,y,b,x,w,h,f));else if("o14"==E){if(o.length>0&&!l&&(u=o.shift()+r.nominalWidthX,l=!0),4==o.length){var I=o.shift(),C=o.shift(),D=o.shift(),L=o.shift(),P=t.CFF.glyphBySE(r,D),N=t.CFF.glyphBySE(r,L);t.U._drawCFF(r.CharStrings[P],n,r,i,a),n.x=I,n.y=C,t.U._drawCFF(r.CharStrings[N],n,r,i,a)}c&&(t.U.P.closePath(a),c=!1)}else if("o19"==E||"o20"==E)o.length%2!==0&&!l&&(u=o.shift()+i.nominalWidthX),s+=o.length>>1,o.length=0,l=!0,d+=s+7>>3;else if("o21"==E)o.length>2&&!l&&(u=o.shift()+i.nominalWidthX,l=!0),f+=o.pop(),h+=o.pop(),c&&t.U.P.closePath(a),t.U.P.moveTo(a,h,f),c=!0;else if("o22"==E)o.length>1&&!l&&(u=o.shift()+i.nominalWidthX,l=!0),h+=o.pop(),c&&t.U.P.closePath(a),t.U.P.moveTo(a,h,f),c=!0;else if("o25"==E){for(;o.length>6;)h+=o.shift(),f+=o.shift(),t.U.P.lineTo(a,h,f);p=h+o.shift(),m=f+o.shift(),v=p+o.shift(),g=m+o.shift(),h=v+o.shift(),f=g+o.shift(),t.U.P.curveTo(a,p,m,v,g,h,f)}else if("o26"==E)for(o.length%2&&(h+=o.shift());o.length>0;)p=h,m=f+o.shift(),h=v=p+o.shift(),f=(g=m+o.shift())+o.shift(),t.U.P.curveTo(a,p,m,v,g,h,f);else if("o27"==E)for(o.length%2&&(f+=o.shift());o.length>0;)m=f,v=(p=h+o.shift())+o.shift(),g=m+o.shift(),h=v+o.shift(),f=g,t.U.P.curveTo(a,p,m,v,g,h,f);else if("o10"==E||"o29"==E){var j="o10"==E?i:r;if(0==o.length)console.log("error: empty stack");else{var F=o.pop(),G=j.Subrs[F+j.Bias];n.x=h,n.y=f,n.nStems=s,n.haveWidth=l,n.width=u,n.open=c,t.U._drawCFF(G,n,r,i,a),h=n.x,f=n.y,s=n.nStems,l=n.haveWidth,u=n.width,c=n.open}}else if("o30"==E||"o31"==E){var U=o.length,z=(k=0,"o31"==E);for(k+=U-(T=-3&U);k<T;)z?(m=f,v=(p=h+o.shift())+o.shift(),f=(g=m+o.shift())+o.shift(),T-k==5?(h=v+o.shift(),k++):h=v,z=!1):(p=h,m=f+o.shift(),v=p+o.shift(),g=m+o.shift(),h=v+o.shift(),T-k==5?(f=g+o.shift(),k++):f=g,z=!0),t.U.P.curveTo(a,p,m,v,g,h,f),k+=4}else{if("o"==(E+"").charAt(0))throw console.log("Unknown operation: "+E,e),E;o.push(E)}}}n.x=h,n.y=f,n.nStems=s,n.haveWidth=l,n.width=u,n.open=c},t}function l(){var e=function(){var e={},t=0,n=-3;function r(){this.table=new Uint16Array(16),this.trans=new Uint16Array(288)}function i(e,t){this.source=e,this.sourceIndex=0,this.tag=0,this.bitcount=0,this.dest=t,this.destLen=0,this.ltree=new r,this.dtree=new r}var a=new r,o=new r,s=new Uint8Array(30),l=new Uint16Array(30),u=new Uint8Array(30),c=new Uint16Array(30),d=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),h=new r,f=new Uint8Array(320);function p(e,t,n,r){var i,a;for(i=0;i<n;++i)e[i]=0;for(i=0;i<30-n;++i)e[i+n]=i/n|0;for(a=r,i=0;i<30;++i)t[i]=a,a+=1<<e[i]}function m(e,t){var n;for(n=0;n<7;++n)e.table[n]=0;for(e.table[7]=24,e.table[8]=152,e.table[9]=112,n=0;n<24;++n)e.trans[n]=256+n;for(n=0;n<144;++n)e.trans[24+n]=n;for(n=0;n<8;++n)e.trans[168+n]=280+n;for(n=0;n<112;++n)e.trans[176+n]=144+n;for(n=0;n<5;++n)t.table[n]=0;for(t.table[5]=32,n=0;n<32;++n)t.trans[n]=n}var v=new Uint16Array(16);function g(e,t,n,r){var i,a;for(i=0;i<16;++i)e.table[i]=0;for(i=0;i<r;++i)e.table[t[n+i]]++;for(e.table[0]=0,a=0,i=0;i<16;++i)v[i]=a,a+=e.table[i];for(i=0;i<r;++i)t[n+i]&&(e.trans[v[t[n+i]]++]=i)}function y(e){e.bitcount--||(e.tag=e.source[e.sourceIndex++],e.bitcount=7);var t=1&e.tag;return e.tag>>>=1,t}function b(e,t,n){if(!t)return n;for(;e.bitcount<24;)e.tag|=e.source[e.sourceIndex++]<<e.bitcount,e.bitcount+=8;var r=e.tag&65535>>>16-t;return e.tag>>>=t,e.bitcount-=t,r+n}function x(e,t){for(;e.bitcount<24;)e.tag|=e.source[e.sourceIndex++]<<e.bitcount,e.bitcount+=8;var n=0,r=0,i=0,a=e.tag;do{r=2*r+(1&a),a>>>=1,++i,n+=t.table[i],r-=t.table[i]}while(r>=0);return e.tag=a,e.bitcount-=i,t.trans[n+r]}function w(e,t,n){var r,i,a,o,s,l;for(r=b(e,5,257),i=b(e,5,1),a=b(e,4,4),o=0;o<19;++o)f[o]=0;for(o=0;o<a;++o){var u=b(e,3,0);f[d[o]]=u}for(g(h,f,0,19),s=0;s<r+i;){var c=x(e,h);switch(c){case 16:var p=f[s-1];for(l=b(e,2,3);l;--l)f[s++]=p;break;case 17:for(l=b(e,3,3);l;--l)f[s++]=0;break;case 18:for(l=b(e,7,11);l;--l)f[s++]=0;break;default:f[s++]=c}}g(t,f,0,r),g(n,f,r,i)}function M(e,n,r){for(;;){var i,a,o,d,h=x(e,n);if(256===h)return t;if(h<256)e.dest[e.destLen++]=h;else for(i=b(e,s[h-=257],l[h]),a=x(e,r),d=o=e.destLen-b(e,u[a],c[a]);d<o+i;++d)e.dest[e.destLen++]=e.dest[d]}}function _(e){for(var r,i;e.bitcount>8;)e.sourceIndex--,e.bitcount-=8;if((r=256*(r=e.source[e.sourceIndex+1])+e.source[e.sourceIndex])!==(65535&~(256*e.source[e.sourceIndex+3]+e.source[e.sourceIndex+2])))return n;for(e.sourceIndex+=4,i=r;i;--i)e.dest[e.destLen++]=e.source[e.sourceIndex++];return e.bitcount=0,t}function S(e,r){var s,l,u=new i(e,r);do{switch(s=y(u),b(u,2,0)){case 0:l=_(u);break;case 1:l=M(u,a,o);break;case 2:w(u,u.ltree,u.dtree),l=M(u,u.ltree,u.dtree);break;default:l=n}if(l!==t)throw new Error("Data error")}while(!s);return u.destLen<u.dest.length?"function"===typeof u.dest.slice?u.dest.slice(0,u.destLen):u.dest.subarray(0,u.destLen):u.dest}return m(a,o),p(s,l,4,3),p(u,c,2,1),s[28]=0,l[28]=258,e.exports=S,e.exports}();function t(e,t){var n=new DataView(e),r=0;function i(){var e=n.getUint16(r);return r+=2,e}function a(){var e=n.getUint32(r);return r+=4,e}function o(e){y.setUint16(b,e),b+=2}function s(e){y.setUint32(b,e),b+=4}for(var l={signature:a(),flavor:a(),length:a(),numTables:i(),reserved:i(),totalSfntSize:a(),majorVersion:i(),minorVersion:i(),metaOffset:a(),metaLength:a(),metaOrigLength:a(),privOffset:a(),privLength:a()},u=0;Math.pow(2,u)<=l.numTables;)u++;u--;for(var c=16*Math.pow(2,u),d=16*l.numTables-c,h=12,f=[],p=0;p<l.numTables;p++)f.push({tag:a(),offset:a(),compLength:a(),origLength:a(),origChecksum:a()}),h+=16;var m,v=new Uint8Array(12+16*f.length+f.reduce((function(e,t){return e+t.origLength+4}),0)),g=v.buffer,y=new DataView(g),b=0;return s(l.flavor),o(l.numTables),o(c),o(u),o(d),f.forEach((function(e){s(e.tag),s(e.origChecksum),s(h),s(e.origLength),e.outOffset=h,(h+=e.origLength)%4!=0&&(h+=4-h%4)})),f.forEach((function(n){var r=e.slice(n.offset,n.offset+n.compLength);if(n.compLength!=n.origLength){var i=new Uint8Array(n.origLength);t(new Uint8Array(r,2),i)}else i=new Uint8Array(r);v.set(i,n.outOffset);var a=0;(h=n.outOffset+n.origLength)%4!=0&&(a=4-h%4),v.set(new Uint8Array(a).buffer,n.outOffset+n.origLength),m=h+a})),g.slice(0,m)}return function(n){return t(n,e)}}function u(e,t){var n={M:2,L:2,Q:4,C:6,Z:0};function r(t){var r=Object.create(null),i={unitsPerEm:t.head.unitsPerEm,ascender:t.hhea.ascender,descender:t.hhea.descender,forEachGlyph:function(a,o,s,l){var u=0,c=1/i.unitsPerEm*o,d=e.U.stringToGlyphs(t,a),h=0;return d.forEach((function(i){if(-1!==i){var d=r[i];if(!d){var f,p,m,v,g=e.U.glyphToPath(t,i),y=g.cmds,b=g.crds;if(b.length){f=p=1/0,m=v=-1/0;for(var x=0,w=b.length;x<w;x+=2){var M=b[x],_=b[x+1];M<f&&(f=M),_<p&&(p=_),M>m&&(m=M),_>v&&(v=_)}}else f=m=p=v=0;d=r[i]={index:i,advanceWidth:t.hmtx.aWidth[i],xMin:f,yMin:p,xMax:m,yMax:v,pathCommandCount:y.length,forEachPathCommand:function(e){for(var t=0,r=[],i=0,a=y.length;i<a;i++){var o=n[y[i]];r.length=1+o,r[0]=y[i];for(var s=1;s<=o;s++)r[s]=b[t++];e.apply(null,r)}}}}l.call(null,d,u,h),d.advanceWidth&&(u+=d.advanceWidth*c),s&&(u+=s*o)}h+=a.codePointAt(h)>65535?2:1})),u}};return i}return function(n){var i=new Uint8Array(n,0,4),a=e._bin.readASCII(i,0,4);if("wOFF"===a)n=t(n);else if("wOF2"===a)throw new Error("woff2 fonts not supported");return r(e.parse(n)[0])}}var c=n.defineWorkerModule({name:"Typr Font Parser",dependencies:[s,l,u],init:function(e,t,n){return n(e(),t())}}),d={defaultFontURL:"https://fonts.gstatic.com/s/roboto/v18/KFOmCnqEu92Fr1Mu4mxM.woff",sdfGlyphSize:64,textureWidth:2048},h=new t.Color;function f(e){b(d,e)}var p,m=1/8,v=Object.create(null);function g(e,n){if((e=b({},e)).font=x(e.font||d.defaultFontURL),e.text=""+e.text,e.sdfGlyphSize=e.sdfGlyphSize||d.sdfGlyphSize,null!=e.colorRanges){var r={};for(var i in e.colorRanges)if(e.colorRanges.hasOwnProperty(i)){var a=e.colorRanges[i];"number"!==typeof a&&(a=h.set(a).getHex()),r[i]=a}e.colorRanges=r}Object.freeze(e);var o=d.textureWidth,s=e.sdfGlyphSize,l=e.font+"@"+s,u=v[l];u||((u=v[l]={sdfTexture:new t.DataTexture(new Uint8Array(s*o),o,s,t.LuminanceFormat,void 0,void 0,void 0,void 0,t.LinearFilter,t.LinearFilter)}).sdfTexture.font=e.font),M(e).then((function(t){t.newGlyphSDFs&&(t.newGlyphSDFs.forEach((function(e){for(var t=e.textureData,n=e.atlasIndex,r=u.sdfTexture.image;r.data.length<(n+1)*s*s;){var i=new Uint8Array(2*r.data.length);i.set(r.data),r.data=i,r.height*=2}for(var a=r.width/s,o=0;o<s;o++)for(var l=o*s,c=r.width*s*Math.floor(n/a)+n%a*s+o*r.width,d=0;d<s;d++)r.data[c+d]=t[l+d]})),u.sdfTexture.needsUpdate=!0),n(Object.freeze({parameters:e,sdfTexture:u.sdfTexture,sdfGlyphSize:s,sdfMinDistancePercent:m,glyphBounds:t.glyphBounds,glyphAtlasIndices:t.glyphAtlasIndices,glyphColors:t.glyphColors,caretPositions:t.caretPositions,caretHeight:t.caretHeight,chunkedBounds:t.chunkedBounds,ascender:t.ascender,descender:t.descender,lineHeight:t.lineHeight,topBaseline:t.topBaseline,totalBounds:t.totalBounds,totalBlockSize:t.totalBlockSize,timings:t.timings}))}))}function y(e,t){var n=e.font,r=e.characters;g({font:n,sdfGlyphSize:e.sdfGlyphSize,text:Array.isArray(r)?r.join("\n"):""+r},t)}function b(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e}function x(e){return p||(p="undefined"===typeof document?{}:document.createElement("a")),p.href=e,p.href}var w=n.defineWorkerModule({name:"FontProcessor",dependencies:[d,m,c,o,i,a],init:function(e,t,n,r,i,a){return a(n,i(r,{sdfDistancePercent:t}),{defaultFontUrl:e.defaultFontURL})}}),M=n.defineWorkerModule({name:"TextBuilder",dependencies:[w,n.ThenableWorkerModule],init:function(e,t){return function(n){var r=new t;return e.process(n,r.resolve),r}},getTransferables:function(e){var t=[e.glyphBounds.buffer,e.glyphAtlasIndices.buffer];return e.caretPositions&&t.push(e.caretPositions.buffer),e.newGlyphSDFs&&e.newGlyphSDFs.forEach((function(e){t.push(e.textureData.buffer)})),t}}),_={};function S(e){var n=_[e];return n||(n=_[e]=new t.PlaneBufferGeometry(1,1,e,e).translate(.5,.5,0)),n}var E=new t.Vector3,T="aTroikaGlyphBounds",A="aTroikaGlyphIndex",R="aTroikaGlyphColor",O=function(e){function n(){e.call(this),this.detail=1,this.boundingSphere=new t.Sphere,this.boundingBox=new t.Box3}e&&(n.__proto__=e),n.prototype=Object.create(e&&e.prototype),n.prototype.constructor=n;var r={detail:{configurable:!0}};return n.prototype.computeBoundingSphere=function(){},n.prototype.computeBoundingBox=function(){},r.detail.set=function(e){var t=this;if(e!==this._detail){this._detail=e,("number"!==typeof e||e<1)&&(e=1);var n=S(e);["position","normal","uv"].forEach((function(e){t.attributes[e]=n.attributes[e].clone()})),this.setIndex(n.getIndex().clone())}},r.detail.get=function(){return this._detail},n.prototype.updateGlyphs=function(e,t,n,r,i){k(this,T,e,4),k(this,A,t,1),k(this,R,i,3),this._chunkedBounds=r,I(this,t.length);var a=this.boundingSphere;a.center.set((n[0]+n[2])/2,(n[1]+n[3])/2,0),a.radius=a.center.distanceTo(E.set(n[0],n[1],0));var o=this.boundingBox;o.min.set(n[0],n[1],0),o.max.set(n[2],n[3],0)},n.prototype.applyClipRect=function(e){var t=this.getAttribute(A).count,n=this._chunkedBounds;if(n)for(var r=n.length;r--;){t=n[r].end;var i=n[r].rect;if(i[1]<e.w&&i[3]>e.y&&i[0]<e.z&&i[2]>e.x)break}I(this,t)},Object.defineProperties(n.prototype,r),n}(t.InstancedBufferGeometry);function k(e,n,r,i){var a=e.getAttribute(n);r?a&&a.array.length===r.length?(a.array.set(r),a.needsUpdate=!0):(e.setAttribute(n,new t.InstancedBufferAttribute(r,i)),delete e._maxInstanceCount,e.dispose()):a&&e.deleteAttribute(n)}function I(e,t){e[e.hasOwnProperty("instanceCount")?"instanceCount":"maxInstancedCount"]=t}O.prototype.setAttribute||(O.prototype.setAttribute=function(e,t){return this.attributes[e]=t,this});var C="\nuniform vec2 uTroikaSDFTextureSize;\nuniform float uTroikaSDFGlyphSize;\nuniform vec4 uTroikaTotalBounds;\nuniform vec4 uTroikaClipRect;\nuniform mat3 uTroikaOrient;\nuniform bool uTroikaUseGlyphColors;\nattribute vec4 aTroikaGlyphBounds;\nattribute float aTroikaGlyphIndex;\nattribute vec3 aTroikaGlyphColor;\nvarying vec2 vTroikaSDFTextureUV;\nvarying vec2 vTroikaGlyphUV;\nvarying vec3 vTroikaGlyphColor;\n",D="\nvec4 bounds = aTroikaGlyphBounds;\nvec4 clippedBounds = vec4(\n  clamp(bounds.xy, uTroikaClipRect.xy, uTroikaClipRect.zw),\n  clamp(bounds.zw, uTroikaClipRect.xy, uTroikaClipRect.zw)\n);\nvec2 clippedXY = (mix(clippedBounds.xy, clippedBounds.zw, position.xy) - bounds.xy) / (bounds.zw - bounds.xy);\nvTroikaGlyphUV = clippedXY.xy;\n\nfloat cols = uTroikaSDFTextureSize.x / uTroikaSDFGlyphSize;\nvTroikaSDFTextureUV = vec2(\n  mod(aTroikaGlyphIndex, cols) + clippedXY.x,\n  floor(aTroikaGlyphIndex / cols) + clippedXY.y\n) * uTroikaSDFGlyphSize / uTroikaSDFTextureSize;\n\nposition.xy = mix(bounds.xy, bounds.zw, clippedXY);\n\nuv = vec2(\n  (position.x - uTroikaTotalBounds.x) / (uTroikaTotalBounds.z - uTroikaTotalBounds.x),\n  (position.y - uTroikaTotalBounds.y) / (uTroikaTotalBounds.w - uTroikaTotalBounds.y)\n);\n\nposition = uTroikaOrient * position;\nnormal = uTroikaOrient * normal;\n",L="\nuniform sampler2D uTroikaSDFTexture;\nuniform float uTroikaSDFMinDistancePct;\nuniform bool uTroikaSDFDebug;\nvarying vec2 vTroikaSDFTextureUV;\nvarying vec2 vTroikaGlyphUV;\n\nfloat troikaGetTextAlpha() {\n  float troikaSDFValue = texture2D(uTroikaSDFTexture, vTroikaSDFTextureUV).r;\n  \n  #if defined(IS_DEPTH_MATERIAL) || defined(IS_DISTANCE_MATERIAL)\n  float alpha = step(0.5, troikaSDFValue);\n  #else\n  \n  #if defined(GL_OES_standard_derivatives) || __VERSION__ >= 300\n  float aaDist = min(\n    0.5,\n    0.5 * min(\n      fwidth(vTroikaGlyphUV.x),\n      fwidth(vTroikaGlyphUV.y)\n    )\n  ) / uTroikaSDFMinDistancePct;\n  #else\n  float aaDist = 0.01;\n  #endif\n  \n  float alpha = uTroikaSDFDebug ? troikaSDFValue : smoothstep(\n    0.5 - aaDist,\n    0.5 + aaDist,\n    troikaSDFValue\n  );\n  #endif\n  \n  return alpha;\n}\n",P="\nfloat troikaAlphaMult = troikaGetTextAlpha();\nif (troikaAlphaMult == 0.0) {\n  discard;\n} else {\n  gl_FragColor.a *= troikaAlphaMult;\n}\n";function N(e){var n=r.createDerivedMaterial(e,{extensions:{derivatives:!0},uniforms:{uTroikaSDFTexture:{value:null},uTroikaSDFTextureSize:{value:new t.Vector2},uTroikaSDFGlyphSize:{value:0},uTroikaSDFMinDistancePct:{value:0},uTroikaTotalBounds:{value:new t.Vector4(0,0,0,0)},uTroikaClipRect:{value:new t.Vector4(0,0,0,0)},uTroikaOrient:{value:new t.Matrix3},uTroikaUseGlyphColors:{value:!0},uTroikaSDFDebug:{value:!1}},vertexDefs:C,vertexTransform:D,fragmentDefs:L,fragmentColorTransform:P,customRewriter:function(e){var t=e.vertexShader,n=e.fragmentShader,i=/\buniform\s+vec3\s+diffuse\b/;return i.test(n)&&(n=n.replace(i,"varying vec3 vTroikaGlyphColor").replace(/\bdiffuse\b/g,"vTroikaGlyphColor"),i.test(t)||(t=t.replace(r.voidMainRegExp,"uniform vec3 diffuse;\n$&\nvTroikaGlyphColor = uTroikaUseGlyphColors ? aTroikaGlyphColor / 255.0 : diffuse;\n"))),{vertexShader:t,fragmentShader:n}}});return n.transparent=!0,Object.defineProperties(n,{isTroikaTextMaterial:{value:!0},shadowSide:{get:function(){return this.side},set:function(){}}}),n}var j=new t.MeshBasicMaterial({color:16777215,side:t.DoubleSide,transparent:!0}),F=new t.Matrix4,G=new t.Vector3,U=new t.Vector3,z=[],B=new t.Vector3,V="+x+y",H=new t.Mesh(new t.PlaneBufferGeometry(1,1).translate(.5,.5,0),j),W={type:"syncstart"},X={type:"synccomplete"},q=["font","fontSize","letterSpacing","lineHeight","maxWidth","overflowWrap","text","textAlign","textIndent","whiteSpace","anchorX","anchorY","colorRanges","sdfGlyphSize"],Y=q.concat("material","color","depthOffset","clipRect","orientation","glyphGeometryDetail"),Q=function(e){function t(){var t=new O;e.call(this,t,null),this.text="",this.anchorX=0,this.anchorY=0,this.font=null,this.fontSize=.1,this.letterSpacing=0,this.lineHeight="normal",this.maxWidth=1/0,this.overflowWrap="normal",this.textAlign="left",this.textIndent=0,this.whiteSpace="normal",this.material=null,this.color=null,this.colorRanges=null,this.depthOffset=0,this.clipRect=null,this.orientation=V,this.glyphGeometryDetail=1,this.sdfGlyphSize=null,this.debugSDF=!1}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={textRenderInfo:{configurable:!0},material:{configurable:!0},glyphGeometryDetail:{configurable:!0},customDepthMaterial:{configurable:!0},customDistanceMaterial:{configurable:!0}};return t.prototype.sync=function(e){var t=this;this._needsSync&&(this._needsSync=!1,this._isSyncing?(this._queuedSyncs||(this._queuedSyncs=[])).push(e):(this._isSyncing=!0,this.dispatchEvent(W),g({text:this.text,font:this.font,fontSize:this.fontSize||.1,letterSpacing:this.letterSpacing||0,lineHeight:this.lineHeight||"normal",maxWidth:this.maxWidth,textAlign:this.textAlign,textIndent:this.textIndent,whiteSpace:this.whiteSpace,overflowWrap:this.overflowWrap,anchorX:this.anchorX,anchorY:this.anchorY,colorRanges:this.colorRanges,includeCaretPositions:!0,sdfGlyphSize:this.sdfGlyphSize},(function(n){t._isSyncing=!1,t._textRenderInfo=n,t.geometry.updateGlyphs(n.glyphBounds,n.glyphAtlasIndices,n.totalBounds,n.chunkedBounds,n.glyphColors);var r=t._queuedSyncs;r&&(t._queuedSyncs=null,t._needsSync=!0,t.sync((function(){r.forEach((function(e){return e&&e()}))}))),t.dispatchEvent(X),e&&e()}))))},t.prototype.onBeforeRender=function(){this.sync(),this._prepareForRender()},t.prototype.dispose=function(){this.geometry.dispose()},n.textRenderInfo.get=function(){return this._textRenderInfo||null},n.material.get=function(){var e=this._derivedMaterial,t=this._baseMaterial||j;return e&&e.baseMaterial===t||(e=this._derivedMaterial=N(t),t.addEventListener("dispose",(function n(){t.removeEventListener("dispose",n),e.dispose()}))),e},n.material.set=function(e){e&&e.isTroikaTextMaterial?(this._derivedMaterial=e,this._baseMaterial=e.baseMaterial):this._baseMaterial=e},n.glyphGeometryDetail.get=function(){return this.geometry.detail},n.glyphGeometryDetail.set=function(e){this.geometry.detail=e},n.customDepthMaterial.get=function(){return this.material.getDepthMaterial()},n.customDistanceMaterial.get=function(){return this.material.getDistanceMaterial()},t.prototype._prepareForRender=function(){var e=this._derivedMaterial,t=e.uniforms,n=this.textRenderInfo;if(n){var r=n.sdfTexture,i=n.totalBounds;t.uTroikaSDFTexture.value=r,t.uTroikaSDFTextureSize.value.set(r.image.width,r.image.height),t.uTroikaSDFGlyphSize.value=n.sdfGlyphSize,t.uTroikaSDFMinDistancePct.value=n.sdfMinDistancePercent,t.uTroikaTotalBounds.value.fromArray(i),t.uTroikaUseGlyphColors.value=!!n.glyphColors;var a=this.clipRect;a&&Array.isArray(a)&&4===a.length?t.uTroikaClipRect.value.set(Math.max(i[0],a[0]),Math.max(i[1],a[1]),Math.min(i[2],a[2]),Math.min(i[3],a[3])):t.uTroikaClipRect.value.fromArray(i),this.geometry.applyClipRect(t.uTroikaClipRect.value)}t.uTroikaSDFDebug.value=!!this.debugSDF,e.polygonOffset=!!this.depthOffset,e.polygonOffsetFactor=e.polygonOffsetUnits=this.depthOffset||0;var o=this.color;null!=o&&e.color&&e.color.isColor&&o!==e._troikaColor&&e.color.set(e._troikaColor=o);var s=this.orientation||V;if(s!==e._orientation){var l=t.uTroikaOrient.value,u=(s=s.replace(/[^-+xyz]/g,""))!==V&&s.match(/^([-+])([xyz])([-+])([xyz])$/);if(u){var c=u[1],d=u[2],h=u[3],f=u[4];G.set(0,0,0)[d]="-"===c?1:-1,U.set(0,0,0)[f]="-"===h?-1:1,F.lookAt(B,G.cross(U),U),l.setFromMatrix4(F)}else l.identity();e._orientation=s}},t.prototype.raycast=function(e,t){var n=this.textRenderInfo;if(n){var r=n.totalBounds;H.matrixWorld.multiplyMatrices(this.matrixWorld,F.set(r[2]-r[0],0,0,r[0],0,r[3]-r[1],0,r[1],0,0,1,0,0,0,0,1)),z.length=0,H.raycast(e,z);for(var i=0;i<z.length;i++)z[i].object=this,t.push(z[i])}},t.prototype.copy=function(t){var n=this;return e.prototype.copy.call(this,t),Y.forEach((function(e){n[e]=t[e]})),this},t.prototype.clone=function(){return(new this.constructor).copy(this)},Object.defineProperties(t.prototype,n),t}(t.Mesh);q.forEach((function(e){var t="_private_"+e;Object.defineProperty(Q.prototype,e,{get:function(){return this[t]},set:function(e){e!==this[t]&&(this[t]=e,this._needsSync=!0)}})}));var Z=!1;function $(e,t,n){var r=null,i=e.caretHeight,a=te(e),o=1/0;return a.forEach((function(e,t){Math.abs(n-(t+i/2))<Math.abs(n-(o+i/2))&&(o=t)})),a.get(o).forEach((function(e){(!r||Math.abs(t-e.x)<Math.abs(t-r.x))&&(r=e)})),r}Object.defineProperty(Q.prototype,"anchor",{get:function(){return this._deprecated_anchor},set:function(e){this._deprecated_anchor=e,Z||(console.warn("TextMesh: `anchor` has been deprecated; use `anchorX` and `anchorY` instead."),Z=!0),Array.isArray(e)?(this.anchorX=100*(+e[0]||0)+"%",this.anchorY=100*(+e[1]||0)+"%"):this.anchorX=this.anchorY=0}});var K=new WeakMap;function J(e,t,n){var r;if(e){var i=K.get(e);if(i&&i.start===t&&i.end===n)return i.rects;var a=e.caretPositions,o=e.caretHeight,s=e.totalBounds;if(n<t){var l=t;t=n,n=l}t=Math.max(t,0),n=Math.min(n,a.length+1);for(var u=new Map,c=t;c<n;c++){var d=a[3*c],h=a[3*c+1],f=a[3*c+2],p=u.get(f);p?(p.left=Math.max(Math.min(p.left,d),s[0]),p.right=Math.min(Math.max(p.right,h),s[2])):(p={left:d,right:h,bottom:f,top:f+o},u.set(f,p))}r=[],u.forEach((function(e){r.push(e)})),K.set(e,{start:t,end:n,rects:r})}return r}var ee=new WeakMap;function te(e){var t=ee.get(e);if(!t){var n=e.caretPositions,r=e.caretHeight;t=new Map;for(var i=0;i<n.length;i+=3){var a=n[i+2],o=t.get(a);o||t.set(a,o=[]),o.push({x:n[i],y:a,height:r,charIndex:i/3}),i+3>=n.length&&o.push({x:n[i+1],y:a,height:r,charIndex:i/3+1})}}return ee.set(e,t),t}e.GlyphsGeometry=O,e.Text=Q,e.configureTextBuilder=f,e.createTextDerivedMaterial=N,e.fontProcessorWorkerModule=w,e.getCaretAtPoint=$,e.getSelectionRects=J,e.preloadFont=y,Object.defineProperty(e,"__esModule",{value:!0})}(t,n(0),n(117),n(118))},function(e,t,n){(function(t){var n=9007199254740991,r="[object Arguments]",i="[object Function]",a="[object GeneratorFunction]",o="[object Symbol]",s="object"==typeof t&&t&&t.Object===Object&&t,l="object"==typeof self&&self&&self.Object===Object&&self,u=s||l||Function("return this")();function c(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}function d(e,t){for(var n=-1,r=t.length,i=e.length;++n<r;)e[i+n]=t[n];return e}var h=Object.prototype,f=h.hasOwnProperty,p=h.toString,m=u.Symbol,v=h.propertyIsEnumerable,g=m?m.isConcatSpreadable:void 0,y=Math.max;function b(e,t,n,r,i){var a=-1,o=e.length;for(n||(n=x),i||(i=[]);++a<o;){var s=e[a];t>0&&n(s)?t>1?b(s,t-1,n,r,i):d(i,s):r||(i[i.length]=s)}return i}function x(e){return M(e)||function(e){return function(e){return _(e)&&function(e){return null!=e&&function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=n}(e.length)&&!function(e){var t=function(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}(e)?p.call(e):"";return t==i||t==a}(e)}(e)}(e)&&f.call(e,"callee")&&(!v.call(e,"callee")||p.call(e)==r)}(e)||!!(g&&e&&e[g])}function w(e){if("string"==typeof e||function(e){return"symbol"==typeof e||_(e)&&p.call(e)==o}(e))return e;var t=e+"";return"0"==t&&1/e==-Infinity?"-0":t}var M=Array.isArray;function _(e){return!!e&&"object"==typeof e}var S,E,T=(S=function(e,t){return null==e?{}:function(e,t){return function(e,t,n){for(var r=-1,i=t.length,a={};++r<i;){var o=t[r],s=e[o];n(s,o)&&(a[o]=s)}return a}(e=Object(e),t,(function(t,n){return n in e}))}(e,function(e,t){for(var n=-1,r=e?e.length:0,i=Array(r);++n<r;)i[n]=t(e[n],n,e);return i}(b(t,1),w))},E=y(void 0===E?S.length-1:E,0),function(){for(var e=arguments,t=-1,n=y(e.length-E,0),r=Array(n);++t<n;)r[t]=e[E+t];t=-1;for(var i=Array(E+1);++t<E;)i[t]=e[t];return i[E]=r,c(S,this,i)});e.exports=T}).call(this,n(82))},function(e,t,n){(function(t){var n="__lodash_hash_undefined__",r=9007199254740991,i="[object Symbol]",a=/^\[object .+?Constructor\]$/,o=/^(?:0|[1-9]\d*)$/,s="object"==typeof t&&t&&t.Object===Object&&t,l="object"==typeof self&&self&&self.Object===Object&&self,u=s||l||Function("return this")();function c(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}function d(e,t){return!!(e?e.length:0)&&function(e,t,n){if(t!==t)return function(e,t,n,r){var i=e.length,a=n+(r?1:-1);for(;r?a--:++a<i;)if(t(e[a],a,e))return a;return-1}(e,m,n);var r=n-1,i=e.length;for(;++r<i;)if(e[r]===t)return r;return-1}(e,t,0)>-1}function h(e,t,n){for(var r=-1,i=e?e.length:0;++r<i;)if(n(t,e[r]))return!0;return!1}function f(e,t){for(var n=-1,r=e?e.length:0,i=Array(r);++n<r;)i[n]=t(e[n],n,e);return i}function p(e,t){for(var n=-1,r=t.length,i=e.length;++n<r;)e[i+n]=t[n];return e}function m(e){return e!==e}function v(e,t){return e.has(t)}function g(e,t){return function(n){return e(t(n))}}var y=Array.prototype,b=Function.prototype,x=Object.prototype,w=u["__core-js_shared__"],M=function(){var e=/[^.]+$/.exec(w&&w.keys&&w.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}(),_=b.toString,S=x.hasOwnProperty,E=x.toString,T=RegExp("^"+_.call(S).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),A=u.Symbol,R=g(Object.getPrototypeOf,Object),O=x.propertyIsEnumerable,k=y.splice,I=A?A.isConcatSpreadable:void 0,C=Object.getOwnPropertySymbols,D=Math.max,L=q(u,"Map"),P=q(Object,"create");function N(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function j(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function F(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function G(e){var t=-1,n=e?e.length:0;for(this.__data__=new F;++t<n;)this.add(e[t])}function U(e,t){var n=ee(e)||J(e)?function(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}(e.length,String):[],r=n.length,i=!!r;for(var a in e)!t&&!S.call(e,a)||i&&("length"==a||$(a,r))||n.push(a);return n}function z(e,t){for(var n,r,i=e.length;i--;)if((n=e[i][0])===(r=t)||n!==n&&r!==r)return i;return-1}function B(e,t,n,r,i){var a=-1,o=e.length;for(n||(n=Z),i||(i=[]);++a<o;){var s=e[a];t>0&&n(s)?t>1?B(s,t-1,n,r,i):p(i,s):r||(i[i.length]=s)}return i}function V(e){return!(!re(e)||(t=e,M&&M in t))&&(ne(e)||function(e){var t=!1;if(null!=e&&"function"!=typeof e.toString)try{t=!!(e+"")}catch(n){}return t}(e)?T:a).test(function(e){if(null!=e){try{return _.call(e)}catch(t){}try{return e+""}catch(t){}}return""}(e));var t}function H(e){if(!re(e))return function(e){var t=[];if(null!=e)for(var n in Object(e))t.push(n);return t}(e);var t=function(e){var t=e&&e.constructor,n="function"==typeof t&&t.prototype||x;return e===n}(e),n=[];for(var r in e)("constructor"!=r||!t&&S.call(e,r))&&n.push(r);return n}function W(e){return function(e,t,n){var r=t(e);return ee(e)?r:p(r,n(e))}(e,ae,Q)}function X(e,t){var n=e.__data__;return function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}(t)?n["string"==typeof t?"string":"hash"]:n.map}function q(e,t){var n=function(e,t){return null==e?void 0:e[t]}(e,t);return V(n)?n:void 0}N.prototype.clear=function(){this.__data__=P?P(null):{}},N.prototype.delete=function(e){return this.has(e)&&delete this.__data__[e]},N.prototype.get=function(e){var t=this.__data__;if(P){var r=t[e];return r===n?void 0:r}return S.call(t,e)?t[e]:void 0},N.prototype.has=function(e){var t=this.__data__;return P?void 0!==t[e]:S.call(t,e)},N.prototype.set=function(e,t){return this.__data__[e]=P&&void 0===t?n:t,this},j.prototype.clear=function(){this.__data__=[]},j.prototype.delete=function(e){var t=this.__data__,n=z(t,e);return!(n<0)&&(n==t.length-1?t.pop():k.call(t,n,1),!0)},j.prototype.get=function(e){var t=this.__data__,n=z(t,e);return n<0?void 0:t[n][1]},j.prototype.has=function(e){return z(this.__data__,e)>-1},j.prototype.set=function(e,t){var n=this.__data__,r=z(n,e);return r<0?n.push([e,t]):n[r][1]=t,this},F.prototype.clear=function(){this.__data__={hash:new N,map:new(L||j),string:new N}},F.prototype.delete=function(e){return X(this,e).delete(e)},F.prototype.get=function(e){return X(this,e).get(e)},F.prototype.has=function(e){return X(this,e).has(e)},F.prototype.set=function(e,t){return X(this,e).set(e,t),this},G.prototype.add=G.prototype.push=function(e){return this.__data__.set(e,n),this},G.prototype.has=function(e){return this.__data__.has(e)};var Y=C?g(C,Object):ue,Q=C?function(e){for(var t=[];e;)p(t,Y(e)),e=R(e);return t}:ue;function Z(e){return ee(e)||J(e)||!!(I&&e&&e[I])}function $(e,t){return!!(t=null==t?r:t)&&("number"==typeof e||o.test(e))&&e>-1&&e%1==0&&e<t}function K(e){if("string"==typeof e||function(e){return"symbol"==typeof e||ie(e)&&E.call(e)==i}(e))return e;var t=e+"";return"0"==t&&1/e==-Infinity?"-0":t}function J(e){return function(e){return ie(e)&&te(e)}(e)&&S.call(e,"callee")&&(!O.call(e,"callee")||"[object Arguments]"==E.call(e))}var ee=Array.isArray;function te(e){return null!=e&&function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=r}(e.length)&&!ne(e)}function ne(e){var t=re(e)?E.call(e):"";return"[object Function]"==t||"[object GeneratorFunction]"==t}function re(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function ie(e){return!!e&&"object"==typeof e}function ae(e){return te(e)?U(e,!0):H(e)}var oe,se,le=(oe=function(e,t){return null==e?{}:(t=f(B(t,1),K),function(e,t){return function(e,t,n){for(var r=-1,i=t.length,a={};++r<i;){var o=t[r],s=e[o];n(s,o)&&(a[o]=s)}return a}(e=Object(e),t,(function(t,n){return n in e}))}(e,function(e,t,n,r){var i,a=-1,o=d,s=!0,l=e.length,u=[],c=t.length;if(!l)return u;n&&(t=f(t,(i=n,function(e){return i(e)}))),r?(o=h,s=!1):t.length>=200&&(o=v,s=!1,t=new G(t));e:for(;++a<l;){var p=e[a],m=n?n(p):p;if(p=r||0!==p?p:0,s&&m===m){for(var g=c;g--;)if(t[g]===m)continue e;u.push(p)}else o(t,m,r)||u.push(p)}return u}(W(e),t)))},se=D(void 0===se?oe.length-1:se,0),function(){for(var e=arguments,t=-1,n=D(e.length-se,0),r=Array(n);++t<n;)r[t]=e[se+t];t=-1;for(var i=Array(se+1);++t<se;)i[t]=e[t];return i[se]=r,c(oe,this,i)});function ue(){return[]}e.exports=le}).call(this,n(82))},function(e,t,n){var r=function e(){function t(e){return i.appendChild(e.dom),e}function n(e){for(var t=0;t<i.children.length;t++)i.children[t].style.display=t===e?"block":"none";r=e}var r=0,i=document.createElement("div");i.style.cssText="position:fixed;top:0;left:0;cursor:pointer;opacity:0.9;z-index:10000",i.addEventListener("click",(function(e){e.preventDefault(),n(++r%i.children.length)}),!1);var a=(performance||Date).now(),o=a,s=0,l=t(new e.Panel("FPS","#0ff","#002")),u=t(new e.Panel("MS","#0f0","#020"));if(self.performance&&self.performance.memory)var c=t(new e.Panel("MB","#f08","#201"));return n(0),{REVISION:16,dom:i,addPanel:t,showPanel:n,begin:function(){a=(performance||Date).now()},end:function(){s++;var e=(performance||Date).now();if(u.update(e-a,200),e>o+1e3&&(l.update(1e3*s/(e-o),100),o=e,s=0,c)){var t=performance.memory;c.update(t.usedJSHeapSize/1048576,t.jsHeapSizeLimit/1048576)}return e},update:function(){a=this.end()},domElement:i,setMode:n}};r.Panel=function(e,t,n){var r=1/0,i=0,a=Math.round,o=a(window.devicePixelRatio||1),s=80*o,l=48*o,u=3*o,c=2*o,d=3*o,h=15*o,f=74*o,p=30*o,m=document.createElement("canvas");m.width=s,m.height=l,m.style.cssText="width:80px;height:48px";var v=m.getContext("2d");return v.font="bold "+9*o+"px Helvetica,Arial,sans-serif",v.textBaseline="top",v.fillStyle=n,v.fillRect(0,0,s,l),v.fillStyle=t,v.fillText(e,u,c),v.fillRect(d,h,f,p),v.fillStyle=n,v.globalAlpha=.9,v.fillRect(d,h,f,p),{dom:m,update:function(l,g){r=Math.min(r,l),i=Math.max(i,l),v.fillStyle=n,v.globalAlpha=1,v.fillRect(0,0,s,h),v.fillStyle=t,v.fillText(a(l)+" "+e+" ("+a(r)+"-"+a(i)+")",u,c),v.drawImage(m,d+o,h,f-o,p,d,h,f-o,p),v.fillRect(d+f-o,h,o,p),v.fillStyle=n,v.globalAlpha=.9,v.fillRect(d+f-o,h,o,a((1-l/g)*p))}}},e.exports=r},function(e,t,n){var r=n(119);!function(e){"use strict";var t=["992 - Silicon Motion SM502","991 - ATI Mobility 128 M3","990 - VIA S3 Graphics ProSavage8","989 - SIS Mirage M661FX ","988 - SIS Mirage 2 M760","987 - VIA Castle Rock","986 - VIA S3G UniChrome Pro","985 - VIA S3G UniChrome Pro II","984 - ATI Radeon IGP 320M","983 - ATI Radeon IGP 340M","982 - ATI Mobility Radeon 7000 IGP","981 - Intel Extreme Graphics 2","980 - VIA Chrome9 HC","979 - ATI Mobility Radeon M6","978 - ATI Mobility Radeon M7","977 - ATI Mobility Radeon 9000 IGP","976 - ATI Mobility Radeon 9100 IGP","975 - NVIDIA GeForce 2 Go (200 / 100)","974 - NVIDIA GeForce 3 Go","965 - Intel Graphics Media Accelerator (GMA) 500","963 - Intel Graphics Media Accelerator (GMA) 600","952 - SIS Mirage 3 671MX","951 - SIS Mirage 3+ 672MX","950 - ATI Radeon Xpress 1100","949 - ATI Radeon Xpress 200M","948 - Intel Graphics Media Accelerator (GMA) 900","947 - ATI Mobility FireGL 7800","946 - ATI Mobility Radeon 7500","934 - Intel Graphics Media Accelerator (GMA) 950","933 - Intel Graphics Media Accelerator (GMA) 3150","931 - NVIDIA GeForce 4 420 Go","930 - NVIDIA GeForce 4 440 Go","929 - NVIDIA GeForce 4 460 Go","928 - NVIDIA GeForce 4 488 Go","927 - ATI Mobility Radeon 9000","926 - NVIDIA GeForce FX Go 5200","925 - ATI Mobility FireGL 9000","924 - ATI Mobility Radeon 9200","923 - Intel Graphics Media Accelerator (GMA) 3600","921 - NVIDIA GeForce 7000M","920 - NVIDIA GeForce Go 6100","919 - NVIDIA GeForce Go 6150","918 - ATI Radeon Xpress 1150","917 - NVIDIA GeForce 7150M","916 - NVIDIA GeForce 7190M","915 - Intel Graphics Media Accelerator (GMA) 3650","904 - Intel Graphics Media Accelerator (GMA) X3100","903 - ATI Radeon Xpress X1200","902 - ATI Radeon Xpress 1250","901 - ATI Radeon Xpress X1250","900 - ATI Radeon Xpress X1270","899 - NVIDIA GeForce FX Go 5600 / 5650","898 - NVIDIA Quadro FX Go 1000","897 - NVIDIA GeForce FX Go 5700","896 - NVIDIA GeForce Go 6200","895 - NVIDIA GeForce Go 6250","894 - ATI Mobility Radeon X300","893 - NVIDIA GeForce Go 6400","892 - NVIDIA GeForce Go 7200","891 - ATI Mobility Radeon 9550","890 - ATI Mobility FireGL T2","889 - ATI Mobility Radeon 9600","888 - NVIDIA GeForce4 4200 Go","887 - ATI Mobility Radeon X1300","886 - ATI Mobility FireGL T2e","885 - ATI Mobility Radeon 9700","884 - ATI Mobility Radeon HD 2300","883 - ATI Mobility Radeon X2300","882 - ATI Mobility FireGL V3100","881 - ATI Mobility FireGL V3200","880 - ATI Mobility Radeon X600","879 - NVIDIA Quadro NVS 110M","874 - NVIDIA GeForce Go 7300","873 - NVIDIA Quadro NVS 120M","872 - NVIDIA Quadro FX 350M","871 - NVIDIA GeForce Go 7400","869 - Intel Graphics Media Accelerator (GMA) 4500M","868 - Intel Graphics Media Accelerator (GMA) 4500MHD","867 - Intel Graphics Media Accelerator (GMA) 4700MHD","866 - NVIDIA GeForce 8200M G","865 - NVIDIA Quadro NVS 130M","862 - NVIDIA GeForce 8400M G","861 - ATI Radeon HD 3100","860 - ATI Mobility Radeon HD 3400","851 - ATI Radeon HD 4100","850 - ATI Radeon HD 4225","849 - ATI Radeon HD 3200","848 - ATI Mobility Radeon HD 2400","847 - NVIDIA Quadro NVS 135M","846 - NVIDIA GeForce 8400M GS","845 - NVIDIA GeForce 9100M G","844 - ATI Mobility Radeon X1400","843 - ATI Mobility Radeon X1350","842 - NVIDIA Quadro FX 360M","841 - NVIDIA Quadro NVS 150M","840 - AMD Radeon HD 6250","839 - Intel Graphics Media Accelerator (GMA) HD Graphics","838 - ATI Radeon HD 4200","837 - ATI Radeon HD 4250","836 - ATI Radeon HD 4270","835 - ATI Mobility Radeon HD 2400 XT","834 - ATI Mobility Radeon HD 3410","833 - ATI Mobility Radeon HD 3430","832 - ATI Mobility Radeon HD 3450","831 - AMD Radeon HD 6290","830 - AMD Radeon HD 7290","829 - NVIDIA GeForce 9200M GS","828 - NVIDIA Quadro NVS 160M","827 - NVIDIA Quadro FX 370M","826 - NVIDIA GeForce 9300M GS","825 - NVIDIA ION 2","824 - NVIDIA GeForce 9300M G","823 - ATI Mobility Radeon HD 3470","822 - NVIDIA GeForce 9400M GeForceBoost","821 - ATI Mobility Radeon HD 3470 Hybrid X2","820 - AMD Radeon HD 8180","819 - AMD Radeon HD 6310","818 - AMD Radeon HD 7310","817 - AMD Radeon HD 6320","816 - AMD Radeon HD 7340","812 - Intel HD Graphics (Bay Trail)","803 - Intel HD Graphics (Sandy Bridge)","802 - NVIDIA GeForce 9400M (G) / ION (LE)","801 - NVIDIA GeForce G 205M","800 - NVIDIA GeForce G 102M","799 - NVIDIA GeForce 9500M GE","798 - NVIDIA GeForce G 103M","797 - NVIDIA GeForce G 105M","795 - Intel HD Graphics 2000","794 - NVIDIA Quadro NVS 140M","793 - NVIDIA GeForce 8400M GT","792 - ATI Mobility Radeon HD 4330","791 - AMD Radeon HD 6330M","790 - NVIDIA GeForce G 110M","789 - ATI Mobility FireGL V5000","788 - ATI Mobility Radeon X700","787 - ATI Mobility Radeon X1450","786 - NVIDIA GeForce Go 6600","785 - ATI Mobility Radeon 9800","784 - ATI Mobility FireGL V5200","783 - ATI Mobility Radeon X1600","782 - ATI Mobility Radeon X800","781 - NVIDIA Quadro NVS 300M","780 - NVIDIA GeForce Go 7600","779 - ATI Mobility Radeon X2500","778 - ATI Mobility FireGL V5250","777 - ATI Mobility Radeon X1700","776 - NVIDIA GeForce 305M","775 - ATI Mobility Radeon HD 530v","774 - ATI Radeon HD 4350","773 - ATI Mobility Radeon HD 4350","772 - ATI Mobility Radeon HD 4530","771 - AMD Radeon HD 6350M","770 - AMD Radeon HD 7350M","769 - Intel HD Graphics (Ivy Bridge)","768 - Intel HD Graphics 2500","767 - ATI Mobility Radeon HD 4550","766 - ATI Mobility Radeon HD 540v","765 - AMD Radeon HD 8210","764 - ATI Mobility Radeon HD 5430","763 - AMD Radeon HD 6380G","762 - AMD Radeon HD 6430M","761 - ATI Mobility Radeon X800XT","760 - NVIDIA Quadro FX Go 1400","759 - NVIDIA GeForce Go 6800","758 - NVIDIA GeForce Go 7700","757 - NVIDIA NVS 2100M","756 - NVIDIA GeForce 8600M GS","755 - NVIDIA GeForce 9500M G","754 - NVIDIA GeForce Go 7600 GT","753 - NVIDIA GeForce 315M","752 - NVIDIA GeForce 405M","751 - NVIDIA NVS 3100M","750 - NVIDIA GeForce G210M","749 - NVIDIA GeForce 310M","748 - NVIDIA Quadro FX 380M","747 - Intel HD Graphics 3000","746 - ATI Mobility Radeon HD 2600","745 - NVIDIA GeForce 8600M GT","744 - ATI Mobility Radeon HD 5450","743 - NVIDIA Quadro FX 570M","742 - ATI Mobility Radeon HD 4570","741 - Intel HD Graphics (Cherry Trail)","740 - AMD Radeon HD 8250","739 - AMD Radeon R6 (Mullins)","738 - AMD Radeon HD 8240","737 - ATI Mobility Radeon HD 545v","736 - ATI Mobility Radeon HD 5145","735 - ATI Mobility FireGL V5700","734 - ATI Mobility Radeon HD 3650","733 - AMD Radeon HD 7430M","732 - AMD Radeon HD 6450M","731 - ATI Mobility Radeon HD 5470","730 - AMD Radeon HD 8280","729 - AMD Radeon HD 6370M","727 - AMD Radeon R2 (Mullins/Beema/Carrizo-L)","723 - AMD Radeon HD 7370M","722 - NVIDIA GeForce 410M","721 - NVIDIA GeForce GT 415M","720 - ATI Mobility Radeon HD 2700","719 - AMD Radeon HD 6480G","718 - AMD Radeon HD 7400G","717 - NVIDIA GeForce 9500M GS","716 - NVIDIA GeForce 9600M GS","715 - NVIDIA GeForce Go 7800","714 - NVIDIA GeForce Go 6800 Ultra","713 - ATI Mobility Radeon X1800","712 - ATI Mobility Radeon X1800XT","711 - ATI Mobility Radeon X1900","710 - ATI Mobility Radeon HD 2600 XT","709 - NVIDIA GeForce GT 320M","708 - NVIDIA GeForce 320M","707 - AMD Radeon HD 8310G","706 - AMD Radeon HD 6520G","705 - Intel HD Graphics (Haswell)","701 - ATI Mobility FireGL V5725","700 - ATI Mobility Radeon HD 3670","699 - AMD Radeon HD 7420G","698 - NVIDIA GeForce GT 520M","697 - AMD FirePro M3900","696 - AMD Radeon HD 6470M","695 - Intel HD Graphics 400 (Braswell)","694 - Intel HD Graphics (Braswell)","693 - Intel HD Graphics 405 (Braswell)","690 - NVIDIA GeForce 705M","689 - NVIDIA GeForce 610M","688 - AMD Radeon HD 7450M","687 - AMD Radeon HD 6510G2","686 - NVIDIA GeForce GT 120M","685 - NVIDIA Quadro FX 770M","684 - NVIDIA GeForce GT 220M","683 - NVIDIA GeForce 9600M GT","682 - NVIDIA Quadro FX 1500M","681 - NVIDIA Quadro NVS 320M","680 - NVIDIA GeForce Go 7900 GS","679 - NVIDIA GeForce Go 7800 GTX","678 - NVIDIA Quadro FX 1600M","677 - NVIDIA Quadro FX 1700M","676 - NVIDIA GeForce 8700M GT","675 - NVIDIA GeForce 9650M GT","674 - NVIDIA GeForce 9650M GS","673 - Intel HD Graphics 500","672 - Intel UHD Graphics 600","671 - AMD Radeon HD 8330","670 - AMD Radeon HD 8350G","669 - NVIDIA Quadro FX 2500M","668 - NVIDIA GeForce Go 7900 GTX","667 - NVIDIA NVS 4200M","666 - NVIDIA GeForce GT 130M","665 - NVIDIA GeForce Go 7900 GS SLI","664 - NVIDIA GeForce 8600M GT SLI","663 - NVIDIA GeForce Go 7800 GTX SLI","662 - NVIDIA GeForce GT 325M","661 - AMD Radeon HD 7520G","660 - NVIDIA GeForce GT 520MX","654 - AMD Radeon HD 8400","653 - AMD Radeon HD 8410G","652 - AMD Radeon HD 6490M","651 - AMD Radeon HD 7470M","650 - AMD Radeon HD 8450G","649 - AMD Radeon HD 6515G2","648 - AMD Radeon HD 6480G + HD 7450M Dual Graphics","647 - AMD Radeon HD 7500G","646 - AMD Radeon HD 6540G2","645 - AMD Radeon HD 6520G + HD 7450M Dual Graphics","644 - AMD Radeon HD 6545G2","643 - AMD Radeon HD 6450 GDDR5","642 - Intel HD Graphics (Skylake)","641 - Intel HD Graphics 4200","640 - Intel HD Graphics (Broadwell)","639 - AMD Radeon R2 (Stoney Ridge)","638 - AMD Radeon R3 (Mullins/Beema)","637 - AMD Radeon R4 (Kaveri)","636 - AMD Radeon R4 (Beema)","635 - AMD Radeon R5 (Beema/Carrizo-L)","633 - AMD Radeon R4 (Stoney Ridge)","632 - AMD Radeon HD 6620G","629 - Intel HD Graphics 4000","628 - AMD Radeon HD 7480D","627 - ATI Mobility Radeon HD 550v","626 - NVIDIA GeForce GT 230M","625 - NVIDIA GeForce 9700M GT","624 - NVIDIA GeForce 8700M GT SLI","623 - NVIDIA Quadro FX 3500M","622 - NVIDIA GeForce Go 7950 GTX","621 - AMD Radeon HD 7510M","620 - Intel HD Graphics 5300","619 - Intel HD Graphics 505","618 - Intel UHD Graphics 605","617 - AMD Radeon HD 7490M","616 - NVIDIA GeForce GT 240M","615 - NVIDIA Quadro NVS 5100M","614 - NVIDIA Quadro FX 880M","613 - NVIDIA GeForce GT 330M","612 - ATI Mobility Radeon HD 3850","611 - AMD Radeon HD 7530M","610 - NVIDIA GeForce GT 420M","609 - NVIDIA GeForce Go 7900 GTX SLI","608 - NVIDIA GeForce GT 220","607 - NVIDIA GeForce Go 7950 GTX SLI","606 - ATI Mobility Radeon HD 4650","605 - ATI Mobility Radeon HD 560v","604 - ATI Mobility Radeon HD 5165","603 - AMD Radeon HD 6640G2","602 - AMD Radeon HD 6620G + HD 7450M Dual Graphics","601 - ATI Mobility Radeon HD 3870","600 - AMD Radeon HD 7600G","599 - AMD Radeon HD 7500G + HD 7550M Dual Graphics","598 - NVIDIA GeForce GT 335M","597 - NVIDIA Quadro FX 2700M","596 - AMD Radeon HD 6645G2","595 - NVIDIA GeForce 9700M GTS","594 - NVIDIA GeForce GT 425M","593 - ATI Mobility Radeon HD 4670","592 - AMD Radeon HD 7550M","591 - ATI Mobility Radeon HD 565v","590 - NVIDIA NVS 5200M","589 - Intel HD Graphics 510","588 - AMD Radeon HD 8610G","587 - Intel HD Graphics 4400","586 - Intel HD Graphics 610","585 - Intel UHD Graphics 610","584 - Intel HD Graphics 515","576 - AMD Radeon HD 7640G","575 - AMD Radeon HD 8470D","574 - AMD Radeon HD 7620G","573 - AMD Radeon HD 7610M","572 - AMD Radeon HD 7640G + HD 7610M Dual Graphics","571 - AMD Radeon HD 6550D","570 - NVIDIA GeForce GT 525M","569 - NVIDIA GeForce GT 620M","568 - NVIDIA GeForce GT 625M","567 - NVIDIA Quadro K500M","566 - AMD Radeon HD 8550G","565 - AMD Radeon HD 6530M","564 - AMD Radeon HD 8510G","563 - ATI Mobility Radeon HD 5650","562 - NVIDIA Quadro FX 1800M","561 - AMD Radeon HD 7630M","560 - AMD Radeon HD 7570M","559 - AMD FirePro M2000","558 - AMD Radeon HD 7650M","557 - AMD Radeon HD 6630M","556 - NVIDIA GeForce GTS 250M","555 - NVIDIA GeForce GTS 350M","554 - AMD Radeon HD 7590M","553 - AMD Radeon HD 6550M","552 - ATI Radeon HD 5570","551 - NVIDIA Quadro K510M","550 - Intel HD Graphics 5000","549 - AMD Radeon HD 6680G2","548 - NVIDIA GeForce GT 435M","547 - AMD Radeon HD 7660G","546 - NVIDIA GeForce 710M","545 - NVIDIA NVS 5400M","544 - ATI FirePro M5800","543 - AMD Radeon R5 (Kaveri)","542 - AMD Radeon R5 (Carrizo)","541 - Intel HD Graphics 615","540 - Intel UHD Graphics 615","539 - Intel UHD Graphics 617","530 - Qualcomm Adreno 630","526 - Intel HD Graphics 5500","525 - ATI Mobility Radeon HD 5730","524 - Intel HD Graphics 4600","523 - AMD Radeon HD 6650M","522 - AMD Radeon HD 6690G2","521 - NVIDIA GeForce GT 540M","520 - Intel Iris Graphics 5100","519 - AMD Radeon HD 8550M","518 - NVIDIA Quadro K610M","517 - Intel HD Graphics 6000","516 - AMD Radeon HD 8570M","515 - AMD Radeon HD 8450G + Radeon HD 8570M Dual Graphics","514 - AMD Radeon HD 6720G2","513 - ATI Mobility Radeon HD 5750","511 - AMD Radeon R5 (Stoney Ridge)","510 - AMD Radeon RX Vega 2","509 - AMD Radeon R5 M420","508 - AMD Radeon R5 M315","507 - AMD Radeon R5 M230","506 - AMD Radeon R5 M320","505 - AMD Radeon R5 M240","504 - NVIDIA GeForce 8800M GTS","503 - NVIDIA GeForce GT 720M","502 - Intel UHD Graphics G4 (Lakefield GT1 48 EU)","501 - Intel Iris Graphics 6100","500 - Intel HD Graphics 520","499 - NVIDIA GeForce 820M","498 - NVIDIA GeForce 910M","497 - NVIDIA Quadro 1000M","496 - AMD Radeon RX Vega 3","495 - AMD Radeon R5 M255","494 - AMD Radeon R5 M430","493 - AMD Radeon R5 M330","492 - AMD Radeon R5 M335","491 - NVIDIA GeForce GTS 150M","490 - AMD Radeon HD 7560D","489 - NVIDIA GeForce GT 630M","488 - AMD Radeon HD 7670M","487 - AMD Radeon HD 7520G + HD 7670M Dual Graphics","486 - AMD Radeon HD 6620G + HD 7670M Dual Graphics","485 - AMD Radeon HD 7640G + HD 7670M Dual Graphics","484 - AMD Radeon HD 8650G","483 - AMD Radeon HD 6570M","482 - ATI Mobility Radeon HD 5770","481 - ATI Mobility Radeon HD 4830","480 - NVIDIA GeForce 9800M GS","479 - AMD Radeon HD 6730M","478 - AMD Radeon HD 6740G2","477 - AMD Radeon HD 6760G2","476 - ATI Mobility Radeon HD 5830","475 - AMD Radeon HD 6830M","474 - NVIDIA GeForce GT 430","473 - NVIDIA GeForce 9800M GTS","472 - NVIDIA GeForce GTS 160M","471 - NVIDIA GeForce GTS 260M","470 - AMD Radeon HD 8590M","469 - NVIDIA GeForce GT 550M","468 - NVIDIA Quadro K1000M","467 - AMD Radeon HD 6750M","466 - AMD Radeon HD 7660D","465 - AMD Radeon R6 M255DX","464 - AMD Radeon HD 8670M","463 - AMD Radeon HD 8550G + HD 8670M Dual Graphics","462 - AMD Radeon HD 7660G + HD 7670M Dual Graphics","461 - AMD Radeon HD 8650G + HD 8570M Dual Graphics","460 - AMD Radeon HD 8650G + HD 8670M Dual Graphics","459 - AMD Radeon HD 8570D","458 - Intel HD Graphics 5600","457 - AMD Radeon HD 7690M","456 - AMD Radeon HD 6755G2","455 - NVIDIA GeForce GT 240 GDDR5","454 - NVIDIA GeForce GTS 360M","453 - NVIDIA GeForce GT 445M","452 - NVIDIA Quadro FX 3600M","451 - NVIDIA GeForce 8800M GTX","450 - NVIDIA GeForce 9800M GT","449 - NVIDIA Quadro 2000M","448 - AMD FirePro W2100","447 - AMD Radeon HD 6850M","446 - ATI Mobility Radeon HD 5850","445 - ATI Radeon HD 5670","444 - NVIDIA GeForce GT 555M","443 - NVIDIA GeForce GT 635M","442 - AMD Radeon HD 6770M","441 - AMD Radeon HD 8730M","440 - AMD Radeon HD 8650M","439 - AMD Radeon R6 (Kaveri)","438 - NVIDIA GeForce GT 640M LE","437 - AMD FirePro M5950","436 - AMD Radeon HD 7690M XT","435 - AMD Radeon HD 8670D","434 - AMD Radeon HD 6775G2","433 - NVIDIA Quadro FX 2800M","432 - NVIDIA GeForce 9800M GTX","431 - NVIDIA GeForce GTX 260M","430 - ATI Mobility Radeon HD 4850","429 - ATI FirePro M7740","428 - ATI Mobility Radeon HD 4860","427 - Qualcomm Adreno 680","426 - Qualcomm Adreno 685","425 - AMD Radeon R6 (Carrizo)","424 - Intel HD Graphics 620","423 - Intel UHD Graphics 620","422 - AMD Radeon R5 (Bristol Ridge)","420 - Intel HD Graphics P530","419 - Intel HD Graphics 530","418 - Intel UHD Graphics G7 (Lakefield GT2 64 EU)","417 - Intel HD Graphics P630","416 - Intel HD Graphics 630","415 - Intel UHD Graphics P630","414 - Intel UHD Graphics 630","413 - Intel UHD Graphics G1 (Ice Lake 32 EU)","412 - AMD Radeon RX Vega 5","411 - AMD Radeon RX Vega 6 (Ryzen 2000/3000)","410 - AMD Radeon R6 M340DX","409 - AMD Radeon 610","408 - AMD Radeon 520","407 - AMD Radeon R7 M340","406 - AMD Radeon R7 M260","405 - NVIDIA Quadro FX 3700M","404 - ATI Mobility Radeon HD 3850 X2","403 - NVIDIA GeForce 8800M GTX SLI","402 - ATI Mobility Radeon HD 3870 X2","401 - NVIDIA GeForce 9800M GTS SLI","400 - AMD Radeon R7 M440","399 - AMD Radeon 620","398 - AMD Radeon R8 M445DX","397 - AMD Radeon HD 8690M","396 - NVIDIA GeForce 9800M GT SLI","395 - NVIDIA GeForce 920M","394 - NVIDIA GeForce GTX 280M","393 - AMD Radeon R7 M360","391 - AMD Radeon HD 7730M","390 - AMD Radeon R7 M460","389 - AMD Radeon R8 M365DX","388 - AMD Radeon R7 (Kaveri)","387 - AMD Radeon R7 (Carrizo)","386 - NVIDIA GeForce GT 640M","385 - AMD Radeon R7 (Bristol Ridge)","384 - ATI Mobility Radeon HD 4870","383 - NVIDIA GeForce GTX 285M","382 - NVIDIA Quadro FX 3800M","381 - AMD Radeon R7 M265","380 - AMD Radeon R7 M270","379 - NVIDIA Quadro 3000M","378 - AMD Radeon HD 8750M","377 - AMD FirePro M4100","376 - AMD Radeon HD 7750M","375 - NVIDIA GeForce GT 645M","374 - NVIDIA GeForce GT 730M","373 - AMD Radeon HD 8550G + HD 8750M Dual Graphics","372 - NVIDIA GeForce GTX 460M","371 - AMD Radeon R7 M260X","370 - AMD Radeon HD 8770M","369 - AMD Radeon HD 8830M","368 - NVIDIA GeForce 9800M GTX SLI","367 - ATI Radeon HD 4850","366 - AMD Radeon HD 6870M","365 - ATI FirePro M7820","364 - AMD FirePro M4000","363 - NVIDIA Quadro 5000M","362 - NVIDIA GeForce 825M","361 - ATI Mobility Radeon HD 5870","360 - NVIDIA GeForce GT 735M","359 - NVIDIA GeForce GTX 260M SLI","358 - NVIDIA GeForce GTS 450","357 - NVIDIA Quadro K2000M","352 - Intel Iris Graphics 540","351 - NVIDIA GeForce 920MX","350 - Intel Iris Plus Graphics 640","349 - NVIDIA GeForce MX110","348 - NVIDIA GeForce 830M","346 - Intel Iris Plus Graphics 645","345 - AMD Radeon RX Vega 6 (Ryzen 4000)","344 - AMD Radeon 625","343 - AMD Radeon 530","342 - Intel Iris Graphics 550","341 - NVIDIA GeForce 930M","340 - Intel Iris Plus Graphics 650","339 - NVIDIA GeForce GT 740M","338 - AMD Radeon R7 384 Cores (Kaveri Desktop)","337 - Intel Iris Pro Graphics 5200","336 - AMD Radeon R7 512 Cores (Kaveri Desktop)","335 - NVIDIA GeForce GTX 560M","334 - AMD Radeon HD 7770M","333 - NVIDIA GeForce GT 745M","332 - AMD Radeon R7 M275DX","331 - NVIDIA GeForce 840M","330 - NVIDIA Quadro M500M","329 - NVIDIA Quadro K620M","328 - NVIDIA GeForce GT 650M","327 - AMD Radeon R7 M370","326 - AMD Radeon R7 M380","325 - AMD Radeon R7 M445","324 - Intel Iris Plus Graphics 655","323 - AMD Radeon R9 M375","322 - AMD FirePro W4190M","321 - NVIDIA Quadro M600M","318 - NVIDIA GeForce 930MX","317 - Intel Iris Plus Graphics G4 (Ice Lake 48 EU)","316 - NVIDIA GeForce 940M","315 - AMD Radeon RX Vega 7","314 - AMD Radeon RX Vega 8 (Ryzen 2000/3000)","313 - NVIDIA Quadro K1100M","312 - NVIDIA Quadro M520","311 - NVIDIA GeForce 940MX","310 - NVIDIA GeForce MX130","309 - Intel Iris Pro Graphics 6200","308 - NVIDIA GeForce GT 750M","307 - NVIDIA GeForce GTX 480M","306 - NVIDIA GeForce GTX 470M","305 - NVIDIA Quadro 4000M","304 - ATI Mobility Radeon HD 4870 X2","303 - AMD FirePro W4100","302 - AMD FirePro W4170M","301 - AMD Radeon HD 8790M","300 - AMD Radeon R7 M465","299 - AMD Radeon HD 7850M","298 - AMD Radeon R9 M265X","297 - AMD Radeon R9 M365X","296 - AMD Radeon HD 8850M","295 - NVIDIA GeForce 845M","294 - NVIDIA GeForce GTX 660M","293 - NVIDIA GeForce GT 755M","292 - AMD Radeon R7 250","291 - AMD Radeon HD 6950M","290 - NVIDIA GeForce GTX 280M SLI","289 - NVIDIA GeForce GTX 550 Ti","288 - ATI Radeon HD 5770","287 - NVIDIA Quadro K2100M","286 - AMD Radeon RX Vega 8 (Ryzen 4000)","285 - NVIDIA GeForce MX230","284 - AMD FirePro M5100","283 - AMD FirePro M6000","282 - Intel UHD Graphics Xe G4 48EUs","281 - NVIDIA GeForce GTX 570M","280 - NVIDIA Quadro K3000M","279 - AMD Radeon HD 7870M","278 - AMD Radeon HD 8870M","277 - AMD Radeon R9 M270","276 - AMD Radeon HD 6970M","275 - AMD FirePro M8900","274 - AMD FirePro W5130M","273 - NVIDIA Maxwell GPU Surface Book","272 - AMD Radeon RX Vega 9","271 - NVIDIA GeForce GTX 670M","270 - AMD Radeon R9 M275","269 - NVIDIA GeForce GTX 760M","268 - NVIDIA Quadro 5010M","267 - NVIDIA GeForce GTX 670MX","266 - AMD Radeon R9 M370X","265 - AMD FirePro W5170M","264 - NVIDIA Quadro K3100M","263 - NVIDIA GeForce GTX 285M SLI","262 - AMD Radeon HD 6790","261 - NVIDIA GeForce GTX 460 768MB","260 - NVIDIA GeForce GTX 485M","259 - ATI Mobility Radeon HD 5870 Crossfire","258 - NVIDIA GeForce GTX 460M SLI","257 - NVIDIA GeForce GT 650M SLI","256 - AMD Radeon HD 7770","255 - AMD Radeon R9 M380","254 - AMD Radeon R9 M385","253 - AMD Radeon R9 M470","252 - AMD Radeon HD 6990M","251 - NVIDIA GeForce GTX 580M","250 - NVIDIA GeForce GTX 675M","249 - ATI Radeon HD 5850","248 - Intel Iris Pro Graphics 580","247 - Intel Iris Pro Graphics P580","246 - AMD Radeon RX Vega 10","245 - Intel Iris Plus Graphics G7 (Ice Lake 64 EU)","244 - NVIDIA Quadro P500","243 - NVIDIA Quadro K4000M","242 - NVIDIA GeForce GTX 560M SLI","241 - NVIDIA GeForce GTX 480M SLI","240 - NVIDIA GeForce GTX 470M SLI","239 - NVIDIA GeForce GTX 765M","238 - NVIDIA GeForce 945M","237 - NVIDIA GeForce GTX 470","236 - AMD Radeon HD 6870","235 - NVIDIA GeForce GTX 560 Ti","234 - AMD Radeon HD 7950M","233 - AMD Radeon R9 M280X","232 - AMD Radeon RX Vega 11","231 - NVIDIA Quadro M620","230 - NVIDIA Quadro M1000M","229 - NVIDIA GeForce GTX 850M","228 - NVIDIA Quadro P520","227 - AMD Radeon R9 M385X","226 - AMD Radeon R9 M470X","225 - AMD Radeon 540X","224 - AMD Radeon 630","223 - AMD Radeon Pro 450","222 - NVIDIA GeForce GTX 950M","221 - NVIDIA GeForce GT 750M SLI","220 - NVIDIA GeForce GTX 675MX","219 - AMD Radeon HD 6970M Crossfire","218 - NVIDIA GeForce GTX 485M SLI","217 - NVIDIA GeForce GT 755M SLI","216 - AMD Radeon HD 6990M Crossfire","215 - NVIDIA GeForce GTX 580M SLI","214 - NVIDIA GeForce GTX 860M","213 - AMD Radeon Pro WX 3100","212 - AMD Radeon RX 540","211 - AMD Radeon Pro WX 2100","210 - AMD Radeon RX 540X","209 - NVIDIA GeForce GTX 770M","208 - Intel Iris Xe Graphics G7 80EUs","207 - NVIDIA Quadro K4100M","206 - NVIDIA Quadro K5000M","205 - NVIDIA Quadro M2000M","204 - NVIDIA GeForce MX330","203 - NVIDIA GeForce MX150","202 - NVIDIA GeForce MX250","201 - NVIDIA Quadro P600","200 - NVIDIA GeForce GT 1030","199 - AMD Radeon Pro 455","198 - AMD Radeon Pro 555","197 - AMD Radeon Pro 555X","196 - AMD Radeon Pro WX 3200","195 - AMD Radeon RX 640","194 - AMD Radeon RX 550","193 - AMD Radeon RX 550X","192 - NVIDIA Quadro P620","191 - NVIDIA Quadro M1200","190 - NVIDIA GeForce GTX 480","189 - NVIDIA GeForce GTX 570","188 - NVIDIA GeForce GTX 670MX SLI","187 - NVIDIA GeForce GTX 750 Ti","186 - NVIDIA GeForce GTX 960M","185 - AMD Radeon Pro WX 4130","184 - AMD Radeon Pro 460","183 - AMD Radeon Pro 560","182 - AMD Radeon Pro 560X","181 - AMD Radeon HD 7970M","180 - AMD FirePro M6100","179 - AMD Radeon R9 M390","178 - NVIDIA GeForce GTX 775M","177 - NVIDIA GeForce GTX 680M","176 - AMD Radeon RX 460","175 - NVIDIA GeForce GTX 765M SLI","174 - NVIDIA GeForce GTX 675M SLI","173 - AMD Radeon HD 6970","172 - NVIDIA GeForce GTX 580","171 - AMD Radeon HD 8970M","170 - AMD Radeon R9 M290X","169 - NVIDIA GeForce GTX 870M","168 - NVIDIA Quadro M2200","167 - AMD Radeon RX 560","166 - AMD Radeon RX 560X","165 - NVIDIA GeForce GTX 965M","164 - AMD Radeon HD 7870","163 - AMD Radeon Pro WX 4150","162 - AMD Radeon RX 460","161 - NVIDIA GeForce GTX 680MX","160 - NVIDIA GeForce MX350","159 - NVIDIA Quadro P1000","158 - NVIDIA Quadro K5100M","157 - NVIDIA GeForce GTX 780M","156 - NVIDIA GeForce GTX 760","155 - NVIDIA GeForce GTX 660 Ti","154 - AMD Radeon R9 270X","153 - NVIDIA GeForce GTX 950","152 - NVIDIA GeForce GTX 1050 Max-Q","151 - NVIDIA GeForce GTX 880M","150 - NVIDIA GeForce GTX 590","149 - Intel Iris Xe Graphics G7 96EUs","148 - AMD Radeon R7 370","147 - AMD Radeon R9 M395","146 - AMD FirePro W7170M","145 - Intel Xe DG1 LP (iDG1LP) Mobile","144 - NVIDIA GeForce GTX 1050 Mobile","143 - NVIDIA GeForce GTX 1050","142 - NVIDIA Quadro M3000M","141 - AMD Radeon R9 M390X","140 - AMD Radeon R9 M295X","139 - AMD Radeon R9 M485X","138 - AMD Radeon Pro Vega 16","137 - AMD Radeon Pro WX Vega M GL","136 - AMD Radeon RX Vega M GL / 870","135 - NVIDIA GeForce GTX 1050 Ti Max-Q","134 - AMD Radeon R9 M395X","133 - NVIDIA GeForce GTX 770M SLI","132 - AMD Radeon HD 7970","131 - NVIDIA GeForce GTX 680","130 - NVIDIA GeForce GTX 860M SLI","129 - NVIDIA GeForce GTX 970M","128 - NVIDIA Quadro M4000M","127 - NVIDIA Quadro P2000 Max-Q","126 - NVIDIA Quadro P2000","125 - NVIDIA GeForce GTX 1050 Ti","124 - NVIDIA GeForce GTX 1050 Ti Mobile","123 - NVIDIA GeForce GTX 960","122 - AMD Radeon R9 380","121 - AMD Radeon R9 280X","120 - NVIDIA Quadro M5000M","119 - AMD Radeon Pro Vega 20","118 - AMD Radeon RX Vega M GH","117 - NVIDIA GeForce GTX 980M","116 - AMD Radeon HD 7970M Crossfire","115 - NVIDIA GeForce GTX 680M SLI","114 - AMD Radeon HD 8970M Crossfire","113 - AMD Radeon R9 M290X Crossfire","112 - NVIDIA GeForce GTX 965M SLI","111 - AMD Radeon RX 490M","110 - AMD Radeon R9 290X","109 - NVIDIA GeForce GTX 780M SLI","108 - NVIDIA GeForce GTX 880M SLI","107 - NVIDIA GeForce MX450","106 - NVIDIA Quadro T1000 Max-Q","105 - NVIDIA Quadro T1000","104 - NVIDIA GeForce GTX 1650 Max-Q","103 - AMD Radeon RX 470","102 - AMD Radeon RX 570","101 - AMD Radeon RX 570X","100 - AMD Radeon RX 470","99 - AMD Radeon Pro WX 7100","98 - AMD Radeon RX 480","97 - NVIDIA Quadro P3000 Max-Q","96 - NVIDIA GeForce GTX 1060 Max-Q","95 - NVIDIA GeForce GTX 1650 Ti Max-Q","94 - NVIDIA GeForce GTX 1650","93 - NVIDIA GeForce GTX 1650 Mobile","92 - NVIDIA GeForce GTX 970","91 - NVIDIA Quadro P3000","90 - AMD Radeon RX 5300M","89 - AMD Radeon Pro 5300M","88 - AMD Radeon RX Vega Mobile","87 - NVIDIA GeForce GTX 780 Ti","86 - AMD Radeon RX 580","85 - AMD Radeon RX 580X","84 - NVIDIA Quadro P3200","83 - NVIDIA Quadro P4000 Max-Q","82 - AMD Radeon Pro 5500M","81 - AMD Radeon RX 5500M","80 - NVIDIA GeForce GTX 1060 Mobile","79 - AMD Radeon RX 480","78 - NVIDIA GeForce GTX 1650 Ti Mobile","76 - NVIDIA Quadro T2000 Max-Q","75 - NVIDIA Quadro T2000","74 - NVIDIA Quadro P4000","73 - AMD Radeon RX 570","72 - NVIDIA GeForce GTX 1060","71 - NVIDIA GeForce GTX 970M SLI","70 - AMD Radeon R9 390X","69 - NVIDIA Quadro M5500","68 - NVIDIA GeForce GTX 980","67 - AMD Radeon RX 580","66 - AMD Radeon RX 590","65 - NVIDIA GeForce GTX 980","64 - AMD Radeon R9 Nano","63 - AMD Radeon R9 Fury","62 - NVIDIA GeForce GTX 980M SLI","61 - NVIDIA Quadro P5000 Max-Q","60 - NVIDIA GeForce GTX 1660 Ti Max-Q","59 - AMD Radeon Pro 5600M","58 - NVIDIA GeForce GTX 1070 Max-Q","57 - NVIDIA GeForce GTX 1660","56 - NVIDIA GeForce GTX 980 Ti","55 - AMD Radeon RX 5600M","54 - NVIDIA GeForce GTX 1660 Ti Mobile","53 - NVIDIA Quadro P5000","52 - NVIDIA GeForce GTX 1660 Super","51 - NVIDIA GeForce GTX 1660 Ti","50 - NVIDIA Quadro P4200","49 - NVIDIA GeForce GTX 1070 Mobile","48 - NVIDIA GeForce RTX 2060 Max-Q","47 - AMD Radeon Pro Vega 56","46 - NVIDIA GeForce GTX 1080 Max-Q","45 - AMD Radeon RX 5600 XT","44 - NVIDIA GeForce GTX 1070","43 - NVIDIA Quadro P5200","42 - NVIDIA GeForce GTX 980 SLI","41 - NVIDIA GeForce RTX 2060 Mobile","40 - AMD Radeon RX Vega 56","39 - NVIDIA Quadro RTX 3000 Max-Q","38 - NVIDIA Quadro RTX 3000","37 - NVIDIA GeForce RTX 2070 Max-Q","36 - NVIDIA GeForce GTX 1070 Ti","35 - NVIDIA GeForce RTX 2070 Super Max-Q","34 - NVIDIA GeForce RTX 2060","33 - NVIDIA Quadro RTX 4000 Max-Q","32 - NVIDIA Quadro RTX 4000","31 - NVIDIA GeForce GTX 1080 Mobile","30 - AMD Radeon RX Vega 64","29 - AMD Radeon RX 5700M","28 - AMD Radeon RX 5700","27 - NVIDIA GeForce RTX 2060 Super","26 - NVIDIA GeForce RTX 2070 Mobile","25 - NVIDIA GeForce RTX 2070 Super Mobile","24 - NVIDIA GeForce GTX 1080","22 - NVIDIA GeForce RTX 2070","21 - AMD Radeon RX 5700 XT","20 - AMD Radeon VII","19 - NVIDIA GeForce RTX 2070 Super","18 - NVIDIA GeForce RTX 2080 Max-Q","17 - NVIDIA GeForce RTX 2080 Super Max-Q","16 - NVIDIA GeForce GTX 1070 SLI","15 - NVIDIA GeForce GTX 1070 SLI","14 - NVIDIA GeForce GTX 1080 SLI","13 - NVIDIA Titan X Pascal","12 - NVIDIA GeForce GTX 1080 Ti","11 - NVIDIA GeForce RTX 2080 Mobile","10 - NVIDIA GeForce RTX 2080 Super Mobile","9 - NVIDIA Quadro RTX 5000 Max-Q","8 - NVIDIA Quadro RTX 5000","6 - NVIDIA GeForce RTX 2080","5 - NVIDIA GeForce RTX 2080 Super","4 - NVIDIA Quadro RTX 6000","2 - NVIDIA GeForce RTX 2080 Ti","1 - NVIDIA Titan RTX"],n=["973 - ARM Mali-200","972 - Qualcomm Adreno 200","971 - PowerVR SGX530","970 - PowerVR SGX531","969 - PowerVR SGX535","968 - Vivante GC800","967 - Qualcomm Adreno 203","966 - Qualcomm Adreno 205","964 - PowerVR SGX540","962 - NVIDIA GeForce ULP (Tegra 2)","961 - ARM Mali-400 MP","960 - ARM Mali-400 MP2","959 - Vivante GC1000+ Dual-Core","958 - Qualcomm Adreno 220","957 - Broadcom VideoCore-IV","956 - NVIDIA GeForce ULP (Tegra 3)","955 - ARM Mali-400 MP4","954 - Vivante GC4000","953 - Qualcomm Adreno 225","945 - Qualcomm Adreno 302","944 - Vivante GC7000UL","943 - ARM Mali-T720","942 - Qualcomm Adreno 304","941 - Qualcomm Adreno 305","940 - Qualcomm Adreno 306","939 - Qualcomm Adreno 308","938 - PowerVR SGX544","937 - ARM Mali-T720 MP2","936 - PowerVR SGX544MP2","935 - PowerVR SGX545","932 - PowerVR SGX543MP2","922 - PowerVR SGX543MP3","914 - ARM Mali-T830 MP1","913 - ARM Mali-450 MP4","912 - ARM Mali-T720 MP4","911 - PowerVR GE8100","910 - PowerVR GE8300","909 - PowerVR GE8320","908 - ARM Mali-T760 MP2","907 - Qualcomm Adreno 320","906 - ARM Mali-T624","905 - PowerVR SGX543MP4","878 - ARM Mali-T830 MP2","877 - Qualcomm Adreno 405","876 - PowerVR G6200","875 - NVIDIA GeForce Tegra 4","870 - ARM Mali-T604 MP4","864 - ARM Mali-T830 MP3","863 - ARM Mali-T860 MP2","859 - Qualcomm Adreno 504","858 - Qualcomm Adreno 505","857 - PowerVR GE8322 / IMG8322","856 - Qualcomm Adreno 506","855 - Qualcomm Adreno 508","854 - Qualcomm Adreno 509","853 - ARM Mali-T628 MP4","852 - PowerVR SGX554MP4","814 - ARM Mali-T760 MP4","813 - ARM Mali-T628 MP6","812 - Intel HD Graphics (Bay Trail)","811 - PowerVR G6400","810 - PowerVR GX6250","809 - PowerVR G6430","808 - Qualcomm Adreno 330","807 - Qualcomm Adreno 510","806 - Qualcomm Adreno 512","805 - Qualcomm Adreno 610","804 - Qualcomm Adreno 612","741 - Intel HD Graphics (Cherry Trail)","728 - ARM Mali-G51 MP4","726 - Qualcomm Adreno 616","725 - Qualcomm Adreno 618","724 - Qualcomm Adreno 418","704 - Qualcomm Adreno 620","703 - Qualcomm Adreno 420","702 - PowerVR GX6450","692 - ARM Mali-T880 MP2","691 - ARM Mali-T760 MP6","659 - ARM Mali-G52 MP1","658 - ARM Mali-G52 MP2","657 - ARM Mali-G52 MP6","656 - ARM Mali-T880 MP4","655 - ARM Mali-G72 MP3","634 - Qualcomm Adreno 430","631 - ARM Mali-G71 MP2","630 - ARM Mali-T760 MP8","583 - ARM Mali-G76 MP4","582 - ARM Mali-T880 MP12","581 - Apple A9 / PowerVR GT7600","580 - NVIDIA Tegra K1 Kepler GPU","579 - PowerVR GXA6850","578 - Qualcomm Adreno 530","577 - PowerVR GM9446","538 - ARM Mali-G71 MP8","537 - ARM Mali-G72 MP12","536 - ARM Mali-G71 MP20","535 - ARM Mali-G72 MP18","534 - ARM Mali-G57 MP6","533 - Qualcomm Adreno 540","532 - ARM Mali-G76 MP10","531 - ARM Mali-G76 MP12","530 - Qualcomm Adreno 630","529 - Qualcomm Adreno 640","528 - ARM Mali-G76 MP16","527 - ARM Mali-G77 MP11","512 - Apple A10 Fusion GPU / PowerVR","421 - NVIDIA Tegra X1 Maxwell GPU","392 - Apple A9X / PowerVR Series 7XT","356 - Apple A10X Fusion GPU / PowerVR","355 - Apple A11 Bionic GPU","354 - Qualcomm Adreno 650","353 - Apple A12 Bionic GPU","347 - Apple A13 Bionic GPU","320 - Apple A12X Bionic GPU","319 - Apple A12Z Bionic GPU"],i=function(e){return e.toLowerCase().split("- ")[1].split(" /")[0]},a="undefined"==typeof window,o=new(function(){function e(e){this.userAgent=e||(!a&&window.navigator?window.navigator.userAgent:""),this.isAndroidDevice=!/like android/i.test(this.userAgent)&&/android/i.test(this.userAgent),this.iOSDevice=this.match(1,/(iphone|ipod|ipad)/i).toLowerCase(),!a&&"MacIntel"===navigator.platform&&navigator.maxTouchPoints>2&&!window.MSStream&&(this.iOSDevice="ipad")}return e.prototype.match=function(e,t){var n=this.userAgent.match(t);return n&&n.length>1&&n[e]||""},Object.defineProperty(e.prototype,"isMobile",{get:function(){return!this.isTablet&&(/[^-]mobi/i.test(this.userAgent)||"iphone"===this.iOSDevice||"ipod"===this.iOSDevice||this.isAndroidDevice||/nexus\s*[0-6]\s*/i.test(this.userAgent))},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isTablet",{get:function(){return/tablet/i.test(this.userAgent)&&!/tablet pc/i.test(this.userAgent)||"ipad"===this.iOSDevice||this.isAndroidDevice&&!/[^-]mobi/i.test(this.userAgent)||!/nexus\s*[0-6]\s*/i.test(this.userAgent)&&/nexus\s*[0-9]+/i.test(this.userAgent)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isDesktop",{get:function(){return!this.isMobile&&!this.isTablet},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isMacOS",{get:function(){return/macintosh/i.test(this.userAgent)&&{version:this.match(1,/mac os x (\d+(\.?_?\d+)+)/i).replace(/[_\s]/g,".").split(".").map((function(e){return e}))[1]}},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isWindows",{get:function(){return/windows /i.test(this.userAgent)&&{version:this.match(1,/Windows ((NT|XP)( \d\d?.\d)?)/i)}},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isiOS",{get:function(){return!!this.iOSDevice&&{version:this.match(1,/os (\d+([_\s]\d+)*) like mac os x/i).replace(/[_\s]/g,".")||this.match(1,/version\/(\d+(\.\d+)?)/i)}},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isAndroid",{get:function(){return this.isAndroidDevice&&{version:this.match(1,/android[ \/-](\d+(\.\d+)*)/i)}},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"browser",{get:function(){var e=this.match(1,/version\/(\d+(\.\d+)?)/i);return/opera/i.test(this.userAgent)?{name:"Opera",version:e||this.match(1,/(?:opera|opr|opios)[\s\/](\d+(\.\d+)?)/i)}:/opr\/|opios/i.test(this.userAgent)?{name:"Opera",version:this.match(1,/(?:opr|opios)[\s\/](\d+(\.\d+)?)/i)||e}:/SamsungBrowser/i.test(this.userAgent)?{name:"Samsung Internet for Android",version:e||this.match(1,/(?:SamsungBrowser)[\s\/](\d+(\.\d+)?)/i)}:/yabrowser/i.test(this.userAgent)?{name:"Yandex Browser",version:e||this.match(1,/(?:yabrowser)[\s\/](\d+(\.\d+)?)/i)}:/ucbrowser/i.test(this.userAgent)?{name:"UC Browser",version:this.match(1,/(?:ucbrowser)[\s\/](\d+(\.\d+)?)/i)}:/msie|trident/i.test(this.userAgent)?{name:"Internet Explorer",version:this.match(1,/(?:msie |rv:)(\d+(\.\d+)?)/i)}:/(edge|edgios|edga|edg)/i.test(this.userAgent)?{name:"Microsoft Edge",version:this.match(2,/(edge|edgios|edga|edg)\/(\d+(\.\d+)?)/i)}:/firefox|iceweasel|fxios/i.test(this.userAgent)?{name:"Firefox",version:this.match(1,/(?:firefox|iceweasel|fxios)[ \/](\d+(\.\d+)?)/i)}:/chromium/i.test(this.userAgent)?{name:"Chromium",version:this.match(1,/(?:chromium)[\s\/](\d+(?:\.\d+)?)/i)||e}:/chrome|crios|crmo/i.test(this.userAgent)?{name:"Chrome",version:this.match(1,/(?:chrome|crios|crmo)\/(\d+(\.\d+)?)/i)}:/safari|applewebkit/i.test(this.userAgent)?{name:"Safari",version:e}:{name:this.match(1,/^(.*)\/(.*) /),version:this.match(2,/^(.*)\/(.*) /)}},enumerable:!1,configurable:!0}),e}()),s=o.browser,l=o.isMobile,u=o.isTablet,c=function(e){return e.replace(/[\D]/g,"")},d=function(e,t){var n=e?e.length:0,r=t?t.length:0;if(0===n)return r;if(0===r)return n;for(var i=new Array(r+1),a=0;a<=r;++a)(i[a]=new Array(n+1))[0]=a;for(var o=i[0],s=1;s<=n;++s)o[s]=s;for(var l=1;l<=r;++l)for(var u=1;u<=n;++u)t.charAt(l-1)===e.charAt(u-1)?i[l][u]=i[l-1][u-1]:i[l][u]=Math.min(i[l-1][u-1],i[l][u-1],i[l-1][u])+1;return i[r][n]},h=function(e,t,n){var r=["adreno","apple","mali-t","mali","nvidia","powervr"].find((function(e){return t.includes(e)})),a=[];if(r)for(var o=0;o<e.length;o++)for(var s=e[o],l=0;l<s.length;l++){var u=i(s[l]);!u.includes(r)||"mali"===u&&u.includes("mali-t")||!c(u).includes(n)||a.push({rank:[o,"BENCHMARK - "+u],distance:d(t,u)})}var h=f(a);return h.length>0?h[0].rank:[void 0,void 0]},f=function(e){return e.sort((function(e,t){return e.distance-t.distance}))},p=function(e,t,n){var r=["intel","amd","nvidia"].find((function(e){return t.includes(e)})),a=[];if(r)for(var o=0;o<e.length;o++)for(var s=e[o],l=0;l<s.length;l++){var u=i(s[l]);u.includes(r)&&c(u).includes(n)&&a.push({rank:[o,"BENCHMARK - "+u],distance:d(t,u)})}var h=f(a);return h.length>0?h[0].rank:[void 0,void 0]};e.getGPUTier=function(){var e,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=i.mobileBenchmarkPercentages,o=void 0===a?[0,50,30,20]:a,d=i.desktopBenchmarkPercentages,f=void 0===d?[0,50,30,20]:d,m=i.forceRendererString,v=void 0===m?"":m,g=i.forceMobile,y=void 0!==g&&g,b=i.glContext,x=i.failIfMajorPerformanceCaveat,w=l||u||y,M=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"FALLBACK";return{tier:"GPU_".concat(w?"MOBILE":"DESKTOP","_TIER_").concat(e),type:t}};if(v)e=v;else{var _=b||function(e){var t={alpha:!1,antialias:!1,depth:!1,failIfMajorPerformanceCaveat:!(arguments.length>1&&void 0!==arguments[1])||arguments[1],powerPreference:"high-performance",stencil:!1};"boolean"!=typeof e&&"Safari"===e.name&&e.version.includes("12")&&delete t.powerPreference;var n=document.createElement("canvas"),r=n.getContext("webgl",t)||n.getContext("experimental-webgl",t);if(r&&r instanceof WebGLRenderingContext)return r}(s,void 0===x||x);if(!_)return M(0,"WEBGL_UNSUPPORTED");e=function(e){var t=e.getExtension("WEBGL_debug_renderer_info");return t&&e.getParameter(t.UNMASKED_RENDERER_WEBGL)}(_)}if(e=function(e){var t=e.toLowerCase();return t.includes("angle (")&&t.includes("direct3d")&&(t=t.replace("angle (","").split(" direct3d")[0]),t.includes("nvidia")&&t.includes("gb")&&(t=t.split(/\dgb/)[0]),t}(e),/(radeon hd 6970m|radeon hd 6770m|radeon hd 6490m|radeon hd 6630m|radeon hd 6750m|radeon hd 5750|radeon hd 5670|radeon hd 4850|radeon hd 4870|radeon hd 4670|geforce 9400m|geforce 320m|geforce 330m|geforce gt 130|geforce gt 120|geforce gtx 285|geforce 8600|geforce 9600m|geforce 9400m|geforce 8800 gs|geforce 8800 gt|quadro fx 5|quadro fx 4|radeon hd 2600|radeon hd 2400|radeon r9 200|mali-4|mali-3|mali-2|google swiftshader|sgx543|legacy|sgx 543)/.test(e))return M(0,"BLACKLISTED");var S=(w?h:p)(function(e,t){var n=0;return t.map((function(t){var r=Math.round(e.length/100*t),i=e.slice(n,n+r);return n+=r,i}))}(w?n:t,w?o:f),e,c(e)),E=r(S,2);return M(E[0],E[1])},Object.defineProperty(e,"__esModule",{value:!0})}(t)},function(e,t,n){"use strict";t.a={transparent:0,aliceblue:4042850303,antiquewhite:4209760255,aqua:16777215,aquamarine:2147472639,azure:4043309055,beige:4126530815,bisque:4293182719,black:255,blanchedalmond:4293643775,blue:65535,blueviolet:2318131967,brown:2771004159,burlywood:3736635391,burntsienna:3934150143,cadetblue:1604231423,chartreuse:2147418367,chocolate:3530104575,coral:4286533887,cornflowerblue:1687547391,cornsilk:4294499583,crimson:3692313855,cyan:16777215,darkblue:35839,darkcyan:9145343,darkgoldenrod:3095792639,darkgray:2846468607,darkgreen:6553855,darkgrey:2846468607,darkkhaki:3182914559,darkmagenta:2332068863,darkolivegreen:1433087999,darkorange:4287365375,darkorchid:2570243327,darkred:2332033279,darksalmon:3918953215,darkseagreen:2411499519,darkslateblue:1211993087,darkslategray:793726975,darkslategrey:793726975,darkturquoise:13554175,darkviolet:2483082239,deeppink:4279538687,deepskyblue:12582911,dimgray:1768516095,dimgrey:1768516095,dodgerblue:512819199,firebrick:2988581631,floralwhite:4294635775,forestgreen:579543807,fuchsia:4278255615,gainsboro:3705462015,ghostwhite:4177068031,gold:4292280575,goldenrod:3668254975,gray:2155905279,green:8388863,greenyellow:2919182335,grey:2155905279,honeydew:4043305215,hotpink:4285117695,indianred:3445382399,indigo:1258324735,ivory:4294963455,khaki:4041641215,lavender:3873897215,lavenderblush:4293981695,lawngreen:2096890111,lemonchiffon:4294626815,lightblue:2916673279,lightcoral:4034953471,lightcyan:3774873599,lightgoldenrodyellow:4210742015,lightgray:3553874943,lightgreen:2431553791,lightgrey:3553874943,lightpink:4290167295,lightsalmon:4288707327,lightseagreen:548580095,lightskyblue:2278488831,lightslategray:2005441023,lightslategrey:2005441023,lightsteelblue:2965692159,lightyellow:4294959359,lime:16711935,limegreen:852308735,linen:4210091775,magenta:4278255615,maroon:2147483903,mediumaquamarine:1724754687,mediumblue:52735,mediumorchid:3126187007,mediumpurple:2473647103,mediumseagreen:1018393087,mediumslateblue:2070474495,mediumspringgreen:16423679,mediumturquoise:1221709055,mediumvioletred:3340076543,midnightblue:421097727,mintcream:4127193855,mistyrose:4293190143,moccasin:4293178879,navajowhite:4292783615,navy:33023,oldlace:4260751103,olive:2155872511,olivedrab:1804477439,orange:4289003775,orangered:4282712319,orchid:3664828159,palegoldenrod:4008225535,palegreen:2566625535,paleturquoise:2951671551,palevioletred:3681588223,papayawhip:4293907967,peachpuff:4292524543,peru:3448061951,pink:4290825215,plum:3718307327,powderblue:2967529215,purple:2147516671,rebeccapurple:1714657791,red:4278190335,rosybrown:3163525119,royalblue:1097458175,saddlebrown:2336560127,salmon:4202722047,sandybrown:4104413439,seagreen:780883967,seashell:4294307583,sienna:2689740287,silver:3233857791,skyblue:2278484991,slateblue:1784335871,slategray:1887473919,slategrey:1887473919,snow:4294638335,springgreen:16744447,steelblue:1182971135,tan:3535047935,teal:8421631,thistle:3636451583,tomato:4284696575,turquoise:1088475391,violet:4001558271,wheat:4125012991,white:4294967295,whitesmoke:4126537215,yellow:4294902015,yellowgreen:2597139199}},function(e,t,n){"use strict";n.d(t,"a",(function(){return Oe}));n(17);var r=n(4),i=n(8),a=n(28),o=n(5),s=n(6),l=(n(52),n(30)),u=n(10),c=n(2),d=n(18),h=n(1),f=n.n(h),p=n(14),m=(n(44),n(0)),v=function(){m.InstancedBufferGeometry.call(this),this.type="LineSegmentsGeometry";this.setIndex([0,2,1,2,3,1,2,4,3,4,5,3,4,6,5,6,7,5]),this.setAttribute("position",new m.Float32BufferAttribute([-1,2,0,1,2,0,-1,1,0,1,1,0,-1,0,0,1,0,0,-1,-1,0,1,-1,0],3)),this.setAttribute("uv",new m.Float32BufferAttribute([-1,2,1,2,-1,1,1,1,-1,-1,1,-1,-1,-2,1,-2],2))};v.prototype=Object.assign(Object.create(m.InstancedBufferGeometry.prototype),{constructor:v,isLineSegmentsGeometry:!0,applyMatrix4:function(e){var t=this.attributes.instanceStart,n=this.attributes.instanceEnd;return void 0!==t&&(t.applyMatrix4(e),n.applyMatrix4(e),t.needsUpdate=!0),null!==this.boundingBox&&this.computeBoundingBox(),null!==this.boundingSphere&&this.computeBoundingSphere(),this},setPositions:function(e){var t;e instanceof Float32Array?t=e:Array.isArray(e)&&(t=new Float32Array(e));var n=new m.InstancedInterleavedBuffer(t,6,1);return this.setAttribute("instanceStart",new m.InterleavedBufferAttribute(n,3,0)),this.setAttribute("instanceEnd",new m.InterleavedBufferAttribute(n,3,3)),this.computeBoundingBox(),this.computeBoundingSphere(),this},setColors:function(e){var t;e instanceof Float32Array?t=e:Array.isArray(e)&&(t=new Float32Array(e));var n=new m.InstancedInterleavedBuffer(t,6,1);return this.setAttribute("instanceColorStart",new m.InterleavedBufferAttribute(n,3,0)),this.setAttribute("instanceColorEnd",new m.InterleavedBufferAttribute(n,3,3)),this},fromWireframeGeometry:function(e){return this.setPositions(e.attributes.position.array),this},fromEdgesGeometry:function(e){return this.setPositions(e.attributes.position.array),this},fromMesh:function(e){return this.fromWireframeGeometry(new m.WireframeGeometry(e.geometry)),this},fromLineSegments:function(e){var t=e.geometry;return t.isGeometry?this.setPositions(t.vertices):t.isBufferGeometry&&this.setPositions(t.attributes.position.array),this},computeBoundingBox:function(){var e=new m.Box3;return function(){null===this.boundingBox&&(this.boundingBox=new m.Box3);var t=this.attributes.instanceStart,n=this.attributes.instanceEnd;void 0!==t&&void 0!==n&&(this.boundingBox.setFromBufferAttribute(t),e.setFromBufferAttribute(n),this.boundingBox.union(e))}}(),computeBoundingSphere:function(){var e=new m.Vector3;return function(){null===this.boundingSphere&&(this.boundingSphere=new m.Sphere),null===this.boundingBox&&this.computeBoundingBox();var t=this.attributes.instanceStart,n=this.attributes.instanceEnd;if(void 0!==t&&void 0!==n){var r=this.boundingSphere.center;this.boundingBox.getCenter(r);for(var i=0,a=0,o=t.count;a<o;a++)e.fromBufferAttribute(t,a),i=Math.max(i,r.distanceToSquared(e)),e.fromBufferAttribute(n,a),i=Math.max(i,r.distanceToSquared(e));this.boundingSphere.radius=Math.sqrt(i),isNaN(this.boundingSphere.radius)&&console.error("THREE.LineSegmentsGeometry.computeBoundingSphere(): Computed radius is NaN. The instanced position data is likely to have NaN values.",this)}}}(),toJSON:function(){},applyMatrix:function(e){return console.warn("THREE.LineSegmentsGeometry: applyMatrix() has been renamed to applyMatrix4()."),this.applyMatrix4(e)}});var g=function(){v.call(this),this.type="LineGeometry"};g.prototype=Object.assign(Object.create(v.prototype),{constructor:g,isLineGeometry:!0,setPositions:function(e){for(var t=e.length-3,n=new Float32Array(2*t),r=0;r<t;r+=3)n[2*r]=e[r],n[2*r+1]=e[r+1],n[2*r+2]=e[r+2],n[2*r+3]=e[r+3],n[2*r+4]=e[r+4],n[2*r+5]=e[r+5];return v.prototype.setPositions.call(this,n),this},setColors:function(e){for(var t=e.length-3,n=new Float32Array(2*t),r=0;r<t;r+=3)n[2*r]=e[r],n[2*r+1]=e[r+1],n[2*r+2]=e[r+2],n[2*r+3]=e[r+3],n[2*r+4]=e[r+4],n[2*r+5]=e[r+5];return v.prototype.setColors.call(this,n),this},fromLine:function(e){var t=e.geometry;return t.isGeometry?this.setPositions(t.vertices):t.isBufferGeometry&&this.setPositions(t.attributes.position.array),this},copy:function(){return this}}),m.UniformsLib.line={linewidth:{value:1},resolution:{value:new m.Vector2(1,1)},dashScale:{value:1},dashSize:{value:1},dashOffset:{value:0},gapSize:{value:1},opacity:{value:1}},m.ShaderLib.line={uniforms:m.UniformsUtils.merge([m.UniformsLib.common,m.UniformsLib.fog,m.UniformsLib.line]),vertexShader:"\n\t\t#include <common>\n\t\t#include <color_pars_vertex>\n\t\t#include <fog_pars_vertex>\n\t\t#include <logdepthbuf_pars_vertex>\n\t\t#include <clipping_planes_pars_vertex>\n\n\t\tuniform float linewidth;\n\t\tuniform vec2 resolution;\n\n\t\tattribute vec3 instanceStart;\n\t\tattribute vec3 instanceEnd;\n\n\t\tattribute vec3 instanceColorStart;\n\t\tattribute vec3 instanceColorEnd;\n\n\t\tvarying vec2 vUv;\n\n\t\t#ifdef USE_DASH\n\n\t\t\tuniform float dashScale;\n\t\t\tattribute float instanceDistanceStart;\n\t\t\tattribute float instanceDistanceEnd;\n\t\t\tvarying float vLineDistance;\n\n\t\t#endif\n\n\t\tvoid trimSegment( const in vec4 start, inout vec4 end ) {\n\n\t\t\t// trim end segment so it terminates between the camera plane and the near plane\n\n\t\t\t// conservative estimate of the near plane\n\t\t\tfloat a = projectionMatrix[ 2 ][ 2 ]; // 3nd entry in 3th column\n\t\t\tfloat b = projectionMatrix[ 3 ][ 2 ]; // 3nd entry in 4th column\n\t\t\tfloat nearEstimate = - 0.5 * b / a;\n\n\t\t\tfloat alpha = ( nearEstimate - start.z ) / ( end.z - start.z );\n\n\t\t\tend.xyz = mix( start.xyz, end.xyz, alpha );\n\n\t\t}\n\n\t\tvoid main() {\n\n\t\t\t#ifdef USE_COLOR\n\n\t\t\t\tvColor.xyz = ( position.y < 0.5 ) ? instanceColorStart : instanceColorEnd;\n\n\t\t\t#endif\n\n\t\t\t#ifdef USE_DASH\n\n\t\t\t\tvLineDistance = ( position.y < 0.5 ) ? dashScale * instanceDistanceStart : dashScale * instanceDistanceEnd;\n\n\t\t\t#endif\n\n\t\t\tfloat aspect = resolution.x / resolution.y;\n\n\t\t\tvUv = uv;\n\n\t\t\t// camera space\n\t\t\tvec4 start = modelViewMatrix * vec4( instanceStart, 1.0 );\n\t\t\tvec4 end = modelViewMatrix * vec4( instanceEnd, 1.0 );\n\n\t\t\t// special case for perspective projection, and segments that terminate either in, or behind, the camera plane\n\t\t\t// clearly the gpu firmware has a way of addressing this issue when projecting into ndc space\n\t\t\t// but we need to perform ndc-space calculations in the shader, so we must address this issue directly\n\t\t\t// perhaps there is a more elegant solution -- WestLangley\n\n\t\t\tbool perspective = ( projectionMatrix[ 2 ][ 3 ] == - 1.0 ); // 4th entry in the 3rd column\n\n\t\t\tif ( perspective ) {\n\n\t\t\t\tif ( start.z < 0.0 && end.z >= 0.0 ) {\n\n\t\t\t\t\ttrimSegment( start, end );\n\n\t\t\t\t} else if ( end.z < 0.0 && start.z >= 0.0 ) {\n\n\t\t\t\t\ttrimSegment( end, start );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\t// clip space\n\t\t\tvec4 clipStart = projectionMatrix * start;\n\t\t\tvec4 clipEnd = projectionMatrix * end;\n\n\t\t\t// ndc space\n\t\t\tvec2 ndcStart = clipStart.xy / clipStart.w;\n\t\t\tvec2 ndcEnd = clipEnd.xy / clipEnd.w;\n\n\t\t\t// direction\n\t\t\tvec2 dir = ndcEnd - ndcStart;\n\n\t\t\t// account for clip-space aspect ratio\n\t\t\tdir.x *= aspect;\n\t\t\tdir = normalize( dir );\n\n\t\t\t// perpendicular to dir\n\t\t\tvec2 offset = vec2( dir.y, - dir.x );\n\n\t\t\t// undo aspect ratio adjustment\n\t\t\tdir.x /= aspect;\n\t\t\toffset.x /= aspect;\n\n\t\t\t// sign flip\n\t\t\tif ( position.x < 0.0 ) offset *= - 1.0;\n\n\t\t\t// endcaps\n\t\t\tif ( position.y < 0.0 ) {\n\n\t\t\t\toffset += - dir;\n\n\t\t\t} else if ( position.y > 1.0 ) {\n\n\t\t\t\toffset += dir;\n\n\t\t\t}\n\n\t\t\t// adjust for linewidth\n\t\t\toffset *= linewidth;\n\n\t\t\t// adjust for clip-space to screen-space conversion // maybe resolution should be based on viewport ...\n\t\t\toffset /= resolution.y;\n\n\t\t\t// select end\n\t\t\tvec4 clip = ( position.y < 0.5 ) ? clipStart : clipEnd;\n\n\t\t\t// back to clip space\n\t\t\toffset *= clip.w;\n\n\t\t\tclip.xy += offset;\n\n\t\t\tgl_Position = clip;\n\n\t\t\tvec4 mvPosition = ( position.y < 0.5 ) ? start : end; // this is an approximation\n\n\t\t\t#include <logdepthbuf_vertex>\n\t\t\t#include <clipping_planes_vertex>\n\t\t\t#include <fog_vertex>\n\n\t\t}\n\t\t",fragmentShader:"\n\t\tuniform vec3 diffuse;\n\t\tuniform float opacity;\n\n\t\t#ifdef USE_DASH\n\n\t\t\tuniform float dashSize;\n\t\t\tuniform float dashOffset;\n\t\t\tuniform float gapSize;\n\n\t\t#endif\n\n\t\tvarying float vLineDistance;\n\n\t\t#include <common>\n\t\t#include <color_pars_fragment>\n\t\t#include <fog_pars_fragment>\n\t\t#include <logdepthbuf_pars_fragment>\n\t\t#include <clipping_planes_pars_fragment>\n\n\t\tvarying vec2 vUv;\n\n\t\tvoid main() {\n\n\t\t\t#include <clipping_planes_fragment>\n\n\t\t\t#ifdef USE_DASH\n\n\t\t\t\tif ( vUv.y < - 1.0 || vUv.y > 1.0 ) discard; // discard endcaps\n\n\t\t\t\tif ( mod( vLineDistance + dashOffset, dashSize + gapSize ) > dashSize ) discard; // todo - FIX\n\n\t\t\t#endif\n\n\t\t\tif ( abs( vUv.y ) > 1.0 ) {\n\n\t\t\t\tfloat a = vUv.x;\n\t\t\t\tfloat b = ( vUv.y > 0.0 ) ? vUv.y - 1.0 : vUv.y + 1.0;\n\t\t\t\tfloat len2 = a * a + b * b;\n\n\t\t\t\tif ( len2 > 1.0 ) discard;\n\n\t\t\t}\n\n\t\t\tvec4 diffuseColor = vec4( diffuse, opacity );\n\n\t\t\t#include <logdepthbuf_fragment>\n\t\t\t#include <color_fragment>\n\n\t\t\tgl_FragColor = vec4( diffuseColor.rgb, diffuseColor.a );\n\n\t\t\t#include <tonemapping_fragment>\n\t\t\t#include <encodings_fragment>\n\t\t\t#include <fog_fragment>\n\t\t\t#include <premultiplied_alpha_fragment>\n\n\t\t}\n\t\t"};var y=function(e){m.ShaderMaterial.call(this,{type:"LineMaterial",uniforms:m.UniformsUtils.clone(m.ShaderLib.line.uniforms),vertexShader:m.ShaderLib.line.vertexShader,fragmentShader:m.ShaderLib.line.fragmentShader,clipping:!0}),this.dashed=!1,Object.defineProperties(this,{color:{enumerable:!0,get:function(){return this.uniforms.diffuse.value},set:function(e){this.uniforms.diffuse.value=e}},linewidth:{enumerable:!0,get:function(){return this.uniforms.linewidth.value},set:function(e){this.uniforms.linewidth.value=e}},dashScale:{enumerable:!0,get:function(){return this.uniforms.dashScale.value},set:function(e){this.uniforms.dashScale.value=e}},dashSize:{enumerable:!0,get:function(){return this.uniforms.dashSize.value},set:function(e){this.uniforms.dashSize.value=e}},dashOffset:{enumerable:!0,get:function(){return this.uniforms.dashOffset.value},set:function(e){this.uniforms.dashOffset.value=e}},gapSize:{enumerable:!0,get:function(){return this.uniforms.gapSize.value},set:function(e){this.uniforms.gapSize.value=e}},opacity:{enumerable:!0,get:function(){return this.uniforms.opacity.value},set:function(e){this.uniforms.opacity.value=e}},resolution:{enumerable:!0,get:function(){return this.uniforms.resolution.value},set:function(e){this.uniforms.resolution.value.copy(e)}}}),this.setValues(e)};(y.prototype=Object.create(m.ShaderMaterial.prototype)).constructor=y,y.prototype.isLineMaterial=!0;var b=function(e,t){void 0===e&&(e=new v),void 0===t&&(t=new y({color:16777215*Math.random()})),m.Mesh.call(this,e,t),this.type="LineSegments2"};b.prototype=Object.assign(Object.create(m.Mesh.prototype),{constructor:b,isLineSegments2:!0,computeLineDistances:function(){var e=new m.Vector3,t=new m.Vector3;return function(){for(var n=this.geometry,r=n.attributes.instanceStart,i=n.attributes.instanceEnd,a=new Float32Array(2*r.data.count),o=0,s=0,l=r.data.count;o<l;o++,s+=2)e.fromBufferAttribute(r,o),t.fromBufferAttribute(i,o),a[s]=0===s?0:a[s-1],a[s+1]=a[s]+e.distanceTo(t);var u=new m.InstancedInterleavedBuffer(a,2,1);return n.setAttribute("instanceDistanceStart",new m.InterleavedBufferAttribute(u,1,0)),n.setAttribute("instanceDistanceEnd",new m.InterleavedBufferAttribute(u,1,1)),this}}(),raycast:function(){var e=new m.Vector4,t=new m.Vector4,n=new m.Vector4,r=new m.Vector3,i=new m.Matrix4,a=new m.Line3,o=new m.Vector3;return function(s,l){null===s.camera&&console.error('LineSegments2: "Raycaster.camera" needs to be set in order to raycast against LineSegments2.');var u=void 0!==s.params.Line2&&s.params.Line2.threshold||0,c=s.ray,d=s.camera,h=d.projectionMatrix,f=this.geometry,p=this.material,v=p.resolution,g=p.linewidth+u,y=f.attributes.instanceStart,b=f.attributes.instanceEnd;c.at(1,n),n.w=1,n.applyMatrix4(d.matrixWorldInverse),n.applyMatrix4(h),n.multiplyScalar(1/n.w),n.x*=v.x/2,n.y*=v.y/2,n.z=0,r.copy(n);var x=this.matrixWorld;i.multiplyMatrices(d.matrixWorldInverse,x);for(var w=0,M=y.count;w<M;w++){e.fromBufferAttribute(y,w),t.fromBufferAttribute(b,w),e.w=1,t.w=1,e.applyMatrix4(i),t.applyMatrix4(i),e.applyMatrix4(h),t.applyMatrix4(h),e.multiplyScalar(1/e.w),t.multiplyScalar(1/t.w);var _=e.z<-1&&t.z<-1,S=e.z>1&&t.z>1;if(!_&&!S){e.x*=v.x/2,e.y*=v.y/2,t.x*=v.x/2,t.y*=v.y/2,a.start.copy(e),a.start.z=0,a.end.copy(t),a.end.z=0;var E=a.closestPointToPointParameter(r,!0);a.at(E,o);var T=m.MathUtils.lerp(e.z,t.z,E),A=T>=-1&&T<=1,R=r.distanceTo(o)<.5*g;if(A&&R){a.start.fromBufferAttribute(y,w),a.end.fromBufferAttribute(b,w),a.start.applyMatrix4(x),a.end.applyMatrix4(x);var O=new m.Vector3,k=new m.Vector3;c.distanceSqToSegment(a.start,a.end,k,O),l.push({point:k,pointOnLine:O,distance:c.origin.distanceTo(k),object:this,face:null,faceIndex:w,uv:null,uv2:null})}}}}}()});var x=function(e,t){void 0===e&&(e=new g),void 0===t&&(t=new y({color:16777215*Math.random()})),b.call(this,e,t),this.type="Line2"};x.prototype=Object.assign(Object.create(b.prototype),{constructor:x,isLine2:!0});n(90);var w=function(e){var t=this,n={type:"change"};this.object=e,this.object.rotation.reorder("YXZ"),this.enabled=!0,this.deviceOrientation={},this.screenOrientation=0,this.alphaOffset=0;var r=function(e){t.deviceOrientation=e},i=function(){t.screenOrientation=window.orientation||0},a=function(){var e=new m.Vector3(0,0,1),t=new m.Euler,n=new m.Quaternion,r=new m.Quaternion(-Math.sqrt(.5),0,0,Math.sqrt(.5));return function(i,a,o,s,l){t.set(o,a,-s,"YXZ"),i.setFromEuler(t),i.multiply(r),i.multiply(n.setFromAxisAngle(e,-l))}}();this.connect=function(){i(),void 0!==window.DeviceOrientationEvent&&"function"===typeof window.DeviceOrientationEvent.requestPermission?window.DeviceOrientationEvent.requestPermission().then((function(e){"granted"==e&&(window.addEventListener("orientationchange",i,!1),window.addEventListener("deviceorientation",r,!1))})).catch((function(e){console.error("THREE.DeviceOrientationControls: Unable to use DeviceOrientation API:",e)})):(window.addEventListener("orientationchange",i,!1),window.addEventListener("deviceorientation",r,!1)),t.enabled=!0},this.disconnect=function(){window.removeEventListener("orientationchange",i,!1),window.removeEventListener("deviceorientation",r,!1),t.enabled=!1},this.update=function(){var e=new m.Quaternion;return function(){if(!1!==t.enabled){var r=t.deviceOrientation;if(r){var i=r.alpha?m.MathUtils.degToRad(r.alpha)+t.alphaOffset:0,o=r.beta?m.MathUtils.degToRad(r.beta):0,s=r.gamma?m.MathUtils.degToRad(r.gamma):0,l=t.screenOrientation?m.MathUtils.degToRad(t.screenOrientation):0;a(t.object.quaternion,i,o,s,l),8*(1-e.dot(t.object.quaternion))>1e-6&&(e.copy(t.object.quaternion),t.dispatchEvent(n))}}}}(),this.dispose=function(){t.disconnect()},this.connect()};(w.prototype=Object.create(m.EventDispatcher.prototype)).constructor=w;var M=function(e,t){void 0===t&&(console.warn('THREE.FlyControls: The second parameter "domElement" is now mandatory.'),t=document),this.object=e,this.domElement=t,t&&this.domElement.setAttribute("tabindex",-1),this.movementSpeed=1,this.rollSpeed=.005,this.dragToLook=!1,this.autoForward=!1;var n=this,r={type:"change"},i=1e-6;function a(e,t){return function(){t.apply(e,arguments)}}function o(e){e.preventDefault()}this.tmpQuaternion=new m.Quaternion,this.mouseStatus=0,this.moveState={up:0,down:0,left:0,right:0,forward:0,back:0,pitchUp:0,pitchDown:0,yawLeft:0,yawRight:0,rollLeft:0,rollRight:0},this.moveVector=new m.Vector3(0,0,0),this.rotationVector=new m.Vector3(0,0,0),this.keydown=function(e){if(!e.altKey){switch(e.keyCode){case 16:this.movementSpeedMultiplier=.1;break;case 87:this.moveState.forward=1;break;case 83:this.moveState.back=1;break;case 65:this.moveState.left=1;break;case 68:this.moveState.right=1;break;case 82:this.moveState.up=1;break;case 70:this.moveState.down=1;break;case 38:this.moveState.pitchUp=1;break;case 40:this.moveState.pitchDown=1;break;case 37:this.moveState.yawLeft=1;break;case 39:this.moveState.yawRight=1;break;case 81:this.moveState.rollLeft=1;break;case 69:this.moveState.rollRight=1}this.updateMovementVector(),this.updateRotationVector()}},this.keyup=function(e){switch(e.keyCode){case 16:this.movementSpeedMultiplier=1;break;case 87:this.moveState.forward=0;break;case 83:this.moveState.back=0;break;case 65:this.moveState.left=0;break;case 68:this.moveState.right=0;break;case 82:this.moveState.up=0;break;case 70:this.moveState.down=0;break;case 38:this.moveState.pitchUp=0;break;case 40:this.moveState.pitchDown=0;break;case 37:this.moveState.yawLeft=0;break;case 39:this.moveState.yawRight=0;break;case 81:this.moveState.rollLeft=0;break;case 69:this.moveState.rollRight=0}this.updateMovementVector(),this.updateRotationVector()},this.mousedown=function(e){if(this.domElement!==document&&this.domElement.focus(),e.preventDefault(),e.stopPropagation(),this.dragToLook)this.mouseStatus++;else{switch(e.button){case 0:this.moveState.forward=1;break;case 2:this.moveState.back=1}this.updateMovementVector()}},this.mousemove=function(e){if(!this.dragToLook||this.mouseStatus>0){var t=this.getContainerDimensions(),n=t.size[0]/2,r=t.size[1]/2;this.moveState.yawLeft=-(e.pageX-t.offset[0]-n)/n,this.moveState.pitchDown=(e.pageY-t.offset[1]-r)/r,this.updateRotationVector()}},this.mouseup=function(e){if(e.preventDefault(),e.stopPropagation(),this.dragToLook)this.mouseStatus--,this.moveState.yawLeft=this.moveState.pitchDown=0;else{switch(e.button){case 0:this.moveState.forward=0;break;case 2:this.moveState.back=0}this.updateMovementVector()}this.updateRotationVector()},this.update=function(){var e=new m.Quaternion,t=new m.Vector3;return function(a){var o=a*n.movementSpeed,s=a*n.rollSpeed;n.object.translateX(n.moveVector.x*o),n.object.translateY(n.moveVector.y*o),n.object.translateZ(n.moveVector.z*o),n.tmpQuaternion.set(n.rotationVector.x*s,n.rotationVector.y*s,n.rotationVector.z*s,1).normalize(),n.object.quaternion.multiply(n.tmpQuaternion),(t.distanceToSquared(n.object.position)>i||8*(1-e.dot(n.object.quaternion))>i)&&(n.dispatchEvent(r),e.copy(n.object.quaternion),t.copy(n.object.position))}}(),this.updateMovementVector=function(){var e=this.moveState.forward||this.autoForward&&!this.moveState.back?1:0;this.moveVector.x=-this.moveState.left+this.moveState.right,this.moveVector.y=-this.moveState.down+this.moveState.up,this.moveVector.z=-e+this.moveState.back},this.updateRotationVector=function(){this.rotationVector.x=-this.moveState.pitchDown+this.moveState.pitchUp,this.rotationVector.y=-this.moveState.yawRight+this.moveState.yawLeft,this.rotationVector.z=-this.moveState.rollRight+this.moveState.rollLeft},this.getContainerDimensions=function(){return this.domElement!=document?{size:[this.domElement.offsetWidth,this.domElement.offsetHeight],offset:[this.domElement.offsetLeft,this.domElement.offsetTop]}:{size:[window.innerWidth,window.innerHeight],offset:[0,0]}},this.dispose=function(){this.domElement.removeEventListener("contextmenu",o,!1),this.domElement.removeEventListener("mousedown",l,!1),this.domElement.removeEventListener("mousemove",s,!1),this.domElement.removeEventListener("mouseup",u,!1),window.removeEventListener("keydown",c,!1),window.removeEventListener("keyup",d,!1)};var s=a(this,this.mousemove),l=a(this,this.mousedown),u=a(this,this.mouseup),c=a(this,this.keydown),d=a(this,this.keyup);this.domElement.addEventListener("contextmenu",o,!1),this.domElement.addEventListener("mousemove",s,!1),this.domElement.addEventListener("mousedown",l,!1),this.domElement.addEventListener("mouseup",u,!1),window.addEventListener("keydown",c,!1),window.addEventListener("keyup",d,!1),this.updateMovementVector(),this.updateRotationVector()};(M.prototype=Object.create(m.EventDispatcher.prototype)).constructor=M;var _=function(e,t){void 0===t&&console.warn('THREE.OrbitControls: The second parameter "domElement" is now mandatory.'),t===document&&console.error('THREE.OrbitControls: "document" should not be used as the target "domElement". Please use "renderer.domElement" instead.'),this.object=e,this.domElement=t,this.enabled=!0,this.target=new m.Vector3,this.minDistance=0,this.maxDistance=1/0,this.minZoom=0,this.maxZoom=1/0,this.minPolarAngle=0,this.maxPolarAngle=Math.PI,this.minAzimuthAngle=-1/0,this.maxAzimuthAngle=1/0,this.enableDamping=!1,this.dampingFactor=.05,this.enableZoom=!0,this.zoomSpeed=1,this.enableRotate=!0,this.rotateSpeed=1,this.enablePan=!0,this.panSpeed=1,this.screenSpacePanning=!0,this.keyPanSpeed=7,this.autoRotate=!1,this.autoRotateSpeed=2,this.enableKeys=!0,this.keys={LEFT:37,UP:38,RIGHT:39,BOTTOM:40},this.mouseButtons={LEFT:m.MOUSE.ROTATE,MIDDLE:m.MOUSE.DOLLY,RIGHT:m.MOUSE.PAN},this.touches={ONE:m.TOUCH.ROTATE,TWO:m.TOUCH.DOLLY_PAN},this.target0=this.target.clone(),this.position0=this.object.position.clone(),this.zoom0=this.object.zoom,this.getPolarAngle=function(){return u.phi},this.getAzimuthalAngle=function(){return u.theta},this.saveState=function(){n.target0.copy(n.target),n.position0.copy(n.object.position),n.zoom0=n.object.zoom},this.reset=function(){n.target.copy(n.target0),n.object.position.copy(n.position0),n.object.zoom=n.zoom0,n.object.updateProjectionMatrix(),n.dispatchEvent(r),n.update(),s=o.NONE},this.update=function(){var t=new m.Vector3,i=(new m.Quaternion).setFromUnitVectors(e.up,new m.Vector3(0,1,0)),a=i.clone().invert(),p=new m.Vector3,v=new m.Quaternion,g=2*Math.PI;return function(){var e=n.object.position;t.copy(e).sub(n.target),t.applyQuaternion(i),u.setFromVector3(t),n.autoRotate&&s===o.NONE&&E(2*Math.PI/60/60*n.autoRotateSpeed),n.enableDamping?(u.theta+=c.theta*n.dampingFactor,u.phi+=c.phi*n.dampingFactor):(u.theta+=c.theta,u.phi+=c.phi);var m=n.minAzimuthAngle,y=n.maxAzimuthAngle;return isFinite(m)&&isFinite(y)&&(m<-Math.PI?m+=g:m>Math.PI&&(m-=g),y<-Math.PI?y+=g:y>Math.PI&&(y-=g),u.theta=m<=y?Math.max(m,Math.min(y,u.theta)):u.theta>(m+y)/2?Math.max(m,u.theta):Math.min(y,u.theta)),u.phi=Math.max(n.minPolarAngle,Math.min(n.maxPolarAngle,u.phi)),u.makeSafe(),u.radius*=d,u.radius=Math.max(n.minDistance,Math.min(n.maxDistance,u.radius)),!0===n.enableDamping?n.target.addScaledVector(h,n.dampingFactor):n.target.add(h),t.setFromSpherical(u),t.applyQuaternion(a),e.copy(n.target).add(t),n.object.lookAt(n.target),!0===n.enableDamping?(c.theta*=1-n.dampingFactor,c.phi*=1-n.dampingFactor,h.multiplyScalar(1-n.dampingFactor)):(c.set(0,0,0),h.set(0,0,0)),d=1,!!(f||p.distanceToSquared(n.object.position)>l||8*(1-v.dot(n.object.quaternion))>l)&&(n.dispatchEvent(r),p.copy(n.object.position),v.copy(n.object.quaternion),f=!1,!0)}}(),this.dispose=function(){n.domElement.removeEventListener("contextmenu",Y,!1),n.domElement.removeEventListener("pointerdown",U,!1),n.domElement.removeEventListener("wheel",V,!1),n.domElement.removeEventListener("touchstart",W,!1),n.domElement.removeEventListener("touchend",q,!1),n.domElement.removeEventListener("touchmove",X,!1),n.domElement.ownerDocument.removeEventListener("pointermove",z,!1),n.domElement.ownerDocument.removeEventListener("pointerup",B,!1),n.domElement.removeEventListener("keydown",H,!1)};var n=this,r={type:"change"},i={type:"start"},a={type:"end"},o={NONE:-1,ROTATE:0,DOLLY:1,PAN:2,TOUCH_ROTATE:3,TOUCH_PAN:4,TOUCH_DOLLY_PAN:5,TOUCH_DOLLY_ROTATE:6},s=o.NONE,l=1e-6,u=new m.Spherical,c=new m.Spherical,d=1,h=new m.Vector3,f=!1,p=new m.Vector2,v=new m.Vector2,g=new m.Vector2,y=new m.Vector2,b=new m.Vector2,x=new m.Vector2,w=new m.Vector2,M=new m.Vector2,_=new m.Vector2;function S(){return Math.pow(.95,n.zoomSpeed)}function E(e){c.theta-=e}function T(e){c.phi-=e}var A=function(){var e=new m.Vector3;return function(t,n){e.setFromMatrixColumn(n,0),e.multiplyScalar(-t),h.add(e)}}(),R=function(){var e=new m.Vector3;return function(t,r){!0===n.screenSpacePanning?e.setFromMatrixColumn(r,1):(e.setFromMatrixColumn(r,0),e.crossVectors(n.object.up,e)),e.multiplyScalar(t),h.add(e)}}(),O=function(){var e=new m.Vector3;return function(t,r){var i=n.domElement;if(n.object.isPerspectiveCamera){var a=n.object.position;e.copy(a).sub(n.target);var o=e.length();o*=Math.tan(n.object.fov/2*Math.PI/180),A(2*t*o/i.clientHeight,n.object.matrix),R(2*r*o/i.clientHeight,n.object.matrix)}else n.object.isOrthographicCamera?(A(t*(n.object.right-n.object.left)/n.object.zoom/i.clientWidth,n.object.matrix),R(r*(n.object.top-n.object.bottom)/n.object.zoom/i.clientHeight,n.object.matrix)):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - pan disabled."),n.enablePan=!1)}}();function k(e){n.object.isPerspectiveCamera?d/=e:n.object.isOrthographicCamera?(n.object.zoom=Math.max(n.minZoom,Math.min(n.maxZoom,n.object.zoom*e)),n.object.updateProjectionMatrix(),f=!0):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),n.enableZoom=!1)}function I(e){n.object.isPerspectiveCamera?d*=e:n.object.isOrthographicCamera?(n.object.zoom=Math.max(n.minZoom,Math.min(n.maxZoom,n.object.zoom/e)),n.object.updateProjectionMatrix(),f=!0):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),n.enableZoom=!1)}function C(e){p.set(e.clientX,e.clientY)}function D(e){y.set(e.clientX,e.clientY)}function L(e){if(1==e.touches.length)p.set(e.touches[0].pageX,e.touches[0].pageY);else{var t=.5*(e.touches[0].pageX+e.touches[1].pageX),n=.5*(e.touches[0].pageY+e.touches[1].pageY);p.set(t,n)}}function P(e){if(1==e.touches.length)y.set(e.touches[0].pageX,e.touches[0].pageY);else{var t=.5*(e.touches[0].pageX+e.touches[1].pageX),n=.5*(e.touches[0].pageY+e.touches[1].pageY);y.set(t,n)}}function N(e){var t=e.touches[0].pageX-e.touches[1].pageX,n=e.touches[0].pageY-e.touches[1].pageY,r=Math.sqrt(t*t+n*n);w.set(0,r)}function j(e){if(1==e.touches.length)v.set(e.touches[0].pageX,e.touches[0].pageY);else{var t=.5*(e.touches[0].pageX+e.touches[1].pageX),r=.5*(e.touches[0].pageY+e.touches[1].pageY);v.set(t,r)}g.subVectors(v,p).multiplyScalar(n.rotateSpeed);var i=n.domElement;E(2*Math.PI*g.x/i.clientHeight),T(2*Math.PI*g.y/i.clientHeight),p.copy(v)}function F(e){if(1==e.touches.length)b.set(e.touches[0].pageX,e.touches[0].pageY);else{var t=.5*(e.touches[0].pageX+e.touches[1].pageX),r=.5*(e.touches[0].pageY+e.touches[1].pageY);b.set(t,r)}x.subVectors(b,y).multiplyScalar(n.panSpeed),O(x.x,x.y),y.copy(b)}function G(e){var t=e.touches[0].pageX-e.touches[1].pageX,r=e.touches[0].pageY-e.touches[1].pageY,i=Math.sqrt(t*t+r*r);M.set(0,i),_.set(0,Math.pow(M.y/w.y,n.zoomSpeed)),k(_.y),w.copy(M)}function U(e){if(!1!==n.enabled)switch(e.pointerType){case"mouse":case"pen":!function(e){var t;switch(e.preventDefault(),n.domElement.focus?n.domElement.focus():window.focus(),e.button){case 0:t=n.mouseButtons.LEFT;break;case 1:t=n.mouseButtons.MIDDLE;break;case 2:t=n.mouseButtons.RIGHT;break;default:t=-1}switch(t){case m.MOUSE.DOLLY:if(!1===n.enableZoom)return;!function(e){w.set(e.clientX,e.clientY)}(e),s=o.DOLLY;break;case m.MOUSE.ROTATE:if(e.ctrlKey||e.metaKey||e.shiftKey){if(!1===n.enablePan)return;D(e),s=o.PAN}else{if(!1===n.enableRotate)return;C(e),s=o.ROTATE}break;case m.MOUSE.PAN:if(e.ctrlKey||e.metaKey||e.shiftKey){if(!1===n.enableRotate)return;C(e),s=o.ROTATE}else{if(!1===n.enablePan)return;D(e),s=o.PAN}break;default:s=o.NONE}s!==o.NONE&&(n.domElement.ownerDocument.addEventListener("pointermove",z,!1),n.domElement.ownerDocument.addEventListener("pointerup",B,!1),n.dispatchEvent(i))}(e)}}function z(e){if(!1!==n.enabled)switch(e.pointerType){case"mouse":case"pen":!function(e){if(!1===n.enabled)return;switch(e.preventDefault(),s){case o.ROTATE:if(!1===n.enableRotate)return;!function(e){v.set(e.clientX,e.clientY),g.subVectors(v,p).multiplyScalar(n.rotateSpeed);var t=n.domElement;E(2*Math.PI*g.x/t.clientHeight),T(2*Math.PI*g.y/t.clientHeight),p.copy(v),n.update()}(e);break;case o.DOLLY:if(!1===n.enableZoom)return;!function(e){M.set(e.clientX,e.clientY),_.subVectors(M,w),_.y>0?k(S()):_.y<0&&I(S()),w.copy(M),n.update()}(e);break;case o.PAN:if(!1===n.enablePan)return;!function(e){b.set(e.clientX,e.clientY),x.subVectors(b,y).multiplyScalar(n.panSpeed),O(x.x,x.y),y.copy(b),n.update()}(e)}}(e)}}function B(e){switch(e.pointerType){case"mouse":case"pen":!function(e){if(n.domElement.ownerDocument.removeEventListener("pointermove",z,!1),n.domElement.ownerDocument.removeEventListener("pointerup",B,!1),!1===n.enabled)return;n.dispatchEvent(a),s=o.NONE}()}}function V(e){!1===n.enabled||!1===n.enableZoom||s!==o.NONE&&s!==o.ROTATE||(e.preventDefault(),e.stopPropagation(),n.dispatchEvent(i),function(e){e.deltaY<0?I(S()):e.deltaY>0&&k(S()),n.update()}(e),n.dispatchEvent(a))}function H(e){!1!==n.enabled&&!1!==n.enableKeys&&!1!==n.enablePan&&function(e){var t=!1;switch(e.keyCode){case n.keys.UP:O(0,n.keyPanSpeed),t=!0;break;case n.keys.BOTTOM:O(0,-n.keyPanSpeed),t=!0;break;case n.keys.LEFT:O(n.keyPanSpeed,0),t=!0;break;case n.keys.RIGHT:O(-n.keyPanSpeed,0),t=!0}t&&(e.preventDefault(),n.update())}(e)}function W(e){if(!1!==n.enabled){switch(e.preventDefault(),e.touches.length){case 1:switch(n.touches.ONE){case m.TOUCH.ROTATE:if(!1===n.enableRotate)return;L(e),s=o.TOUCH_ROTATE;break;case m.TOUCH.PAN:if(!1===n.enablePan)return;P(e),s=o.TOUCH_PAN;break;default:s=o.NONE}break;case 2:switch(n.touches.TWO){case m.TOUCH.DOLLY_PAN:if(!1===n.enableZoom&&!1===n.enablePan)return;!function(e){n.enableZoom&&N(e),n.enablePan&&P(e)}(e),s=o.TOUCH_DOLLY_PAN;break;case m.TOUCH.DOLLY_ROTATE:if(!1===n.enableZoom&&!1===n.enableRotate)return;!function(e){n.enableZoom&&N(e),n.enableRotate&&L(e)}(e),s=o.TOUCH_DOLLY_ROTATE;break;default:s=o.NONE}break;default:s=o.NONE}s!==o.NONE&&n.dispatchEvent(i)}}function X(e){if(!1!==n.enabled)switch(e.preventDefault(),e.stopPropagation(),s){case o.TOUCH_ROTATE:if(!1===n.enableRotate)return;j(e),n.update();break;case o.TOUCH_PAN:if(!1===n.enablePan)return;F(e),n.update();break;case o.TOUCH_DOLLY_PAN:if(!1===n.enableZoom&&!1===n.enablePan)return;!function(e){n.enableZoom&&G(e),n.enablePan&&F(e)}(e),n.update();break;case o.TOUCH_DOLLY_ROTATE:if(!1===n.enableZoom&&!1===n.enableRotate)return;!function(e){n.enableZoom&&G(e),n.enableRotate&&j(e)}(e),n.update();break;default:s=o.NONE}}function q(e){!1!==n.enabled&&(n.dispatchEvent(a),s=o.NONE)}function Y(e){!1!==n.enabled&&e.preventDefault()}n.domElement.addEventListener("contextmenu",Y,!1),n.domElement.addEventListener("pointerdown",U,!1),n.domElement.addEventListener("wheel",V,!1),n.domElement.addEventListener("touchstart",W,!1),n.domElement.addEventListener("touchend",q,!1),n.domElement.addEventListener("touchmove",X,!1),n.domElement.addEventListener("keydown",H,!1),this.update()};(_.prototype=Object.create(m.EventDispatcher.prototype)).constructor=_;var S=function(e,t){_.call(this,e,t),this.screenSpacePanning=!1,this.mouseButtons.LEFT=m.MOUSE.PAN,this.mouseButtons.RIGHT=m.MOUSE.ROTATE,this.touches.ONE=m.TOUCH.PAN,this.touches.TWO=m.TOUCH.DOLLY_ROTATE};(S.prototype=Object.create(m.EventDispatcher.prototype)).constructor=S;var E=function(e,t){void 0===t&&console.warn('THREE.TrackballControls: The second parameter "domElement" is now mandatory.'),t===document&&console.error('THREE.TrackballControls: "document" should not be used as the target "domElement". Please use "renderer.domElement" instead.');var n=this,r=-1,i=0,a=1,o=2,s=3,l=4;this.object=e,this.domElement=t,this.enabled=!0,this.screen={left:0,top:0,width:0,height:0},this.rotateSpeed=1,this.zoomSpeed=1.2,this.panSpeed=.3,this.noRotate=!1,this.noZoom=!1,this.noPan=!1,this.staticMoving=!1,this.dynamicDampingFactor=.2,this.minDistance=0,this.maxDistance=1/0,this.keys=[65,83,68],this.mouseButtons={LEFT:m.MOUSE.ROTATE,MIDDLE:m.MOUSE.ZOOM,RIGHT:m.MOUSE.PAN},this.target=new m.Vector3;var u=1e-6,c=new m.Vector3,d=1,h=r,f=r,p=new m.Vector3,v=new m.Vector2,g=new m.Vector2,y=new m.Vector3,b=0,x=new m.Vector2,w=new m.Vector2,M=0,_=0,S=new m.Vector2,E=new m.Vector2;this.target0=this.target.clone(),this.position0=this.object.position.clone(),this.up0=this.object.up.clone(),this.zoom0=this.object.zoom;var T={type:"change"},A={type:"start"},R={type:"end"};this.handleResize=function(){var e=n.domElement.getBoundingClientRect(),t=n.domElement.ownerDocument.documentElement;n.screen.left=e.left+window.pageXOffset-t.clientLeft,n.screen.top=e.top+window.pageYOffset-t.clientTop,n.screen.width=e.width,n.screen.height=e.height};var O=function(){var e=new m.Vector2;return function(t,r){return e.set((t-n.screen.left)/n.screen.width,(r-n.screen.top)/n.screen.height),e}}(),k=function(){var e=new m.Vector2;return function(t,r){return e.set((t-.5*n.screen.width-n.screen.left)/(.5*n.screen.width),(n.screen.height+2*(n.screen.top-r))/n.screen.width),e}}();function I(e){if(!1!==n.enabled)switch(e.pointerType){case"mouse":case"pen":!function(e){if(e.preventDefault(),e.stopPropagation(),h===r)switch(e.button){case n.mouseButtons.LEFT:h=i;break;case n.mouseButtons.MIDDLE:h=a;break;case n.mouseButtons.RIGHT:h=o;break;default:h=r}var t=f!==r?f:h;t!==i||n.noRotate?t!==a||n.noZoom?t!==o||n.noPan||(S.copy(O(e.pageX,e.pageY)),E.copy(S)):(x.copy(O(e.pageX,e.pageY)),w.copy(x)):(g.copy(k(e.pageX,e.pageY)),v.copy(g));n.domElement.ownerDocument.addEventListener("pointermove",C,!1),n.domElement.ownerDocument.addEventListener("pointerup",D,!1),n.dispatchEvent(A)}(e)}}function C(e){if(!1!==n.enabled)switch(e.pointerType){case"mouse":case"pen":!function(e){if(!1===n.enabled)return;e.preventDefault(),e.stopPropagation();var t=f!==r?f:h;t!==i||n.noRotate?t!==a||n.noZoom?t!==o||n.noPan||E.copy(O(e.pageX,e.pageY)):w.copy(O(e.pageX,e.pageY)):(v.copy(g),g.copy(k(e.pageX,e.pageY)))}(e)}}function D(e){if(!1!==n.enabled)switch(e.pointerType){case"mouse":case"pen":!function(e){if(!1===n.enabled)return;e.preventDefault(),e.stopPropagation(),h=r,n.domElement.ownerDocument.removeEventListener("pointermove",C),n.domElement.ownerDocument.removeEventListener("pointerup",D),n.dispatchEvent(R)}(e)}}function L(e){!1!==n.enabled&&(window.removeEventListener("keydown",L),f===r&&(e.keyCode!==n.keys[i]||n.noRotate?e.keyCode!==n.keys[a]||n.noZoom?e.keyCode!==n.keys[o]||n.noPan||(f=o):f=a:f=i))}function P(){!1!==n.enabled&&(f=r,window.addEventListener("keydown",L,!1))}function N(e){if(!1!==n.enabled&&!0!==n.noZoom){switch(e.preventDefault(),e.stopPropagation(),e.deltaMode){case 2:x.y-=.025*e.deltaY;break;case 1:x.y-=.01*e.deltaY;break;default:x.y-=25e-5*e.deltaY}n.dispatchEvent(A),n.dispatchEvent(R)}}function j(e){if(!1!==n.enabled){switch(e.preventDefault(),e.touches.length){case 1:h=s,g.copy(k(e.touches[0].pageX,e.touches[0].pageY)),v.copy(g);break;default:h=l;var t=e.touches[0].pageX-e.touches[1].pageX,r=e.touches[0].pageY-e.touches[1].pageY;_=M=Math.sqrt(t*t+r*r);var i=(e.touches[0].pageX+e.touches[1].pageX)/2,a=(e.touches[0].pageY+e.touches[1].pageY)/2;S.copy(O(i,a)),E.copy(S)}n.dispatchEvent(A)}}function F(e){if(!1!==n.enabled)switch(e.preventDefault(),e.stopPropagation(),e.touches.length){case 1:v.copy(g),g.copy(k(e.touches[0].pageX,e.touches[0].pageY));break;default:var t=e.touches[0].pageX-e.touches[1].pageX,r=e.touches[0].pageY-e.touches[1].pageY;_=Math.sqrt(t*t+r*r);var i=(e.touches[0].pageX+e.touches[1].pageX)/2,a=(e.touches[0].pageY+e.touches[1].pageY)/2;E.copy(O(i,a))}}function G(e){if(!1!==n.enabled){switch(e.touches.length){case 0:h=r;break;case 1:h=s,g.copy(k(e.touches[0].pageX,e.touches[0].pageY)),v.copy(g)}n.dispatchEvent(R)}}function U(e){!1!==n.enabled&&e.preventDefault()}this.rotateCamera=function(){var e,t=new m.Vector3,r=new m.Quaternion,i=new m.Vector3,a=new m.Vector3,o=new m.Vector3,s=new m.Vector3;return function(){s.set(g.x-v.x,g.y-v.y,0),(e=s.length())?(p.copy(n.object.position).sub(n.target),i.copy(p).normalize(),a.copy(n.object.up).normalize(),o.crossVectors(a,i).normalize(),a.setLength(g.y-v.y),o.setLength(g.x-v.x),s.copy(a.add(o)),t.crossVectors(s,p).normalize(),e*=n.rotateSpeed,r.setFromAxisAngle(t,e),p.applyQuaternion(r),n.object.up.applyQuaternion(r),y.copy(t),b=e):!n.staticMoving&&b&&(b*=Math.sqrt(1-n.dynamicDampingFactor),p.copy(n.object.position).sub(n.target),r.setFromAxisAngle(y,b),p.applyQuaternion(r),n.object.up.applyQuaternion(r)),v.copy(g)}}(),this.zoomCamera=function(){var e;h===l?(e=M/_,M=_,n.object.isPerspectiveCamera?p.multiplyScalar(e):n.object.isOrthographicCamera?(n.object.zoom*=e,n.object.updateProjectionMatrix()):console.warn("THREE.TrackballControls: Unsupported camera type")):(1!==(e=1+(w.y-x.y)*n.zoomSpeed)&&e>0&&(n.object.isPerspectiveCamera?p.multiplyScalar(e):n.object.isOrthographicCamera?(n.object.zoom/=e,n.object.updateProjectionMatrix()):console.warn("THREE.TrackballControls: Unsupported camera type")),n.staticMoving?x.copy(w):x.y+=(w.y-x.y)*this.dynamicDampingFactor)},this.panCamera=function(){var e=new m.Vector2,t=new m.Vector3,r=new m.Vector3;return function(){if(e.copy(E).sub(S),e.lengthSq()){if(n.object.isOrthographicCamera){var i=(n.object.right-n.object.left)/n.object.zoom/n.domElement.clientWidth,a=(n.object.top-n.object.bottom)/n.object.zoom/n.domElement.clientWidth;e.x*=i,e.y*=a}e.multiplyScalar(p.length()*n.panSpeed),r.copy(p).cross(n.object.up).setLength(e.x),r.add(t.copy(n.object.up).setLength(e.y)),n.object.position.add(r),n.target.add(r),n.staticMoving?S.copy(E):S.add(e.subVectors(E,S).multiplyScalar(n.dynamicDampingFactor))}}}(),this.checkDistances=function(){n.noZoom&&n.noPan||(p.lengthSq()>n.maxDistance*n.maxDistance&&(n.object.position.addVectors(n.target,p.setLength(n.maxDistance)),x.copy(w)),p.lengthSq()<n.minDistance*n.minDistance&&(n.object.position.addVectors(n.target,p.setLength(n.minDistance)),x.copy(w)))},this.update=function(){p.subVectors(n.object.position,n.target),n.noRotate||n.rotateCamera(),n.noZoom||n.zoomCamera(),n.noPan||n.panCamera(),n.object.position.addVectors(n.target,p),n.object.isPerspectiveCamera?(n.checkDistances(),n.object.lookAt(n.target),c.distanceToSquared(n.object.position)>u&&(n.dispatchEvent(T),c.copy(n.object.position))):n.object.isOrthographicCamera?(n.object.lookAt(n.target),(c.distanceToSquared(n.object.position)>u||d!==n.object.zoom)&&(n.dispatchEvent(T),c.copy(n.object.position),d=n.object.zoom)):console.warn("THREE.TrackballControls: Unsupported camera type")},this.reset=function(){h=r,f=r,n.target.copy(n.target0),n.object.position.copy(n.position0),n.object.up.copy(n.up0),n.object.zoom=n.zoom0,n.object.updateProjectionMatrix(),p.subVectors(n.object.position,n.target),n.object.lookAt(n.target),n.dispatchEvent(T),c.copy(n.object.position),d=n.object.zoom},this.dispose=function(){n.domElement.removeEventListener("contextmenu",U,!1),n.domElement.removeEventListener("pointerdown",I,!1),n.domElement.removeEventListener("wheel",N,!1),n.domElement.removeEventListener("touchstart",j,!1),n.domElement.removeEventListener("touchend",G,!1),n.domElement.removeEventListener("touchmove",F,!1),n.domElement.ownerDocument.removeEventListener("pointermove",C,!1),n.domElement.ownerDocument.removeEventListener("pointerup",D,!1),window.removeEventListener("keydown",L,!1),window.removeEventListener("keyup",P,!1)},this.domElement.addEventListener("contextmenu",U,!1),this.domElement.addEventListener("pointerdown",I,!1),this.domElement.addEventListener("wheel",N,!1),this.domElement.addEventListener("touchstart",j,!1),this.domElement.addEventListener("touchend",G,!1),this.domElement.addEventListener("touchmove",F,!1),this.domElement.ownerDocument.addEventListener("pointermove",C,!1),this.domElement.ownerDocument.addEventListener("pointerup",D,!1),window.addEventListener("keydown",L,!1),window.addEventListener("keyup",P,!1),this.handleResize(),this.update()};(E.prototype=Object.create(m.EventDispatcher.prototype)).constructor=E;var T=function(e,t){void 0===t&&(console.warn('THREE.TransformControls: The second parameter "domElement" is now mandatory.'),t=document),m.Object3D.call(this),this.visible=!1,this.domElement=t;var n=new A;this.add(n);var r=new R;this.add(r);var i=this;V("camera",e),V("object",void 0),V("enabled",!0),V("axis",null),V("mode","translate"),V("translationSnap",null),V("rotationSnap",null),V("scaleSnap",null),V("space","world"),V("size",1),V("dragging",!1),V("showX",!0),V("showY",!0),V("showZ",!0);var a={type:"change"},o={type:"mouseDown"},s={type:"mouseUp",mode:i.mode},l={type:"objectChange"},u=new m.Raycaster;function c(e,t,n){for(var r=t.intersectObject(e,!0),i=0;i<r.length;i++)if(r[i].object.visible||n)return r[i];return!1}var d=new m.Vector3,h=new m.Vector3,f=new m.Quaternion,p={X:new m.Vector3(1,0,0),Y:new m.Vector3(0,1,0),Z:new m.Vector3(0,0,1)},v=new m.Vector3,g=new m.Vector3,y=new m.Vector3,b=new m.Vector3,x=new m.Vector3,w=new m.Vector3,M=0,_=new m.Vector3,S=new m.Quaternion,E=new m.Vector3,T=new m.Vector3,O=new m.Quaternion,k=new m.Quaternion,I=new m.Vector3,C=new m.Vector3,D=new m.Quaternion,L=new m.Vector3,P=new m.Vector3,N=new m.Quaternion,j=new m.Quaternion,F=new m.Vector3,G=new m.Vector3,U=new m.Vector3,z=new m.Quaternion,B=new m.Vector3;function V(e,t){var o=t;Object.defineProperty(i,e,{get:function(){return void 0!==o?o:t},set:function(t){o!==t&&(o=t,r[e]=t,n[e]=t,i.dispatchEvent({type:e+"-changed",value:t}),i.dispatchEvent(a))}}),i[e]=t,r[e]=t,n[e]=t}function H(e){if(i.domElement.ownerDocument.pointerLockElement)return{x:0,y:0,button:e.button};var n=e.changedTouches?e.changedTouches[0]:e,r=t.getBoundingClientRect();return{x:(n.clientX-r.left)/r.width*2-1,y:-(n.clientY-r.top)/r.height*2+1,button:e.button}}function W(e){if(i.enabled)switch(e.pointerType){case"mouse":case"pen":i.pointerHover(H(e))}}function X(e){i.enabled&&(i.domElement.style.touchAction="none",i.domElement.ownerDocument.addEventListener("pointermove",q,!1),i.pointerHover(H(e)),i.pointerDown(H(e)))}function q(e){i.enabled&&i.pointerMove(H(e))}function Y(e){i.enabled&&(i.domElement.style.touchAction="",i.domElement.ownerDocument.removeEventListener("pointermove",q,!1),i.pointerUp(H(e)))}V("worldPosition",P),V("worldPositionStart",C),V("worldQuaternion",N),V("worldQuaternionStart",D),V("cameraPosition",_),V("cameraQuaternion",S),V("pointStart",v),V("pointEnd",g),V("rotationAxis",b),V("rotationAngle",M),V("eye",G),t.addEventListener("pointerdown",X,!1),t.addEventListener("pointermove",W,!1),i.domElement.ownerDocument.addEventListener("pointerup",Y,!1),this.dispose=function(){t.removeEventListener("pointerdown",X),t.removeEventListener("pointermove",W),i.domElement.ownerDocument.removeEventListener("pointermove",q),i.domElement.ownerDocument.removeEventListener("pointerup",Y),this.traverse((function(e){e.geometry&&e.geometry.dispose(),e.material&&e.material.dispose()}))},this.attach=function(e){return this.object=e,this.visible=!0,this},this.detach=function(){return this.object=void 0,this.visible=!1,this.axis=null,this},this.updateMatrixWorld=function(){void 0!==this.object&&(this.object.updateMatrixWorld(),null===this.object.parent?console.error("TransformControls: The attached 3D object must be a part of the scene graph."):this.object.parent.matrixWorld.decompose(T,O,I),this.object.matrixWorld.decompose(P,N,F),k.copy(O).invert(),j.copy(N).invert()),this.camera.updateMatrixWorld(),this.camera.matrixWorld.decompose(_,S,E),G.copy(_).sub(P).normalize(),m.Object3D.prototype.updateMatrixWorld.call(this)},this.pointerHover=function(e){if(void 0!==this.object&&!0!==this.dragging){u.setFromCamera(e,this.camera);var t=c(n.picker[this.mode],u);this.axis=t?t.object.name:null}},this.pointerDown=function(e){if(void 0!==this.object&&!0!==this.dragging&&0===e.button&&null!==this.axis){u.setFromCamera(e,this.camera);var t=c(r,u,!0);if(t){var n=this.space;if("scale"===this.mode?n="local":"E"!==this.axis&&"XYZE"!==this.axis&&"XYZ"!==this.axis||(n="world"),"local"===n&&"rotate"===this.mode){var i=this.rotationSnap;"X"===this.axis&&i&&(this.object.rotation.x=Math.round(this.object.rotation.x/i)*i),"Y"===this.axis&&i&&(this.object.rotation.y=Math.round(this.object.rotation.y/i)*i),"Z"===this.axis&&i&&(this.object.rotation.z=Math.round(this.object.rotation.z/i)*i)}this.object.updateMatrixWorld(),this.object.parent.updateMatrixWorld(),U.copy(this.object.position),z.copy(this.object.quaternion),B.copy(this.object.scale),this.object.matrixWorld.decompose(C,D,L),v.copy(t.point).sub(C)}this.dragging=!0,o.mode=this.mode,this.dispatchEvent(o)}},this.pointerMove=function(e){var t=this.axis,n=this.mode,i=this.object,o=this.space;if("scale"===n?o="local":"E"!==t&&"XYZE"!==t&&"XYZ"!==t||(o="world"),void 0!==i&&null!==t&&!1!==this.dragging&&-1===e.button){u.setFromCamera(e,this.camera);var s=c(r,u,!0);if(s){if(g.copy(s.point).sub(C),"translate"===n)y.copy(g).sub(v),"local"===o&&"XYZ"!==t&&y.applyQuaternion(j),-1===t.indexOf("X")&&(y.x=0),-1===t.indexOf("Y")&&(y.y=0),-1===t.indexOf("Z")&&(y.z=0),"local"===o&&"XYZ"!==t?y.applyQuaternion(z).divide(I):y.applyQuaternion(k).divide(I),i.position.copy(y).add(U),this.translationSnap&&("local"===o&&(i.position.applyQuaternion(f.copy(z).invert()),-1!==t.search("X")&&(i.position.x=Math.round(i.position.x/this.translationSnap)*this.translationSnap),-1!==t.search("Y")&&(i.position.y=Math.round(i.position.y/this.translationSnap)*this.translationSnap),-1!==t.search("Z")&&(i.position.z=Math.round(i.position.z/this.translationSnap)*this.translationSnap),i.position.applyQuaternion(z)),"world"===o&&(i.parent&&i.position.add(d.setFromMatrixPosition(i.parent.matrixWorld)),-1!==t.search("X")&&(i.position.x=Math.round(i.position.x/this.translationSnap)*this.translationSnap),-1!==t.search("Y")&&(i.position.y=Math.round(i.position.y/this.translationSnap)*this.translationSnap),-1!==t.search("Z")&&(i.position.z=Math.round(i.position.z/this.translationSnap)*this.translationSnap),i.parent&&i.position.sub(d.setFromMatrixPosition(i.parent.matrixWorld))));else if("scale"===n){if(-1!==t.search("XYZ")){var m=g.length()/v.length();g.dot(v)<0&&(m*=-1),h.set(m,m,m)}else d.copy(v),h.copy(g),d.applyQuaternion(j),h.applyQuaternion(j),h.divide(d),-1===t.search("X")&&(h.x=1),-1===t.search("Y")&&(h.y=1),-1===t.search("Z")&&(h.z=1);i.scale.copy(B).multiply(h),this.scaleSnap&&(-1!==t.search("X")&&(i.scale.x=Math.round(i.scale.x/this.scaleSnap)*this.scaleSnap||this.scaleSnap),-1!==t.search("Y")&&(i.scale.y=Math.round(i.scale.y/this.scaleSnap)*this.scaleSnap||this.scaleSnap),-1!==t.search("Z")&&(i.scale.z=Math.round(i.scale.z/this.scaleSnap)*this.scaleSnap||this.scaleSnap))}else if("rotate"===n){y.copy(g).sub(v);var _=20/P.distanceTo(d.setFromMatrixPosition(this.camera.matrixWorld));"E"===t?(b.copy(G),M=g.angleTo(v),x.copy(v).normalize(),w.copy(g).normalize(),M*=w.cross(x).dot(G)<0?1:-1):"XYZE"===t?(b.copy(y).cross(G).normalize(),M=y.dot(d.copy(b).cross(this.eye))*_):"X"!==t&&"Y"!==t&&"Z"!==t||(b.copy(p[t]),d.copy(p[t]),"local"===o&&d.applyQuaternion(N),M=y.dot(d.cross(G).normalize())*_),this.rotationSnap&&(M=Math.round(M/this.rotationSnap)*this.rotationSnap),this.rotationAngle=M,"local"===o&&"E"!==t&&"XYZE"!==t?(i.quaternion.copy(z),i.quaternion.multiply(f.setFromAxisAngle(b,M)).normalize()):(b.applyQuaternion(k),i.quaternion.copy(f.setFromAxisAngle(b,M)),i.quaternion.multiply(z).normalize())}this.dispatchEvent(a),this.dispatchEvent(l)}}},this.pointerUp=function(e){0===e.button&&(this.dragging&&null!==this.axis&&(s.mode=this.mode,this.dispatchEvent(s)),this.dragging=!1,this.axis=null)},this.getMode=function(){return i.mode},this.setMode=function(e){i.mode=e},this.setTranslationSnap=function(e){i.translationSnap=e},this.setRotationSnap=function(e){i.rotationSnap=e},this.setScaleSnap=function(e){i.scaleSnap=e},this.setSize=function(e){i.size=e},this.setSpace=function(e){i.space=e},this.update=function(){console.warn("THREE.TransformControls: update function has no more functionality and therefore has been deprecated.")}};T.prototype=Object.assign(Object.create(m.Object3D.prototype),{constructor:T,isTransformControls:!0});var A=function(){m.Object3D.call(this),this.type="TransformControlsGizmo";var e=new m.MeshBasicMaterial({depthTest:!1,depthWrite:!1,transparent:!0,side:m.DoubleSide,fog:!1,toneMapped:!1}),t=new m.LineBasicMaterial({depthTest:!1,depthWrite:!1,transparent:!0,linewidth:1,fog:!1,toneMapped:!1}),n=e.clone();n.opacity=.15;var r=e.clone();r.opacity=.33;var i=e.clone();i.color.set(16711680);var a=e.clone();a.color.set(65280);var o=e.clone();o.color.set(255);var s=e.clone();s.opacity=.25;var l=s.clone();l.color.set(16776960);var u=s.clone();u.color.set(65535);var c=s.clone();c.color.set(16711935),e.clone().color.set(16776960);var d=t.clone();d.color.set(16711680);var h=t.clone();h.color.set(65280);var f=t.clone();f.color.set(255);var p=t.clone();p.color.set(65535);var v=t.clone();v.color.set(16711935);var g=t.clone();g.color.set(16776960);var y=t.clone();y.color.set(7895160);var b=g.clone();b.opacity=.25;var x=new m.CylinderBufferGeometry(0,.05,.2,12,1,!1),w=new m.BoxBufferGeometry(.125,.125,.125),M=new m.BufferGeometry;M.setAttribute("position",new m.Float32BufferAttribute([0,0,0,1,0,0],3));var _=function(e,t){for(var n=new m.BufferGeometry,r=[],i=0;i<=64*t;++i)r.push(0,Math.cos(i/32*Math.PI)*e,Math.sin(i/32*Math.PI)*e);return n.setAttribute("position",new m.Float32BufferAttribute(r,3)),n},S={X:[[new m.Mesh(x,i),[1,0,0],[0,0,-Math.PI/2],null,"fwd"],[new m.Mesh(x,i),[1,0,0],[0,0,Math.PI/2],null,"bwd"],[new m.Line(M,d)]],Y:[[new m.Mesh(x,a),[0,1,0],null,null,"fwd"],[new m.Mesh(x,a),[0,1,0],[Math.PI,0,0],null,"bwd"],[new m.Line(M,h),null,[0,0,Math.PI/2]]],Z:[[new m.Mesh(x,o),[0,0,1],[Math.PI/2,0,0],null,"fwd"],[new m.Mesh(x,o),[0,0,1],[-Math.PI/2,0,0],null,"bwd"],[new m.Line(M,f),null,[0,-Math.PI/2,0]]],XYZ:[[new m.Mesh(new m.OctahedronBufferGeometry(.1,0),s.clone()),[0,0,0],[0,0,0]]],XY:[[new m.Mesh(new m.PlaneBufferGeometry(.295,.295),l.clone()),[.15,.15,0]],[new m.Line(M,g),[.18,.3,0],null,[.125,1,1]],[new m.Line(M,g),[.3,.18,0],[0,0,Math.PI/2],[.125,1,1]]],YZ:[[new m.Mesh(new m.PlaneBufferGeometry(.295,.295),u.clone()),[0,.15,.15],[0,Math.PI/2,0]],[new m.Line(M,p),[0,.18,.3],[0,0,Math.PI/2],[.125,1,1]],[new m.Line(M,p),[0,.3,.18],[0,-Math.PI/2,0],[.125,1,1]]],XZ:[[new m.Mesh(new m.PlaneBufferGeometry(.295,.295),c.clone()),[.15,0,.15],[-Math.PI/2,0,0]],[new m.Line(M,v),[.18,0,.3],null,[.125,1,1]],[new m.Line(M,v),[.3,0,.18],[0,-Math.PI/2,0],[.125,1,1]]]},E={X:[[new m.Mesh(new m.CylinderBufferGeometry(.2,0,1,4,1,!1),n),[.6,0,0],[0,0,-Math.PI/2]]],Y:[[new m.Mesh(new m.CylinderBufferGeometry(.2,0,1,4,1,!1),n),[0,.6,0]]],Z:[[new m.Mesh(new m.CylinderBufferGeometry(.2,0,1,4,1,!1),n),[0,0,.6],[Math.PI/2,0,0]]],XYZ:[[new m.Mesh(new m.OctahedronBufferGeometry(.2,0),n)]],XY:[[new m.Mesh(new m.PlaneBufferGeometry(.4,.4),n),[.2,.2,0]]],YZ:[[new m.Mesh(new m.PlaneBufferGeometry(.4,.4),n),[0,.2,.2],[0,Math.PI/2,0]]],XZ:[[new m.Mesh(new m.PlaneBufferGeometry(.4,.4),n),[.2,0,.2],[-Math.PI/2,0,0]]]},T={START:[[new m.Mesh(new m.OctahedronBufferGeometry(.01,2),r),null,null,null,"helper"]],END:[[new m.Mesh(new m.OctahedronBufferGeometry(.01,2),r),null,null,null,"helper"]],DELTA:[[new m.Line(function(){var e=new m.BufferGeometry;return e.setAttribute("position",new m.Float32BufferAttribute([0,0,0,1,1,1],3)),e}(),r),null,null,null,"helper"]],X:[[new m.Line(M,r.clone()),[-1e3,0,0],null,[1e6,1,1],"helper"]],Y:[[new m.Line(M,r.clone()),[0,-1e3,0],[0,0,Math.PI/2],[1e6,1,1],"helper"]],Z:[[new m.Line(M,r.clone()),[0,0,-1e3],[0,-Math.PI/2,0],[1e6,1,1],"helper"]]},A={X:[[new m.Line(_(1,.5),d)],[new m.Mesh(new m.OctahedronBufferGeometry(.04,0),i),[0,0,.99],null,[1,3,1]]],Y:[[new m.Line(_(1,.5),h),null,[0,0,-Math.PI/2]],[new m.Mesh(new m.OctahedronBufferGeometry(.04,0),a),[0,0,.99],null,[3,1,1]]],Z:[[new m.Line(_(1,.5),f),null,[0,Math.PI/2,0]],[new m.Mesh(new m.OctahedronBufferGeometry(.04,0),o),[.99,0,0],null,[1,3,1]]],E:[[new m.Line(_(1.25,1),b),null,[0,Math.PI/2,0]],[new m.Mesh(new m.CylinderBufferGeometry(.03,0,.15,4,1,!1),b),[1.17,0,0],[0,0,-Math.PI/2],[1,1,.001]],[new m.Mesh(new m.CylinderBufferGeometry(.03,0,.15,4,1,!1),b),[-1.17,0,0],[0,0,Math.PI/2],[1,1,.001]],[new m.Mesh(new m.CylinderBufferGeometry(.03,0,.15,4,1,!1),b),[0,-1.17,0],[Math.PI,0,0],[1,1,.001]],[new m.Mesh(new m.CylinderBufferGeometry(.03,0,.15,4,1,!1),b),[0,1.17,0],[0,0,0],[1,1,.001]]],XYZE:[[new m.Line(_(1,1),y),null,[0,Math.PI/2,0]]]},R={AXIS:[[new m.Line(M,r.clone()),[-1e3,0,0],null,[1e6,1,1],"helper"]]},O={X:[[new m.Mesh(new m.TorusBufferGeometry(1,.1,4,24),n),[0,0,0],[0,-Math.PI/2,-Math.PI/2]]],Y:[[new m.Mesh(new m.TorusBufferGeometry(1,.1,4,24),n),[0,0,0],[Math.PI/2,0,0]]],Z:[[new m.Mesh(new m.TorusBufferGeometry(1,.1,4,24),n),[0,0,0],[0,0,-Math.PI/2]]],E:[[new m.Mesh(new m.TorusBufferGeometry(1.25,.1,2,24),n)]],XYZE:[[new m.Mesh(new m.SphereBufferGeometry(.7,10,8),n)]]},k={X:[[new m.Mesh(w,i),[.8,0,0],[0,0,-Math.PI/2]],[new m.Line(M,d),null,null,[.8,1,1]]],Y:[[new m.Mesh(w,a),[0,.8,0]],[new m.Line(M,h),null,[0,0,Math.PI/2],[.8,1,1]]],Z:[[new m.Mesh(w,o),[0,0,.8],[Math.PI/2,0,0]],[new m.Line(M,f),null,[0,-Math.PI/2,0],[.8,1,1]]],XY:[[new m.Mesh(w,l),[.85,.85,0],null,[2,2,.2]],[new m.Line(M,g),[.855,.98,0],null,[.125,1,1]],[new m.Line(M,g),[.98,.855,0],[0,0,Math.PI/2],[.125,1,1]]],YZ:[[new m.Mesh(w,u),[0,.85,.85],null,[.2,2,2]],[new m.Line(M,p),[0,.855,.98],[0,0,Math.PI/2],[.125,1,1]],[new m.Line(M,p),[0,.98,.855],[0,-Math.PI/2,0],[.125,1,1]]],XZ:[[new m.Mesh(w,c),[.85,0,.85],null,[2,.2,2]],[new m.Line(M,v),[.855,0,.98],null,[.125,1,1]],[new m.Line(M,v),[.98,0,.855],[0,-Math.PI/2,0],[.125,1,1]]],XYZX:[[new m.Mesh(new m.BoxBufferGeometry(.125,.125,.125),s.clone()),[1.1,0,0]]],XYZY:[[new m.Mesh(new m.BoxBufferGeometry(.125,.125,.125),s.clone()),[0,1.1,0]]],XYZZ:[[new m.Mesh(new m.BoxBufferGeometry(.125,.125,.125),s.clone()),[0,0,1.1]]]},I={X:[[new m.Mesh(new m.CylinderBufferGeometry(.2,0,.8,4,1,!1),n),[.5,0,0],[0,0,-Math.PI/2]]],Y:[[new m.Mesh(new m.CylinderBufferGeometry(.2,0,.8,4,1,!1),n),[0,.5,0]]],Z:[[new m.Mesh(new m.CylinderBufferGeometry(.2,0,.8,4,1,!1),n),[0,0,.5],[Math.PI/2,0,0]]],XY:[[new m.Mesh(w,n),[.85,.85,0],null,[3,3,.2]]],YZ:[[new m.Mesh(w,n),[0,.85,.85],null,[.2,3,3]]],XZ:[[new m.Mesh(w,n),[.85,0,.85],null,[3,.2,3]]],XYZX:[[new m.Mesh(new m.BoxBufferGeometry(.2,.2,.2),n),[1.1,0,0]]],XYZY:[[new m.Mesh(new m.BoxBufferGeometry(.2,.2,.2),n),[0,1.1,0]]],XYZZ:[[new m.Mesh(new m.BoxBufferGeometry(.2,.2,.2),n),[0,0,1.1]]]},C={X:[[new m.Line(M,r.clone()),[-1e3,0,0],null,[1e6,1,1],"helper"]],Y:[[new m.Line(M,r.clone()),[0,-1e3,0],[0,0,Math.PI/2],[1e6,1,1],"helper"]],Z:[[new m.Line(M,r.clone()),[0,0,-1e3],[0,-Math.PI/2,0],[1e6,1,1],"helper"]]},D=function(e){var t=new m.Object3D;for(var n in e)for(var r=e[n].length;r--;){var i=e[n][r][0].clone(),a=e[n][r][1],o=e[n][r][2],s=e[n][r][3],l=e[n][r][4];i.name=n,i.tag=l,a&&i.position.set(a[0],a[1],a[2]),o&&i.rotation.set(o[0],o[1],o[2]),s&&i.scale.set(s[0],s[1],s[2]),i.updateMatrix();var u=i.geometry.clone();u.applyMatrix4(i.matrix),i.geometry=u,i.renderOrder=1/0,i.position.set(0,0,0),i.rotation.set(0,0,0),i.scale.set(1,1,1),t.add(i)}return t},L=new m.Vector3(0,0,0),P=new m.Euler,N=new m.Vector3(0,1,0),j=new m.Vector3(0,0,0),F=new m.Matrix4,G=new m.Quaternion,U=new m.Quaternion,z=new m.Quaternion,B=new m.Vector3(1,0,0),V=new m.Vector3(0,1,0),H=new m.Vector3(0,0,1);this.gizmo={},this.picker={},this.helper={},this.add(this.gizmo.translate=D(S)),this.add(this.gizmo.rotate=D(A)),this.add(this.gizmo.scale=D(k)),this.add(this.picker.translate=D(E)),this.add(this.picker.rotate=D(O)),this.add(this.picker.scale=D(I)),this.add(this.helper.translate=D(T)),this.add(this.helper.rotate=D(R)),this.add(this.helper.scale=D(C)),this.picker.translate.visible=!1,this.picker.rotate.visible=!1,this.picker.scale.visible=!1,this.updateMatrixWorld=function(){var e=this.space;"scale"===this.mode&&(e="local");var t="local"===e?this.worldQuaternion:z;this.gizmo.translate.visible="translate"===this.mode,this.gizmo.rotate.visible="rotate"===this.mode,this.gizmo.scale.visible="scale"===this.mode,this.helper.translate.visible="translate"===this.mode,this.helper.rotate.visible="rotate"===this.mode,this.helper.scale.visible="scale"===this.mode;var n=[];n=(n=(n=n.concat(this.picker[this.mode].children)).concat(this.gizmo[this.mode].children)).concat(this.helper[this.mode].children);for(var r=0;r<n.length;r++){var i,a=n[r];if(a.visible=!0,a.rotation.set(0,0,0),a.position.copy(this.worldPosition),i=this.camera.isOrthographicCamera?(this.camera.top-this.camera.bottom)/this.camera.zoom:this.worldPosition.distanceTo(this.cameraPosition)*Math.min(1.9*Math.tan(Math.PI*this.camera.fov/360)/this.camera.zoom,7),a.scale.set(1,1,1).multiplyScalar(i*this.size/7),"helper"!==a.tag){if(a.quaternion.copy(t),"translate"===this.mode||"scale"===this.mode){var o=.99;"X"!==a.name&&"XYZX"!==a.name||Math.abs(N.copy(B).applyQuaternion(t).dot(this.eye))>o&&(a.scale.set(1e-10,1e-10,1e-10),a.visible=!1),"Y"!==a.name&&"XYZY"!==a.name||Math.abs(N.copy(V).applyQuaternion(t).dot(this.eye))>o&&(a.scale.set(1e-10,1e-10,1e-10),a.visible=!1),"Z"!==a.name&&"XYZZ"!==a.name||Math.abs(N.copy(H).applyQuaternion(t).dot(this.eye))>o&&(a.scale.set(1e-10,1e-10,1e-10),a.visible=!1),"XY"===a.name&&Math.abs(N.copy(H).applyQuaternion(t).dot(this.eye))<.2&&(a.scale.set(1e-10,1e-10,1e-10),a.visible=!1),"YZ"===a.name&&Math.abs(N.copy(B).applyQuaternion(t).dot(this.eye))<.2&&(a.scale.set(1e-10,1e-10,1e-10),a.visible=!1),"XZ"===a.name&&Math.abs(N.copy(V).applyQuaternion(t).dot(this.eye))<.2&&(a.scale.set(1e-10,1e-10,1e-10),a.visible=!1),-1!==a.name.search("X")&&(N.copy(B).applyQuaternion(t).dot(this.eye)<0?"fwd"===a.tag?a.visible=!1:a.scale.x*=-1:"bwd"===a.tag&&(a.visible=!1)),-1!==a.name.search("Y")&&(N.copy(V).applyQuaternion(t).dot(this.eye)<0?"fwd"===a.tag?a.visible=!1:a.scale.y*=-1:"bwd"===a.tag&&(a.visible=!1)),-1!==a.name.search("Z")&&(N.copy(H).applyQuaternion(t).dot(this.eye)<0?"fwd"===a.tag?a.visible=!1:a.scale.z*=-1:"bwd"===a.tag&&(a.visible=!1))}else"rotate"===this.mode&&(U.copy(t),N.copy(this.eye).applyQuaternion(G.copy(t).invert()),-1!==a.name.search("E")&&a.quaternion.setFromRotationMatrix(F.lookAt(this.eye,j,V)),"X"===a.name&&(G.setFromAxisAngle(B,Math.atan2(-N.y,N.z)),G.multiplyQuaternions(U,G),a.quaternion.copy(G)),"Y"===a.name&&(G.setFromAxisAngle(V,Math.atan2(N.x,N.z)),G.multiplyQuaternions(U,G),a.quaternion.copy(G)),"Z"===a.name&&(G.setFromAxisAngle(H,Math.atan2(N.y,N.x)),G.multiplyQuaternions(U,G),a.quaternion.copy(G)));a.visible=a.visible&&(-1===a.name.indexOf("X")||this.showX),a.visible=a.visible&&(-1===a.name.indexOf("Y")||this.showY),a.visible=a.visible&&(-1===a.name.indexOf("Z")||this.showZ),a.visible=a.visible&&(-1===a.name.indexOf("E")||this.showX&&this.showY&&this.showZ),a.material._opacity=a.material._opacity||a.material.opacity,a.material._color=a.material._color||a.material.color.clone(),a.material.color.copy(a.material._color),a.material.opacity=a.material._opacity,this.enabled?this.axis&&(a.name===this.axis||this.axis.split("").some((function(e){return a.name===e}))?(a.material.opacity=1,a.material.color.lerp(new m.Color(1,1,1),.5)):(a.material.opacity*=.25,a.material.color.lerp(new m.Color(1,1,1),.5))):(a.material.opacity*=.5,a.material.color.lerp(new m.Color(1,1,1),.5))}else a.visible=!1,"AXIS"===a.name?(a.position.copy(this.worldPositionStart),a.visible=!!this.axis,"X"===this.axis&&(G.setFromEuler(P.set(0,0,0)),a.quaternion.copy(t).multiply(G),Math.abs(N.copy(B).applyQuaternion(t).dot(this.eye))>.9&&(a.visible=!1)),"Y"===this.axis&&(G.setFromEuler(P.set(0,0,Math.PI/2)),a.quaternion.copy(t).multiply(G),Math.abs(N.copy(V).applyQuaternion(t).dot(this.eye))>.9&&(a.visible=!1)),"Z"===this.axis&&(G.setFromEuler(P.set(0,Math.PI/2,0)),a.quaternion.copy(t).multiply(G),Math.abs(N.copy(H).applyQuaternion(t).dot(this.eye))>.9&&(a.visible=!1)),"XYZE"===this.axis&&(G.setFromEuler(P.set(0,Math.PI/2,0)),N.copy(this.rotationAxis),a.quaternion.setFromRotationMatrix(F.lookAt(j,N,V)),a.quaternion.multiply(G),a.visible=this.dragging),"E"===this.axis&&(a.visible=!1)):"START"===a.name?(a.position.copy(this.worldPositionStart),a.visible=this.dragging):"END"===a.name?(a.position.copy(this.worldPosition),a.visible=this.dragging):"DELTA"===a.name?(a.position.copy(this.worldPositionStart),a.quaternion.copy(this.worldQuaternionStart),L.set(1e-10,1e-10,1e-10).add(this.worldPositionStart).sub(this.worldPosition).multiplyScalar(-1),L.applyQuaternion(this.worldQuaternionStart.clone().invert()),a.scale.copy(L),a.visible=this.dragging):(a.quaternion.copy(t),this.dragging?a.position.copy(this.worldPositionStart):a.position.copy(this.worldPosition),this.axis&&(a.visible=-1!==this.axis.search(a.name)))}m.Object3D.prototype.updateMatrixWorld.call(this)}};A.prototype=Object.assign(Object.create(m.Object3D.prototype),{constructor:A,isTransformControlsGizmo:!0});var R=function(){m.Mesh.call(this,new m.PlaneBufferGeometry(1e5,1e5,2,2),new m.MeshBasicMaterial({visible:!1,wireframe:!0,side:m.DoubleSide,transparent:!0,opacity:.1,toneMapped:!1})),this.type="TransformControlsPlane";var e=new m.Vector3(1,0,0),t=new m.Vector3(0,1,0),n=new m.Vector3(0,0,1),r=new m.Vector3,i=new m.Vector3,a=new m.Vector3,o=new m.Matrix4,s=new m.Quaternion;this.updateMatrixWorld=function(){var l=this.space;switch(this.position.copy(this.worldPosition),"scale"===this.mode&&(l="local"),e.set(1,0,0).applyQuaternion("local"===l?this.worldQuaternion:s),t.set(0,1,0).applyQuaternion("local"===l?this.worldQuaternion:s),n.set(0,0,1).applyQuaternion("local"===l?this.worldQuaternion:s),a.copy(t),this.mode){case"translate":case"scale":switch(this.axis){case"X":a.copy(this.eye).cross(e),i.copy(e).cross(a);break;case"Y":a.copy(this.eye).cross(t),i.copy(t).cross(a);break;case"Z":a.copy(this.eye).cross(n),i.copy(n).cross(a);break;case"XY":i.copy(n);break;case"YZ":i.copy(e);break;case"XZ":a.copy(n),i.copy(t);break;case"XYZ":case"E":i.set(0,0,0)}break;case"rotate":default:i.set(0,0,0)}0===i.length()?this.quaternion.copy(this.cameraQuaternion):(o.lookAt(r.set(0,0,0),i,a),this.quaternion.setFromRotationMatrix(o)),m.Object3D.prototype.updateMatrixWorld.call(this)}};R.prototype=Object.assign(Object.create(m.Mesh.prototype),{constructor:R,isTransformControlsPlane:!0});n(91),n(92);var O=function(e,t){void 0===t&&(console.warn('THREE.PointerLockControls: The second parameter "domElement" is now mandatory.'),t=document.body),this.domElement=t,this.isLocked=!1,this.minPolarAngle=0,this.maxPolarAngle=Math.PI;var n=this,r={type:"change"},i={type:"lock"},a={type:"unlock"},o=new m.Euler(0,0,0,"YXZ"),s=Math.PI/2,l=new m.Vector3;function u(t){if(!1!==n.isLocked){var i=t.movementX||t.mozMovementX||t.webkitMovementX||0,a=t.movementY||t.mozMovementY||t.webkitMovementY||0;o.setFromQuaternion(e.quaternion),o.y-=.002*i,o.x-=.002*a,o.x=Math.max(s-n.maxPolarAngle,Math.min(s-n.minPolarAngle,o.x)),e.quaternion.setFromEuler(o),n.dispatchEvent(r)}}function c(){n.domElement.ownerDocument.pointerLockElement===n.domElement?(n.dispatchEvent(i),n.isLocked=!0):(n.dispatchEvent(a),n.isLocked=!1)}function d(){console.error("THREE.PointerLockControls: Unable to use Pointer Lock API")}this.connect=function(){n.domElement.ownerDocument.addEventListener("mousemove",u,!1),n.domElement.ownerDocument.addEventListener("pointerlockchange",c,!1),n.domElement.ownerDocument.addEventListener("pointerlockerror",d,!1)},this.disconnect=function(){n.domElement.ownerDocument.removeEventListener("mousemove",u,!1),n.domElement.ownerDocument.removeEventListener("pointerlockchange",c,!1),n.domElement.ownerDocument.removeEventListener("pointerlockerror",d,!1)},this.dispose=function(){this.disconnect()},this.getObject=function(){return e},this.getDirection=function(){var t=new m.Vector3(0,0,-1);return function(n){return n.copy(t).applyQuaternion(e.quaternion)}}(),this.moveForward=function(t){l.setFromMatrixColumn(e.matrix,0),l.crossVectors(e.up,l),e.position.addScaledVector(l,t)},this.moveRight=function(t){l.setFromMatrixColumn(e.matrix,0),e.position.addScaledVector(l,t)},this.lock=function(){this.domElement.requestPointerLock()},this.unlock=function(){n.domElement.ownerDocument.exitPointerLock()},this.connect()};(O.prototype=Object.create(m.EventDispatcher.prototype)).constructor=O;var k=function(e){m.Loader.call(this,e),this.decoderPath="",this.decoderConfig={},this.decoderBinary=null,this.decoderPending=null,this.workerLimit=4,this.workerPool=[],this.workerNextTaskID=1,this.workerSourceURL="",this.defaultAttributeIDs={position:"POSITION",normal:"NORMAL",color:"COLOR",uv:"TEX_COORD"},this.defaultAttributeTypes={position:"Float32Array",normal:"Float32Array",color:"Float32Array",uv:"Float32Array"}};k.prototype=Object.assign(Object.create(m.Loader.prototype),{constructor:k,setDecoderPath:function(e){return this.decoderPath=e,this},setDecoderConfig:function(e){return this.decoderConfig=e,this},setWorkerLimit:function(e){return this.workerLimit=e,this},setVerbosity:function(){console.warn("THREE.DRACOLoader: The .setVerbosity() method has been removed.")},setDrawMode:function(){console.warn("THREE.DRACOLoader: The .setDrawMode() method has been removed.")},setSkipDequantization:function(){console.warn("THREE.DRACOLoader: The .setSkipDequantization() method has been removed.")},load:function(e,t,n,r){var i=this,a=new m.FileLoader(this.manager);a.setPath(this.path),a.setResponseType("arraybuffer"),a.setRequestHeader(this.requestHeader),a.setWithCredentials(this.withCredentials),a.load(e,(function(e){var n={attributeIDs:i.defaultAttributeIDs,attributeTypes:i.defaultAttributeTypes,useUniqueIDs:!1};i.decodeGeometry(e,n).then(t).catch(r)}),n,r)},decodeDracoFile:function(e,t,n,r){var i={attributeIDs:n||this.defaultAttributeIDs,attributeTypes:r||this.defaultAttributeTypes,useUniqueIDs:!!n};this.decodeGeometry(e,i).then(t)},decodeGeometry:function(e,t){var n=this;for(var r in t.attributeTypes){var i=t.attributeTypes[r];void 0!==i.BYTES_PER_ELEMENT&&(t.attributeTypes[r]=i.name)}var a,o=JSON.stringify(t);if(k.taskCache.has(e)){var s=k.taskCache.get(e);if(s.key===o)return s.promise;if(0===e.byteLength)throw new Error("THREE.DRACOLoader: Unable to re-decode a buffer with different settings. Buffer has already been transferred.")}var l=this.workerNextTaskID++,u=e.byteLength,c=this._getWorker(l,u).then((function(n){return a=n,new Promise((function(n,r){a._callbacks[l]={resolve:n,reject:r},a.postMessage({type:"decode",id:l,taskConfig:t,buffer:e},[e])}))})).then((function(e){return n._createGeometry(e.geometry)}));return c.catch((function(){return!0})).then((function(){a&&l&&n._releaseTask(a,l)})),k.taskCache.set(e,{key:o,promise:c}),c},_createGeometry:function(e){var t=new m.BufferGeometry;e.index&&t.setIndex(new m.BufferAttribute(e.index.array,1));for(var n=0;n<e.attributes.length;n++){var r=e.attributes[n],i=r.name,a=r.array,o=r.itemSize;t.setAttribute(i,new m.BufferAttribute(a,o))}return t},_loadLibrary:function(e,t){var n=new m.FileLoader(this.manager);return n.setPath(this.decoderPath),n.setResponseType(t),n.setWithCredentials(this.withCredentials),new Promise((function(t,r){n.load(e,t,void 0,r)}))},preload:function(){return this._initDecoder(),this},_initDecoder:function(){var e=this;if(this.decoderPending)return this.decoderPending;var t="object"!==typeof WebAssembly||"js"===this.decoderConfig.type,n=[];return t?n.push(this._loadLibrary("draco_decoder.js","text")):(n.push(this._loadLibrary("draco_wasm_wrapper.js","text")),n.push(this._loadLibrary("draco_decoder.wasm","arraybuffer"))),this.decoderPending=Promise.all(n).then((function(n){var r=n[0];t||(e.decoderConfig.wasmBinary=n[1]);var i=k.DRACOWorker.toString(),a=["/* draco decoder */",r,"","/* worker */",i.substring(i.indexOf("{")+1,i.lastIndexOf("}"))].join("\n");e.workerSourceURL=URL.createObjectURL(new Blob([a]))})),this.decoderPending},_getWorker:function(e,t){var n=this;return this._initDecoder().then((function(){var r;n.workerPool.length<n.workerLimit?((r=new Worker(n.workerSourceURL))._callbacks={},r._taskCosts={},r._taskLoad=0,r.postMessage({type:"init",decoderConfig:n.decoderConfig}),r.onmessage=function(e){var t=e.data;switch(t.type){case"decode":r._callbacks[t.id].resolve(t);break;case"error":r._callbacks[t.id].reject(t);break;default:console.error('THREE.DRACOLoader: Unexpected message, "'+t.type+'"')}},n.workerPool.push(r)):n.workerPool.sort((function(e,t){return e._taskLoad>t._taskLoad?-1:1}));return(r=n.workerPool[n.workerPool.length-1])._taskCosts[e]=t,r._taskLoad+=t,r}))},_releaseTask:function(e,t){e._taskLoad-=e._taskCosts[t],delete e._callbacks[t],delete e._taskCosts[t]},debug:function(){console.log("Task load: ",this.workerPool.map((function(e){return e._taskLoad})))},dispose:function(){for(var e=0;e<this.workerPool.length;++e)this.workerPool[e].terminate();return this.workerPool.length=0,this}}),k.DRACOWorker=function(){var e,t;function n(e,t,n,r,i,a){var o=a.num_components(),s=n.num_points()*o,l=s*i.BYTES_PER_ELEMENT,u=function(e,t){switch(t){case Float32Array:return e.DT_FLOAT32;case Int8Array:return e.DT_INT8;case Int16Array:return e.DT_INT16;case Int32Array:return e.DT_INT32;case Uint8Array:return e.DT_UINT8;case Uint16Array:return e.DT_UINT16;case Uint32Array:return e.DT_UINT32}}(e,i),c=e._malloc(l);t.GetAttributeDataArrayForAllPoints(n,a,u,l,c);var d=new i(e.HEAPF32.buffer,c,s).slice();return e._free(c),{name:r,array:d,itemSize:o}}onmessage=function(r){var i=r.data;switch(i.type){case"init":e=i.decoderConfig,t=new Promise((function(t){e.onModuleLoaded=function(e){t({draco:e})},DracoDecoderModule(e)}));break;case"decode":var a=i.buffer,o=i.taskConfig;t.then((function(e){var t=e.draco,r=new t.Decoder,s=new t.DecoderBuffer;s.Init(new Int8Array(a),a.byteLength);try{var l=function(e,t,r,i){var a,o,s=i.attributeIDs,l=i.attributeTypes,u=t.GetEncodedGeometryType(r);if(u===e.TRIANGULAR_MESH)a=new e.Mesh,o=t.DecodeBufferToMesh(r,a);else{if(u!==e.POINT_CLOUD)throw new Error("THREE.DRACOLoader: Unexpected geometry type.");a=new e.PointCloud,o=t.DecodeBufferToPointCloud(r,a)}if(!o.ok()||0===a.ptr)throw new Error("THREE.DRACOLoader: Decoding failed: "+o.error_msg());var c={index:null,attributes:[]};for(var d in s){var h,f,p=self[l[d]];if(i.useUniqueIDs)f=s[d],h=t.GetAttributeByUniqueId(a,f);else{if(-1===(f=t.GetAttributeId(a,e[s[d]])))continue;h=t.GetAttribute(a,f)}c.attributes.push(n(e,t,a,d,p,h))}u===e.TRIANGULAR_MESH&&(c.index=function(e,t,n){var r=3*n.num_faces(),i=4*r,a=e._malloc(i);t.GetTrianglesUInt32Array(n,i,a);var o=new Uint32Array(e.HEAPF32.buffer,a,r).slice();return e._free(a),{array:o,itemSize:1}}(e,t,a));return e.destroy(a),c}(t,r,s,o),u=l.attributes.map((function(e){return e.array.buffer}));l.index&&u.push(l.index.array.buffer),self.postMessage({type:"decode",id:i.id,geometry:l},u)}catch(c){console.error(c),self.postMessage({type:"error",id:i.id,error:c.message})}finally{t.destroy(s),t.destroy(r)}}))}}},k.taskCache=new WeakMap,k.setDecoderPath=function(){console.warn("THREE.DRACOLoader: The .setDecoderPath() method has been removed. Use instance methods.")},k.setDecoderConfig=function(){console.warn("THREE.DRACOLoader: The .setDecoderConfig() method has been removed. Use instance methods.")},k.releaseDecoderModule=function(){console.warn("THREE.DRACOLoader: The .releaseDecoderModule() method has been removed. Use instance methods.")},k.getDecoderModule=function(){console.warn("THREE.DRACOLoader: The .getDecoderModule() method has been removed. Use instance methods.")};var I={},C=void 0,D=I;function L(e,t){var n,r=e.split("."),i=D;!(r[0]in i)&&i.execScript&&i.execScript("var "+r[0]);for(;r.length&&(n=r.shift());)r.length||t===C?i=i[n]?i[n]:i[n]={}:i[n]=t}var P="undefined"!==typeof Uint8Array&&"undefined"!==typeof Uint16Array&&"undefined"!==typeof Uint32Array&&"undefined"!==typeof DataView;function N(e){var t,n,r,i,a,o,s,l,u,c,d=e.length,h=0,f=Number.POSITIVE_INFINITY;for(l=0;l<d;++l)e[l]>h&&(h=e[l]),e[l]<f&&(f=e[l]);for(t=1<<h,n=new(P?Uint32Array:Array)(t),r=1,i=0,a=2;r<=h;){for(l=0;l<d;++l)if(e[l]===r){for(o=0,s=i,u=0;u<r;++u)o=o<<1|1&s,s>>=1;for(c=r<<16|l,u=o;u<t;u+=a)n[u]=c;++i}++r,i<<=1,a<<=1}return[n,h,f]}function j(e,t){switch(this.g=[],this.h=32768,this.d=this.f=this.a=this.l=0,this.input=P?new Uint8Array(e):e,this.m=!1,this.i=G,this.r=!1,!t&&(t={})||(t.index&&(this.a=t.index),t.bufferSize&&(this.h=t.bufferSize),t.bufferType&&(this.i=t.bufferType),t.resize&&(this.r=t.resize)),this.i){case F:this.b=32768,this.c=new(P?Uint8Array:Array)(32768+this.h+258);break;case G:this.b=0,this.c=new(P?Uint8Array:Array)(this.h),this.e=this.z,this.n=this.v,this.j=this.w;break;default:throw Error("invalid inflate mode")}}var F=0,G=1,U={t:F,s:G};j.prototype.k=function(){for(;!this.m;){var e=ae(this,3);switch(1&e&&(this.m=!0),e>>>=1){case 0:var t=this.input,n=this.a,r=this.c,i=this.b,a=t.length,o=C,s=r.length,l=C;if(this.d=this.f=0,n+1>=a)throw Error("invalid uncompressed block header: LEN");if(o=t[n++]|t[n++]<<8,n+1>=a)throw Error("invalid uncompressed block header: NLEN");if(o===~(t[n++]|t[n++]<<8))throw Error("invalid uncompressed block header: length verify");if(n+o>t.length)throw Error("input buffer is broken");switch(this.i){case F:for(;i+o>r.length;){if(o-=l=s-i,P)r.set(t.subarray(n,n+l),i),i+=l,n+=l;else for(;l--;)r[i++]=t[n++];this.b=i,r=this.e(),i=this.b}break;case G:for(;i+o>r.length;)r=this.e({p:2});break;default:throw Error("invalid inflate mode")}if(P)r.set(t.subarray(n,n+o),i),i+=o,n+=o;else for(;o--;)r[i++]=t[n++];this.a=n,this.b=i,this.c=r;break;case 1:this.j(ne,ie);break;case 2:var u,c,d,h,f=ae(this,5)+257,p=ae(this,5)+1,m=ae(this,4)+4,v=new(P?Uint8Array:Array)(H.length),g=C,y=C,b=C,x=C,w=C;for(w=0;w<m;++w)v[H[w]]=ae(this,3);if(!P)for(w=m,m=v.length;w<m;++w)v[H[w]]=0;for(u=N(v),g=new(P?Uint8Array:Array)(f+p),w=0,h=f+p;w<h;)switch(y=oe(this,u)){case 16:for(x=3+ae(this,2);x--;)g[w++]=b;break;case 17:for(x=3+ae(this,3);x--;)g[w++]=0;b=0;break;case 18:for(x=11+ae(this,7);x--;)g[w++]=0;b=0;break;default:b=g[w++]=y}c=N(P?g.subarray(0,f):g.slice(0,f)),d=N(P?g.subarray(f):g.slice(f)),this.j(c,d);break;default:throw Error("unknown BTYPE: "+e)}}return this.n()};var z,B,V=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],H=P?new Uint16Array(V):V,W=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,258,258],X=P?new Uint16Array(W):W,q=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0],Y=P?new Uint8Array(q):q,Q=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577],Z=P?new Uint16Array(Q):Q,$=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],K=P?new Uint8Array($):$,J=new(P?Uint8Array:Array)(288);for(z=0,B=J.length;z<B;++z)J[z]=143>=z?8:255>=z?9:279>=z?7:8;var ee,te,ne=N(J),re=new(P?Uint8Array:Array)(30);for(ee=0,te=re.length;ee<te;++ee)re[ee]=5;var ie=N(re);function ae(e,t){for(var n,r=e.f,i=e.d,a=e.input,o=e.a,s=a.length;i<t;){if(o>=s)throw Error("input buffer is broken");r|=a[o++]<<i,i+=8}return n=r&(1<<t)-1,e.f=r>>>t,e.d=i-t,e.a=o,n}function oe(e,t){for(var n,r,i=e.f,a=e.d,o=e.input,s=e.a,l=o.length,u=t[0],c=t[1];a<c&&!(s>=l);)i|=o[s++]<<a,a+=8;if((r=(n=u[i&(1<<c)-1])>>>16)>a)throw Error("invalid code length: "+r);return e.f=i>>r,e.d=a-r,e.a=s,65535&n}function se(e,t){var n,r;switch(this.input=e,this.a=0,!t&&(t={})||(t.index&&(this.a=t.index),t.verify&&(this.A=t.verify)),n=e[this.a++],r=e[this.a++],15&n){case le:this.method=le;break;default:throw Error("unsupported compression method")}if(0!==((n<<8)+r)%31)throw Error("invalid fcheck flag:"+((n<<8)+r)%31);if(32&r)throw Error("fdict flag is not supported");this.q=new j(e,{index:this.a,bufferSize:t.bufferSize,bufferType:t.bufferType,resize:t.resize})}j.prototype.j=function(e,t){var n=this.c,r=this.b;this.o=e;for(var i,a,o,s,l=n.length-258;256!==(i=oe(this,e));)if(256>i)r>=l&&(this.b=r,n=this.e(),r=this.b),n[r++]=i;else for(s=X[a=i-257],0<Y[a]&&(s+=ae(this,Y[a])),i=oe(this,t),o=Z[i],0<K[i]&&(o+=ae(this,K[i])),r>=l&&(this.b=r,n=this.e(),r=this.b);s--;)n[r]=n[r++-o];for(;8<=this.d;)this.d-=8,this.a--;this.b=r},j.prototype.w=function(e,t){var n=this.c,r=this.b;this.o=e;for(var i,a,o,s,l=n.length;256!==(i=oe(this,e));)if(256>i)r>=l&&(l=(n=this.e()).length),n[r++]=i;else for(s=X[a=i-257],0<Y[a]&&(s+=ae(this,Y[a])),i=oe(this,t),o=Z[i],0<K[i]&&(o+=ae(this,K[i])),r+s>l&&(l=(n=this.e()).length);s--;)n[r]=n[r++-o];for(;8<=this.d;)this.d-=8,this.a--;this.b=r},j.prototype.e=function(){var e,t,n=new(P?Uint8Array:Array)(this.b-32768),r=this.b-32768,i=this.c;if(P)n.set(i.subarray(32768,n.length));else for(e=0,t=n.length;e<t;++e)n[e]=i[e+32768];if(this.g.push(n),this.l+=n.length,P)i.set(i.subarray(r,r+32768));else for(e=0;32768>e;++e)i[e]=i[r+e];return this.b=32768,i},j.prototype.z=function(e){var t,n,r,i=this.input.length/this.a+1|0,a=this.input,o=this.c;return e&&("number"===typeof e.p&&(i=e.p),"number"===typeof e.u&&(i+=e.u)),2>i?n=(r=(a.length-this.a)/this.o[2]/2*258|0)<o.length?o.length+r:o.length<<1:n=o.length*i,P?(t=new Uint8Array(n)).set(o):t=o,this.c=t},j.prototype.n=function(){var e,t,n,r,i,a=0,o=this.c,s=this.g,l=new(P?Uint8Array:Array)(this.l+(this.b-32768));if(0===s.length)return P?this.c.subarray(32768,this.b):this.c.slice(32768,this.b);for(t=0,n=s.length;t<n;++t)for(r=0,i=(e=s[t]).length;r<i;++r)l[a++]=e[r];for(t=32768,n=this.b;t<n;++t)l[a++]=o[t];return this.g=[],this.buffer=l},j.prototype.v=function(){var e,t=this.b;return P?this.r?(e=new Uint8Array(t)).set(this.c.subarray(0,t)):e=this.c.subarray(0,t):(this.c.length>t&&(this.c.length=t),e=this.c),this.buffer=e},se.prototype.k=function(){var e,t,n=this.input;if(e=this.q.k(),this.a=this.q.a,this.A){t=(n[this.a++]<<24|n[this.a++]<<16|n[this.a++]<<8|n[this.a++])>>>0;var r=e;if("string"===typeof r){var i,a,o=r.split("");for(i=0,a=o.length;i<a;i++)o[i]=(255&o[i].charCodeAt(0))>>>0;r=o}for(var s,l=1,u=0,c=r.length,d=0;0<c;){c-=s=1024<c?1024:c;do{u+=l+=r[d++]}while(--s);l%=65521,u%=65521}if(t!==(u<<16|l)>>>0)throw Error("invalid adler-32 checksum")}return e};var le=8;L("Zlib.Inflate",se),L("Zlib.Inflate.prototype.decompress",se.prototype.k);var ue,ce,de,he,fe={ADAPTIVE:U.s,BLOCK:U.t};if(Object.keys)ue=Object.keys(fe);else for(ce in ue=[],de=0,fe)ue[de++]=ce;for(de=0,he=ue.length;de<he;++de)L("Zlib.Inflate.BufferType."+(ce=ue[de]),fe[ce]);var pe=I.Zlib.Inflate,me={findSpan:function(e,t,n){var r=n.length-e-1;if(t>=n[r])return r-1;if(t<=n[e])return e;for(var i=e,a=r,o=Math.floor((i+a)/2);t<n[o]||t>=n[o+1];)t<n[o]?a=o:i=o,o=Math.floor((i+a)/2);return o},calcBasisFunctions:function(e,t,n,r){var i=[],a=[],o=[];i[0]=1;for(var s=1;s<=n;++s){a[s]=t-r[e+1-s],o[s]=r[e+s]-t;for(var l=0,u=0;u<s;++u){var c=o[u+1],d=a[s-u],h=i[u]/(c+d);i[u]=l+c*h,l=d*h}i[s]=l}return i},calcBSplinePoint:function(e,t,n,r){for(var i=this.findSpan(e,r,t),a=this.calcBasisFunctions(i,r,e,t),o=new m.Vector4(0,0,0,0),s=0;s<=e;++s){var l=n[i-e+s],u=a[s],c=l.w*u;o.x+=l.x*c,o.y+=l.y*c,o.z+=l.z*c,o.w+=l.w*u}return o},calcBasisFunctionDerivatives:function(e,t,n,r,i){for(var a=[],o=0;o<=n;++o)a[o]=0;var s=[];for(o=0;o<=r;++o)s[o]=a.slice(0);var l=[];for(o=0;o<=n;++o)l[o]=a.slice(0);l[0][0]=1;for(var u=a.slice(0),c=a.slice(0),d=1;d<=n;++d){u[d]=t-i[e+1-d],c[d]=i[e+d]-t;for(var h=0,f=0;f<d;++f){var p=c[f+1],m=u[d-f];l[d][f]=p+m;var v=l[f][d-1]/l[d][f];l[f][d]=h+p*v,h=m*v}l[d][d]=h}for(d=0;d<=n;++d)s[0][d]=l[d][n];for(f=0;f<=n;++f){var g=0,y=1,b=[];for(o=0;o<=n;++o)b[o]=a.slice(0);b[0][0]=1;for(var x=1;x<=r;++x){var w=0,M=f-x,_=n-x;f>=x&&(b[y][0]=b[g][0]/l[_+1][M],w=b[y][0]*l[M][_]);var S=f-1<=_?x-1:n-f;for(d=M>=-1?1:-M;d<=S;++d)b[y][d]=(b[g][d]-b[g][d-1])/l[_+1][M+d],w+=b[y][d]*l[M+d][_];f<=_&&(b[y][x]=-b[g][x-1]/l[_+1][f],w+=b[y][x]*l[f][_]),s[x][f]=w;d=g;g=y,y=d}}for(f=n,x=1;x<=r;++x){for(d=0;d<=n;++d)s[x][d]*=f;f*=n-x}return s},calcBSplineDerivatives:function(e,t,n,r,i){for(var a=i<e?i:e,o=[],s=this.findSpan(e,r,t),l=this.calcBasisFunctionDerivatives(s,r,e,a,t),u=[],c=0;c<n.length;++c){var d=(f=n[c].clone()).w;f.x*=d,f.y*=d,f.z*=d,u[c]=f}for(var h=0;h<=a;++h){for(var f=u[s-e].clone().multiplyScalar(l[h][0]),p=1;p<=e;++p)f.add(u[s-e+p].clone().multiplyScalar(l[h][p]));o[h]=f}for(h=a+1;h<=i+1;++h)o[h]=new m.Vector4(0,0,0);return o},calcKoverI:function(e,t){for(var n=1,r=2;r<=e;++r)n*=r;var i=1;for(r=2;r<=t;++r)i*=r;for(r=2;r<=e-t;++r)i*=r;return n/i},calcRationalCurveDerivatives:function(e){for(var t=e.length,n=[],r=[],i=0;i<t;++i){var a=e[i];n[i]=new m.Vector3(a.x,a.y,a.z),r[i]=a.w}for(var o=[],s=0;s<t;++s){var l=n[s].clone();for(i=1;i<=s;++i)l.sub(o[s-i].clone().multiplyScalar(this.calcKoverI(s,i)*r[i]));o[s]=l.divideScalar(r[0])}return o},calcNURBSDerivatives:function(e,t,n,r,i){var a=this.calcBSplineDerivatives(e,t,n,r,i);return this.calcRationalCurveDerivatives(a)},calcSurfacePoint:function(e,t,n,r,i,a,o,s){for(var l=this.findSpan(e,a,n),u=this.findSpan(t,o,r),c=this.calcBasisFunctions(l,a,e,n),d=this.calcBasisFunctions(u,o,t,r),h=[],f=0;f<=t;++f){h[f]=new m.Vector4(0,0,0,0);for(var p=0;p<=e;++p){var v=i[l-e+p][u-t+f].clone(),g=v.w;v.x*=g,v.y*=g,v.z*=g,h[f].add(v.multiplyScalar(c[p]))}}var y=new m.Vector4(0,0,0,0);for(f=0;f<=t;++f)y.add(h[f].multiplyScalar(d[f]));y.divideScalar(y.w),s.set(y.x,y.y,y.z)}},ve=function(e,t,n,r,i){m.Curve.call(this),this.degree=e,this.knots=t,this.controlPoints=[],this.startKnot=r||0,this.endKnot=i||this.knots.length-1;for(var a=0;a<n.length;++a){var o=n[a];this.controlPoints[a]=new m.Vector4(o.x,o.y,o.z,o.w)}};(ve.prototype=Object.create(m.Curve.prototype)).constructor=ve,ve.prototype.getPoint=function(e,t){var n=t||new m.Vector3,r=this.knots[this.startKnot]+e*(this.knots[this.endKnot]-this.knots[this.startKnot]),i=me.calcBSplinePoint(this.degree,this.knots,this.controlPoints,r);return 1!=i.w&&i.divideScalar(i.w),n.set(i.x,i.y,i.z)},ve.prototype.getTangent=function(e,t){var n=t||new m.Vector3,r=this.knots[0]+e*(this.knots[this.knots.length-1]-this.knots[0]),i=me.calcNURBSDerivatives(this.degree,this.knots,this.controlPoints,r,1);return n.copy(i[1]).normalize(),n};(function(){var e,t,n;function r(e){m.Loader.call(this,e)}function i(e,t){this.textureLoader=e,this.manager=t}function a(){}function o(){}function s(){}function l(){}function u(e,t){this.dv=new DataView(e),this.offset=0,this.littleEndian=void 0===t||t}function c(){}function d(e){var t=e.match(/FBXVersion: (\d+)/);if(t)return parseInt(t[1]);throw new Error("THREE.FBXLoader: Cannot find the version number for the file given.")}function h(e){return e/46186158e3}r.prototype=Object.assign(Object.create(m.Loader.prototype),{constructor:r,load:function(e,t,n,r){var i=this,a=""===i.path?m.LoaderUtils.extractUrlBase(e):i.path,o=new m.FileLoader(this.manager);o.setPath(i.path),o.setResponseType("arraybuffer"),o.setRequestHeader(i.requestHeader),o.setWithCredentials(i.withCredentials),o.load(e,(function(n){try{t(i.parse(n,a))}catch(o){r?r(o):console.error(o),i.manager.itemError(e)}}),n,r)},parse:function(t,n){if(function(e){var t="Kaydara FBX Binary  \0";return e.byteLength>=t.length&&t===w(e,0,t.length)}(t))e=(new l).parse(t);else{var r=w(t);if(!function(e){var t=["K","a","y","d","a","r","a","\\","F","B","X","\\","B","i","n","a","r","y","\\","\\"],n=0;function r(t){var r=e[t-1];return e=e.slice(n+t),n++,r}for(var i=0;i<t.length;++i){if(r(1)===t[i])return!1}return!0}(r))throw new Error("THREE.FBXLoader: Unknown format.");if(d(r)<7e3)throw new Error("THREE.FBXLoader: FBX version not supported, FileVersion: "+d(r));e=(new s).parse(r)}return new i(new m.TextureLoader(this.manager).setPath(this.resourcePath||n).setCrossOrigin(this.crossOrigin),this.manager).parse(e)}}),i.prototype={constructor:i,parse:function(){t=this.parseConnections();var e=this.parseImages(),r=this.parseTextures(e),i=this.parseMaterials(r),o=this.parseDeformers(),s=(new a).parse(o);return this.parseScene(o,s,i),n},parseConnections:function(){var t=new Map;"Connections"in e&&e.Connections.connections.forEach((function(e){var n=e[0],r=e[1],i=e[2];t.has(n)||t.set(n,{parents:[],children:[]});var a={ID:r,relationship:i};t.get(n).parents.push(a),t.has(r)||t.set(r,{parents:[],children:[]});var o={ID:n,relationship:i};t.get(r).children.push(o)}));return t},parseImages:function(){var t={},n={};if("Video"in e.Objects){var r=e.Objects.Video;for(var i in r){var a=r[i];if(t[u=parseInt(i)]=a.RelativeFilename||a.Filename,"Content"in a){var o=a.Content instanceof ArrayBuffer&&a.Content.byteLength>0,s="string"===typeof a.Content&&""!==a.Content;if(o||s){var l=this.parseImage(r[i]);n[a.RelativeFilename||a.Filename]=l}}}}for(var u in t){var c=t[u];void 0!==n[c]?t[u]=n[c]:t[u]=t[u].split("\\").pop()}return t},parseImage:function(e){var t,n=e.Content,r=e.RelativeFilename||e.Filename,i=r.slice(r.lastIndexOf(".")+1).toLowerCase();switch(i){case"bmp":t="image/bmp";break;case"jpg":case"jpeg":t="image/jpeg";break;case"png":t="image/png";break;case"tif":t="image/tiff";break;case"tga":null===this.manager.getHandler(".tga")&&console.warn("FBXLoader: TGA loader not found, skipping ",r),t="image/tga";break;default:return void console.warn('FBXLoader: Image type "'+i+'" is not supported.')}if("string"===typeof n)return"data:"+t+";base64,"+n;var a=new Uint8Array(n);return window.URL.createObjectURL(new Blob([a],{type:t}))},parseTextures:function(t){var n=new Map;if("Texture"in e.Objects){var r=e.Objects.Texture;for(var i in r){var a=this.parseTexture(r[i],t);n.set(parseInt(i),a)}}return n},parseTexture:function(e,t){var n=this.loadTexture(e,t);n.ID=e.id,n.name=e.attrName;var r=e.WrapModeU,i=e.WrapModeV,a=void 0!==r?r.value:0,o=void 0!==i?i.value:0;if(n.wrapS=0===a?m.RepeatWrapping:m.ClampToEdgeWrapping,n.wrapT=0===o?m.RepeatWrapping:m.ClampToEdgeWrapping,"Scaling"in e){var s=e.Scaling.value;n.repeat.x=s[0],n.repeat.y=s[1]}return n},loadTexture:function(e,n){var r,i,a=this.textureLoader.path,o=t.get(e.id).children;void 0!==o&&o.length>0&&void 0!==n[o[0].ID]&&(0!==(r=n[o[0].ID]).indexOf("blob:")&&0!==r.indexOf("data:")||this.textureLoader.setPath(void 0));var s=e.FileName.slice(-3).toLowerCase();if("tga"===s){var l=this.manager.getHandler(".tga");null===l?(console.warn("FBXLoader: TGA loader not found, creating placeholder texture for",e.RelativeFilename),i=new m.Texture):i=l.load(r)}else"psd"===s?(console.warn("FBXLoader: PSD textures are not supported, creating placeholder texture for",e.RelativeFilename),i=new m.Texture):i=this.textureLoader.load(r);return this.textureLoader.setPath(a),i},parseMaterials:function(t){var n=new Map;if("Material"in e.Objects){var r=e.Objects.Material;for(var i in r){var a=this.parseMaterial(r[i],t);null!==a&&n.set(parseInt(i),a)}}return n},parseMaterial:function(e,n){var r=e.id,i=e.attrName,a=e.ShadingModel;if("object"===typeof a&&(a=a.value),!t.has(r))return null;var o,s=this.parseParameters(e,n,r);switch(a.toLowerCase()){case"phong":o=new m.MeshPhongMaterial;break;case"lambert":o=new m.MeshLambertMaterial;break;default:console.warn('THREE.FBXLoader: unknown material type "%s". Defaulting to MeshPhongMaterial.',a),o=new m.MeshPhongMaterial}return o.setValues(s),o.name=i,o},parseParameters:function(e,n,r){var i={};e.BumpFactor&&(i.bumpScale=e.BumpFactor.value),e.Diffuse?i.color=(new m.Color).fromArray(e.Diffuse.value):!e.DiffuseColor||"Color"!==e.DiffuseColor.type&&"ColorRGB"!==e.DiffuseColor.type||(i.color=(new m.Color).fromArray(e.DiffuseColor.value)),e.DisplacementFactor&&(i.displacementScale=e.DisplacementFactor.value),e.Emissive?i.emissive=(new m.Color).fromArray(e.Emissive.value):!e.EmissiveColor||"Color"!==e.EmissiveColor.type&&"ColorRGB"!==e.EmissiveColor.type||(i.emissive=(new m.Color).fromArray(e.EmissiveColor.value)),e.EmissiveFactor&&(i.emissiveIntensity=parseFloat(e.EmissiveFactor.value)),e.Opacity&&(i.opacity=parseFloat(e.Opacity.value)),i.opacity<1&&(i.transparent=!0),e.ReflectionFactor&&(i.reflectivity=e.ReflectionFactor.value),e.Shininess&&(i.shininess=e.Shininess.value),e.Specular?i.specular=(new m.Color).fromArray(e.Specular.value):e.SpecularColor&&"Color"===e.SpecularColor.type&&(i.specular=(new m.Color).fromArray(e.SpecularColor.value));var a=this;return t.get(r).children.forEach((function(e){var t=e.relationship;switch(t){case"Bump":i.bumpMap=a.getTexture(n,e.ID);break;case"Maya|TEX_ao_map":i.aoMap=a.getTexture(n,e.ID);break;case"DiffuseColor":case"Maya|TEX_color_map":i.map=a.getTexture(n,e.ID),i.map.encoding=m.sRGBEncoding;break;case"DisplacementColor":i.displacementMap=a.getTexture(n,e.ID);break;case"EmissiveColor":i.emissiveMap=a.getTexture(n,e.ID),i.emissiveMap.encoding=m.sRGBEncoding;break;case"NormalMap":case"Maya|TEX_normal_map":i.normalMap=a.getTexture(n,e.ID);break;case"ReflectionColor":i.envMap=a.getTexture(n,e.ID),i.envMap.mapping=m.EquirectangularReflectionMapping,i.envMap.encoding=m.sRGBEncoding;break;case"SpecularColor":i.specularMap=a.getTexture(n,e.ID),i.specularMap.encoding=m.sRGBEncoding;break;case"TransparentColor":case"TransparencyFactor":i.alphaMap=a.getTexture(n,e.ID),i.transparent=!0;break;case"AmbientColor":case"ShininessExponent":case"SpecularFactor":case"VectorDisplacementColor":default:console.warn("THREE.FBXLoader: %s map is not supported in three.js, skipping texture.",t)}})),i},getTexture:function(n,r){return"LayeredTexture"in e.Objects&&r in e.Objects.LayeredTexture&&(console.warn("THREE.FBXLoader: layered textures are not supported in three.js. Discarding all but first layer."),r=t.get(r).children[0].ID),n.get(r)},parseDeformers:function(){var n={},r={};if("Deformer"in e.Objects){var i=e.Objects.Deformer;for(var a in i){var o=i[a],s=t.get(parseInt(a));if("Skin"===o.attrType){var l=this.parseSkeleton(s,i);l.ID=a,s.parents.length>1&&console.warn("THREE.FBXLoader: skeleton attached to more than one geometry is not supported."),l.geometryID=s.parents[0].ID,n[a]=l}else if("BlendShape"===o.attrType){var u={id:a};u.rawTargets=this.parseMorphTargets(s,i),u.id=a,s.parents.length>1&&console.warn("THREE.FBXLoader: morph target attached to more than one geometry is not supported."),r[a]=u}}}return{skeletons:n,morphTargets:r}},parseSkeleton:function(e,t){var n=[];return e.children.forEach((function(e){var r=t[e.ID];if("Cluster"===r.attrType){var i={ID:e.ID,indices:[],weights:[],transformLink:(new m.Matrix4).fromArray(r.TransformLink.a)};"Indexes"in r&&(i.indices=r.Indexes.a,i.weights=r.Weights.a),n.push(i)}})),{rawBones:n,bones:[]}},parseMorphTargets:function(e,n){for(var r=[],i=0;i<e.children.length;i++){var a=e.children[i],o=n[a.ID],s={name:o.attrName,initialWeight:o.DeformPercent,id:o.id,fullWeights:o.FullWeights.a};if("BlendShapeChannel"!==o.attrType)return;s.geoID=t.get(parseInt(a.ID)).children.filter((function(e){return void 0===e.relationship}))[0].ID,r.push(s)}return r},parseScene:function(r,i,a){n=new m.Group;var s=this.parseModels(r.skeletons,i,a),l=e.Objects.Model,u=this;s.forEach((function(e){var r=l[e.ID];u.setLookAtProperties(e,r),t.get(e.ID).parents.forEach((function(t){var n=s.get(t.ID);void 0!==n&&n.add(e)})),null===e.parent&&n.add(e)})),this.bindSkeleton(r.skeletons,i,s),this.createAmbientLight(),this.setupMorphMaterials(),n.traverse((function(e){if(e.userData.transformData){e.parent&&(e.userData.transformData.parentMatrixWorld=e.parent.matrix);var t=y(e.userData.transformData);e.applyMatrix4(t)}}));var c=(new o).parse();1===n.children.length&&n.children[0].isGroup&&(n.children[0].animations=c,n=n.children[0]),n.animations=c},parseModels:function(n,r,i){var a=new Map,o=e.Objects.Model;for(var s in o){var l=parseInt(s),u=o[s],c=t.get(l),d=this.buildSkeleton(c,n,l,u.attrName);if(!d){switch(u.attrType){case"Camera":d=this.createCamera(c);break;case"Light":d=this.createLight(c);break;case"Mesh":d=this.createMesh(c,r,i);break;case"NurbsCurve":d=this.createCurve(c,r);break;case"LimbNode":case"Root":d=new m.Bone;break;case"Null":default:d=new m.Group}d.name=u.attrName?m.PropertyBinding.sanitizeNodeName(u.attrName):"",d.ID=l}this.getTransformData(d,u),a.set(l,d)}return a},buildSkeleton:function(e,t,n,r){var i=null;return e.parents.forEach((function(e){for(var a in t){var o=t[a];o.rawBones.forEach((function(t,a){if(t.ID===e.ID){var s=i;(i=new m.Bone).matrixWorld.copy(t.transformLink),i.name=r?m.PropertyBinding.sanitizeNodeName(r):"",i.ID=n,o.bones[a]=i,null!==s&&i.add(s)}}))}})),i},createCamera:function(t){var n,r;if(t.children.forEach((function(t){var n=e.Objects.NodeAttribute[t.ID];void 0!==n&&(r=n)})),void 0===r)n=new m.Object3D;else{var i=0;void 0!==r.CameraProjectionType&&1===r.CameraProjectionType.value&&(i=1);var a=1;void 0!==r.NearPlane&&(a=r.NearPlane.value/1e3);var o=1e3;void 0!==r.FarPlane&&(o=r.FarPlane.value/1e3);var s=window.innerWidth,l=window.innerHeight;void 0!==r.AspectWidth&&void 0!==r.AspectHeight&&(s=r.AspectWidth.value,l=r.AspectHeight.value);var u=s/l,c=45;void 0!==r.FieldOfView&&(c=r.FieldOfView.value);var d=r.FocalLength?r.FocalLength.value:null;switch(i){case 0:n=new m.PerspectiveCamera(c,u,a,o),null!==d&&n.setFocalLength(d);break;case 1:n=new m.OrthographicCamera(-s/2,s/2,l/2,-l/2,a,o);break;default:console.warn("THREE.FBXLoader: Unknown camera type "+i+"."),n=new m.Object3D}}return n},createLight:function(t){var n,r;if(t.children.forEach((function(t){var n=e.Objects.NodeAttribute[t.ID];void 0!==n&&(r=n)})),void 0===r)n=new m.Object3D;else{var i;i=void 0===r.LightType?0:r.LightType.value;var a=16777215;void 0!==r.Color&&(a=(new m.Color).fromArray(r.Color.value));var o=void 0===r.Intensity?1:r.Intensity.value/100;void 0!==r.CastLightOnObject&&0===r.CastLightOnObject.value&&(o=0);var s=0;void 0!==r.FarAttenuationEnd&&(s=void 0!==r.EnableFarAttenuation&&0===r.EnableFarAttenuation.value?0:r.FarAttenuationEnd.value);switch(i){case 0:n=new m.PointLight(a,o,s,1);break;case 1:n=new m.DirectionalLight(a,o);break;case 2:var l=Math.PI/3;void 0!==r.InnerAngle&&(l=m.MathUtils.degToRad(r.InnerAngle.value));var u=0;void 0!==r.OuterAngle&&(u=m.MathUtils.degToRad(r.OuterAngle.value),u=Math.max(u,1)),n=new m.SpotLight(a,o,s,l,u,1);break;default:console.warn("THREE.FBXLoader: Unknown light type "+r.LightType.value+", defaulting to a PointLight."),n=new m.PointLight(a,o)}void 0!==r.CastShadows&&1===r.CastShadows.value&&(n.castShadow=!0)}return n},createMesh:function(e,t,n){var r,i=null,a=null,o=[];return e.children.forEach((function(e){t.has(e.ID)&&(i=t.get(e.ID)),n.has(e.ID)&&o.push(n.get(e.ID))})),o.length>1?a=o:o.length>0?a=o[0]:(a=new m.MeshPhongMaterial({color:13421772}),o.push(a)),"color"in i.attributes&&o.forEach((function(e){e.vertexColors=!0})),i.FBX_Deformer?(o.forEach((function(e){e.skinning=!0})),(r=new m.SkinnedMesh(i,a)).normalizeSkinWeights()):r=new m.Mesh(i,a),r},createCurve:function(e,t){var n=e.children.reduce((function(e,n){return t.has(n.ID)&&(e=t.get(n.ID)),e}),null),r=new m.LineBasicMaterial({color:3342591,linewidth:1});return new m.Line(n,r)},getTransformData:function(e,t){var n={};"InheritType"in t&&(n.inheritType=parseInt(t.InheritType.value)),n.eulerOrder="RotationOrder"in t?b(t.RotationOrder.value):"ZYX","Lcl_Translation"in t&&(n.translation=t.Lcl_Translation.value),"PreRotation"in t&&(n.preRotation=t.PreRotation.value),"Lcl_Rotation"in t&&(n.rotation=t.Lcl_Rotation.value),"PostRotation"in t&&(n.postRotation=t.PostRotation.value),"Lcl_Scaling"in t&&(n.scale=t.Lcl_Scaling.value),"ScalingOffset"in t&&(n.scalingOffset=t.ScalingOffset.value),"ScalingPivot"in t&&(n.scalingPivot=t.ScalingPivot.value),"RotationOffset"in t&&(n.rotationOffset=t.RotationOffset.value),"RotationPivot"in t&&(n.rotationPivot=t.RotationPivot.value),e.userData.transformData=n},setLookAtProperties:function(r,i){"LookAtProperty"in i&&t.get(r.ID).children.forEach((function(t){if("LookAtProperty"===t.relationship){var i=e.Objects.Model[t.ID];if("Lcl_Translation"in i){var a=i.Lcl_Translation.value;void 0!==r.target?(r.target.position.fromArray(a),n.add(r.target)):r.lookAt((new m.Vector3).fromArray(a))}}}))},bindSkeleton:function(e,n,r){var i=this.parsePoseNodes();for(var a in e){var o=e[a];t.get(parseInt(o.ID)).parents.forEach((function(e){if(n.has(e.ID)){var a=e.ID;t.get(a).parents.forEach((function(e){r.has(e.ID)&&r.get(e.ID).bind(new m.Skeleton(o.bones),i[e.ID])}))}}))}},parsePoseNodes:function(){var t={};if("Pose"in e.Objects){var n=e.Objects.Pose;for(var r in n)if("BindPose"===n[r].attrType){var i=n[r].PoseNode;Array.isArray(i)?i.forEach((function(e){t[e.Node]=(new m.Matrix4).fromArray(e.Matrix.a)})):t[i.Node]=(new m.Matrix4).fromArray(i.Matrix.a)}}return t},createAmbientLight:function(){if("GlobalSettings"in e&&"AmbientColor"in e.GlobalSettings){var t=e.GlobalSettings.AmbientColor.value,r=t[0],i=t[1],a=t[2];if(0!==r||0!==i||0!==a){var o=new m.Color(r,i,a);n.add(new m.AmbientLight(o,1))}}},setupMorphMaterials:function(){var e=this;n.traverse((function(t){t.isMesh&&t.geometry.morphAttributes.position&&t.geometry.morphAttributes.position.length&&(Array.isArray(t.material)?t.material.forEach((function(n,r){e.setupMorphMaterial(t,n,r)})):e.setupMorphMaterial(t,t.material))}))},setupMorphMaterial:function(e,t,r){var i=e.uuid,a=t.uuid,o=!1;if(n.traverse((function(e){e.isMesh&&(Array.isArray(e.material)?e.material.forEach((function(t){t.uuid===a&&e.uuid!==i&&(o=!0)})):e.material.uuid===a&&e.uuid!==i&&(o=!0))})),!0===o){var s=t.clone();s.morphTargets=!0,void 0===r?e.material=s:e.material[r]=s}else t.morphTargets=!0}},a.prototype={constructor:a,parse:function(n){var r=new Map;if("Geometry"in e.Objects){var i=e.Objects.Geometry;for(var a in i){var o=t.get(parseInt(a)),s=this.parseGeometry(o,i[a],n);r.set(parseInt(a),s)}}return r},parseGeometry:function(e,t,n){switch(t.attrType){case"Mesh":return this.parseMeshGeometry(e,t,n);case"NurbsCurve":return this.parseNurbsGeometry(t)}},parseMeshGeometry:function(t,n,r){var i=r.skeletons,a=[],o=t.parents.map((function(t){return e.Objects.Model[t.ID]}));if(0!==o.length){var s=t.children.reduce((function(e,t){return void 0!==i[t.ID]&&(e=i[t.ID]),e}),null);t.children.forEach((function(e){void 0!==r.morphTargets[e.ID]&&a.push(r.morphTargets[e.ID])}));var l=o[0],u={};"RotationOrder"in l&&(u.eulerOrder=b(l.RotationOrder.value)),"InheritType"in l&&(u.inheritType=parseInt(l.InheritType.value)),"GeometricTranslation"in l&&(u.translation=l.GeometricTranslation.value),"GeometricRotation"in l&&(u.rotation=l.GeometricRotation.value),"GeometricScaling"in l&&(u.scale=l.GeometricScaling.value);var c=y(u);return this.genGeometry(n,s,a,c)}},genGeometry:function(e,t,n,r){var i=new m.BufferGeometry;e.attrName&&(i.name=e.attrName);var a=this.parseGeoNode(e,t),o=this.genBuffers(a),s=new m.Float32BufferAttribute(o.vertex,3);if(s.applyMatrix4(r),i.setAttribute("position",s),o.colors.length>0&&i.setAttribute("color",new m.Float32BufferAttribute(o.colors,3)),t&&(i.setAttribute("skinIndex",new m.Uint16BufferAttribute(o.weightsIndices,4)),i.setAttribute("skinWeight",new m.Float32BufferAttribute(o.vertexWeights,4)),i.FBX_Deformer=t),o.normal.length>0){var l=(new m.Matrix3).getNormalMatrix(r),u=new m.Float32BufferAttribute(o.normal,3);u.applyNormalMatrix(l),i.setAttribute("normal",u)}if(o.uvs.forEach((function(e,t){var n="uv"+(t+1).toString();0===t&&(n="uv"),i.setAttribute(n,new m.Float32BufferAttribute(o.uvs[t],2))})),a.material&&"AllSame"!==a.material.mappingType){var c=o.materialIndex[0],d=0;if(o.materialIndex.forEach((function(e,t){e!==c&&(i.addGroup(d,t-d,c),c=e,d=t)})),i.groups.length>0){var h=i.groups[i.groups.length-1],f=h.start+h.count;f!==o.materialIndex.length&&i.addGroup(f,o.materialIndex.length-f,c)}0===i.groups.length&&i.addGroup(0,o.materialIndex.length,o.materialIndex[0])}return this.addMorphTargets(i,e,n,r),i},parseGeoNode:function(e,t){var n={};if(n.vertexPositions=void 0!==e.Vertices?e.Vertices.a:[],n.vertexIndices=void 0!==e.PolygonVertexIndex?e.PolygonVertexIndex.a:[],e.LayerElementColor&&(n.color=this.parseVertexColors(e.LayerElementColor[0])),e.LayerElementMaterial&&(n.material=this.parseMaterialIndices(e.LayerElementMaterial[0])),e.LayerElementNormal&&(n.normal=this.parseNormals(e.LayerElementNormal[0])),e.LayerElementUV){n.uv=[];for(var r=0;e.LayerElementUV[r];)e.LayerElementUV[r].UV&&n.uv.push(this.parseUVs(e.LayerElementUV[r])),r++}return n.weightTable={},null!==t&&(n.skeleton=t,t.rawBones.forEach((function(e,t){e.indices.forEach((function(r,i){void 0===n.weightTable[r]&&(n.weightTable[r]=[]),n.weightTable[r].push({id:t,weight:e.weights[i]})}))}))),n},genBuffers:function(e){var t={vertex:[],normal:[],colors:[],uvs:[],materialIndex:[],vertexWeights:[],weightsIndices:[]},n=0,r=0,i=!1,a=[],o=[],s=[],l=[],u=[],c=[],d=this;return e.vertexIndices.forEach((function(h,f){var m=!1;h<0&&(h^=-1,m=!0);var v=[],g=[];if(a.push(3*h,3*h+1,3*h+2),e.color){var y=p(f,n,h,e.color);s.push(y[0],y[1],y[2])}if(e.skeleton){if(void 0!==e.weightTable[h]&&e.weightTable[h].forEach((function(e){g.push(e.weight),v.push(e.id)})),g.length>4){i||(console.warn("THREE.FBXLoader: Vertex has more than 4 skinning weights assigned to vertex. Deleting additional weights."),i=!0);var b=[0,0,0,0],x=[0,0,0,0];g.forEach((function(e,t){var n=e,r=v[t];x.forEach((function(e,t,i){if(n>e){i[t]=n,n=e;var a=b[t];b[t]=r,r=a}}))})),v=b,g=x}for(;g.length<4;)g.push(0),v.push(0);for(var w=0;w<4;++w)u.push(g[w]),c.push(v[w])}if(e.normal){y=p(f,n,h,e.normal);o.push(y[0],y[1],y[2])}if(e.material&&"AllSame"!==e.material.mappingType)var M=p(f,n,h,e.material)[0];e.uv&&e.uv.forEach((function(e,t){var r=p(f,n,h,e);void 0===l[t]&&(l[t]=[]),l[t].push(r[0]),l[t].push(r[1])})),r++,m&&(d.genFace(t,e,a,M,o,s,l,u,c,r),n++,r=0,a=[],o=[],s=[],l=[],u=[],c=[])})),t},genFace:function(e,t,n,r,i,a,o,s,l,u){for(var c=2;c<u;c++)e.vertex.push(t.vertexPositions[n[0]]),e.vertex.push(t.vertexPositions[n[1]]),e.vertex.push(t.vertexPositions[n[2]]),e.vertex.push(t.vertexPositions[n[3*(c-1)]]),e.vertex.push(t.vertexPositions[n[3*(c-1)+1]]),e.vertex.push(t.vertexPositions[n[3*(c-1)+2]]),e.vertex.push(t.vertexPositions[n[3*c]]),e.vertex.push(t.vertexPositions[n[3*c+1]]),e.vertex.push(t.vertexPositions[n[3*c+2]]),t.skeleton&&(e.vertexWeights.push(s[0]),e.vertexWeights.push(s[1]),e.vertexWeights.push(s[2]),e.vertexWeights.push(s[3]),e.vertexWeights.push(s[4*(c-1)]),e.vertexWeights.push(s[4*(c-1)+1]),e.vertexWeights.push(s[4*(c-1)+2]),e.vertexWeights.push(s[4*(c-1)+3]),e.vertexWeights.push(s[4*c]),e.vertexWeights.push(s[4*c+1]),e.vertexWeights.push(s[4*c+2]),e.vertexWeights.push(s[4*c+3]),e.weightsIndices.push(l[0]),e.weightsIndices.push(l[1]),e.weightsIndices.push(l[2]),e.weightsIndices.push(l[3]),e.weightsIndices.push(l[4*(c-1)]),e.weightsIndices.push(l[4*(c-1)+1]),e.weightsIndices.push(l[4*(c-1)+2]),e.weightsIndices.push(l[4*(c-1)+3]),e.weightsIndices.push(l[4*c]),e.weightsIndices.push(l[4*c+1]),e.weightsIndices.push(l[4*c+2]),e.weightsIndices.push(l[4*c+3])),t.color&&(e.colors.push(a[0]),e.colors.push(a[1]),e.colors.push(a[2]),e.colors.push(a[3*(c-1)]),e.colors.push(a[3*(c-1)+1]),e.colors.push(a[3*(c-1)+2]),e.colors.push(a[3*c]),e.colors.push(a[3*c+1]),e.colors.push(a[3*c+2])),t.material&&"AllSame"!==t.material.mappingType&&(e.materialIndex.push(r),e.materialIndex.push(r),e.materialIndex.push(r)),t.normal&&(e.normal.push(i[0]),e.normal.push(i[1]),e.normal.push(i[2]),e.normal.push(i[3*(c-1)]),e.normal.push(i[3*(c-1)+1]),e.normal.push(i[3*(c-1)+2]),e.normal.push(i[3*c]),e.normal.push(i[3*c+1]),e.normal.push(i[3*c+2])),t.uv&&t.uv.forEach((function(t,n){void 0===e.uvs[n]&&(e.uvs[n]=[]),e.uvs[n].push(o[n][0]),e.uvs[n].push(o[n][1]),e.uvs[n].push(o[n][2*(c-1)]),e.uvs[n].push(o[n][2*(c-1)+1]),e.uvs[n].push(o[n][2*c]),e.uvs[n].push(o[n][2*c+1])}))},addMorphTargets:function(t,n,r,i){if(0!==r.length){t.morphTargetsRelative=!0,t.morphAttributes.position=[];var a=this;r.forEach((function(r){r.rawTargets.forEach((function(r){var o=e.Objects.Geometry[r.geoID];void 0!==o&&a.genMorphGeometry(t,n,o,i,r.name)}))}))}},genMorphGeometry:function(e,t,n,r,i){for(var a=void 0!==t.PolygonVertexIndex?t.PolygonVertexIndex.a:[],o=void 0!==n.Vertices?n.Vertices.a:[],s=void 0!==n.Indexes?n.Indexes.a:[],l=3*e.attributes.position.count,u=new Float32Array(l),c=0;c<s.length;c++){var d=3*s[c];u[d]=o[3*c],u[d+1]=o[3*c+1],u[d+2]=o[3*c+2]}var h={vertexIndices:a,vertexPositions:u},f=this.genBuffers(h),p=new m.Float32BufferAttribute(f.vertex,3);p.name=i||n.attrName,p.applyMatrix4(r),e.morphAttributes.position.push(p)},parseNormals:function(e){var t=e.MappingInformationType,n=e.ReferenceInformationType,r=e.Normals.a,i=[];return"IndexToDirect"===n&&("NormalIndex"in e?i=e.NormalIndex.a:"NormalsIndex"in e&&(i=e.NormalsIndex.a)),{dataSize:3,buffer:r,indices:i,mappingType:t,referenceType:n}},parseUVs:function(e){var t=e.MappingInformationType,n=e.ReferenceInformationType,r=e.UV.a,i=[];return"IndexToDirect"===n&&(i=e.UVIndex.a),{dataSize:2,buffer:r,indices:i,mappingType:t,referenceType:n}},parseVertexColors:function(e){var t=e.MappingInformationType,n=e.ReferenceInformationType,r=e.Colors.a,i=[];return"IndexToDirect"===n&&(i=e.ColorIndex.a),{dataSize:4,buffer:r,indices:i,mappingType:t,referenceType:n}},parseMaterialIndices:function(e){var t=e.MappingInformationType,n=e.ReferenceInformationType;if("NoMappingInformation"===t)return{dataSize:1,buffer:[0],indices:[0],mappingType:"AllSame",referenceType:n};for(var r=e.Materials.a,i=[],a=0;a<r.length;++a)i.push(a);return{dataSize:1,buffer:r,indices:i,mappingType:t,referenceType:n}},parseNurbsGeometry:function(e){if(void 0===ve)return console.error("THREE.FBXLoader: The loader relies on NURBSCurve for any nurbs present in the model. Nurbs will show up as empty geometry."),new m.BufferGeometry;var t=parseInt(e.Order);if(isNaN(t))return console.error("THREE.FBXLoader: Invalid Order %s given for geometry ID: %s",e.Order,e.id),new m.BufferGeometry;for(var n,r,i=t-1,a=e.KnotVector.a,o=[],s=e.Points.a,l=0,u=s.length;l<u;l+=4)o.push((new m.Vector4).fromArray(s,l));if("Closed"===e.Form)o.push(o[0]);else if("Periodic"===e.Form){n=i,r=a.length-1-n;for(l=0;l<i;++l)o.push(o[l])}var c=new ve(i,a,o,n,r).getPoints(7*o.length),d=new Float32Array(3*c.length);c.forEach((function(e,t){e.toArray(d,3*t)}));var h=new m.BufferGeometry;return h.setAttribute("position",new m.BufferAttribute(d,3)),h}},o.prototype={constructor:o,parse:function(){var e=[],t=this.parseClips();if(void 0!==t)for(var n in t){var r=t[n],i=this.addClip(r);e.push(i)}return e},parseClips:function(){if(void 0!==e.Objects.AnimationCurve){var t=this.parseAnimationCurveNodes();this.parseAnimationCurves(t);var n=this.parseAnimationLayers(t);return this.parseAnimStacks(n)}},parseAnimationCurveNodes:function(){var t=e.Objects.AnimationCurveNode,n=new Map;for(var r in t){var i=t[r];if(null!==i.attrName.match(/S|R|T|DeformPercent/)){var a={id:i.id,attr:i.attrName,curves:{}};n.set(a.id,a)}}return n},parseAnimationCurves:function(n){var r=e.Objects.AnimationCurve;for(var i in r){var a={id:r[i].id,times:r[i].KeyTime.a.map(h),values:r[i].KeyValueFloat.a},o=t.get(a.id);if(void 0!==o){var s=o.parents[0].ID,l=o.parents[0].relationship;l.match(/X/)?n.get(s).curves.x=a:l.match(/Y/)?n.get(s).curves.y=a:l.match(/Z/)?n.get(s).curves.z=a:l.match(/d|DeformPercent/)&&n.has(s)&&(n.get(s).curves.morph=a)}}},parseAnimationLayers:function(r){var i=e.Objects.AnimationLayer,a=new Map;for(var o in i){var s=[],l=t.get(parseInt(o));if(void 0!==l)l.children.forEach((function(i,a){if(r.has(i.ID)){var o=r.get(i.ID);if(void 0!==o.curves.x||void 0!==o.curves.y||void 0!==o.curves.z){if(void 0===s[a])if(void 0!==(f=t.get(i.ID).parents.filter((function(e){return void 0!==e.relationship}))[0].ID)){if(void 0===(u=e.Objects.Model[f.toString()]))return void console.warn("THREE.FBXLoader: Encountered a unused curve.",i);var l={modelName:u.attrName?m.PropertyBinding.sanitizeNodeName(u.attrName):"",ID:u.id,initialPosition:[0,0,0],initialRotation:[0,0,0],initialScale:[1,1,1]};n.traverse((function(e){e.ID===u.id&&(l.transform=e.matrix,e.userData.transformData&&(l.eulerOrder=e.userData.transformData.eulerOrder))})),l.transform||(l.transform=new m.Matrix4),"PreRotation"in u&&(l.preRotation=u.PreRotation.value),"PostRotation"in u&&(l.postRotation=u.PostRotation.value),s[a]=l}s[a]&&(s[a][o.attr]=o)}else if(void 0!==o.curves.morph){if(void 0===s[a]){var u,c=t.get(i.ID).parents.filter((function(e){return void 0!==e.relationship}))[0].ID,d=t.get(c).parents[0].ID,h=t.get(d).parents[0].ID,f=t.get(h).parents[0].ID;l={modelName:(u=e.Objects.Model[f]).attrName?m.PropertyBinding.sanitizeNodeName(u.attrName):"",morphName:e.Objects.Deformer[c].attrName};s[a]=l}s[a][o.attr]=o}}})),a.set(parseInt(o),s)}return a},parseAnimStacks:function(n){var r=e.Objects.AnimationStack,i={};for(var a in r){var o=t.get(parseInt(a)).children;o.length>1&&console.warn("THREE.FBXLoader: Encountered an animation stack with multiple layers, this is currently not supported. Ignoring subsequent layers.");var s=n.get(o[0].ID);i[a]={name:r[a].attrName,layer:s}}return i},addClip:function(e){var t=[],n=this;return e.layer.forEach((function(e){t=t.concat(n.generateTracks(e))})),new m.AnimationClip(e.name,-1,t)},generateTracks:function(e){var t=[],n=new m.Vector3,r=new m.Quaternion,i=new m.Vector3;if(e.transform&&e.transform.decompose(n,r,i),n=n.toArray(),r=(new m.Euler).setFromQuaternion(r,e.eulerOrder).toArray(),i=i.toArray(),void 0!==e.T&&Object.keys(e.T.curves).length>0){var a=this.generateVectorTrack(e.modelName,e.T.curves,n,"position");void 0!==a&&t.push(a)}if(void 0!==e.R&&Object.keys(e.R.curves).length>0){var o=this.generateRotationTrack(e.modelName,e.R.curves,r,e.preRotation,e.postRotation,e.eulerOrder);void 0!==o&&t.push(o)}if(void 0!==e.S&&Object.keys(e.S.curves).length>0){var s=this.generateVectorTrack(e.modelName,e.S.curves,i,"scale");void 0!==s&&t.push(s)}if(void 0!==e.DeformPercent){var l=this.generateMorphTrack(e);void 0!==l&&t.push(l)}return t},generateVectorTrack:function(e,t,n,r){var i=this.getTimesForAllAxes(t),a=this.getKeyframeTrackValues(i,t,n);return new m.VectorKeyframeTrack(e+"."+r,i,a)},generateRotationTrack:function(e,t,n,r,i,a){void 0!==t.x&&(this.interpolateRotations(t.x),t.x.values=t.x.values.map(m.MathUtils.degToRad)),void 0!==t.y&&(this.interpolateRotations(t.y),t.y.values=t.y.values.map(m.MathUtils.degToRad)),void 0!==t.z&&(this.interpolateRotations(t.z),t.z.values=t.z.values.map(m.MathUtils.degToRad));var o=this.getTimesForAllAxes(t),s=this.getKeyframeTrackValues(o,t,n);void 0!==r&&((r=r.map(m.MathUtils.degToRad)).push(a),r=(new m.Euler).fromArray(r),r=(new m.Quaternion).setFromEuler(r)),void 0!==i&&((i=i.map(m.MathUtils.degToRad)).push(a),i=(new m.Euler).fromArray(i),i=(new m.Quaternion).setFromEuler(i).invert());for(var l=new m.Quaternion,u=new m.Euler,c=[],d=0;d<s.length;d+=3)u.set(s[d],s[d+1],s[d+2],a),l.setFromEuler(u),void 0!==r&&l.premultiply(r),void 0!==i&&l.multiply(i),l.toArray(c,d/3*4);return new m.QuaternionKeyframeTrack(e+".quaternion",o,c)},generateMorphTrack:function(e){var t=e.DeformPercent.curves.morph,r=t.values.map((function(e){return e/100})),i=n.getObjectByName(e.modelName).morphTargetDictionary[e.morphName];return new m.NumberKeyframeTrack(e.modelName+".morphTargetInfluences["+i+"]",t.times,r)},getTimesForAllAxes:function(e){var t=[];return void 0!==e.x&&(t=t.concat(e.x.times)),void 0!==e.y&&(t=t.concat(e.y.times)),void 0!==e.z&&(t=t.concat(e.z.times)),t=t.sort((function(e,t){return e-t})).filter((function(e,t,n){return n.indexOf(e)==t}))},getKeyframeTrackValues:function(e,t,n){var r=n,i=[],a=-1,o=-1,s=-1;return e.forEach((function(e){if(t.x&&(a=t.x.times.indexOf(e)),t.y&&(o=t.y.times.indexOf(e)),t.z&&(s=t.z.times.indexOf(e)),-1!==a){var n=t.x.values[a];i.push(n),r[0]=n}else i.push(r[0]);if(-1!==o){var l=t.y.values[o];i.push(l),r[1]=l}else i.push(r[1]);if(-1!==s){var u=t.z.values[s];i.push(u),r[2]=u}else i.push(r[2])})),i},interpolateRotations:function(e){for(var t=1;t<e.values.length;t++){var n=e.values[t-1],r=e.values[t]-n,i=Math.abs(r);if(i>=180){for(var a=i/180,o=r/a,s=n+o,l=e.times[t-1],u=(e.times[t]-l)/a,c=l+u,d=[],h=[];c<e.times[t];)d.push(c),c+=u,h.push(s),s+=o;e.times=M(e.times,t,d),e.values=M(e.values,t,h)}}}},s.prototype={constructor:s,getPrevNode:function(){return this.nodeStack[this.currentIndent-2]},getCurrentNode:function(){return this.nodeStack[this.currentIndent-1]},getCurrentProp:function(){return this.currentProp},pushStack:function(e){this.nodeStack.push(e),this.currentIndent+=1},popStack:function(){this.nodeStack.pop(),this.currentIndent-=1},setCurrentProp:function(e,t){this.currentProp=e,this.currentPropName=t},parse:function(e){this.currentIndent=0,this.allNodes=new c,this.nodeStack=[],this.currentProp=[],this.currentPropName="";var t=this,n=e.split(/[\r\n]+/);return n.forEach((function(e,r){var i=e.match(/^[\s\t]*;/),a=e.match(/^[\s\t]*$/);if(!i&&!a){var o=e.match("^\\t{"+t.currentIndent+"}(\\w+):(.*){",""),s=e.match("^\\t{"+t.currentIndent+"}(\\w+):[\\s\\t\\r\\n](.*)"),l=e.match("^\\t{"+(t.currentIndent-1)+"}}");o?t.parseNodeBegin(e,o):s?t.parseNodeProperty(e,s,n[++r]):l?t.popStack():e.match(/^[^\s\t}]/)&&t.parseNodePropertyContinued(e)}})),this.allNodes},parseNodeBegin:function(e,t){var n=t[1].trim().replace(/^"/,"").replace(/"$/,""),r=t[2].split(",").map((function(e){return e.trim().replace(/^"/,"").replace(/"$/,"")})),i={name:n},a=this.parseNodeAttr(r),o=this.getCurrentNode();0===this.currentIndent?this.allNodes.add(n,i):n in o?("PoseNode"===n?o.PoseNode.push(i):void 0!==o[n].id&&(o[n]={},o[n][o[n].id]=o[n]),""!==a.id&&(o[n][a.id]=i)):"number"===typeof a.id?(o[n]={},o[n][a.id]=i):"Properties70"!==n&&(o[n]="PoseNode"===n?[i]:i),"number"===typeof a.id&&(i.id=a.id),""!==a.name&&(i.attrName=a.name),""!==a.type&&(i.attrType=a.type),this.pushStack(i)},parseNodeAttr:function(e){var t=e[0];""!==e[0]&&(t=parseInt(e[0]),isNaN(t)&&(t=e[0]));var n="",r="";return e.length>1&&(n=e[1].replace(/^(\w+)::/,""),r=e[2]),{id:t,name:n,type:r}},parseNodeProperty:function(e,t,n){var r=t[1].replace(/^"/,"").replace(/"$/,"").trim(),i=t[2].replace(/^"/,"").replace(/"$/,"").trim();"Content"===r&&","===i&&(i=n.replace(/"/g,"").replace(/,$/,"").trim());var a=this.getCurrentNode();if("Properties70"!==a.name){if("C"===r){var o=i.split(",").slice(1),s=parseInt(o[0]),l=parseInt(o[1]),u=i.split(",").slice(3);r="connections",function(e,t){for(var n=0,r=e.length,i=t.length;n<i;n++,r++)e[r]=t[n]}(i=[s,l],u=u.map((function(e){return e.trim().replace(/^"/,"")}))),void 0===a[r]&&(a[r]=[])}"Node"===r&&(a.id=i),r in a&&Array.isArray(a[r])?a[r].push(i):"a"!==r?a[r]=i:a.a=i,this.setCurrentProp(a,r),"a"===r&&","!==i.slice(-1)&&(a.a=x(i))}else this.parseNodeSpecialProperty(e,r,i)},parseNodePropertyContinued:function(e){var t=this.getCurrentNode();t.a+=e,","!==e.slice(-1)&&(t.a=x(t.a))},parseNodeSpecialProperty:function(e,t,n){var r=n.split('",').map((function(e){return e.trim().replace(/^\"/,"").replace(/\s/,"_")})),i=r[0],a=r[1],o=r[2],s=r[3],l=r[4];switch(a){case"int":case"enum":case"bool":case"ULongLong":case"double":case"Number":case"FieldOfView":l=parseFloat(l);break;case"Color":case"ColorRGB":case"Vector3D":case"Lcl_Translation":case"Lcl_Rotation":case"Lcl_Scaling":l=x(l)}this.getPrevNode()[i]={type:a,type2:o,flag:s,value:l},this.setCurrentProp(this.getPrevNode(),i)}},l.prototype={constructor:l,parse:function(e){var t=new u(e);t.skip(23);var n=t.getUint32();if(n<6400)throw new Error("THREE.FBXLoader: FBX version not supported, FileVersion: "+n);for(var r=new c;!this.endOfContent(t);){var i=this.parseNode(t,n);null!==i&&r.add(i.name,i)}return r},endOfContent:function(e){return e.size()%16===0?(e.getOffset()+160+16&-16)>=e.size():e.getOffset()+160+16>=e.size()},parseNode:function(e,t){var n={},r=t>=7500?e.getUint64():e.getUint32(),i=t>=7500?e.getUint64():e.getUint32();t>=7500?e.getUint64():e.getUint32();var a=e.getUint8(),o=e.getString(a);if(0===r)return null;for(var s=[],l=0;l<i;l++)s.push(this.parseProperty(e));var u=s.length>0?s[0]:"",c=s.length>1?s[1]:"",d=s.length>2?s[2]:"";for(n.singleProperty=1===i&&e.getOffset()===r;r>e.getOffset();){var h=this.parseNode(e,t);null!==h&&this.parseSubNode(o,n,h)}return n.propertyList=s,"number"===typeof u&&(n.id=u),""!==c&&(n.attrName=c),""!==d&&(n.attrType=d),""!==o&&(n.name=o),n},parseSubNode:function(e,t,n){if(!0===n.singleProperty){var r=n.propertyList[0];Array.isArray(r)?(t[n.name]=n,n.a=r):t[n.name]=r}else if("Connections"===e&&"C"===n.name){var i=[];n.propertyList.forEach((function(e,t){0!==t&&i.push(e)})),void 0===t.connections&&(t.connections=[]),t.connections.push(i)}else if("Properties70"===n.name){Object.keys(n).forEach((function(e){t[e]=n[e]}))}else if("Properties70"===e&&"P"===n.name){var a,o=n.propertyList[0],s=n.propertyList[1],l=n.propertyList[2],u=n.propertyList[3];0===o.indexOf("Lcl ")&&(o=o.replace("Lcl ","Lcl_")),0===s.indexOf("Lcl ")&&(s=s.replace("Lcl ","Lcl_")),a="Color"===s||"ColorRGB"===s||"Vector"===s||"Vector3D"===s||0===s.indexOf("Lcl_")?[n.propertyList[4],n.propertyList[5],n.propertyList[6]]:n.propertyList[4],t[o]={type:s,type2:l,flag:u,value:a}}else void 0===t[n.name]?"number"===typeof n.id?(t[n.name]={},t[n.name][n.id]=n):t[n.name]=n:"PoseNode"===n.name?(Array.isArray(t[n.name])||(t[n.name]=[t[n.name]]),t[n.name].push(n)):void 0===t[n.name][n.id]&&(t[n.name][n.id]=n)},parseProperty:function(e){var t=e.getString(1);switch(t){case"C":return e.getBoolean();case"D":return e.getFloat64();case"F":return e.getFloat32();case"I":return e.getInt32();case"L":return e.getInt64();case"R":var n=e.getUint32();return e.getArrayBuffer(n);case"S":n=e.getUint32();return e.getString(n);case"Y":return e.getInt16();case"b":case"c":case"d":case"f":case"i":case"l":var r=e.getUint32(),i=e.getUint32(),a=e.getUint32();if(0===i)switch(t){case"b":case"c":return e.getBooleanArray(r);case"d":return e.getFloat64Array(r);case"f":return e.getFloat32Array(r);case"i":return e.getInt32Array(r);case"l":return e.getInt64Array(r)}"undefined"===typeof pe&&console.error("THREE.FBXLoader: External library Inflate.min.js required, obtain or import from https://github.com/imaya/zlib.js");var o=new u(new pe(new Uint8Array(e.getArrayBuffer(a))).decompress().buffer);switch(t){case"b":case"c":return o.getBooleanArray(r);case"d":return o.getFloat64Array(r);case"f":return o.getFloat32Array(r);case"i":return o.getInt32Array(r);case"l":return o.getInt64Array(r)}default:throw new Error("THREE.FBXLoader: Unknown property type "+t)}}},u.prototype={constructor:u,getOffset:function(){return this.offset},size:function(){return this.dv.buffer.byteLength},skip:function(e){this.offset+=e},getBoolean:function(){return 1===(1&this.getUint8())},getBooleanArray:function(e){for(var t=[],n=0;n<e;n++)t.push(this.getBoolean());return t},getUint8:function(){var e=this.dv.getUint8(this.offset);return this.offset+=1,e},getInt16:function(){var e=this.dv.getInt16(this.offset,this.littleEndian);return this.offset+=2,e},getInt32:function(){var e=this.dv.getInt32(this.offset,this.littleEndian);return this.offset+=4,e},getInt32Array:function(e){for(var t=[],n=0;n<e;n++)t.push(this.getInt32());return t},getUint32:function(){var e=this.dv.getUint32(this.offset,this.littleEndian);return this.offset+=4,e},getInt64:function(){var e,t;return this.littleEndian?(e=this.getUint32(),t=this.getUint32()):(t=this.getUint32(),e=this.getUint32()),2147483648&t?(t=4294967295&~t,4294967295===(e=4294967295&~e)&&(t=t+1&4294967295),-(4294967296*t+(e=e+1&4294967295))):4294967296*t+e},getInt64Array:function(e){for(var t=[],n=0;n<e;n++)t.push(this.getInt64());return t},getUint64:function(){var e,t;return this.littleEndian?(e=this.getUint32(),t=this.getUint32()):(t=this.getUint32(),e=this.getUint32()),4294967296*t+e},getFloat32:function(){var e=this.dv.getFloat32(this.offset,this.littleEndian);return this.offset+=4,e},getFloat32Array:function(e){for(var t=[],n=0;n<e;n++)t.push(this.getFloat32());return t},getFloat64:function(){var e=this.dv.getFloat64(this.offset,this.littleEndian);return this.offset+=8,e},getFloat64Array:function(e){for(var t=[],n=0;n<e;n++)t.push(this.getFloat64());return t},getArrayBuffer:function(e){var t=this.dv.buffer.slice(this.offset,this.offset+e);return this.offset+=e,t},getString:function(e){for(var t=[],n=0;n<e;n++)t[n]=this.getUint8();var r=t.indexOf(0);return r>=0&&(t=t.slice(0,r)),m.LoaderUtils.decodeText(new Uint8Array(t))}},c.prototype={constructor:c,add:function(e,t){this[e]=t}};var f=[];function p(e,t,n,r){var i;switch(r.mappingType){case"ByPolygonVertex":i=e;break;case"ByPolygon":i=t;break;case"ByVertice":i=n;break;case"AllSame":i=r.indices[0];break;default:console.warn("THREE.FBXLoader: unknown attribute mapping type "+r.mappingType)}"IndexToDirect"===r.referenceType&&(i=r.indices[i]);var a=i*r.dataSize,o=a+r.dataSize;return function(e,t,n,r){for(var i=n,a=0;i<r;i++,a++)e[a]=t[i];return e}(f,r.buffer,a,o)}var v=new m.Euler,g=new m.Vector3;function y(e){var t,n=new m.Matrix4,r=new m.Matrix4,i=new m.Matrix4,a=new m.Matrix4,o=new m.Matrix4,s=new m.Matrix4,l=new m.Matrix4,u=new m.Matrix4,c=new m.Matrix4,d=new m.Matrix4,h=new m.Matrix4,f=e.inheritType?e.inheritType:0;(e.translation&&n.setPosition(g.fromArray(e.translation)),e.preRotation)&&((t=e.preRotation.map(m.MathUtils.degToRad)).push(e.eulerOrder),r.makeRotationFromEuler(v.fromArray(t)));e.rotation&&((t=e.rotation.map(m.MathUtils.degToRad)).push(e.eulerOrder),i.makeRotationFromEuler(v.fromArray(t)));e.postRotation&&((t=e.postRotation.map(m.MathUtils.degToRad)).push(e.eulerOrder),a.makeRotationFromEuler(v.fromArray(t)));e.scale&&o.scale(g.fromArray(e.scale)),e.scalingOffset&&l.setPosition(g.fromArray(e.scalingOffset)),e.scalingPivot&&s.setPosition(g.fromArray(e.scalingPivot)),e.rotationOffset&&u.setPosition(g.fromArray(e.rotationOffset)),e.rotationPivot&&c.setPosition(g.fromArray(e.rotationPivot)),e.parentMatrixWorld&&(d=e.parentMatrixWorld);var p=r.multiply(i).multiply(a),y=new m.Matrix4;d.extractRotation(y),(new m.Matrix4).copyPosition(d);var b=new m.Matrix4;b.copy(y).invert().multiply(d);var x=new m.Matrix4;if(0===f)x.copy(y).multiply(p).multiply(b).multiply(o);else if(1===f)x.copy(y).multiply(b).multiply(p).multiply(o);else{var w=new m.Matrix4;w.copy(o).invert();var M=(new m.Matrix4).multiply(b).multiply(w);x.copy(y).multiply(p).multiply(M).multiply(o)}var _=new m.Matrix4;_.copy(c).invert();var S=new m.Matrix4;S.copy(s).invert();var E=new m.Matrix4;E.copy(n).multiply(u).multiply(c).multiply(r).multiply(i).multiply(a).multiply(_).multiply(l).multiply(s).multiply(o).multiply(S);var T=(new m.Matrix4).copyPosition(E),A=(new m.Matrix4).copy(d).multiply(T);return h.copyPosition(A),E=(new m.Matrix4).multiply(h).multiply(x)}function b(e){var t=["ZYX","YZX","XZY","ZXY","YXZ","XYZ"];return 6===(e=e||0)?(console.warn("THREE.FBXLoader: unsupported Euler Order: Spherical XYZ. Animations and rotations may be incorrect."),t[0]):t[e]}function x(e){return e.split(",").map((function(e){return parseFloat(e)}))}function w(e,t,n){return void 0===t&&(t=0),void 0===n&&(n=e.byteLength),m.LoaderUtils.decodeText(new Uint8Array(e,t,n))}function M(e,t,n){return e.slice(0,t).concat(n).concat(e.slice(t))}})(),function(){function e(e){m.Loader.call(this,e),this.dracoLoader=null,this.ddsLoader=null,this.ktx2Loader=null,this.meshoptDecoder=null,this.pluginCallbacks=[],this.register((function(e){return new o(e)})),this.register((function(e){return new l(e)})),this.register((function(e){return new u(e)})),this.register((function(e){return new s(e)})),this.register((function(e){return new i(e)})),this.register((function(e){return new c(e)}))}function t(){var e={};return{get:function(t){return e[t]},add:function(t,n){e[t]=n},remove:function(t){delete e[t]},removeAll:function(){e={}}}}e.prototype=Object.assign(Object.create(m.Loader.prototype),{constructor:e,load:function(e,t,n,r){var i,a=this;i=""!==this.resourcePath?this.resourcePath:""!==this.path?this.path:m.LoaderUtils.extractUrlBase(e),this.manager.itemStart(e);var o=function(t){r?r(t):console.error(t),a.manager.itemError(e),a.manager.itemEnd(e)},s=new m.FileLoader(this.manager);s.setPath(this.path),s.setResponseType("arraybuffer"),s.setRequestHeader(this.requestHeader),s.setWithCredentials(this.withCredentials),s.load(e,(function(n){try{a.parse(n,i,(function(n){t(n),a.manager.itemEnd(e)}),o)}catch(r){o(r)}}),n,o)},setDRACOLoader:function(e){return this.dracoLoader=e,this},setDDSLoader:function(e){return this.ddsLoader=e,this},setKTX2Loader:function(e){return this.ktx2Loader=e,this},setMeshoptDecoder:function(e){return this.meshoptDecoder=e,this},register:function(e){return-1===this.pluginCallbacks.indexOf(e)&&this.pluginCallbacks.push(e),this},unregister:function(e){return-1!==this.pluginCallbacks.indexOf(e)&&this.pluginCallbacks.splice(this.pluginCallbacks.indexOf(e),1),this},parse:function(e,t,i,o){var s,l={},u={};if("string"===typeof e)s=e;else if(m.LoaderUtils.decodeText(new Uint8Array(e,0,4))===d){try{l[n.KHR_BINARY_GLTF]=new p(e)}catch(_){return void(o&&o(_))}s=l[n.KHR_BINARY_GLTF].content}else s=m.LoaderUtils.decodeText(new Uint8Array(e));var c=JSON.parse(s);if(void 0===c.asset||c.asset.version[0]<2)o&&o(new Error("THREE.GLTFLoader: Unsupported asset. glTF versions >=2.0 are supported."));else{var h=new W(c,{path:t||this.resourcePath||"",crossOrigin:this.crossOrigin,manager:this.manager,ktx2Loader:this.ktx2Loader,meshoptDecoder:this.meshoptDecoder});h.fileLoader.setRequestHeader(this.requestHeader);for(var f=0;f<this.pluginCallbacks.length;f++){var y=this.pluginCallbacks[f](h);u[y.name]=y,l[y.name]=!0}if(c.extensionsUsed)for(f=0;f<c.extensionsUsed.length;++f){var w=c.extensionsUsed[f],M=c.extensionsRequired||[];switch(w){case n.KHR_MATERIALS_UNLIT:l[w]=new a;break;case n.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS:l[w]=new b;break;case n.KHR_DRACO_MESH_COMPRESSION:l[w]=new v(c,this.dracoLoader);break;case n.MSFT_TEXTURE_DDS:l[w]=new r(this.ddsLoader);break;case n.KHR_TEXTURE_TRANSFORM:l[w]=new g;break;case n.KHR_MESH_QUANTIZATION:l[w]=new x;break;default:M.indexOf(w)>=0&&void 0===u[w]&&console.warn('THREE.GLTFLoader: Unknown extension "'+w+'".')}}h.setExtensions(l),h.setPlugins(u),h.parse(i,o)}}});var n={KHR_BINARY_GLTF:"KHR_binary_glTF",KHR_DRACO_MESH_COMPRESSION:"KHR_draco_mesh_compression",KHR_LIGHTS_PUNCTUAL:"KHR_lights_punctual",KHR_MATERIALS_CLEARCOAT:"KHR_materials_clearcoat",KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS:"KHR_materials_pbrSpecularGlossiness",KHR_MATERIALS_TRANSMISSION:"KHR_materials_transmission",KHR_MATERIALS_UNLIT:"KHR_materials_unlit",KHR_TEXTURE_BASISU:"KHR_texture_basisu",KHR_TEXTURE_TRANSFORM:"KHR_texture_transform",KHR_MESH_QUANTIZATION:"KHR_mesh_quantization",EXT_TEXTURE_WEBP:"EXT_texture_webp",EXT_MESHOPT_COMPRESSION:"EXT_meshopt_compression",MSFT_TEXTURE_DDS:"MSFT_texture_dds"};function r(e){if(!e)throw new Error("THREE.GLTFLoader: Attempting to load .dds texture without importing DDSLoader");this.name=n.MSFT_TEXTURE_DDS,this.ddsLoader=e}function i(e){this.parser=e,this.name=n.KHR_LIGHTS_PUNCTUAL,this.cache={refs:{},uses:{}}}function a(){this.name=n.KHR_MATERIALS_UNLIT}function o(e){this.parser=e,this.name=n.KHR_MATERIALS_CLEARCOAT}function s(e){this.parser=e,this.name=n.KHR_MATERIALS_TRANSMISSION}function l(e){this.parser=e,this.name=n.KHR_TEXTURE_BASISU}function u(e){this.parser=e,this.name=n.EXT_TEXTURE_WEBP,this.isSupported=null}function c(e){this.name=n.EXT_MESHOPT_COMPRESSION,this.parser=e}i.prototype._markDefs=function(){for(var e=this.parser,t=this.parser.json.nodes||[],n=0,r=t.length;n<r;n++){var i=t[n];i.extensions&&i.extensions[this.name]&&void 0!==i.extensions[this.name].light&&e._addNodeRef(this.cache,i.extensions[this.name].light)}},i.prototype._loadLight=function(e){var t=this.parser,n="light:"+e,r=t.cache.get(n);if(r)return r;var i,a=t.json,o=((a.extensions&&a.extensions[this.name]||{}).lights||[])[e],s=new m.Color(16777215);void 0!==o.color&&s.fromArray(o.color);var l=void 0!==o.range?o.range:0;switch(o.type){case"directional":(i=new m.DirectionalLight(s)).target.position.set(0,0,-1),i.add(i.target);break;case"point":(i=new m.PointLight(s)).distance=l;break;case"spot":(i=new m.SpotLight(s)).distance=l,o.spot=o.spot||{},o.spot.innerConeAngle=void 0!==o.spot.innerConeAngle?o.spot.innerConeAngle:0,o.spot.outerConeAngle=void 0!==o.spot.outerConeAngle?o.spot.outerConeAngle:Math.PI/4,i.angle=o.spot.outerConeAngle,i.penumbra=1-o.spot.innerConeAngle/o.spot.outerConeAngle,i.target.position.set(0,0,-1),i.add(i.target);break;default:throw new Error('THREE.GLTFLoader: Unexpected light type, "'+o.type+'".')}return i.position.set(0,0,0),i.decay=2,void 0!==o.intensity&&(i.intensity=o.intensity),i.name=t.createUniqueName(o.name||"light_"+e),r=Promise.resolve(i),t.cache.add(n,r),r},i.prototype.createNodeAttachment=function(e){var t=this,n=this.parser,r=n.json.nodes[e],i=(r.extensions&&r.extensions[this.name]||{}).light;return void 0===i?null:this._loadLight(i).then((function(e){return n._getNodeRef(t.cache,i,e)}))},a.prototype.getMaterialType=function(){return m.MeshBasicMaterial},a.prototype.extendParams=function(e,t,n){var r=[];e.color=new m.Color(1,1,1),e.opacity=1;var i=t.pbrMetallicRoughness;if(i){if(Array.isArray(i.baseColorFactor)){var a=i.baseColorFactor;e.color.fromArray(a),e.opacity=a[3]}void 0!==i.baseColorTexture&&r.push(n.assignTexture(e,"map",i.baseColorTexture))}return Promise.all(r)},o.prototype.getMaterialType=function(e){var t=this.parser.json.materials[e];return t.extensions&&t.extensions[this.name]?m.MeshPhysicalMaterial:null},o.prototype.extendMaterialParams=function(e,t){var n=this.parser,r=n.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();var i=[],a=r.extensions[this.name];if(void 0!==a.clearcoatFactor&&(t.clearcoat=a.clearcoatFactor),void 0!==a.clearcoatTexture&&i.push(n.assignTexture(t,"clearcoatMap",a.clearcoatTexture)),void 0!==a.clearcoatRoughnessFactor&&(t.clearcoatRoughness=a.clearcoatRoughnessFactor),void 0!==a.clearcoatRoughnessTexture&&i.push(n.assignTexture(t,"clearcoatRoughnessMap",a.clearcoatRoughnessTexture)),void 0!==a.clearcoatNormalTexture&&(i.push(n.assignTexture(t,"clearcoatNormalMap",a.clearcoatNormalTexture)),void 0!==a.clearcoatNormalTexture.scale)){var o=a.clearcoatNormalTexture.scale;t.clearcoatNormalScale=new m.Vector2(o,o)}return Promise.all(i)},s.prototype.getMaterialType=function(e){var t=this.parser.json.materials[e];return t.extensions&&t.extensions[this.name]?m.MeshPhysicalMaterial:null},s.prototype.extendMaterialParams=function(e,t){var n=this.parser,r=n.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();var i=[],a=r.extensions[this.name];return void 0!==a.transmissionFactor&&(t.transmission=a.transmissionFactor),void 0!==a.transmissionTexture&&i.push(n.assignTexture(t,"transmissionMap",a.transmissionTexture)),Promise.all(i)},l.prototype.loadTexture=function(e){var t=this.parser,n=t.json,r=n.textures[e];if(!r.extensions||!r.extensions[this.name])return null;var i=r.extensions[this.name],a=n.images[i.source],o=t.options.ktx2Loader;if(!o){if(n.extensionsRequired&&n.extensionsRequired.indexOf(this.name)>=0)throw new Error("THREE.GLTFLoader: setKTX2Loader must be called before loading KTX2 textures");return null}return t.loadTextureImage(e,a,o)},u.prototype.loadTexture=function(e){var t=this.name,n=this.parser,r=n.json,i=r.textures[e];if(!i.extensions||!i.extensions[t])return null;var a=i.extensions[t],o=r.images[a.source],s=o.uri?n.options.manager.getHandler(o.uri):n.textureLoader;return this.detectSupport().then((function(i){if(i)return n.loadTextureImage(e,o,s);if(r.extensionsRequired&&r.extensionsRequired.indexOf(t)>=0)throw new Error("THREE.GLTFLoader: WebP required by asset but unsupported.");return n.loadTexture(e)}))},u.prototype.detectSupport=function(){return this.isSupported||(this.isSupported=new Promise((function(e){var t=new Image;t.src="data:image/webp;base64,UklGRiIAAABXRUJQVlA4IBYAAAAwAQCdASoBAAEADsD+JaQAA3AAAAAA",t.onload=t.onerror=function(){e(1===t.height)}}))),this.isSupported},c.prototype.loadBufferView=function(e){var t=this.parser.json,n=t.bufferViews[e];if(n.extensions&&n.extensions[this.name]){var r=n.extensions[this.name],i=this.parser.getDependency("buffer",r.buffer),a=this.parser.options.meshoptDecoder;if(!a||!a.supported){if(t.extensionsRequired&&t.extensionsRequired.indexOf(this.name)>=0)throw new Error("THREE.GLTFLoader: setMeshoptDecoder must be called before loading compressed files");return null}return Promise.all([i,a.ready]).then((function(e){var t=r.byteOffset||0,n=r.byteLength||0,i=r.count,o=r.byteStride,s=new ArrayBuffer(i*o),l=new Uint8Array(e[0],t,n);return a.decodeGltfBuffer(new Uint8Array(s),i,o,l,r.mode,r.filter),s}))}return null};var d="glTF",h=1313821514,f=5130562;function p(e){this.name=n.KHR_BINARY_GLTF,this.content=null,this.body=null;var t=new DataView(e,0,12);if(this.header={magic:m.LoaderUtils.decodeText(new Uint8Array(e.slice(0,4))),version:t.getUint32(4,!0),length:t.getUint32(8,!0)},this.header.magic!==d)throw new Error("THREE.GLTFLoader: Unsupported glTF-Binary header.");if(this.header.version<2)throw new Error("THREE.GLTFLoader: Legacy binary file detected.");for(var r=new DataView(e,12),i=0;i<r.byteLength;){var a=r.getUint32(i,!0);i+=4;var o=r.getUint32(i,!0);if(i+=4,o===h){var s=new Uint8Array(e,12+i,a);this.content=m.LoaderUtils.decodeText(s)}else if(o===f){var l=12+i;this.body=e.slice(l,l+a)}i+=a}if(null===this.content)throw new Error("THREE.GLTFLoader: JSON content not found.")}function v(e,t){if(!t)throw new Error("THREE.GLTFLoader: No DRACOLoader instance provided.");this.name=n.KHR_DRACO_MESH_COMPRESSION,this.json=e,this.dracoLoader=t,this.dracoLoader.preload()}function g(){this.name=n.KHR_TEXTURE_TRANSFORM}function y(e){m.MeshStandardMaterial.call(this),this.isGLTFSpecularGlossinessMaterial=!0;var t=["#ifdef USE_SPECULARMAP","\tuniform sampler2D specularMap;","#endif"].join("\n"),n=["#ifdef USE_GLOSSINESSMAP","\tuniform sampler2D glossinessMap;","#endif"].join("\n"),r=["vec3 specularFactor = specular;","#ifdef USE_SPECULARMAP","\tvec4 texelSpecular = texture2D( specularMap, vUv );","\ttexelSpecular = sRGBToLinear( texelSpecular );","\t// reads channel RGB, compatible with a glTF Specular-Glossiness (RGBA) texture","\tspecularFactor *= texelSpecular.rgb;","#endif"].join("\n"),i=["float glossinessFactor = glossiness;","#ifdef USE_GLOSSINESSMAP","\tvec4 texelGlossiness = texture2D( glossinessMap, vUv );","\t// reads channel A, compatible with a glTF Specular-Glossiness (RGBA) texture","\tglossinessFactor *= texelGlossiness.a;","#endif"].join("\n"),a=["PhysicalMaterial material;","material.diffuseColor = diffuseColor.rgb * ( 1. - max( specularFactor.r, max( specularFactor.g, specularFactor.b ) ) );","vec3 dxy = max( abs( dFdx( geometryNormal ) ), abs( dFdy( geometryNormal ) ) );","float geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );","material.specularRoughness = max( 1.0 - glossinessFactor, 0.0525 ); // 0.0525 corresponds to the base mip of a 256 cubemap.","material.specularRoughness += geometryRoughness;","material.specularRoughness = min( material.specularRoughness, 1.0 );","material.specularColor = specularFactor;"].join("\n"),o={specular:{value:(new m.Color).setHex(16777215)},glossiness:{value:1},specularMap:{value:null},glossinessMap:{value:null}};this._extraUniforms=o,this.onBeforeCompile=function(e){for(var s in o)e.uniforms[s]=o[s];e.fragmentShader=e.fragmentShader.replace("uniform float roughness;","uniform vec3 specular;").replace("uniform float metalness;","uniform float glossiness;").replace("#include <roughnessmap_pars_fragment>",t).replace("#include <metalnessmap_pars_fragment>",n).replace("#include <roughnessmap_fragment>",r).replace("#include <metalnessmap_fragment>",i).replace("#include <lights_physical_fragment>",a)},Object.defineProperties(this,{specular:{get:function(){return o.specular.value},set:function(e){o.specular.value=e}},specularMap:{get:function(){return o.specularMap.value},set:function(e){o.specularMap.value=e,e?this.defines.USE_SPECULARMAP="":delete this.defines.USE_SPECULARMAP}},glossiness:{get:function(){return o.glossiness.value},set:function(e){o.glossiness.value=e}},glossinessMap:{get:function(){return o.glossinessMap.value},set:function(e){o.glossinessMap.value=e,e?(this.defines.USE_GLOSSINESSMAP="",this.defines.USE_UV=""):(delete this.defines.USE_GLOSSINESSMAP,delete this.defines.USE_UV)}}}),delete this.metalness,delete this.roughness,delete this.metalnessMap,delete this.roughnessMap,this.setValues(e)}function b(){return{name:n.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS,specularGlossinessParams:["color","map","lightMap","lightMapIntensity","aoMap","aoMapIntensity","emissive","emissiveIntensity","emissiveMap","bumpMap","bumpScale","normalMap","normalMapType","displacementMap","displacementScale","displacementBias","specularMap","specular","glossinessMap","glossiness","alphaMap","envMap","envMapIntensity","refractionRatio"],getMaterialType:function(){return y},extendParams:function(e,t,n){var r=t.extensions[this.name];e.color=new m.Color(1,1,1),e.opacity=1;var i=[];if(Array.isArray(r.diffuseFactor)){var a=r.diffuseFactor;e.color.fromArray(a),e.opacity=a[3]}if(void 0!==r.diffuseTexture&&i.push(n.assignTexture(e,"map",r.diffuseTexture)),e.emissive=new m.Color(0,0,0),e.glossiness=void 0!==r.glossinessFactor?r.glossinessFactor:1,e.specular=new m.Color(1,1,1),Array.isArray(r.specularFactor)&&e.specular.fromArray(r.specularFactor),void 0!==r.specularGlossinessTexture){var o=r.specularGlossinessTexture;i.push(n.assignTexture(e,"glossinessMap",o)),i.push(n.assignTexture(e,"specularMap",o))}return Promise.all(i)},createMaterial:function(e){var t=new y(e);return t.fog=!0,t.color=e.color,t.map=void 0===e.map?null:e.map,t.lightMap=null,t.lightMapIntensity=1,t.aoMap=void 0===e.aoMap?null:e.aoMap,t.aoMapIntensity=1,t.emissive=e.emissive,t.emissiveIntensity=1,t.emissiveMap=void 0===e.emissiveMap?null:e.emissiveMap,t.bumpMap=void 0===e.bumpMap?null:e.bumpMap,t.bumpScale=1,t.normalMap=void 0===e.normalMap?null:e.normalMap,t.normalMapType=m.TangentSpaceNormalMap,e.normalScale&&(t.normalScale=e.normalScale),t.displacementMap=null,t.displacementScale=1,t.displacementBias=0,t.specularMap=void 0===e.specularMap?null:e.specularMap,t.specular=e.specular,t.glossinessMap=void 0===e.glossinessMap?null:e.glossinessMap,t.glossiness=e.glossiness,t.alphaMap=null,t.envMap=void 0===e.envMap?null:e.envMap,t.envMapIntensity=1,t.refractionRatio=.98,t}}}function x(){this.name=n.KHR_MESH_QUANTIZATION}function w(e,t,n,r){m.Interpolant.call(this,e,t,n,r)}v.prototype.decodePrimitive=function(e,t){var n=this.json,r=this.dracoLoader,i=e.extensions[this.name].bufferView,a=e.extensions[this.name].attributes,o={},s={},l={};for(var u in a){var c=D[u]||u.toLowerCase();o[c]=a[u]}for(u in e.attributes){c=D[u]||u.toLowerCase();if(void 0!==a[u]){var d=n.accessors[e.attributes[u]],h=O[d.componentType];l[c]=h,s[c]=!0===d.normalized}}return t.getDependency("bufferView",i).then((function(e){return new Promise((function(t){r.decodeDracoFile(e,(function(e){for(var n in e.attributes){var r=e.attributes[n],i=s[n];void 0!==i&&(r.normalized=i)}t(e)}),o,l)}))}))},g.prototype.extendTexture=function(e,t){return e=e.clone(),void 0!==t.offset&&e.offset.fromArray(t.offset),void 0!==t.rotation&&(e.rotation=t.rotation),void 0!==t.scale&&e.repeat.fromArray(t.scale),void 0!==t.texCoord&&console.warn('THREE.GLTFLoader: Custom UV sets in "'+this.name+'" extension not yet supported.'),e.needsUpdate=!0,e},y.prototype=Object.create(m.MeshStandardMaterial.prototype),y.prototype.constructor=y,y.prototype.copy=function(e){return m.MeshStandardMaterial.prototype.copy.call(this,e),this.specularMap=e.specularMap,this.specular.copy(e.specular),this.glossinessMap=e.glossinessMap,this.glossiness=e.glossiness,delete this.metalness,delete this.roughness,delete this.metalnessMap,delete this.roughnessMap,this},w.prototype=Object.create(m.Interpolant.prototype),w.prototype.constructor=w,w.prototype.copySampleValue_=function(e){for(var t=this.resultBuffer,n=this.sampleValues,r=this.valueSize,i=e*r*3+r,a=0;a!==r;a++)t[a]=n[i+a];return t},w.prototype.beforeStart_=w.prototype.copySampleValue_,w.prototype.afterEnd_=w.prototype.copySampleValue_,w.prototype.interpolate_=function(e,t,n,r){for(var i=this.resultBuffer,a=this.sampleValues,o=this.valueSize,s=2*o,l=3*o,u=r-t,c=(n-t)/u,d=c*c,h=d*c,f=e*l,p=f-l,m=-2*h+3*d,v=h-d,g=1-m,y=v-d+c,b=0;b!==o;b++){var x=a[p+b+o],w=a[p+b+s]*u,M=a[f+b+o],_=a[f+b]*u;i[b]=g*x+y*w+m*M+v*_}return i};var M=0,_=1,S=2,E=3,T=4,A=5,R=6,O={5120:Int8Array,5121:Uint8Array,5122:Int16Array,5123:Uint16Array,5125:Uint32Array,5126:Float32Array},k={9728:m.NearestFilter,9729:m.LinearFilter,9984:m.NearestMipmapNearestFilter,9985:m.LinearMipmapNearestFilter,9986:m.NearestMipmapLinearFilter,9987:m.LinearMipmapLinearFilter},I={33071:m.ClampToEdgeWrapping,33648:m.MirroredRepeatWrapping,10497:m.RepeatWrapping},C={SCALAR:1,VEC2:2,VEC3:3,VEC4:4,MAT2:4,MAT3:9,MAT4:16},D={POSITION:"position",NORMAL:"normal",TANGENT:"tangent",TEXCOORD_0:"uv",TEXCOORD_1:"uv2",COLOR_0:"color",WEIGHTS_0:"skinWeight",JOINTS_0:"skinIndex"},L={scale:"scale",translation:"position",rotation:"quaternion",weights:"morphTargetInfluences"},P={CUBICSPLINE:void 0,LINEAR:m.InterpolateLinear,STEP:m.InterpolateDiscrete},N="OPAQUE",j="MASK",F="BLEND";function G(e,t){return"string"!==typeof e||""===e?"":(/^https?:\/\//i.test(t)&&/^\//.test(e)&&(t=t.replace(/(^https?:\/\/[^\/]+).*/i,"$1")),/^(https?:)?\/\//i.test(e)||/^data:.*,.*$/i.test(e)||/^blob:.*$/i.test(e)?e:t+e)}function U(e,t,n){for(var r in n.extensions)void 0===e[r]&&(t.userData.gltfExtensions=t.userData.gltfExtensions||{},t.userData.gltfExtensions[r]=n.extensions[r])}function z(e,t){void 0!==t.extras&&("object"===typeof t.extras?Object.assign(e.userData,t.extras):console.warn("THREE.GLTFLoader: Ignoring primitive type .extras, "+t.extras))}function B(e,t){if(e.updateMorphTargets(),void 0!==t.weights)for(var n=0,r=t.weights.length;n<r;n++)e.morphTargetInfluences[n]=t.weights[n];if(t.extras&&Array.isArray(t.extras.targetNames)){var i=t.extras.targetNames;if(e.morphTargetInfluences.length===i.length){e.morphTargetDictionary={};for(n=0,r=i.length;n<r;n++)e.morphTargetDictionary[i[n]]=n}else console.warn("THREE.GLTFLoader: Invalid extras.targetNames length. Ignoring names.")}}function V(e){var t=e.extensions&&e.extensions[n.KHR_DRACO_MESH_COMPRESSION];return t?"draco:"+t.bufferView+":"+t.indices+":"+H(t.attributes):e.indices+":"+H(e.attributes)+":"+e.mode}function H(e){for(var t="",n=Object.keys(e).sort(),r=0,i=n.length;r<i;r++)t+=n[r]+":"+e[n[r]]+";";return t}function W(e,n){this.json=e||{},this.extensions={},this.plugins={},this.options=n||{},this.cache=new t,this.associations=new Map,this.primitiveCache={},this.meshCache={refs:{},uses:{}},this.cameraCache={refs:{},uses:{}},this.lightCache={refs:{},uses:{}},this.nodeNamesUsed={},"undefined"!==typeof createImageBitmap&&!1===/Firefox/.test(navigator.userAgent)?this.textureLoader=new m.ImageBitmapLoader(this.options.manager):this.textureLoader=new m.TextureLoader(this.options.manager),this.textureLoader.setCrossOrigin(this.options.crossOrigin),this.fileLoader=new m.FileLoader(this.options.manager),this.fileLoader.setResponseType("arraybuffer"),"use-credentials"===this.options.crossOrigin&&this.fileLoader.setWithCredentials(!0)}function X(e,t,n){var r=t.attributes,i=[];function a(t,r){return n.getDependency("accessor",t).then((function(t){e.setAttribute(r,t)}))}for(var o in r){var s=D[o]||o.toLowerCase();s in e.attributes||i.push(a(r[o],s))}if(void 0!==t.indices&&!e.index){var l=n.getDependency("accessor",t.indices).then((function(t){e.setIndex(t)}));i.push(l)}return z(e,t),function(e,t,n){var r=t.attributes,i=new m.Box3;if(void 0!==r.POSITION){var a=(h=n.json.accessors[r.POSITION]).min,o=h.max;if(void 0!==a&&void 0!==o){i.set(new m.Vector3(a[0],a[1],a[2]),new m.Vector3(o[0],o[1],o[2]));var s=t.targets;if(void 0!==s){for(var l=new m.Vector3,u=new m.Vector3,c=0,d=s.length;c<d;c++){var h,f=s[c];if(void 0!==f.POSITION)a=(h=n.json.accessors[f.POSITION]).min,o=h.max,void 0!==a&&void 0!==o?(u.setX(Math.max(Math.abs(a[0]),Math.abs(o[0]))),u.setY(Math.max(Math.abs(a[1]),Math.abs(o[1]))),u.setZ(Math.max(Math.abs(a[2]),Math.abs(o[2]))),l.max(u)):console.warn("THREE.GLTFLoader: Missing min/max properties for accessor POSITION.")}i.expandByVector(l)}e.boundingBox=i;var p=new m.Sphere;i.getCenter(p.center),p.radius=i.min.distanceTo(i.max)/2,e.boundingSphere=p}else console.warn("THREE.GLTFLoader: Missing min/max properties for accessor POSITION.")}}(e,t,n),Promise.all(i).then((function(){return void 0!==t.targets?function(e,t,n){for(var r=!1,i=!1,a=0,o=t.length;a<o&&(void 0!==(u=t[a]).POSITION&&(r=!0),void 0!==u.NORMAL&&(i=!0),!r||!i);a++);if(!r&&!i)return Promise.resolve(e);var s=[],l=[];for(a=0,o=t.length;a<o;a++){var u=t[a];if(r){var c=void 0!==u.POSITION?n.getDependency("accessor",u.POSITION):e.attributes.position;s.push(c)}i&&(c=void 0!==u.NORMAL?n.getDependency("accessor",u.NORMAL):e.attributes.normal,l.push(c))}return Promise.all([Promise.all(s),Promise.all(l)]).then((function(t){var n=t[0],a=t[1];return r&&(e.morphAttributes.position=n),i&&(e.morphAttributes.normal=a),e.morphTargetsRelative=!0,e}))}(e,t.targets,n):e}))}function q(e,t){var n=e.getIndex();if(null===n){var r=[],i=e.getAttribute("position");if(void 0===i)return console.error("THREE.GLTFLoader.toTrianglesDrawMode(): Undefined position attribute. Processing not possible."),e;for(var a=0;a<i.count;a++)r.push(a);e.setIndex(r),n=e.getIndex()}var o=n.count-2,s=[];if(t===m.TriangleFanDrawMode)for(a=1;a<=o;a++)s.push(n.getX(0)),s.push(n.getX(a)),s.push(n.getX(a+1));else for(a=0;a<o;a++)a%2===0?(s.push(n.getX(a)),s.push(n.getX(a+1)),s.push(n.getX(a+2))):(s.push(n.getX(a+2)),s.push(n.getX(a+1)),s.push(n.getX(a)));s.length/3!==o&&console.error("THREE.GLTFLoader.toTrianglesDrawMode(): Unable to generate correct amount of triangles.");var l=e.clone();return l.setIndex(s),l}W.prototype.setExtensions=function(e){this.extensions=e},W.prototype.setPlugins=function(e){this.plugins=e},W.prototype.parse=function(e,t){var n=this,r=this.json,i=this.extensions;this.cache.removeAll(),this._invokeAll((function(e){return e._markDefs&&e._markDefs()})),Promise.all([this.getDependencies("scene"),this.getDependencies("animation"),this.getDependencies("camera")]).then((function(t){var a={scene:t[0][r.scene||0],scenes:t[0],animations:t[1],cameras:t[2],asset:r.asset,parser:n,userData:{}};U(i,a,r),z(a,r),e(a)})).catch(t)},W.prototype._markDefs=function(){for(var e=this.json.nodes||[],t=this.json.skins||[],n=this.json.meshes||[],r=0,i=t.length;r<i;r++)for(var a=t[r].joints,o=0,s=a.length;o<s;o++)e[a[o]].isBone=!0;for(var l=0,u=e.length;l<u;l++){var c=e[l];void 0!==c.mesh&&(this._addNodeRef(this.meshCache,c.mesh),void 0!==c.skin&&(n[c.mesh].isSkinnedMesh=!0)),void 0!==c.camera&&this._addNodeRef(this.cameraCache,c.camera)}},W.prototype._addNodeRef=function(e,t){void 0!==t&&(void 0===e.refs[t]&&(e.refs[t]=e.uses[t]=0),e.refs[t]++)},W.prototype._getNodeRef=function(e,t,n){if(e.refs[t]<=1)return n;var r=n.clone();return r.name+="_instance_"+e.uses[t]++,r},W.prototype._invokeOne=function(e){var t=Object.values(this.plugins);t.push(this);for(var n=0;n<t.length;n++){var r=e(t[n]);if(r)return r}},W.prototype._invokeAll=function(e){var t=Object.values(this.plugins);t.unshift(this);for(var n=[],r=0;r<t.length;r++){var i=e(t[r]);i&&n.push(i)}return n},W.prototype.getDependency=function(e,t){var n=e+":"+t,r=this.cache.get(n);if(!r){switch(e){case"scene":r=this.loadScene(t);break;case"node":r=this.loadNode(t);break;case"mesh":r=this._invokeOne((function(e){return e.loadMesh&&e.loadMesh(t)}));break;case"accessor":r=this.loadAccessor(t);break;case"bufferView":r=this._invokeOne((function(e){return e.loadBufferView&&e.loadBufferView(t)}));break;case"buffer":r=this.loadBuffer(t);break;case"material":r=this._invokeOne((function(e){return e.loadMaterial&&e.loadMaterial(t)}));break;case"texture":r=this._invokeOne((function(e){return e.loadTexture&&e.loadTexture(t)}));break;case"skin":r=this.loadSkin(t);break;case"animation":r=this.loadAnimation(t);break;case"camera":r=this.loadCamera(t);break;default:throw new Error("Unknown type: "+e)}this.cache.add(n,r)}return r},W.prototype.getDependencies=function(e){var t=this.cache.get(e);if(!t){var n=this,r=this.json[e+("mesh"===e?"es":"s")]||[];t=Promise.all(r.map((function(t,r){return n.getDependency(e,r)}))),this.cache.add(e,t)}return t},W.prototype.loadBuffer=function(e){var t=this.json.buffers[e],r=this.fileLoader;if(t.type&&"arraybuffer"!==t.type)throw new Error("THREE.GLTFLoader: "+t.type+" buffer type is not supported.");if(void 0===t.uri&&0===e)return Promise.resolve(this.extensions[n.KHR_BINARY_GLTF].body);var i=this.options;return new Promise((function(e,n){r.load(G(t.uri,i.path),e,void 0,(function(){n(new Error('THREE.GLTFLoader: Failed to load buffer "'+t.uri+'".'))}))}))},W.prototype.loadBufferView=function(e){var t=this.json.bufferViews[e];return this.getDependency("buffer",t.buffer).then((function(e){var n=t.byteLength||0,r=t.byteOffset||0;return e.slice(r,r+n)}))},W.prototype.loadAccessor=function(e){var t=this,n=this.json,r=this.json.accessors[e];if(void 0===r.bufferView&&void 0===r.sparse)return Promise.resolve(null);var i=[];return void 0!==r.bufferView?i.push(this.getDependency("bufferView",r.bufferView)):i.push(null),void 0!==r.sparse&&(i.push(this.getDependency("bufferView",r.sparse.indices.bufferView)),i.push(this.getDependency("bufferView",r.sparse.values.bufferView))),Promise.all(i).then((function(e){var i,a,o=e[0],s=C[r.type],l=O[r.componentType],u=l.BYTES_PER_ELEMENT,c=u*s,d=r.byteOffset||0,h=void 0!==r.bufferView?n.bufferViews[r.bufferView].byteStride:void 0,f=!0===r.normalized;if(h&&h!==c){var p=Math.floor(d/h),v="InterleavedBuffer:"+r.bufferView+":"+r.componentType+":"+p+":"+r.count,g=t.cache.get(v);g||(i=new l(o,p*h,r.count*h/u),g=new m.InterleavedBuffer(i,h/u),t.cache.add(v,g)),a=new m.InterleavedBufferAttribute(g,s,d%h/u,f)}else i=null===o?new l(r.count*s):new l(o,d,r.count*s),a=new m.BufferAttribute(i,s,f);if(void 0!==r.sparse){var y=C.SCALAR,b=O[r.sparse.indices.componentType],x=r.sparse.indices.byteOffset||0,w=r.sparse.values.byteOffset||0,M=new b(e[1],x,r.sparse.count*y),_=new l(e[2],w,r.sparse.count*s);null!==o&&(a=new m.BufferAttribute(a.array.slice(),a.itemSize,a.normalized));for(var S=0,E=M.length;S<E;S++){var T=M[S];if(a.setX(T,_[S*s]),s>=2&&a.setY(T,_[S*s+1]),s>=3&&a.setZ(T,_[S*s+2]),s>=4&&a.setW(T,_[S*s+3]),s>=5)throw new Error("THREE.GLTFLoader: Unsupported itemSize in sparse BufferAttribute.")}}return a}))},W.prototype.loadTexture=function(e){var t,r,i=this.json,a=this.options,o=i.textures[e],s=o.extensions||{};return(t=s[n.MSFT_TEXTURE_DDS]?i.images[s[n.MSFT_TEXTURE_DDS].source]:i.images[o.source]).uri&&(r=a.manager.getHandler(t.uri)),r||(r=s[n.MSFT_TEXTURE_DDS]?this.extensions[n.MSFT_TEXTURE_DDS].ddsLoader:this.textureLoader),this.loadTextureImage(e,t,r)},W.prototype.loadTextureImage=function(e,t,n){var r=this,i=this.json,a=this.options,o=i.textures[e],s=self.URL||self.webkitURL,l=t.uri,u=!1,c=!0;return"image/jpeg"===t.mimeType&&(c=!1),void 0!==t.bufferView&&(l=r.getDependency("bufferView",t.bufferView).then((function(e){if("image/png"===t.mimeType){var n=new DataView(e,25,1).getUint8(0,!1);c=6===n||4===n||3===n}u=!0;var r=new Blob([e],{type:t.mimeType});return l=s.createObjectURL(r)}))),Promise.resolve(l).then((function(e){return new Promise((function(t,r){var i=t;!0===n.isImageBitmapLoader&&(i=function(e){t(new m.CanvasTexture(e))}),n.load(G(e,a.path),i,void 0,r)}))})).then((function(t){!0===u&&s.revokeObjectURL(l),t.flipY=!1,o.name&&(t.name=o.name),c||(t.format=m.RGBFormat);var n=(i.samplers||{})[o.sampler]||{};return t.magFilter=k[n.magFilter]||m.LinearFilter,t.minFilter=k[n.minFilter]||m.LinearMipmapLinearFilter,t.wrapS=I[n.wrapS]||m.RepeatWrapping,t.wrapT=I[n.wrapT]||m.RepeatWrapping,r.associations.set(t,{type:"textures",index:e}),t}))},W.prototype.assignTexture=function(e,t,r){var i=this;return this.getDependency("texture",r.index).then((function(a){if(void 0===r.texCoord||0==r.texCoord||"aoMap"===t&&1==r.texCoord||console.warn("THREE.GLTFLoader: Custom UV set "+r.texCoord+" for texture "+t+" not yet supported."),i.extensions[n.KHR_TEXTURE_TRANSFORM]){var o=void 0!==r.extensions?r.extensions[n.KHR_TEXTURE_TRANSFORM]:void 0;if(o){var s=i.associations.get(a);a=i.extensions[n.KHR_TEXTURE_TRANSFORM].extendTexture(a,o),i.associations.set(a,s)}}e[t]=a}))},W.prototype.assignFinalMaterial=function(e){var t=e.geometry,n=e.material,r=void 0!==t.attributes.tangent,i=void 0!==t.attributes.color,a=void 0===t.attributes.normal,o=!0===e.isSkinnedMesh,s=Object.keys(t.morphAttributes).length>0,l=s&&void 0!==t.morphAttributes.normal;if(e.isPoints){var u="PointsMaterial:"+n.uuid,c=this.cache.get(u);c||(c=new m.PointsMaterial,m.Material.prototype.copy.call(c,n),c.color.copy(n.color),c.map=n.map,c.sizeAttenuation=!1,this.cache.add(u,c)),n=c}else if(e.isLine){u="LineBasicMaterial:"+n.uuid;var d=this.cache.get(u);d||(d=new m.LineBasicMaterial,m.Material.prototype.copy.call(d,n),d.color.copy(n.color),this.cache.add(u,d)),n=d}if(r||i||a||o||s){u="ClonedMaterial:"+n.uuid+":";n.isGLTFSpecularGlossinessMaterial&&(u+="specular-glossiness:"),o&&(u+="skinning:"),r&&(u+="vertex-tangents:"),i&&(u+="vertex-colors:"),a&&(u+="flat-shading:"),s&&(u+="morph-targets:"),l&&(u+="morph-normals:");var h=this.cache.get(u);h||(h=n.clone(),o&&(h.skinning=!0),r&&(h.vertexTangents=!0),i&&(h.vertexColors=!0),a&&(h.flatShading=!0),s&&(h.morphTargets=!0),l&&(h.morphNormals=!0),this.cache.add(u,h),this.associations.set(h,this.associations.get(n))),n=h}n.aoMap&&void 0===t.attributes.uv2&&void 0!==t.attributes.uv&&t.setAttribute("uv2",t.attributes.uv),n.normalScale&&!r&&(n.normalScale.y=-n.normalScale.y),n.clearcoatNormalScale&&!r&&(n.clearcoatNormalScale.y=-n.clearcoatNormalScale.y),e.material=n},W.prototype.getMaterialType=function(){return m.MeshStandardMaterial},W.prototype.loadMaterial=function(e){var t,r=this,i=this.json,a=this.extensions,o=i.materials[e],s={},l=o.extensions||{},u=[];if(l[n.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS]){var c=a[n.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS];t=c.getMaterialType(),u.push(c.extendParams(s,o,r))}else if(l[n.KHR_MATERIALS_UNLIT]){var d=a[n.KHR_MATERIALS_UNLIT];t=d.getMaterialType(),u.push(d.extendParams(s,o,r))}else{var h=o.pbrMetallicRoughness||{};if(s.color=new m.Color(1,1,1),s.opacity=1,Array.isArray(h.baseColorFactor)){var f=h.baseColorFactor;s.color.fromArray(f),s.opacity=f[3]}void 0!==h.baseColorTexture&&u.push(r.assignTexture(s,"map",h.baseColorTexture)),s.metalness=void 0!==h.metallicFactor?h.metallicFactor:1,s.roughness=void 0!==h.roughnessFactor?h.roughnessFactor:1,void 0!==h.metallicRoughnessTexture&&(u.push(r.assignTexture(s,"metalnessMap",h.metallicRoughnessTexture)),u.push(r.assignTexture(s,"roughnessMap",h.metallicRoughnessTexture))),t=this._invokeOne((function(t){return t.getMaterialType&&t.getMaterialType(e)})),u.push(Promise.all(this._invokeAll((function(t){return t.extendMaterialParams&&t.extendMaterialParams(e,s)}))))}!0===o.doubleSided&&(s.side=m.DoubleSide);var p=o.alphaMode||N;return p===F?(s.transparent=!0,s.depthWrite=!1):(s.transparent=!1,p===j&&(s.alphaTest=void 0!==o.alphaCutoff?o.alphaCutoff:.5)),void 0!==o.normalTexture&&t!==m.MeshBasicMaterial&&(u.push(r.assignTexture(s,"normalMap",o.normalTexture)),s.normalScale=new m.Vector2(1,1),void 0!==o.normalTexture.scale&&s.normalScale.set(o.normalTexture.scale,o.normalTexture.scale)),void 0!==o.occlusionTexture&&t!==m.MeshBasicMaterial&&(u.push(r.assignTexture(s,"aoMap",o.occlusionTexture)),void 0!==o.occlusionTexture.strength&&(s.aoMapIntensity=o.occlusionTexture.strength)),void 0!==o.emissiveFactor&&t!==m.MeshBasicMaterial&&(s.emissive=(new m.Color).fromArray(o.emissiveFactor)),void 0!==o.emissiveTexture&&t!==m.MeshBasicMaterial&&u.push(r.assignTexture(s,"emissiveMap",o.emissiveTexture)),Promise.all(u).then((function(){var i;return i=t===y?a[n.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS].createMaterial(s):new t(s),o.name&&(i.name=o.name),i.map&&(i.map.encoding=m.sRGBEncoding),i.emissiveMap&&(i.emissiveMap.encoding=m.sRGBEncoding),z(i,o),r.associations.set(i,{type:"materials",index:e}),o.extensions&&U(a,i,o),i}))},W.prototype.createUniqueName=function(e){for(var t=m.PropertyBinding.sanitizeNodeName(e||""),n=1;this.nodeNamesUsed[t];++n)t=e+"_"+n;return this.nodeNamesUsed[t]=!0,t},W.prototype.loadGeometries=function(e){var t=this,r=this.extensions,i=this.primitiveCache;function a(e){return r[n.KHR_DRACO_MESH_COMPRESSION].decodePrimitive(e,t).then((function(n){return X(n,e,t)}))}for(var o=[],s=0,l=e.length;s<l;s++){var u,c=e[s],d=V(c),h=i[d];if(h)o.push(h.promise);else u=c.extensions&&c.extensions[n.KHR_DRACO_MESH_COMPRESSION]?a(c):X(new m.BufferGeometry,c,t),i[d]={primitive:c,promise:u},o.push(u)}return Promise.all(o)},W.prototype.loadMesh=function(e){for(var t,n=this,r=this.json,i=this.extensions,a=r.meshes[e],o=a.primitives,s=[],l=0,u=o.length;l<u;l++){var c=void 0===o[l].material?(void 0===(t=this.cache).DefaultMaterial&&(t.DefaultMaterial=new m.MeshStandardMaterial({color:16777215,emissive:0,metalness:1,roughness:1,transparent:!1,depthTest:!0,side:m.FrontSide})),t.DefaultMaterial):this.getDependency("material",o[l].material);s.push(c)}return s.push(n.loadGeometries(o)),Promise.all(s).then((function(t){for(var r=t.slice(0,t.length-1),s=t[t.length-1],l=[],u=0,c=s.length;u<c;u++){var d,h=s[u],f=o[u],p=r[u];if(f.mode===T||f.mode===A||f.mode===R||void 0===f.mode)!0!==(d=!0===a.isSkinnedMesh?new m.SkinnedMesh(h,p):new m.Mesh(h,p)).isSkinnedMesh||d.geometry.attributes.skinWeight.normalized||d.normalizeSkinWeights(),f.mode===A?d.geometry=q(d.geometry,m.TriangleStripDrawMode):f.mode===R&&(d.geometry=q(d.geometry,m.TriangleFanDrawMode));else if(f.mode===_)d=new m.LineSegments(h,p);else if(f.mode===E)d=new m.Line(h,p);else if(f.mode===S)d=new m.LineLoop(h,p);else{if(f.mode!==M)throw new Error("THREE.GLTFLoader: Primitive mode unsupported: "+f.mode);d=new m.Points(h,p)}Object.keys(d.geometry.morphAttributes).length>0&&B(d,a),d.name=n.createUniqueName(a.name||"mesh_"+e),z(d,a),f.extensions&&U(i,d,f),n.assignFinalMaterial(d),l.push(d)}if(1===l.length)return l[0];var v=new m.Group;for(u=0,c=l.length;u<c;u++)v.add(l[u]);return v}))},W.prototype.loadCamera=function(e){var t,n=this.json.cameras[e],r=n[n.type];if(r)return"perspective"===n.type?t=new m.PerspectiveCamera(m.MathUtils.radToDeg(r.yfov),r.aspectRatio||1,r.znear||1,r.zfar||2e6):"orthographic"===n.type&&(t=new m.OrthographicCamera(-r.xmag,r.xmag,r.ymag,-r.ymag,r.znear,r.zfar)),n.name&&(t.name=this.createUniqueName(n.name)),z(t,n),Promise.resolve(t);console.warn("THREE.GLTFLoader: Missing camera parameters.")},W.prototype.loadSkin=function(e){var t=this.json.skins[e],n={joints:t.joints};return void 0===t.inverseBindMatrices?Promise.resolve(n):this.getDependency("accessor",t.inverseBindMatrices).then((function(e){return n.inverseBindMatrices=e,n}))},W.prototype.loadAnimation=function(e){for(var t=this.json.animations[e],n=[],r=[],i=[],a=[],o=[],s=0,l=t.channels.length;s<l;s++){var u=t.channels[s],c=t.samplers[u.sampler],d=u.target,h=void 0!==d.node?d.node:d.id,f=void 0!==t.parameters?t.parameters[c.input]:c.input,p=void 0!==t.parameters?t.parameters[c.output]:c.output;n.push(this.getDependency("node",h)),r.push(this.getDependency("accessor",f)),i.push(this.getDependency("accessor",p)),a.push(c),o.push(d)}return Promise.all([Promise.all(n),Promise.all(r),Promise.all(i),Promise.all(a),Promise.all(o)]).then((function(n){for(var r=n[0],i=n[1],a=n[2],o=n[3],s=n[4],l=[],u=0,c=r.length;u<c;u++){var d=r[u],h=i[u],f=a[u],p=o[u],v=s[u];if(void 0!==d){var g;switch(d.updateMatrix(),d.matrixAutoUpdate=!0,L[v.path]){case L.weights:g=m.NumberKeyframeTrack;break;case L.rotation:g=m.QuaternionKeyframeTrack;break;case L.position:case L.scale:default:g=m.VectorKeyframeTrack}var y=d.name?d.name:d.uuid,b=void 0!==p.interpolation?P[p.interpolation]:m.InterpolateLinear,x=[];L[v.path]===L.weights?d.traverse((function(e){!0===e.isMesh&&e.morphTargetInfluences&&x.push(e.name?e.name:e.uuid)})):x.push(y);var M=f.array;if(f.normalized){var _;if(M.constructor===Int8Array)_=1/127;else if(M.constructor===Uint8Array)_=1/255;else if(M.constructor==Int16Array)_=1/32767;else{if(M.constructor!==Uint16Array)throw new Error("THREE.GLTFLoader: Unsupported output accessor component type.");_=1/65535}for(var S=new Float32Array(M.length),E=0,T=M.length;E<T;E++)S[E]=M[E]*_;M=S}for(E=0,T=x.length;E<T;E++){var A=new g(x[E]+"."+L[v.path],h.array,M,b);"CUBICSPLINE"===p.interpolation&&(A.createInterpolant=function(e){return new w(this.times,this.values,this.getValueSize()/3,e)},A.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline=!0),l.push(A)}}}var R=t.name?t.name:"animation_"+e;return new m.AnimationClip(R,void 0,l)}))},W.prototype.loadNode=function(e){var t=this.json,n=this.extensions,r=this,i=t.nodes[e],a=i.name?r.createUniqueName(i.name):"";return function(){var t=[];return void 0!==i.mesh&&t.push(r.getDependency("mesh",i.mesh).then((function(e){var t=r._getNodeRef(r.meshCache,i.mesh,e);return void 0!==i.weights&&t.traverse((function(e){if(e.isMesh)for(var t=0,n=i.weights.length;t<n;t++)e.morphTargetInfluences[t]=i.weights[t]})),t}))),void 0!==i.camera&&t.push(r.getDependency("camera",i.camera).then((function(e){return r._getNodeRef(r.cameraCache,i.camera,e)}))),r._invokeAll((function(t){return t.createNodeAttachment&&t.createNodeAttachment(e)})).forEach((function(e){t.push(e)})),Promise.all(t)}().then((function(t){var o;if((o=!0===i.isBone?new m.Bone:t.length>1?new m.Group:1===t.length?t[0]:new m.Object3D)!==t[0])for(var s=0,l=t.length;s<l;s++)o.add(t[s]);if(i.name&&(o.userData.name=i.name,o.name=a),z(o,i),i.extensions&&U(n,o,i),void 0!==i.matrix){var u=new m.Matrix4;u.fromArray(i.matrix),o.applyMatrix4(u)}else void 0!==i.translation&&o.position.fromArray(i.translation),void 0!==i.rotation&&o.quaternion.fromArray(i.rotation),void 0!==i.scale&&o.scale.fromArray(i.scale);return r.associations.set(o,{type:"nodes",index:e}),o}))},W.prototype.loadScene=function(){function e(t,n,r,i){var a=r.nodes[t];return i.getDependency("node",t).then((function(e){return void 0===a.skin?e:i.getDependency("skin",a.skin).then((function(e){for(var n=[],r=0,a=(t=e).joints.length;r<a;r++)n.push(i.getDependency("node",t.joints[r]));return Promise.all(n)})).then((function(n){return e.traverse((function(e){if(e.isMesh){for(var r=[],i=[],a=0,o=n.length;a<o;a++){var s=n[a];if(s){r.push(s);var l=new m.Matrix4;void 0!==t.inverseBindMatrices&&l.fromArray(t.inverseBindMatrices.array,16*a),i.push(l)}else console.warn('THREE.GLTFLoader: Joint "%s" could not be found.',t.joints[a])}e.bind(new m.Skeleton(r,i),e.matrixWorld)}})),e}));var t})).then((function(t){n.add(t);var o=[];if(a.children)for(var s=a.children,l=0,u=s.length;l<u;l++){var c=s[l];o.push(e(c,t,r,i))}return Promise.all(o)}))}return function(t){var n=this.json,r=this.extensions,i=this.json.scenes[t],a=new m.Group;i.name&&(a.name=this.createUniqueName(i.name)),z(a,i),i.extensions&&U(r,a,i);for(var o=i.nodes||[],s=[],l=0,u=o.length;l<u;l++)s.push(e(o[l],a,n,this));return Promise.all(s).then((function(){return a}))}}()}();var ge=n(32),ye=n.n(ge);function be(e){var t,n=new Set,r=function(e,r){var i="function"===typeof e?e(t):e;if(i!==t){var a=t;t=r?i:Object.assign({},t,i),n.forEach((function(e){return e(t,a)}))}},i=function(){return t},a={setState:r,getState:i,subscribe:function(e,r,a){return r||a?function(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:i,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Object.is,o=r(t);function s(){var n=r(t);if(!a(o,n)){var i=o;e(o=n,i)}}return n.add(s),function(){return n.delete(s)}}(e,r,a):(n.add(e),function(){return n.delete(e)})},destroy:function(){return n.clear()}};return t=e(r,i,a),a}var xe="undefined"===typeof window?h.useEffect:h.useLayoutEffect;var we=function(e){var t="function"===typeof e?be(e):e,n=function(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:t.getState,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Object.is,i=Object(h.useReducer)((function(e){return e+1}),0),a=Object(u.a)(i,2),o=a[1],s=t.getState(),l=Object(h.useRef)(s),c=Object(h.useRef)(n),d=Object(h.useRef)(r),f=Object(h.useRef)(!1),p=Object(h.useRef)();void 0===p.current&&(p.current=n(s));var m=!1;(l.current!==s||c.current!==n||d.current!==r||f.current)&&(e=n(s),m=!r(p.current,e)),xe((function(){m&&(p.current=e),l.current=s,c.current=n,d.current=r,f.current=!1}));var v=Object(h.useRef)(s);return Object(h.useEffect)((function(){var e=function(){try{var e=t.getState(),n=c.current(e);d.current(p.current,n)||(l.current=e,p.current=n,o())}catch(r){f.current=!0,o()}},n=t.subscribe(e);return t.getState()!==v.current&&e(),n}),[]),m?e:p.current};return Object.assign(n,t),n[Symbol.iterator]=ye.a.mark((function e(){return ye.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.warn("[useStore, api] = create() is deprecated and will be removed in v4"),e.next=3,n;case 3:return e.next=5,t;case 5:case"end":return e.stop()}}),e)})),n},Me=(n(20),function e(t,n){m.Mesh.call(this,t),this.type="Reflector";var r=this,i=void 0!==(n=n||{}).color?new m.Color(n.color):new m.Color(8355711),a=n.textureWidth||512,o=n.textureHeight||512,s=n.clipBias||0,l=n.shader||e.ReflectorShader,u=new m.Plane,c=new m.Vector3,d=new m.Vector3,h=new m.Vector3,f=new m.Matrix4,p=new m.Vector3(0,0,-1),v=new m.Vector4,g=new m.Vector3,y=new m.Vector3,b=new m.Vector4,x=new m.Matrix4,w=new m.PerspectiveCamera,M={minFilter:m.LinearFilter,magFilter:m.LinearFilter,format:m.RGBFormat},_=new m.WebGLRenderTarget(a,o,M);m.MathUtils.isPowerOfTwo(a)&&m.MathUtils.isPowerOfTwo(o)||(_.texture.generateMipmaps=!1);var S=new m.ShaderMaterial({uniforms:m.UniformsUtils.clone(l.uniforms),fragmentShader:l.fragmentShader,vertexShader:l.vertexShader});S.uniforms.tDiffuse.value=_.texture,S.uniforms.color.value=i,S.uniforms.textureMatrix.value=x,this.material=S,this.onBeforeRender=function(e,t,n){if(d.setFromMatrixPosition(r.matrixWorld),h.setFromMatrixPosition(n.matrixWorld),f.extractRotation(r.matrixWorld),c.set(0,0,1),c.applyMatrix4(f),g.subVectors(d,h),!(g.dot(c)>0)){g.reflect(c).negate(),g.add(d),f.extractRotation(n.matrixWorld),p.set(0,0,-1),p.applyMatrix4(f),p.add(h),y.subVectors(d,p),y.reflect(c).negate(),y.add(d),w.position.copy(g),w.up.set(0,1,0),w.up.applyMatrix4(f),w.up.reflect(c),w.lookAt(y),w.far=n.far,w.updateMatrixWorld(),w.projectionMatrix.copy(n.projectionMatrix),x.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),x.multiply(w.projectionMatrix),x.multiply(w.matrixWorldInverse),x.multiply(r.matrixWorld),u.setFromNormalAndCoplanarPoint(c,d),u.applyMatrix4(w.matrixWorldInverse),v.set(u.normal.x,u.normal.y,u.normal.z,u.constant);var i=w.projectionMatrix;b.x=(Math.sign(v.x)+i.elements[8])/i.elements[0],b.y=(Math.sign(v.y)+i.elements[9])/i.elements[5],b.z=-1,b.w=(1+i.elements[10])/i.elements[14],v.multiplyScalar(2/v.dot(b)),i.elements[2]=v.x,i.elements[6]=v.y,i.elements[10]=v.z+1-s,i.elements[14]=v.w,_.texture.encoding=e.outputEncoding,r.visible=!1;var a=e.getRenderTarget(),o=e.xr.enabled,l=e.shadowMap.autoUpdate;e.xr.enabled=!1,e.shadowMap.autoUpdate=!1,e.setRenderTarget(_),e.state.buffers.depth.setMask(!0),!1===e.autoClear&&e.clear(),e.render(t,w),e.xr.enabled=o,e.shadowMap.autoUpdate=l,e.setRenderTarget(a);var m=n.viewport;void 0!==m&&e.state.viewport(m),r.visible=!0}},this.getRenderTarget=function(){return _}});(Me.prototype=Object.create(m.Mesh.prototype)).constructor=Me,Me.ReflectorShader={uniforms:{color:{value:null},tDiffuse:{value:null},textureMatrix:{value:null}},vertexShader:["uniform mat4 textureMatrix;","varying vec4 vUv;","void main() {","\tvUv = textureMatrix * vec4( position, 1.0 );","\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );","}"].join("\n"),fragmentShader:["uniform vec3 color;","uniform sampler2D tDiffuse;","varying vec4 vUv;","float blendOverlay( float base, float blend ) {","\treturn( base < 0.5 ? ( 2.0 * base * blend ) : ( 1.0 - 2.0 * ( 1.0 - base ) * ( 1.0 - blend ) ) );","}","vec3 blendOverlay( vec3 base, vec3 blend ) {","\treturn vec3( blendOverlay( base.r, blend.r ), blendOverlay( base.g, blend.g ), blendOverlay( base.b, blend.b ) );","}","void main() {","\tvec4 base = texture2DProj( tDiffuse, vUv );","\tgl_FragColor = vec4( blendOverlay( base.rgb, color ), 1.0 );","}"].join("\n")};n(93),n(94);var _e=function(){};!function(){var e=new m.Vector3,t=new m.Vector3;function n(e,t){var n=e.indexOf(t);n>-1&&e.splice(n,1)}function r(e,t){var n,r,i,a=t.position.distanceTo(e.position),o=0,s=[],l=e.faces.length;for(n=0;n<l;n++)(r=e.faces[n]).hasVertex(t)&&s.push(r);for(n=0;n<l;n++){var u=1;r=e.faces[n];for(var c=0;c<s.length;c++){i=s[c];var d=r.normal.dot(i.normal);u=Math.min(u,(1.001-d)/2)}o=Math.max(o,u)}return s.length<2&&(o=1),a*o+0}function i(e){if(0===e.neighbors.length)return e.collapseNeighbor=null,void(e.collapseCost=-.01);e.collapseCost=1e5,e.collapseNeighbor=null;for(var t=0;t<e.neighbors.length;t++){var n=r(e,e.neighbors[t]);e.collapseNeighbor||(e.collapseNeighbor=e.neighbors[t],e.collapseCost=n,e.minCost=n,e.totalCost=0,e.costCount=0),e.costCount++,e.totalCost+=n,n<e.minCost&&(e.collapseNeighbor=e.neighbors[t],e.minCost=n)}e.collapseCost=e.totalCost/e.costCount}function a(e,t){for(console.assert(0===e.faces.length);e.neighbors.length;){n(e.neighbors.pop().neighbors,e)}n(t,e)}function o(e,t){n(t,e),e.v1&&n(e.v1.faces,e),e.v2&&n(e.v2.faces,e),e.v3&&n(e.v3.faces,e);for(var r,i,a=[e.v1,e.v2,e.v3],o=0;o<3;o++)i=a[(o+1)%3],(r=a[o])&&i&&(r.removeIfNonNeighbor(i),i.removeIfNonNeighbor(r))}function s(e,t,n,r){if(r){var s,l=[];for(s=0;s<n.neighbors.length;s++)l.push(n.neighbors[s]);for(s=n.faces.length-1;s>=0;s--)n.faces[s].hasVertex(r)&&o(n.faces[s],t);for(s=n.faces.length-1;s>=0;s--)n.faces[s].replaceVertex(n,r);for(a(n,e),s=0;s<l.length;s++)i(l[s])}else a(n,e)}function l(e){for(var t=e[0],n=0;n<e.length;n++)e[n].collapseCost<t.collapseCost&&(t=e[n]);return t}function u(e,t,n,r,i,a){this.a=r,this.b=i,this.c=a,this.v1=e,this.v2=t,this.v3=n,this.normal=new m.Vector3,this.computeNormal(),e.faces.push(this),e.addUniqueNeighbor(t),e.addUniqueNeighbor(n),t.faces.push(this),t.addUniqueNeighbor(e),t.addUniqueNeighbor(n),n.faces.push(this),n.addUniqueNeighbor(e),n.addUniqueNeighbor(t)}function c(e,t){this.position=e,this.id=t,this.faces=[],this.neighbors=[],this.collapseCost=0,this.collapseNeighbor=null}u.prototype.computeNormal=function(){var n=this.v1.position,r=this.v2.position,i=this.v3.position;e.subVectors(i,r),t.subVectors(n,r),e.cross(t).normalize(),this.normal.copy(e)},u.prototype.hasVertex=function(e){return e===this.v1||e===this.v2||e===this.v3},u.prototype.replaceVertex=function(e,t){e===this.v1?this.v1=t:e===this.v2?this.v2=t:e===this.v3&&(this.v3=t),n(e.faces,this),t.faces.push(this),e.removeIfNonNeighbor(this.v1),this.v1.removeIfNonNeighbor(e),e.removeIfNonNeighbor(this.v2),this.v2.removeIfNonNeighbor(e),e.removeIfNonNeighbor(this.v3),this.v3.removeIfNonNeighbor(e),this.v1.addUniqueNeighbor(this.v2),this.v1.addUniqueNeighbor(this.v3),this.v2.addUniqueNeighbor(this.v1),this.v2.addUniqueNeighbor(this.v3),this.v3.addUniqueNeighbor(this.v1),this.v3.addUniqueNeighbor(this.v2),this.computeNormal()},c.prototype.addUniqueNeighbor=function(e){var t,n;t=this.neighbors,n=e,-1===t.indexOf(n)&&t.push(n)},c.prototype.removeIfNonNeighbor=function(e){var t=this.neighbors,n=this.faces,r=t.indexOf(e);if(-1!==r){for(var i=0;i<n.length;i++)if(n[i].hasVertex(e))return;t.splice(r,1)}},_e.prototype.modify=function(e,t){e.isBufferGeometry&&(e=(new m.Geometry).fromBufferGeometry(e)),e.mergeVertices();var n,r,a,o=e.vertices,d=e.faces,h=[],f=[];for(n=0,r=o.length;n<r;n++){var p=new c(o[n],n);h.push(p)}for(n=0,r=d.length;n<r;n++){var v=(S=d[n]).a,g=S.b,y=S.c,b=new u(h[v],h[g],h[y],v,g,y);f.push(b)}for(n=0,r=h.length;n<r;n++)i(h[n]);for(var x=t;x--;){if(!(a=l(h))){console.log("THREE.SimplifyModifier: No next vertex");break}s(h,f,a,a.collapseNeighbor)}var w=new m.BufferGeometry,M=[],_=[];for(n=0;n<h.length;n++){p=h[n].position;M.push(p.x,p.y,p.z)}for(n=0;n<f.length;n++){var S=f[n];v=h.indexOf(S.v1),g=h.indexOf(S.v2),y=h.indexOf(S.v3);_.push(v,g,y)}return w.setAttribute("position",new m.Float32BufferAttribute(M,3)),w.setIndex(_),w}}();var Se=function(e){this.subdivisions=void 0===e?1:e};Se.prototype.modify=function(e){var t=e.isBufferGeometry;(e=t?(new m.Geometry).fromBufferGeometry(e):e.clone()).mergeVertices(6);for(var n=this.subdivisions;n-- >0;)this.smooth(e);return e.computeFaceNormals(),e.computeVertexNormals(),t?(new m.BufferGeometry).fromGeometry(e):e},function(){var e=["a","b","c"];function t(e,t,n){return n[Math.min(e,t)+"_"+Math.max(e,t)]}function n(e,t,n,r,i,a){var o,s=Math.min(e,t),l=Math.max(e,t),u=s+"_"+l;u in r?o=r[u]:(o={a:n[s],b:n[l],newEdge:null,faces:[]},r[u]=o);o.faces.push(i),a[e].edges.push(o),a[t].edges.push(o)}function r(e,t,n,r,i){e.push(new m.Face3(t,n,r,void 0,void 0,i))}function i(e,t){return Math.abs(t-e)/2+Math.min(e,t)}function a(e,t,n,r){e.push([t.clone(),n.clone(),r.clone()])}Se.prototype.smooth=function(o){var s,l,u,c,d,h,f,p,v,g,y,b,x,w=new m.Vector3,M=[];s=o.vertices,l=o.faces;var _,S,E,T,A,R,O,k,I,C,D,L,P,N,j=void 0!==(u=o.faceVertexUvs)[0]&&u[0].length>0;if(j)for(var F=0;F<u.length;F++)M.push([]);for(f in function(e,t,r,i){var a,o,s;for(a=0,o=e.length;a<o;a++)r[a]={edges:[]};for(a=0,o=t.length;a<o;a++)n((s=t[a]).a,s.b,e,i,s,r),n(s.b,s.c,e,i,s,r),n(s.c,s.a,e,i,s,r)}(s,l,g=new Array(s.length),y={}),b=[],y){for(S=y[f],E=new m.Vector3,A=3/8,R=1/8,2!=(O=S.faces.length)&&(A=.5,R=0),E.addVectors(S.a,S.b).multiplyScalar(A),w.set(0,0,0),F=0;F<O;F++){for(T=S.faces[F],v=0;v<3&&((_=s[T[e[v]]])===S.a||_===S.b);v++);w.add(_)}w.multiplyScalar(R),E.add(w),S.newEdge=b.length,b.push(E)}for(x=[],f=0,p=s.length;f<p;f++){for(P=s[f],3==(h=(L=g[f].edges).length)?k=3/16:h>3&&(k=3/(8*h)),I=1-h*k,C=k,h<=2&&2==h&&(I=3/4,C=1/8),N=P.clone().multiplyScalar(I),w.set(0,0,0),F=0;F<h;F++)_=(D=L[F]).a!==P?D.a:D.b,w.add(_);w.multiplyScalar(C),N.add(w),x.push(N)}c=x.concat(b);var G,U,z,B,V,H,W,X=x.length;d=[];var q=new m.Vector2,Y=new m.Vector2,Q=new m.Vector2;for(f=0,p=l.length;f<p;f++)if(r(d,G=t((T=l[f]).a,T.b,y).newEdge+X,U=t(T.b,T.c,y).newEdge+X,z=t(T.c,T.a,y).newEdge+X,T.materialIndex),r(d,T.a,G,z,T.materialIndex),r(d,T.b,U,G,T.materialIndex),r(d,T.c,z,U,T.materialIndex),j)for(F=0;F<u.length;F++)V=(B=u[F][f])[0],H=B[1],W=B[2],q.set(i(V.x,H.x),i(V.y,H.y)),Y.set(i(H.x,W.x),i(H.y,W.y)),Q.set(i(V.x,W.x),i(V.y,W.y)),a(M[F],q,Y,Q),a(M[F],V,q,Q),a(M[F],H,Y,q),a(M[F],W,Q,Y);o.vertices=c,o.faces=d,j&&(o.faceVertexUvs=M)}}();var Ee=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:.1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:6,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1/0;this.maxEdgeLength=e,this.maxIterations=t,this.maxFaces=n};Ee.prototype.modify=function(e){var t=e.isBufferGeometry;(e=t?(new m.Geometry).fromBufferGeometry(e):e.clone()).mergeVertices(6);for(var n,r=!1,i=0,a=this.maxEdgeLength*this.maxEdgeLength;!r&&i<this.maxIterations&&e.faces.length<this.maxFaces;){var o=[],s=[];r=!0,i++;for(var l=0,u=e.faceVertexUvs.length;l<u;l++)s[l]=[];for(l=0,u=e.faces.length;l<u;l++){var c=e.faces[l];if(c instanceof m.Face3){var d=c.a,h=c.b,f=c.c,p=e.vertices[d],v=e.vertices[h],g=e.vertices[f],y=p.distanceToSquared(v),b=v.distanceToSquared(g),x=p.distanceToSquared(g);if(!(o.length+u-l>=this.maxFaces)&&(y>a||b>a||x>a)){r=!1;var w=e.vertices.length,M=c.clone(),_=c.clone();if(y>=b&&y>=x){if((S=p.clone()).lerp(v,.5),M.a=d,M.b=w,M.c=f,_.a=w,_.b=h,_.c=f,3===c.vertexNormals.length)(E=c.vertexNormals[0].clone()).lerp(c.vertexNormals[1],.5),M.vertexNormals[1].copy(E),_.vertexNormals[0].copy(E);if(3===c.vertexColors.length)(T=c.vertexColors[0].clone()).lerp(c.vertexColors[1],.5),M.vertexColors[1].copy(T),_.vertexColors[0].copy(T);n=0}else if(b>=y&&b>=x){if((S=v.clone()).lerp(g,.5),M.a=d,M.b=h,M.c=w,_.a=w,_.b=f,_.c=d,3===c.vertexNormals.length)(E=c.vertexNormals[1].clone()).lerp(c.vertexNormals[2],.5),M.vertexNormals[2].copy(E),_.vertexNormals[0].copy(E),_.vertexNormals[1].copy(c.vertexNormals[2]),_.vertexNormals[2].copy(c.vertexNormals[0]);if(3===c.vertexColors.length)(T=c.vertexColors[1].clone()).lerp(c.vertexColors[2],.5),M.vertexColors[2].copy(T),_.vertexColors[0].copy(T),_.vertexColors[1].copy(c.vertexColors[2]),_.vertexColors[2].copy(c.vertexColors[0]);n=1}else{var S,E,T;if((S=p.clone()).lerp(g,.5),M.a=d,M.b=h,M.c=w,_.a=w,_.b=h,_.c=f,3===c.vertexNormals.length)(E=c.vertexNormals[0].clone()).lerp(c.vertexNormals[2],.5),M.vertexNormals[2].copy(E),_.vertexNormals[0].copy(E);if(3===c.vertexColors.length)(T=c.vertexColors[0].clone()).lerp(c.vertexColors[2],.5),M.vertexColors[2].copy(T),_.vertexColors[0].copy(T);n=2}o.push(M,_),e.vertices.push(S);for(var A=0,R=e.faceVertexUvs.length;A<R;A++)if(e.faceVertexUvs[A].length){var O=e.faceVertexUvs[A][l],k=O[0],I=O[1],C=O[2];if(0===n){(P=k.clone()).lerp(I,.5);var D=[k.clone(),P.clone(),C.clone()],L=[P.clone(),I.clone(),C.clone()]}else if(1===n){(P=I.clone()).lerp(C,.5);D=[k.clone(),I.clone(),P.clone()],L=[P.clone(),C.clone(),k.clone()]}else{var P;(P=k.clone()).lerp(C,.5);D=[k.clone(),I.clone(),P.clone()],L=[P.clone(),I.clone(),C.clone()]}s[A].push(D,L)}}else{o.push(c);for(A=0,R=e.faceVertexUvs.length;A<R;A++)s[A].push(e.faceVertexUvs[A][l])}}}e.faces=o,e.faceVertexUvs=s}return t?(new m.BufferGeometry).fromGeometry(e):e};var Te=n(33),Ae=function e(){var t=e.SkyShader,n=new m.ShaderMaterial({name:"SkyShader",fragmentShader:t.fragmentShader,vertexShader:t.vertexShader,uniforms:m.UniformsUtils.clone(t.uniforms),side:m.BackSide,depthWrite:!1});m.Mesh.call(this,new m.BoxBufferGeometry(1,1,1),n)};Ae.prototype=Object.create(m.Mesh.prototype),Ae.SkyShader={uniforms:{turbidity:{value:2},rayleigh:{value:1},mieCoefficient:{value:.005},mieDirectionalG:{value:.8},sunPosition:{value:new m.Vector3},up:{value:new m.Vector3(0,1,0)}},vertexShader:["uniform vec3 sunPosition;","uniform float rayleigh;","uniform float turbidity;","uniform float mieCoefficient;","uniform vec3 up;","varying vec3 vWorldPosition;","varying vec3 vSunDirection;","varying float vSunfade;","varying vec3 vBetaR;","varying vec3 vBetaM;","varying float vSunE;","const float e = 2.71828182845904523536028747135266249775724709369995957;","const float pi = 3.141592653589793238462643383279502884197169;","const vec3 lambda = vec3( 680E-9, 550E-9, 450E-9 );","const vec3 totalRayleigh = vec3( 5.804542996261093E-6, 1.3562911419845635E-5, 3.0265902468824876E-5 );","const float v = 4.0;","const vec3 K = vec3( 0.686, 0.678, 0.666 );","const vec3 MieConst = vec3( 1.8399918514433978E14, 2.7798023919660528E14, 4.0790479543861094E14 );","const float cutoffAngle = 1.6110731556870734;","const float steepness = 1.5;","const float EE = 1000.0;","float sunIntensity( float zenithAngleCos ) {","\tzenithAngleCos = clamp( zenithAngleCos, -1.0, 1.0 );","\treturn EE * max( 0.0, 1.0 - pow( e, -( ( cutoffAngle - acos( zenithAngleCos ) ) / steepness ) ) );","}","vec3 totalMie( float T ) {","\tfloat c = ( 0.2 * T ) * 10E-18;","\treturn 0.434 * c * MieConst;","}","void main() {","\tvec4 worldPosition = modelMatrix * vec4( position, 1.0 );","\tvWorldPosition = worldPosition.xyz;","\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );","\tgl_Position.z = gl_Position.w;","\tvSunDirection = normalize( sunPosition );","\tvSunE = sunIntensity( dot( vSunDirection, up ) );","\tvSunfade = 1.0 - clamp( 1.0 - exp( ( sunPosition.y / 450000.0 ) ), 0.0, 1.0 );","\tfloat rayleighCoefficient = rayleigh - ( 1.0 * ( 1.0 - vSunfade ) );","\tvBetaR = totalRayleigh * rayleighCoefficient;","\tvBetaM = totalMie( turbidity ) * mieCoefficient;","}"].join("\n"),fragmentShader:["varying vec3 vWorldPosition;","varying vec3 vSunDirection;","varying float vSunfade;","varying vec3 vBetaR;","varying vec3 vBetaM;","varying float vSunE;","uniform float mieDirectionalG;","uniform vec3 up;","const vec3 cameraPos = vec3( 0.0, 0.0, 0.0 );","const float pi = 3.141592653589793238462643383279502884197169;","const float n = 1.0003;","const float N = 2.545E25;","const float rayleighZenithLength = 8.4E3;","const float mieZenithLength = 1.25E3;","const float sunAngularDiameterCos = 0.999956676946448443553574619906976478926848692873900859324;","const float THREE_OVER_SIXTEENPI = 0.05968310365946075;","const float ONE_OVER_FOURPI = 0.07957747154594767;","float rayleighPhase( float cosTheta ) {","\treturn THREE_OVER_SIXTEENPI * ( 1.0 + pow( cosTheta, 2.0 ) );","}","float hgPhase( float cosTheta, float g ) {","\tfloat g2 = pow( g, 2.0 );","\tfloat inverse = 1.0 / pow( 1.0 - 2.0 * g * cosTheta + g2, 1.5 );","\treturn ONE_OVER_FOURPI * ( ( 1.0 - g2 ) * inverse );","}","void main() {","\tvec3 direction = normalize( vWorldPosition - cameraPos );","\tfloat zenithAngle = acos( max( 0.0, dot( up, direction ) ) );","\tfloat inverse = 1.0 / ( cos( zenithAngle ) + 0.15 * pow( 93.885 - ( ( zenithAngle * 180.0 ) / pi ), -1.253 ) );","\tfloat sR = rayleighZenithLength * inverse;","\tfloat sM = mieZenithLength * inverse;","\tvec3 Fex = exp( -( vBetaR * sR + vBetaM * sM ) );","\tfloat cosTheta = dot( direction, vSunDirection );","\tfloat rPhase = rayleighPhase( cosTheta * 0.5 + 0.5 );","\tvec3 betaRTheta = vBetaR * rPhase;","\tfloat mPhase = hgPhase( cosTheta, mieDirectionalG );","\tvec3 betaMTheta = vBetaM * mPhase;","\tvec3 Lin = pow( vSunE * ( ( betaRTheta + betaMTheta ) / ( vBetaR + vBetaM ) ) * ( 1.0 - Fex ), vec3( 1.5 ) );","\tLin *= mix( vec3( 1.0 ), pow( vSunE * ( ( betaRTheta + betaMTheta ) / ( vBetaR + vBetaM ) ) * Fex, vec3( 1.0 / 2.0 ) ), clamp( pow( 1.0 - dot( up, vSunDirection ), 5.0 ), 0.0, 1.0 ) );","\tfloat theta = acos( direction.y ); // elevation --\x3e y-axis, [-pi/2, pi/2]","\tfloat phi = atan( direction.z, direction.x ); // azimuth --\x3e x-axis [-pi/2, pi/2]","\tvec2 uv = vec2( phi, theta ) / vec2( 2.0 * pi, pi ) + vec2( 0.5, 0.0 );","\tvec3 L0 = vec3( 0.1 ) * Fex;","\tfloat sundisk = smoothstep( sunAngularDiameterCos, sunAngularDiameterCos + 0.00002, cosTheta );","\tL0 += ( vSunE * 19000.0 * Fex ) * sundisk;","\tvec3 texColor = ( Lin + L0 ) * 0.04 + vec3( 0.0, 0.0003, 0.00075 );","\tvec3 retColor = pow( texColor, vec3( 1.0 / ( 1.2 + ( 1.2 * vSunfade ) ) ) );","\tgl_FragColor = vec4( retColor, 1.0 );","#include <tonemapping_fragment>","#include <encodings_fragment>","}"].join("\n")};["varying vec2 vUv;","void main() {","\tvUv = uv;","\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );","}"].join("\n"),["uniform sampler2D tDiffuse;","uniform float h;","varying vec2 vUv;","void main() {","\tvec4 sum = vec4( 0.0 );","\tsum += texture2D( tDiffuse, vec2( vUv.x - 4.0 * h, vUv.y ) ) * 0.051;","\tsum += texture2D( tDiffuse, vec2( vUv.x - 3.0 * h, vUv.y ) ) * 0.0918;","\tsum += texture2D( tDiffuse, vec2( vUv.x - 2.0 * h, vUv.y ) ) * 0.12245;","\tsum += texture2D( tDiffuse, vec2( vUv.x - 1.0 * h, vUv.y ) ) * 0.1531;","\tsum += texture2D( tDiffuse, vec2( vUv.x, vUv.y ) ) * 0.1633;","\tsum += texture2D( tDiffuse, vec2( vUv.x + 1.0 * h, vUv.y ) ) * 0.1531;","\tsum += texture2D( tDiffuse, vec2( vUv.x + 2.0 * h, vUv.y ) ) * 0.12245;","\tsum += texture2D( tDiffuse, vec2( vUv.x + 3.0 * h, vUv.y ) ) * 0.0918;","\tsum += texture2D( tDiffuse, vec2( vUv.x + 4.0 * h, vUv.y ) ) * 0.051;","\tgl_FragColor = sum;","}"].join("\n"),["varying vec2 vUv;","void main() {","\tvUv = uv;","\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );","}"].join("\n"),["uniform sampler2D tDiffuse;","uniform float v;","varying vec2 vUv;","void main() {","\tvec4 sum = vec4( 0.0 );","\tsum += texture2D( tDiffuse, vec2( vUv.x, vUv.y - 4.0 * v ) ) * 0.051;","\tsum += texture2D( tDiffuse, vec2( vUv.x, vUv.y - 3.0 * v ) ) * 0.0918;","\tsum += texture2D( tDiffuse, vec2( vUv.x, vUv.y - 2.0 * v ) ) * 0.12245;","\tsum += texture2D( tDiffuse, vec2( vUv.x, vUv.y - 1.0 * v ) ) * 0.1531;","\tsum += texture2D( tDiffuse, vec2( vUv.x, vUv.y ) ) * 0.1633;","\tsum += texture2D( tDiffuse, vec2( vUv.x, vUv.y + 1.0 * v ) ) * 0.1531;","\tsum += texture2D( tDiffuse, vec2( vUv.x, vUv.y + 2.0 * v ) ) * 0.12245;","\tsum += texture2D( tDiffuse, vec2( vUv.x, vUv.y + 3.0 * v ) ) * 0.0918;","\tsum += texture2D( tDiffuse, vec2( vUv.x, vUv.y + 4.0 * v ) ) * 0.051;","\tgl_FragColor = sum;","}"].join("\n"),n(77),n(74);function Re(e){var t=e+"BufferGeometry";return Object(h.forwardRef)((function(e,n){var r=e.args,i=e.children,a=Object(d.a)(e,["args","children"]);return f.a.createElement("mesh",Object(c.a)({ref:n},a),f.a.createElement(t,{attach:"geometry",args:r}),i)}))}Re("box"),Re("circle"),Re("cone"),Re("cylinder"),Re("sphere"),Re("plane"),Re("tube"),Re("torus"),Re("torusKnot"),Re("tetrahedron"),Re("ring"),Re("polyhedron"),Re("icosahedron"),Re("octahedron"),Re("dodecahedron"),Re("extrude"),Re("lathe"),Re("parametric");var Oe=Object(h.forwardRef)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{enableDamping:!0},t=arguments.length>1?arguments[1]:void 0,n=Object(p.g)(),r=n.camera,i=n.gl,a=n.invalidate,o=Object(h.useMemo)((function(){return new _(r,i.domElement)}),[r,i]);return Object(p.e)((function(){o.update()})),Object(h.useEffect)((function(){return null==o||null==o.addEventListener||o.addEventListener("change",a),function(){return null==o||null==o.removeEventListener?void 0:o.removeEventListener("change",a)}}),[o,a]),f.a.createElement("primitive",Object(c.a)({dispose:null,object:o,ref:t,enableDamping:!0},e))}));we((function(e){return m.DefaultLoadingManager.onStart=function(t,n,r){return e({active:!0,item:t,loaded:n,total:r,progress:n/r*100})},m.DefaultLoadingManager.onLoad=function(){return e({active:!1})},m.DefaultLoadingManager.onError=function(t){return e((function(e){return{errors:[].concat(Object(l.a)(e.errors),[t])}}))},m.DefaultLoadingManager.onProgress=function(t,n,r){return e({item:t,loaded:n,total:r,progress:n/r*100})},{errors:[],active:!1,progress:0,item:"",loaded:0,total:0}}));new m.Vector3,new m.Vector3,new m.Vector3;new m.Matrix4,new m.Ray,new m.Sphere,new m.Vector3;m.MeshPhysicalMaterial,m.MeshStandardMaterial;m.ShaderMaterial},function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(19),i=n(53);var a=n(52);function o(e){var t="function"===typeof Map?new Map:void 0;return(o=function(e){if(null===e||(n=e,-1===Function.toString.call(n).indexOf("[native code]")))return e;var n;if("function"!==typeof e)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof t){if(t.has(e))return t.get(e);t.set(e,o)}function o(){return Object(a.a)(e,arguments,Object(r.a)(this).constructor)}return o.prototype=Object.create(e.prototype,{constructor:{value:o,enumerable:!1,writable:!0,configurable:!0}}),Object(i.a)(o,e)})(e)}},function(e,t,n){"use strict";function r(e){for(var t="https://material-ui.com/production-error/?code="+e,n=1;n<arguments.length;n+=1)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified Material-UI error #"+e+"; visit "+t+" for the full message."}n.d(t,"a",(function(){return r}))},,,,,,,function(e,t,n){"use strict";n(60);var r=n(1),i=60103;if(t.Fragment=60107,"function"===typeof Symbol&&Symbol.for){var a=Symbol.for;i=a("react.element"),t.Fragment=a("react.fragment")}var o=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,s=Object.prototype.hasOwnProperty,l={key:!0,ref:!0,__self:!0,__source:!0};function u(e,t,n){var r,a={},u=null,c=null;for(r in void 0!==n&&(u=""+n),void 0!==t.key&&(u=""+t.key),void 0!==t.ref&&(c=t.ref),t)s.call(t,r)&&!l.hasOwnProperty(r)&&(a[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===a[r]&&(a[r]=t[r]);return{$$typeof:i,type:e,key:u,ref:c,props:a,_owner:o.current}}t.jsx=u,t.jsxs=u},function(e,t,n){"use strict";var r=n(60),i=60103,a=60106;t.Fragment=60107,t.StrictMode=60108,t.Profiler=60114;var o=60109,s=60110,l=60112;t.Suspense=60113;var u=60115,c=60116;if("function"===typeof Symbol&&Symbol.for){var d=Symbol.for;i=d("react.element"),a=d("react.portal"),t.Fragment=d("react.fragment"),t.StrictMode=d("react.strict_mode"),t.Profiler=d("react.profiler"),o=d("react.provider"),s=d("react.context"),l=d("react.forward_ref"),t.Suspense=d("react.suspense"),u=d("react.memo"),c=d("react.lazy")}var h="function"===typeof Symbol&&Symbol.iterator;function f(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},m={};function v(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||p}function g(){}function y(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||p}v.prototype.isReactComponent={},v.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error(f(85));this.updater.enqueueSetState(this,e,t,"setState")},v.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},g.prototype=v.prototype;var b=y.prototype=new g;b.constructor=y,r(b,v.prototype),b.isPureReactComponent=!0;var x={current:null},w=Object.prototype.hasOwnProperty,M={key:!0,ref:!0,__self:!0,__source:!0};function _(e,t,n){var r,a={},o=null,s=null;if(null!=t)for(r in void 0!==t.ref&&(s=t.ref),void 0!==t.key&&(o=""+t.key),t)w.call(t,r)&&!M.hasOwnProperty(r)&&(a[r]=t[r]);var l=arguments.length-2;if(1===l)a.children=n;else if(1<l){for(var u=Array(l),c=0;c<l;c++)u[c]=arguments[c+2];a.children=u}if(e&&e.defaultProps)for(r in l=e.defaultProps)void 0===a[r]&&(a[r]=l[r]);return{$$typeof:i,type:e,key:o,ref:s,props:a,_owner:x.current}}function S(e){return"object"===typeof e&&null!==e&&e.$$typeof===i}var E=/\/+/g;function T(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function A(e,t,n,r,o){var s=typeof e;"undefined"!==s&&"boolean"!==s||(e=null);var l=!1;if(null===e)l=!0;else switch(s){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case i:case a:l=!0}}if(l)return o=o(l=e),e=""===r?"."+T(l,0):r,Array.isArray(o)?(n="",null!=e&&(n=e.replace(E,"$&/")+"/"),A(o,t,n,"",(function(e){return e}))):null!=o&&(S(o)&&(o=function(e,t){return{$$typeof:i,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(o,n+(!o.key||l&&l.key===o.key?"":(""+o.key).replace(E,"$&/")+"/")+e)),t.push(o)),1;if(l=0,r=""===r?".":r+":",Array.isArray(e))for(var u=0;u<e.length;u++){var c=r+T(s=e[u],u);l+=A(s,t,n,c,o)}else if("function"===typeof(c=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=h&&e[h]||e["@@iterator"])?e:null}(e)))for(e=c.call(e),u=0;!(s=e.next()).done;)l+=A(s=s.value,t,n,c=r+T(s,u++),o);else if("object"===s)throw t=""+e,Error(f(31,"[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t));return l}function R(e,t,n){if(null==e)return e;var r=[],i=0;return A(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function O(e){if(-1===e._status){var t=e._result;t=t(),e._status=0,e._result=t,t.then((function(t){0===e._status&&(t=t.default,e._status=1,e._result=t)}),(function(t){0===e._status&&(e._status=2,e._result=t)}))}if(1===e._status)return e._result;throw e._result}var k={current:null};function I(){var e=k.current;if(null===e)throw Error(f(321));return e}var C={ReactCurrentDispatcher:k,ReactCurrentBatchConfig:{transition:0},ReactCurrentOwner:x,IsSomeRendererActing:{current:!1},assign:r};t.Children={map:R,forEach:function(e,t,n){R(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return R(e,(function(){t++})),t},toArray:function(e){return R(e,(function(e){return e}))||[]},only:function(e){if(!S(e))throw Error(f(143));return e}},t.Component=v,t.PureComponent=y,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=C,t.cloneElement=function(e,t,n){if(null===e||void 0===e)throw Error(f(267,e));var a=r({},e.props),o=e.key,s=e.ref,l=e._owner;if(null!=t){if(void 0!==t.ref&&(s=t.ref,l=x.current),void 0!==t.key&&(o=""+t.key),e.type&&e.type.defaultProps)var u=e.type.defaultProps;for(c in t)w.call(t,c)&&!M.hasOwnProperty(c)&&(a[c]=void 0===t[c]&&void 0!==u?u[c]:t[c])}var c=arguments.length-2;if(1===c)a.children=n;else if(1<c){u=Array(c);for(var d=0;d<c;d++)u[d]=arguments[d+2];a.children=u}return{$$typeof:i,type:e.type,key:o,ref:s,props:a,_owner:l}},t.createContext=function(e,t){return void 0===t&&(t=null),(e={$$typeof:s,_calculateChangedBits:t,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider={$$typeof:o,_context:e},e.Consumer=e},t.createElement=_,t.createFactory=function(e){var t=_.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:l,render:e}},t.isValidElement=S,t.lazy=function(e){return{$$typeof:c,_payload:{_status:-1,_result:e},_init:O}},t.memo=function(e,t){return{$$typeof:u,type:e,compare:void 0===t?null:t}},t.useCallback=function(e,t){return I().useCallback(e,t)},t.useContext=function(e,t){return I().useContext(e,t)},t.useDebugValue=function(){},t.useEffect=function(e,t){return I().useEffect(e,t)},t.useImperativeHandle=function(e,t,n){return I().useImperativeHandle(e,t,n)},t.useLayoutEffect=function(e,t){return I().useLayoutEffect(e,t)},t.useMemo=function(e,t){return I().useMemo(e,t)},t.useReducer=function(e,t,n){return I().useReducer(e,t,n)},t.useRef=function(e){return I().useRef(e)},t.useState=function(e){return I().useState(e)},t.version="17.0.1"},function(e,t,n){"use strict";var r=n(1),i=n(60),a=n(51);function o(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}if(!r)throw Error(o(227));var s=new Set,l={};function u(e,t){c(e,t),c(e+"Capture",t)}function c(e,t){for(l[e]=t,e=0;e<t.length;e++)s.add(t[e])}var d=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,f=Object.prototype.hasOwnProperty,p={},m={};function v(e,t,n,r,i,a,o){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=o}var g={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){g[e]=new v(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];g[t]=new v(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){g[e]=new v(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){g[e]=new v(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){g[e]=new v(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){g[e]=new v(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){g[e]=new v(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){g[e]=new v(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){g[e]=new v(e,5,!1,e.toLowerCase(),null,!1,!1)}));var y=/[\-:]([a-z])/g;function b(e){return e[1].toUpperCase()}function x(e,t,n,r){var i=g.hasOwnProperty(t)?g[t]:null;(null!==i?0===i.type:!r&&(2<t.length&&("o"===t[0]||"O"===t[0])&&("n"===t[1]||"N"===t[1])))||(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!f.call(m,e)||!f.call(p,e)&&(h.test(e)?m[e]=!0:(p[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(y,b);g[t]=new v(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(y,b);g[t]=new v(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(y,b);g[t]=new v(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){g[e]=new v(e,1,!1,e.toLowerCase(),null,!1,!1)})),g.xlinkHref=new v("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){g[e]=new v(e,1,!1,e.toLowerCase(),null,!0,!0)}));var w=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,M=60103,_=60106,S=60107,E=60108,T=60114,A=60109,R=60110,O=60112,k=60113,I=60120,C=60115,D=60116,L=60121,P=60128,N=60129,j=60130,F=60131;if("function"===typeof Symbol&&Symbol.for){var G=Symbol.for;M=G("react.element"),_=G("react.portal"),S=G("react.fragment"),E=G("react.strict_mode"),T=G("react.profiler"),A=G("react.provider"),R=G("react.context"),O=G("react.forward_ref"),k=G("react.suspense"),I=G("react.suspense_list"),C=G("react.memo"),D=G("react.lazy"),L=G("react.block"),G("react.scope"),P=G("react.opaque.id"),N=G("react.debug_trace_mode"),j=G("react.offscreen"),F=G("react.legacy_hidden")}var U,z="function"===typeof Symbol&&Symbol.iterator;function B(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=z&&e[z]||e["@@iterator"])?e:null}function V(e){if(void 0===U)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);U=t&&t[1]||""}return"\n"+U+e}var H=!1;function W(e,t){if(!e||H)return"";H=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(l){var r=l}Reflect.construct(e,[],t)}else{try{t.call()}catch(l){r=l}e.call(t.prototype)}else{try{throw Error()}catch(l){r=l}e()}}catch(l){if(l&&r&&"string"===typeof l.stack){for(var i=l.stack.split("\n"),a=r.stack.split("\n"),o=i.length-1,s=a.length-1;1<=o&&0<=s&&i[o]!==a[s];)s--;for(;1<=o&&0<=s;o--,s--)if(i[o]!==a[s]){if(1!==o||1!==s)do{if(o--,0>--s||i[o]!==a[s])return"\n"+i[o].replace(" at new "," at ")}while(1<=o&&0<=s);break}}}finally{H=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?V(e):""}function X(e){switch(e.tag){case 5:return V(e.type);case 16:return V("Lazy");case 13:return V("Suspense");case 19:return V("SuspenseList");case 0:case 2:case 15:return e=W(e.type,!1);case 11:return e=W(e.type.render,!1);case 22:return e=W(e.type._render,!1);case 1:return e=W(e.type,!0);default:return""}}function q(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case S:return"Fragment";case _:return"Portal";case T:return"Profiler";case E:return"StrictMode";case k:return"Suspense";case I:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case R:return(e.displayName||"Context")+".Consumer";case A:return(e._context.displayName||"Context")+".Provider";case O:var t=e.render;return t=t.displayName||t.name||"",e.displayName||(""!==t?"ForwardRef("+t+")":"ForwardRef");case C:return q(e.type);case L:return q(e._render);case D:t=e._payload,e=e._init;try{return q(e(t))}catch(n){}}return null}function Y(e){switch(typeof e){case"boolean":case"number":case"object":case"string":case"undefined":return e;default:return""}}function Q(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function Z(e){e._valueTracker||(e._valueTracker=function(e){var t=Q(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,a.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function $(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=Q(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function K(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function J(e,t){var n=t.checked;return i({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function ee(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=Y(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function te(e,t){null!=(t=t.checked)&&x(e,"checked",t,!1)}function ne(e,t){te(e,t);var n=Y(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ie(e,t.type,n):t.hasOwnProperty("defaultValue")&&ie(e,t.type,Y(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function re(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ie(e,t,n){"number"===t&&K(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}function ae(e,t){return e=i({children:void 0},t),(t=function(e){var t="";return r.Children.forEach(e,(function(e){null!=e&&(t+=e)})),t}(t.children))&&(e.children=t),e}function oe(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+Y(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function se(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(o(91));return i({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function le(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(o(92));if(Array.isArray(n)){if(!(1>=n.length))throw Error(o(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:Y(n)}}function ue(e,t){var n=Y(t.value),r=Y(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function ce(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}var de="http://www.w3.org/1999/xhtml",he="http://www.w3.org/2000/svg";function fe(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function pe(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?fe(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var me,ve,ge=(ve=function(e,t){if(e.namespaceURI!==he||"innerHTML"in e)e.innerHTML=t;else{for((me=me||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=me.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return ve(e,t)}))}:ve);function ye(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var be={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},xe=["Webkit","ms","Moz","O"];function we(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||be.hasOwnProperty(e)&&be[e]?(""+t).trim():t+"px"}function Me(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=we(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(be).forEach((function(e){xe.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),be[t]=be[e]}))}));var _e=i({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Se(e,t){if(t){if(_e[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(o(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(o(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(o(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(o(62))}}function Ee(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}function Te(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Ae=null,Re=null,Oe=null;function ke(e){if(e=ei(e)){if("function"!==typeof Ae)throw Error(o(280));var t=e.stateNode;t&&(t=ni(t),Ae(e.stateNode,e.type,t))}}function Ie(e){Re?Oe?Oe.push(e):Oe=[e]:Re=e}function Ce(){if(Re){var e=Re,t=Oe;if(Oe=Re=null,ke(e),t)for(e=0;e<t.length;e++)ke(t[e])}}function De(e,t){return e(t)}function Le(e,t,n,r,i){return e(t,n,r,i)}function Pe(){}var Ne=De,je=!1,Fe=!1;function Ge(){null===Re&&null===Oe||(Pe(),Ce())}function Ue(e,t){var n=e.stateNode;if(null===n)return null;var r=ni(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(o(231,t,typeof n));return n}var ze=!1;if(d)try{var Be={};Object.defineProperty(Be,"passive",{get:function(){ze=!0}}),window.addEventListener("test",Be,Be),window.removeEventListener("test",Be,Be)}catch(ve){ze=!1}function Ve(e,t,n,r,i,a,o,s,l){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(c){this.onError(c)}}var He=!1,We=null,Xe=!1,qe=null,Ye={onError:function(e){He=!0,We=e}};function Qe(e,t,n,r,i,a,o,s,l){He=!1,We=null,Ve.apply(Ye,arguments)}function Ze(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(1026&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function $e(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function Ke(e){if(Ze(e)!==e)throw Error(o(188))}function Je(e){if(!(e=function(e){var t=e.alternate;if(!t){if(null===(t=Ze(e)))throw Error(o(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var a=i.alternate;if(null===a){if(null!==(r=i.return)){n=r;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===n)return Ke(i),e;if(a===r)return Ke(i),t;a=a.sibling}throw Error(o(188))}if(n.return!==r.return)n=i,r=a;else{for(var s=!1,l=i.child;l;){if(l===n){s=!0,n=i,r=a;break}if(l===r){s=!0,r=i,n=a;break}l=l.sibling}if(!s){for(l=a.child;l;){if(l===n){s=!0,n=a,r=i;break}if(l===r){s=!0,r=a,n=i;break}l=l.sibling}if(!s)throw Error(o(189))}}if(n.alternate!==r)throw Error(o(190))}if(3!==n.tag)throw Error(o(188));return n.stateNode.current===n?e:t}(e)))return null;for(var t=e;;){if(5===t.tag||6===t.tag)return t;if(t.child)t.child.return=t,t=t.child;else{if(t===e)break;for(;!t.sibling;){if(!t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}}return null}function et(e,t){for(var n=e.alternate;null!==t;){if(t===e||t===n)return!0;t=t.return}return!1}var tt,nt,rt,it,at=!1,ot=[],st=null,lt=null,ut=null,ct=new Map,dt=new Map,ht=[],ft="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function pt(e,t,n,r,i){return{blockedOn:e,domEventName:t,eventSystemFlags:16|n,nativeEvent:i,targetContainers:[r]}}function mt(e,t){switch(e){case"focusin":case"focusout":st=null;break;case"dragenter":case"dragleave":lt=null;break;case"mouseover":case"mouseout":ut=null;break;case"pointerover":case"pointerout":ct.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":dt.delete(t.pointerId)}}function vt(e,t,n,r,i,a){return null===e||e.nativeEvent!==a?(e=pt(t,n,r,i,a),null!==t&&(null!==(t=ei(t))&&nt(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function gt(e){var t=Jr(e.target);if(null!==t){var n=Ze(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=$e(n)))return e.blockedOn=t,void it(e.lanePriority,(function(){a.unstable_runWithPriority(e.priority,(function(){rt(n)}))}))}else if(3===t&&n.stateNode.hydrate)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function yt(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Jt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=ei(n))&&nt(t),e.blockedOn=n,!1;t.shift()}return!0}function bt(e,t,n){yt(e)&&n.delete(t)}function xt(){for(at=!1;0<ot.length;){var e=ot[0];if(null!==e.blockedOn){null!==(e=ei(e.blockedOn))&&tt(e);break}for(var t=e.targetContainers;0<t.length;){var n=Jt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n){e.blockedOn=n;break}t.shift()}null===e.blockedOn&&ot.shift()}null!==st&&yt(st)&&(st=null),null!==lt&&yt(lt)&&(lt=null),null!==ut&&yt(ut)&&(ut=null),ct.forEach(bt),dt.forEach(bt)}function wt(e,t){e.blockedOn===t&&(e.blockedOn=null,at||(at=!0,a.unstable_scheduleCallback(a.unstable_NormalPriority,xt)))}function Mt(e){function t(t){return wt(t,e)}if(0<ot.length){wt(ot[0],e);for(var n=1;n<ot.length;n++){var r=ot[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==st&&wt(st,e),null!==lt&&wt(lt,e),null!==ut&&wt(ut,e),ct.forEach(t),dt.forEach(t),n=0;n<ht.length;n++)(r=ht[n]).blockedOn===e&&(r.blockedOn=null);for(;0<ht.length&&null===(n=ht[0]).blockedOn;)gt(n),null===n.blockedOn&&ht.shift()}function _t(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var St={animationend:_t("Animation","AnimationEnd"),animationiteration:_t("Animation","AnimationIteration"),animationstart:_t("Animation","AnimationStart"),transitionend:_t("Transition","TransitionEnd")},Et={},Tt={};function At(e){if(Et[e])return Et[e];if(!St[e])return e;var t,n=St[e];for(t in n)if(n.hasOwnProperty(t)&&t in Tt)return Et[e]=n[t];return e}d&&(Tt=document.createElement("div").style,"AnimationEvent"in window||(delete St.animationend.animation,delete St.animationiteration.animation,delete St.animationstart.animation),"TransitionEvent"in window||delete St.transitionend.transition);var Rt=At("animationend"),Ot=At("animationiteration"),kt=At("animationstart"),It=At("transitionend"),Ct=new Map,Dt=new Map,Lt=["abort","abort",Rt,"animationEnd",Ot,"animationIteration",kt,"animationStart","canplay","canPlay","canplaythrough","canPlayThrough","durationchange","durationChange","emptied","emptied","encrypted","encrypted","ended","ended","error","error","gotpointercapture","gotPointerCapture","load","load","loadeddata","loadedData","loadedmetadata","loadedMetadata","loadstart","loadStart","lostpointercapture","lostPointerCapture","playing","playing","progress","progress","seeking","seeking","stalled","stalled","suspend","suspend","timeupdate","timeUpdate",It,"transitionEnd","waiting","waiting"];function Pt(e,t){for(var n=0;n<e.length;n+=2){var r=e[n],i=e[n+1];i="on"+(i[0].toUpperCase()+i.slice(1)),Dt.set(r,t),Ct.set(r,i),u(i,[r])}}(0,a.unstable_now)();var Nt=8;function jt(e){if(0!==(1&e))return Nt=15,1;if(0!==(2&e))return Nt=14,2;if(0!==(4&e))return Nt=13,4;var t=24&e;return 0!==t?(Nt=12,t):0!==(32&e)?(Nt=11,32):0!==(t=192&e)?(Nt=10,t):0!==(256&e)?(Nt=9,256):0!==(t=3584&e)?(Nt=8,t):0!==(4096&e)?(Nt=7,4096):0!==(t=4186112&e)?(Nt=6,t):0!==(t=62914560&e)?(Nt=5,t):67108864&e?(Nt=4,67108864):0!==(134217728&e)?(Nt=3,134217728):0!==(t=805306368&e)?(Nt=2,t):0!==(1073741824&e)?(Nt=1,1073741824):(Nt=8,e)}function Ft(e,t){var n=e.pendingLanes;if(0===n)return Nt=0;var r=0,i=0,a=e.expiredLanes,o=e.suspendedLanes,s=e.pingedLanes;if(0!==a)r=a,i=Nt=15;else if(0!==(a=134217727&n)){var l=a&~o;0!==l?(r=jt(l),i=Nt):0!==(s&=a)&&(r=jt(s),i=Nt)}else 0!==(a=n&~o)?(r=jt(a),i=Nt):0!==s&&(r=jt(s),i=Nt);if(0===r)return 0;if(r=n&((0>(r=31-Ht(r))?0:1<<r)<<1)-1,0!==t&&t!==r&&0===(t&o)){if(jt(t),i<=Nt)return t;Nt=i}if(0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-Ht(t)),r|=e[n],t&=~i;return r}function Gt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function Ut(e,t){switch(e){case 15:return 1;case 14:return 2;case 12:return 0===(e=zt(24&~t))?Ut(10,t):e;case 10:return 0===(e=zt(192&~t))?Ut(8,t):e;case 8:return 0===(e=zt(3584&~t))&&(0===(e=zt(4186112&~t))&&(e=512)),e;case 2:return 0===(t=zt(805306368&~t))&&(t=268435456),t}throw Error(o(358,e))}function zt(e){return e&-e}function Bt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Vt(e,t,n){e.pendingLanes|=t;var r=t-1;e.suspendedLanes&=r,e.pingedLanes&=r,(e=e.eventTimes)[t=31-Ht(t)]=n}var Ht=Math.clz32?Math.clz32:function(e){return 0===e?32:31-(Wt(e)/Xt|0)|0},Wt=Math.log,Xt=Math.LN2;var qt=a.unstable_UserBlockingPriority,Yt=a.unstable_runWithPriority,Qt=!0;function Zt(e,t,n,r){je||Pe();var i=Kt,a=je;je=!0;try{Le(i,e,t,n,r)}finally{(je=a)||Ge()}}function $t(e,t,n,r){Yt(qt,Kt.bind(null,e,t,n,r))}function Kt(e,t,n,r){var i;if(Qt)if((i=0===(4&t))&&0<ot.length&&-1<ft.indexOf(e))e=pt(null,e,t,n,r),ot.push(e);else{var a=Jt(e,t,n,r);if(null===a)i&&mt(e,r);else{if(i){if(-1<ft.indexOf(e))return e=pt(a,e,t,n,r),void ot.push(e);if(function(e,t,n,r,i){switch(t){case"focusin":return st=vt(st,e,t,n,r,i),!0;case"dragenter":return lt=vt(lt,e,t,n,r,i),!0;case"mouseover":return ut=vt(ut,e,t,n,r,i),!0;case"pointerover":var a=i.pointerId;return ct.set(a,vt(ct.get(a)||null,e,t,n,r,i)),!0;case"gotpointercapture":return a=i.pointerId,dt.set(a,vt(dt.get(a)||null,e,t,n,r,i)),!0}return!1}(a,e,t,n,r))return;mt(e,r)}Cr(e,t,r,null,n)}}}function Jt(e,t,n,r){var i=Te(r);if(null!==(i=Jr(i))){var a=Ze(i);if(null===a)i=null;else{var o=a.tag;if(13===o){if(null!==(i=$e(a)))return i;i=null}else if(3===o){if(a.stateNode.hydrate)return 3===a.tag?a.stateNode.containerInfo:null;i=null}else a!==i&&(i=null)}}return Cr(e,t,r,i,n),null}var en=null,tn=null,nn=null;function rn(){if(nn)return nn;var e,t,n=tn,r=n.length,i="value"in en?en.value:en.textContent,a=i.length;for(e=0;e<r&&n[e]===i[e];e++);var o=r-e;for(t=1;t<=o&&n[r-t]===i[a-t];t++);return nn=i.slice(e,1<t?1-t:void 0)}function an(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function on(){return!0}function sn(){return!1}function ln(e){function t(t,n,r,i,a){for(var o in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=a,this.currentTarget=null,e)e.hasOwnProperty(o)&&(t=e[o],this[o]=t?t(i):i[o]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?on:sn,this.isPropagationStopped=sn,this}return i(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=on)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=on)},persist:function(){},isPersistent:on}),t}var un,cn,dn,hn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},fn=ln(hn),pn=i({},hn,{view:0,detail:0}),mn=ln(pn),vn=i({},pn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:An,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==dn&&(dn&&"mousemove"===e.type?(un=e.screenX-dn.screenX,cn=e.screenY-dn.screenY):cn=un=0,dn=e),un)},movementY:function(e){return"movementY"in e?e.movementY:cn}}),gn=ln(vn),yn=ln(i({},vn,{dataTransfer:0})),bn=ln(i({},pn,{relatedTarget:0})),xn=ln(i({},hn,{animationName:0,elapsedTime:0,pseudoElement:0})),wn=ln(i({},hn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}})),Mn=ln(i({},hn,{data:0})),_n={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Sn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},En={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Tn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=En[e])&&!!t[e]}function An(){return Tn}var Rn=ln(i({},pn,{key:function(e){if(e.key){var t=_n[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=an(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?Sn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:An,charCode:function(e){return"keypress"===e.type?an(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?an(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}})),On=ln(i({},vn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),kn=ln(i({},pn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:An})),In=ln(i({},hn,{propertyName:0,elapsedTime:0,pseudoElement:0})),Cn=ln(i({},vn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0})),Dn=[9,13,27,32],Ln=d&&"CompositionEvent"in window,Pn=null;d&&"documentMode"in document&&(Pn=document.documentMode);var Nn=d&&"TextEvent"in window&&!Pn,jn=d&&(!Ln||Pn&&8<Pn&&11>=Pn),Fn=String.fromCharCode(32),Gn=!1;function Un(e,t){switch(e){case"keyup":return-1!==Dn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function zn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Bn=!1;var Vn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Hn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Vn[e.type]:"textarea"===t}function Wn(e,t,n,r){Ie(r),0<(t=Lr(t,"onChange")).length&&(n=new fn("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Xn=null,qn=null;function Yn(e){Tr(e,0)}function Qn(e){if($(ti(e)))return e}function Zn(e,t){if("change"===e)return t}var $n=!1;if(d){var Kn;if(d){var Jn="oninput"in document;if(!Jn){var er=document.createElement("div");er.setAttribute("oninput","return;"),Jn="function"===typeof er.oninput}Kn=Jn}else Kn=!1;$n=Kn&&(!document.documentMode||9<document.documentMode)}function tr(){Xn&&(Xn.detachEvent("onpropertychange",nr),qn=Xn=null)}function nr(e){if("value"===e.propertyName&&Qn(qn)){var t=[];if(Wn(t,qn,e,Te(e)),e=Yn,je)e(t);else{je=!0;try{De(e,t)}finally{je=!1,Ge()}}}}function rr(e,t,n){"focusin"===e?(tr(),qn=n,(Xn=t).attachEvent("onpropertychange",nr)):"focusout"===e&&tr()}function ir(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Qn(qn)}function ar(e,t){if("click"===e)return Qn(t)}function or(e,t){if("input"===e||"change"===e)return Qn(t)}var sr="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},lr=Object.prototype.hasOwnProperty;function ur(e,t){if(sr(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++)if(!lr.call(t,n[r])||!sr(e[n[r]],t[n[r]]))return!1;return!0}function cr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function dr(e,t){var n,r=cr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=cr(r)}}function hr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?hr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function fr(){for(var e=window,t=K();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=K((e=t.contentWindow).document)}return t}function pr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}var mr=d&&"documentMode"in document&&11>=document.documentMode,vr=null,gr=null,yr=null,br=!1;function xr(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;br||null==vr||vr!==K(r)||("selectionStart"in(r=vr)&&pr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},yr&&ur(yr,r)||(yr=r,0<(r=Lr(gr,"onSelect")).length&&(t=new fn("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=vr)))}Pt("cancel cancel click click close close contextmenu contextMenu copy copy cut cut auxclick auxClick dblclick doubleClick dragend dragEnd dragstart dragStart drop drop focusin focus focusout blur input input invalid invalid keydown keyDown keypress keyPress keyup keyUp mousedown mouseDown mouseup mouseUp paste paste pause pause play play pointercancel pointerCancel pointerdown pointerDown pointerup pointerUp ratechange rateChange reset reset seeked seeked submit submit touchcancel touchCancel touchend touchEnd touchstart touchStart volumechange volumeChange".split(" "),0),Pt("drag drag dragenter dragEnter dragexit dragExit dragleave dragLeave dragover dragOver mousemove mouseMove mouseout mouseOut mouseover mouseOver pointermove pointerMove pointerout pointerOut pointerover pointerOver scroll scroll toggle toggle touchmove touchMove wheel wheel".split(" "),1),Pt(Lt,2);for(var wr="change selectionchange textInput compositionstart compositionend compositionupdate".split(" "),Mr=0;Mr<wr.length;Mr++)Dt.set(wr[Mr],0);c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),u("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),u("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),u("onBeforeInput",["compositionend","keypress","textInput","paste"]),u("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var _r="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Sr=new Set("cancel close invalid load scroll toggle".split(" ").concat(_r));function Er(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,a,s,l,u){if(Qe.apply(this,arguments),He){if(!He)throw Error(o(198));var c=We;He=!1,We=null,Xe||(Xe=!0,qe=c)}}(r,t,void 0,e),e.currentTarget=null}function Tr(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var a=void 0;if(t)for(var o=r.length-1;0<=o;o--){var s=r[o],l=s.instance,u=s.currentTarget;if(s=s.listener,l!==a&&i.isPropagationStopped())break e;Er(i,s,u),a=l}else for(o=0;o<r.length;o++){if(l=(s=r[o]).instance,u=s.currentTarget,s=s.listener,l!==a&&i.isPropagationStopped())break e;Er(i,s,u),a=l}}}if(Xe)throw e=qe,Xe=!1,qe=null,e}function Ar(e,t){var n=ri(t),r=e+"__bubble";n.has(r)||(Ir(t,e,2,!1),n.add(r))}var Rr="_reactListening"+Math.random().toString(36).slice(2);function Or(e){e[Rr]||(e[Rr]=!0,s.forEach((function(t){Sr.has(t)||kr(t,!1,e,null),kr(t,!0,e,null)})))}function kr(e,t,n,r){var i=4<arguments.length&&void 0!==arguments[4]?arguments[4]:0,a=n;if("selectionchange"===e&&9!==n.nodeType&&(a=n.ownerDocument),null!==r&&!t&&Sr.has(e)){if("scroll"!==e)return;i|=2,a=r}var o=ri(a),s=e+"__"+(t?"capture":"bubble");o.has(s)||(t&&(i|=4),Ir(a,e,i,t),o.add(s))}function Ir(e,t,n,r){var i=Dt.get(t);switch(void 0===i?2:i){case 0:i=Zt;break;case 1:i=$t;break;default:i=Kt}n=i.bind(null,t,n,e),i=void 0,!ze||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Cr(e,t,n,r,i){var a=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var o=r.tag;if(3===o||4===o){var s=r.stateNode.containerInfo;if(s===i||8===s.nodeType&&s.parentNode===i)break;if(4===o)for(o=r.return;null!==o;){var l=o.tag;if((3===l||4===l)&&((l=o.stateNode.containerInfo)===i||8===l.nodeType&&l.parentNode===i))return;o=o.return}for(;null!==s;){if(null===(o=Jr(s)))return;if(5===(l=o.tag)||6===l){r=a=o;continue e}s=s.parentNode}}r=r.return}!function(e,t,n){if(Fe)return e(t,n);Fe=!0;try{Ne(e,t,n)}finally{Fe=!1,Ge()}}((function(){var r=a,i=Te(n),o=[];e:{var s=Ct.get(e);if(void 0!==s){var l=fn,u=e;switch(e){case"keypress":if(0===an(n))break e;case"keydown":case"keyup":l=Rn;break;case"focusin":u="focus",l=bn;break;case"focusout":u="blur",l=bn;break;case"beforeblur":case"afterblur":l=bn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":l=gn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":l=yn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":l=kn;break;case Rt:case Ot:case kt:l=xn;break;case It:l=In;break;case"scroll":l=mn;break;case"wheel":l=Cn;break;case"copy":case"cut":case"paste":l=wn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":l=On}var c=0!==(4&t),d=!c&&"scroll"===e,h=c?null!==s?s+"Capture":null:s;c=[];for(var f,p=r;null!==p;){var m=(f=p).stateNode;if(5===f.tag&&null!==m&&(f=m,null!==h&&(null!=(m=Ue(p,h))&&c.push(Dr(p,m,f)))),d)break;p=p.return}0<c.length&&(s=new l(s,u,null,n,i),o.push({event:s,listeners:c}))}}if(0===(7&t)){if(l="mouseout"===e||"pointerout"===e,(!(s="mouseover"===e||"pointerover"===e)||0!==(16&t)||!(u=n.relatedTarget||n.fromElement)||!Jr(u)&&!u[$r])&&(l||s)&&(s=i.window===i?i:(s=i.ownerDocument)?s.defaultView||s.parentWindow:window,l?(l=r,null!==(u=(u=n.relatedTarget||n.toElement)?Jr(u):null)&&(u!==(d=Ze(u))||5!==u.tag&&6!==u.tag)&&(u=null)):(l=null,u=r),l!==u)){if(c=gn,m="onMouseLeave",h="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(c=On,m="onPointerLeave",h="onPointerEnter",p="pointer"),d=null==l?s:ti(l),f=null==u?s:ti(u),(s=new c(m,p+"leave",l,n,i)).target=d,s.relatedTarget=f,m=null,Jr(i)===r&&((c=new c(h,p+"enter",u,n,i)).target=f,c.relatedTarget=d,m=c),d=m,l&&u)e:{for(h=u,p=0,f=c=l;f;f=Pr(f))p++;for(f=0,m=h;m;m=Pr(m))f++;for(;0<p-f;)c=Pr(c),p--;for(;0<f-p;)h=Pr(h),f--;for(;p--;){if(c===h||null!==h&&c===h.alternate)break e;c=Pr(c),h=Pr(h)}c=null}else c=null;null!==l&&Nr(o,s,l,c,!1),null!==u&&null!==d&&Nr(o,d,u,c,!0)}if("select"===(l=(s=r?ti(r):window).nodeName&&s.nodeName.toLowerCase())||"input"===l&&"file"===s.type)var v=Zn;else if(Hn(s))if($n)v=or;else{v=ir;var g=rr}else(l=s.nodeName)&&"input"===l.toLowerCase()&&("checkbox"===s.type||"radio"===s.type)&&(v=ar);switch(v&&(v=v(e,r))?Wn(o,v,n,i):(g&&g(e,s,r),"focusout"===e&&(g=s._wrapperState)&&g.controlled&&"number"===s.type&&ie(s,"number",s.value)),g=r?ti(r):window,e){case"focusin":(Hn(g)||"true"===g.contentEditable)&&(vr=g,gr=r,yr=null);break;case"focusout":yr=gr=vr=null;break;case"mousedown":br=!0;break;case"contextmenu":case"mouseup":case"dragend":br=!1,xr(o,n,i);break;case"selectionchange":if(mr)break;case"keydown":case"keyup":xr(o,n,i)}var y;if(Ln)e:{switch(e){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else Bn?Un(e,n)&&(b="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(b="onCompositionStart");b&&(jn&&"ko"!==n.locale&&(Bn||"onCompositionStart"!==b?"onCompositionEnd"===b&&Bn&&(y=rn()):(tn="value"in(en=i)?en.value:en.textContent,Bn=!0)),0<(g=Lr(r,b)).length&&(b=new Mn(b,e,null,n,i),o.push({event:b,listeners:g}),y?b.data=y:null!==(y=zn(n))&&(b.data=y))),(y=Nn?function(e,t){switch(e){case"compositionend":return zn(t);case"keypress":return 32!==t.which?null:(Gn=!0,Fn);case"textInput":return(e=t.data)===Fn&&Gn?null:e;default:return null}}(e,n):function(e,t){if(Bn)return"compositionend"===e||!Ln&&Un(e,t)?(e=rn(),nn=tn=en=null,Bn=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return jn&&"ko"!==t.locale?null:t.data;default:return null}}(e,n))&&(0<(r=Lr(r,"onBeforeInput")).length&&(i=new Mn("onBeforeInput","beforeinput",null,n,i),o.push({event:i,listeners:r}),i.data=y))}Tr(o,t)}))}function Dr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Lr(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,a=i.stateNode;5===i.tag&&null!==a&&(i=a,null!=(a=Ue(e,n))&&r.unshift(Dr(e,a,i)),null!=(a=Ue(e,t))&&r.push(Dr(e,a,i))),e=e.return}return r}function Pr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Nr(e,t,n,r,i){for(var a=t._reactName,o=[];null!==n&&n!==r;){var s=n,l=s.alternate,u=s.stateNode;if(null!==l&&l===r)break;5===s.tag&&null!==u&&(s=u,i?null!=(l=Ue(n,a))&&o.unshift(Dr(n,l,s)):i||null!=(l=Ue(n,a))&&o.push(Dr(n,l,s))),n=n.return}0!==o.length&&e.push({event:t,listeners:o})}function jr(){}var Fr=null,Gr=null;function Ur(e,t){switch(e){case"button":case"input":case"select":case"textarea":return!!t.autoFocus}return!1}function zr(e,t){return"textarea"===e||"option"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var Br="function"===typeof setTimeout?setTimeout:void 0,Vr="function"===typeof clearTimeout?clearTimeout:void 0;function Hr(e){1===e.nodeType?e.textContent="":9===e.nodeType&&(null!=(e=e.body)&&(e.textContent=""))}function Wr(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break}return e}function Xr(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var qr=0;var Yr=Math.random().toString(36).slice(2),Qr="__reactFiber$"+Yr,Zr="__reactProps$"+Yr,$r="__reactContainer$"+Yr,Kr="__reactEvents$"+Yr;function Jr(e){var t=e[Qr];if(t)return t;for(var n=e.parentNode;n;){if(t=n[$r]||n[Qr]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=Xr(e);null!==e;){if(n=e[Qr])return n;e=Xr(e)}return t}n=(e=n).parentNode}return null}function ei(e){return!(e=e[Qr]||e[$r])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function ti(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(o(33))}function ni(e){return e[Zr]||null}function ri(e){var t=e[Kr];return void 0===t&&(t=e[Kr]=new Set),t}var ii=[],ai=-1;function oi(e){return{current:e}}function si(e){0>ai||(e.current=ii[ai],ii[ai]=null,ai--)}function li(e,t){ai++,ii[ai]=e.current,e.current=t}var ui={},ci=oi(ui),di=oi(!1),hi=ui;function fi(e,t){var n=e.type.contextTypes;if(!n)return ui;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,a={};for(i in n)a[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function pi(e){return null!==(e=e.childContextTypes)&&void 0!==e}function mi(){si(di),si(ci)}function vi(e,t,n){if(ci.current!==ui)throw Error(o(168));li(ci,t),li(di,n)}function gi(e,t,n){var r=e.stateNode;if(e=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var a in r=r.getChildContext())if(!(a in e))throw Error(o(108,q(t)||"Unknown",a));return i({},n,r)}function yi(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||ui,hi=ci.current,li(ci,e),li(di,di.current),!0}function bi(e,t,n){var r=e.stateNode;if(!r)throw Error(o(169));n?(e=gi(e,t,hi),r.__reactInternalMemoizedMergedChildContext=e,si(di),si(ci),li(ci,e)):si(di),li(di,n)}var xi=null,wi=null,Mi=a.unstable_runWithPriority,_i=a.unstable_scheduleCallback,Si=a.unstable_cancelCallback,Ei=a.unstable_shouldYield,Ti=a.unstable_requestPaint,Ai=a.unstable_now,Ri=a.unstable_getCurrentPriorityLevel,Oi=a.unstable_ImmediatePriority,ki=a.unstable_UserBlockingPriority,Ii=a.unstable_NormalPriority,Ci=a.unstable_LowPriority,Di=a.unstable_IdlePriority,Li={},Pi=void 0!==Ti?Ti:function(){},Ni=null,ji=null,Fi=!1,Gi=Ai(),Ui=1e4>Gi?Ai:function(){return Ai()-Gi};function zi(){switch(Ri()){case Oi:return 99;case ki:return 98;case Ii:return 97;case Ci:return 96;case Di:return 95;default:throw Error(o(332))}}function Bi(e){switch(e){case 99:return Oi;case 98:return ki;case 97:return Ii;case 96:return Ci;case 95:return Di;default:throw Error(o(332))}}function Vi(e,t){return e=Bi(e),Mi(e,t)}function Hi(e,t,n){return e=Bi(e),_i(e,t,n)}function Wi(){if(null!==ji){var e=ji;ji=null,Si(e)}Xi()}function Xi(){if(!Fi&&null!==Ni){Fi=!0;var e=0;try{var t=Ni;Vi(99,(function(){for(;e<t.length;e++){var n=t[e];do{n=n(!0)}while(null!==n)}})),Ni=null}catch(n){throw null!==Ni&&(Ni=Ni.slice(e+1)),_i(Oi,Wi),n}finally{Fi=!1}}}var qi=w.ReactCurrentBatchConfig;function Yi(e,t){if(e&&e.defaultProps){for(var n in t=i({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var Qi=oi(null),Zi=null,$i=null,Ki=null;function Ji(){Ki=$i=Zi=null}function ea(e){var t=Qi.current;si(Qi),e.type._context._currentValue=t}function ta(e,t){for(;null!==e;){var n=e.alternate;if((e.childLanes&t)===t){if(null===n||(n.childLanes&t)===t)break;n.childLanes|=t}else e.childLanes|=t,null!==n&&(n.childLanes|=t);e=e.return}}function na(e,t){Zi=e,Ki=$i=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(Lo=!0),e.firstContext=null)}function ra(e,t){if(Ki!==e&&!1!==t&&0!==t)if("number"===typeof t&&1073741823!==t||(Ki=e,t=1073741823),t={context:e,observedBits:t,next:null},null===$i){if(null===Zi)throw Error(o(308));$i=t,Zi.dependencies={lanes:0,firstContext:t,responders:null}}else $i=$i.next=t;return e._currentValue}var ia=!1;function aa(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null},effects:null}}function oa(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function sa(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function la(e,t){if(null!==(e=e.updateQueue)){var n=(e=e.shared).pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}}function ua(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,a=null;if(null!==(n=n.firstBaseUpdate)){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===a?i=a=o:a=a.next=o,n=n.next}while(null!==n);null===a?i=a=t:a=a.next=t}else i=a=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function ca(e,t,n,r){var a=e.updateQueue;ia=!1;var o=a.firstBaseUpdate,s=a.lastBaseUpdate,l=a.shared.pending;if(null!==l){a.shared.pending=null;var u=l,c=u.next;u.next=null,null===s?o=c:s.next=c,s=u;var d=e.alternate;if(null!==d){var h=(d=d.updateQueue).lastBaseUpdate;h!==s&&(null===h?d.firstBaseUpdate=c:h.next=c,d.lastBaseUpdate=u)}}if(null!==o){for(h=a.baseState,s=0,d=c=u=null;;){l=o.lane;var f=o.eventTime;if((r&l)===l){null!==d&&(d=d.next={eventTime:f,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var p=e,m=o;switch(l=t,f=n,m.tag){case 1:if("function"===typeof(p=m.payload)){h=p.call(f,h,l);break e}h=p;break e;case 3:p.flags=-4097&p.flags|64;case 0:if(null===(l="function"===typeof(p=m.payload)?p.call(f,h,l):p)||void 0===l)break e;h=i({},h,l);break e;case 2:ia=!0}}null!==o.callback&&(e.flags|=32,null===(l=a.effects)?a.effects=[o]:l.push(o))}else f={eventTime:f,lane:l,tag:o.tag,payload:o.payload,callback:o.callback,next:null},null===d?(c=d=f,u=h):d=d.next=f,s|=l;if(null===(o=o.next)){if(null===(l=a.shared.pending))break;o=l.next,l.next=null,a.lastBaseUpdate=l,a.shared.pending=null}}null===d&&(u=h),a.baseState=u,a.firstBaseUpdate=c,a.lastBaseUpdate=d,Fs|=s,e.lanes=s,e.memoizedState=h}}function da(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!==typeof i)throw Error(o(191,i));i.call(r)}}}var ha=(new r.Component).refs;function fa(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:i({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var pa={isMounted:function(e){return!!(e=e._reactInternals)&&Ze(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=ul(),i=cl(e),a=sa(r,i);a.payload=t,void 0!==n&&null!==n&&(a.callback=n),la(e,a),dl(e,i,r)},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=ul(),i=cl(e),a=sa(r,i);a.tag=1,a.payload=t,void 0!==n&&null!==n&&(a.callback=n),la(e,a),dl(e,i,r)},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=ul(),r=cl(e),i=sa(n,r);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),la(e,i),dl(e,r,n)}};function ma(e,t,n,r,i,a,o){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,a,o):!t.prototype||!t.prototype.isPureReactComponent||(!ur(n,r)||!ur(i,a))}function va(e,t,n){var r=!1,i=ui,a=t.contextType;return"object"===typeof a&&null!==a?a=ra(a):(i=pi(t)?hi:ci.current,a=(r=null!==(r=t.contextTypes)&&void 0!==r)?fi(e,i):ui),t=new t(n,a),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=pa,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=a),t}function ga(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&pa.enqueueReplaceState(t,t.state,null)}function ya(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=ha,aa(e);var a=t.contextType;"object"===typeof a&&null!==a?i.context=ra(a):(a=pi(t)?hi:ci.current,i.context=fi(e,a)),ca(e,n,i,r),i.state=e.memoizedState,"function"===typeof(a=t.getDerivedStateFromProps)&&(fa(e,t,a,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&pa.enqueueReplaceState(i,i.state,null),ca(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.flags|=4)}var ba=Array.isArray;function xa(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(o(309));var r=n.stateNode}if(!r)throw Error(o(147,e));var i=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===i?t.ref:((t=function(e){var t=r.refs;t===ha&&(t=r.refs={}),null===e?delete t[i]:t[i]=e})._stringRef=i,t)}if("string"!==typeof e)throw Error(o(284));if(!n._owner)throw Error(o(290,e))}return e}function wa(e,t){if("textarea"!==e.type)throw Error(o(31,"[object Object]"===Object.prototype.toString.call(t)?"object with keys {"+Object.keys(t).join(", ")+"}":t))}function Ma(e){function t(t,n){if(e){var r=t.lastEffect;null!==r?(r.nextEffect=n,t.lastEffect=n):t.firstEffect=t.lastEffect=n,n.nextEffect=null,n.flags=8}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Vl(e,t)).index=0,e.sibling=null,e}function a(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags=2,n):r:(t.flags=2,n):n}function s(t){return e&&null===t.alternate&&(t.flags=2),t}function l(e,t,n,r){return null===t||6!==t.tag?((t=ql(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function u(e,t,n,r){return null!==t&&t.elementType===n.type?((r=i(t,n.props)).ref=xa(e,t,n),r.return=e,r):((r=Hl(n.type,n.key,n.props,null,e.mode,r)).ref=xa(e,t,n),r.return=e,r)}function c(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Yl(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function d(e,t,n,r,a){return null===t||7!==t.tag?((t=Wl(n,e.mode,r,a)).return=e,t):((t=i(t,n)).return=e,t)}function h(e,t,n){if("string"===typeof t||"number"===typeof t)return(t=ql(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case M:return(n=Hl(t.type,t.key,t.props,null,e.mode,n)).ref=xa(e,null,t),n.return=e,n;case _:return(t=Yl(t,e.mode,n)).return=e,t}if(ba(t)||B(t))return(t=Wl(t,e.mode,n,null)).return=e,t;wa(e,t)}return null}function f(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n||"number"===typeof n)return null!==i?null:l(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case M:return n.key===i?n.type===S?d(e,t,n.props.children,r,i):u(e,t,n,r):null;case _:return n.key===i?c(e,t,n,r):null}if(ba(n)||B(n))return null!==i?null:d(e,t,n,r,null);wa(e,n)}return null}function p(e,t,n,r,i){if("string"===typeof r||"number"===typeof r)return l(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case M:return e=e.get(null===r.key?n:r.key)||null,r.type===S?d(t,e,r.props.children,i,r.key):u(t,e,r,i);case _:return c(t,e=e.get(null===r.key?n:r.key)||null,r,i)}if(ba(r)||B(r))return d(t,e=e.get(n)||null,r,i,null);wa(t,r)}return null}function m(i,o,s,l){for(var u=null,c=null,d=o,m=o=0,v=null;null!==d&&m<s.length;m++){d.index>m?(v=d,d=null):v=d.sibling;var g=f(i,d,s[m],l);if(null===g){null===d&&(d=v);break}e&&d&&null===g.alternate&&t(i,d),o=a(g,o,m),null===c?u=g:c.sibling=g,c=g,d=v}if(m===s.length)return n(i,d),u;if(null===d){for(;m<s.length;m++)null!==(d=h(i,s[m],l))&&(o=a(d,o,m),null===c?u=d:c.sibling=d,c=d);return u}for(d=r(i,d);m<s.length;m++)null!==(v=p(d,i,m,s[m],l))&&(e&&null!==v.alternate&&d.delete(null===v.key?m:v.key),o=a(v,o,m),null===c?u=v:c.sibling=v,c=v);return e&&d.forEach((function(e){return t(i,e)})),u}function v(i,s,l,u){var c=B(l);if("function"!==typeof c)throw Error(o(150));if(null==(l=c.call(l)))throw Error(o(151));for(var d=c=null,m=s,v=s=0,g=null,y=l.next();null!==m&&!y.done;v++,y=l.next()){m.index>v?(g=m,m=null):g=m.sibling;var b=f(i,m,y.value,u);if(null===b){null===m&&(m=g);break}e&&m&&null===b.alternate&&t(i,m),s=a(b,s,v),null===d?c=b:d.sibling=b,d=b,m=g}if(y.done)return n(i,m),c;if(null===m){for(;!y.done;v++,y=l.next())null!==(y=h(i,y.value,u))&&(s=a(y,s,v),null===d?c=y:d.sibling=y,d=y);return c}for(m=r(i,m);!y.done;v++,y=l.next())null!==(y=p(m,i,v,y.value,u))&&(e&&null!==y.alternate&&m.delete(null===y.key?v:y.key),s=a(y,s,v),null===d?c=y:d.sibling=y,d=y);return e&&m.forEach((function(e){return t(i,e)})),c}return function(e,r,a,l){var u="object"===typeof a&&null!==a&&a.type===S&&null===a.key;u&&(a=a.props.children);var c="object"===typeof a&&null!==a;if(c)switch(a.$$typeof){case M:e:{for(c=a.key,u=r;null!==u;){if(u.key===c){switch(u.tag){case 7:if(a.type===S){n(e,u.sibling),(r=i(u,a.props.children)).return=e,e=r;break e}break;default:if(u.elementType===a.type){n(e,u.sibling),(r=i(u,a.props)).ref=xa(e,u,a),r.return=e,e=r;break e}}n(e,u);break}t(e,u),u=u.sibling}a.type===S?((r=Wl(a.props.children,e.mode,l,a.key)).return=e,e=r):((l=Hl(a.type,a.key,a.props,null,e.mode,l)).ref=xa(e,r,a),l.return=e,e=l)}return s(e);case _:e:{for(u=a.key;null!==r;){if(r.key===u){if(4===r.tag&&r.stateNode.containerInfo===a.containerInfo&&r.stateNode.implementation===a.implementation){n(e,r.sibling),(r=i(r,a.children||[])).return=e,e=r;break e}n(e,r);break}t(e,r),r=r.sibling}(r=Yl(a,e.mode,l)).return=e,e=r}return s(e)}if("string"===typeof a||"number"===typeof a)return a=""+a,null!==r&&6===r.tag?(n(e,r.sibling),(r=i(r,a)).return=e,e=r):(n(e,r),(r=ql(a,e.mode,l)).return=e,e=r),s(e);if(ba(a))return m(e,r,a,l);if(B(a))return v(e,r,a,l);if(c&&wa(e,a),"undefined"===typeof a&&!u)switch(e.tag){case 1:case 22:case 0:case 11:case 15:throw Error(o(152,q(e.type)||"Component"))}return n(e,r)}}var _a=Ma(!0),Sa=Ma(!1),Ea={},Ta=oi(Ea),Aa=oi(Ea),Ra=oi(Ea);function Oa(e){if(e===Ea)throw Error(o(174));return e}function ka(e,t){switch(li(Ra,t),li(Aa,e),li(Ta,Ea),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:pe(null,"");break;default:t=pe(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}si(Ta),li(Ta,t)}function Ia(){si(Ta),si(Aa),si(Ra)}function Ca(e){Oa(Ra.current);var t=Oa(Ta.current),n=pe(t,e.type);t!==n&&(li(Aa,e),li(Ta,n))}function Da(e){Aa.current===e&&(si(Ta),si(Aa))}var La=oi(0);function Pa(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(64&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Na=null,ja=null,Fa=!1;function Ga(e,t){var n=zl(5,null,null,0);n.elementType="DELETED",n.type="DELETED",n.stateNode=t,n.return=e,n.flags=8,null!==e.lastEffect?(e.lastEffect.nextEffect=n,e.lastEffect=n):e.firstEffect=e.lastEffect=n}function Ua(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,!0);case 13:default:return!1}}function za(e){if(Fa){var t=ja;if(t){var n=t;if(!Ua(e,t)){if(!(t=Wr(n.nextSibling))||!Ua(e,t))return e.flags=-1025&e.flags|2,Fa=!1,void(Na=e);Ga(Na,n)}Na=e,ja=Wr(t.firstChild)}else e.flags=-1025&e.flags|2,Fa=!1,Na=e}}function Ba(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;Na=e}function Va(e){if(e!==Na)return!1;if(!Fa)return Ba(e),Fa=!0,!1;var t=e.type;if(5!==e.tag||"head"!==t&&"body"!==t&&!zr(t,e.memoizedProps))for(t=ja;t;)Ga(e,t),t=Wr(t.nextSibling);if(Ba(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(o(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){ja=Wr(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}ja=null}}else ja=Na?Wr(e.stateNode.nextSibling):null;return!0}function Ha(){ja=Na=null,Fa=!1}var Wa=[];function Xa(){for(var e=0;e<Wa.length;e++)Wa[e]._workInProgressVersionPrimary=null;Wa.length=0}var qa=w.ReactCurrentDispatcher,Ya=w.ReactCurrentBatchConfig,Qa=0,Za=null,$a=null,Ka=null,Ja=!1,eo=!1;function to(){throw Error(o(321))}function no(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!sr(e[n],t[n]))return!1;return!0}function ro(e,t,n,r,i,a){if(Qa=a,Za=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,qa.current=null===e||null===e.memoizedState?ko:Io,e=n(r,i),eo){a=0;do{if(eo=!1,!(25>a))throw Error(o(301));a+=1,Ka=$a=null,t.updateQueue=null,qa.current=Co,e=n(r,i)}while(eo)}if(qa.current=Oo,t=null!==$a&&null!==$a.next,Qa=0,Ka=$a=Za=null,Ja=!1,t)throw Error(o(300));return e}function io(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===Ka?Za.memoizedState=Ka=e:Ka=Ka.next=e,Ka}function ao(){if(null===$a){var e=Za.alternate;e=null!==e?e.memoizedState:null}else e=$a.next;var t=null===Ka?Za.memoizedState:Ka.next;if(null!==t)Ka=t,$a=e;else{if(null===e)throw Error(o(310));e={memoizedState:($a=e).memoizedState,baseState:$a.baseState,baseQueue:$a.baseQueue,queue:$a.queue,next:null},null===Ka?Za.memoizedState=Ka=e:Ka=Ka.next=e}return Ka}function oo(e,t){return"function"===typeof t?t(e):t}function so(e){var t=ao(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var r=$a,i=r.baseQueue,a=n.pending;if(null!==a){if(null!==i){var s=i.next;i.next=a.next,a.next=s}r.baseQueue=i=a,n.pending=null}if(null!==i){i=i.next,r=r.baseState;var l=s=a=null,u=i;do{var c=u.lane;if((Qa&c)===c)null!==l&&(l=l.next={lane:0,action:u.action,eagerReducer:u.eagerReducer,eagerState:u.eagerState,next:null}),r=u.eagerReducer===e?u.eagerState:e(r,u.action);else{var d={lane:c,action:u.action,eagerReducer:u.eagerReducer,eagerState:u.eagerState,next:null};null===l?(s=l=d,a=r):l=l.next=d,Za.lanes|=c,Fs|=c}u=u.next}while(null!==u&&u!==i);null===l?a=r:l.next=s,sr(r,t.memoizedState)||(Lo=!0),t.memoizedState=r,t.baseState=a,t.baseQueue=l,n.lastRenderedState=r}return[t.memoizedState,n.dispatch]}function lo(e){var t=ao(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,a=t.memoizedState;if(null!==i){n.pending=null;var s=i=i.next;do{a=e(a,s.action),s=s.next}while(s!==i);sr(a,t.memoizedState)||(Lo=!0),t.memoizedState=a,null===t.baseQueue&&(t.baseState=a),n.lastRenderedState=a}return[a,r]}function uo(e,t,n){var r=t._getVersion;r=r(t._source);var i=t._workInProgressVersionPrimary;if(null!==i?e=i===r:(e=e.mutableReadLanes,(e=(Qa&e)===e)&&(t._workInProgressVersionPrimary=r,Wa.push(t))),e)return n(t._source);throw Wa.push(t),Error(o(350))}function co(e,t,n,r){var i=ks;if(null===i)throw Error(o(349));var a=t._getVersion,s=a(t._source),l=qa.current,u=l.useState((function(){return uo(i,t,n)})),c=u[1],d=u[0];u=Ka;var h=e.memoizedState,f=h.refs,p=f.getSnapshot,m=h.source;h=h.subscribe;var v=Za;return e.memoizedState={refs:f,source:t,subscribe:r},l.useEffect((function(){f.getSnapshot=n,f.setSnapshot=c;var e=a(t._source);if(!sr(s,e)){e=n(t._source),sr(d,e)||(c(e),e=cl(v),i.mutableReadLanes|=e&i.pendingLanes),e=i.mutableReadLanes,i.entangledLanes|=e;for(var r=i.entanglements,o=e;0<o;){var l=31-Ht(o),u=1<<l;r[l]|=e,o&=~u}}}),[n,t,r]),l.useEffect((function(){return r(t._source,(function(){var e=f.getSnapshot,n=f.setSnapshot;try{n(e(t._source));var r=cl(v);i.mutableReadLanes|=r&i.pendingLanes}catch(a){n((function(){throw a}))}}))}),[t,r]),sr(p,n)&&sr(m,t)&&sr(h,r)||((e={pending:null,dispatch:null,lastRenderedReducer:oo,lastRenderedState:d}).dispatch=c=Ro.bind(null,Za,e),u.queue=e,u.baseQueue=null,d=uo(i,t,n),u.memoizedState=u.baseState=d),d}function ho(e,t,n){return co(ao(),e,t,n)}function fo(e){var t=io();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e=(e=t.queue={pending:null,dispatch:null,lastRenderedReducer:oo,lastRenderedState:e}).dispatch=Ro.bind(null,Za,e),[t.memoizedState,e]}function po(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=Za.updateQueue)?(t={lastEffect:null},Za.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function mo(e){return e={current:e},io().memoizedState=e}function vo(){return ao().memoizedState}function go(e,t,n,r){var i=io();Za.flags|=e,i.memoizedState=po(1|t,n,void 0,void 0===r?null:r)}function yo(e,t,n,r){var i=ao();r=void 0===r?null:r;var a=void 0;if(null!==$a){var o=$a.memoizedState;if(a=o.destroy,null!==r&&no(r,o.deps))return void po(t,n,a,r)}Za.flags|=e,i.memoizedState=po(1|t,n,a,r)}function bo(e,t){return go(516,4,e,t)}function xo(e,t){return yo(516,4,e,t)}function wo(e,t){return yo(4,2,e,t)}function Mo(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function _o(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,yo(4,2,Mo.bind(null,t,e),n)}function So(){}function Eo(e,t){var n=ao();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&no(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function To(e,t){var n=ao();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&no(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Ao(e,t){var n=zi();Vi(98>n?98:n,(function(){e(!0)})),Vi(97<n?97:n,(function(){var n=Ya.transition;Ya.transition=1;try{e(!1),t()}finally{Ya.transition=n}}))}function Ro(e,t,n){var r=ul(),i=cl(e),a={lane:i,action:n,eagerReducer:null,eagerState:null,next:null},o=t.pending;if(null===o?a.next=a:(a.next=o.next,o.next=a),t.pending=a,o=e.alternate,e===Za||null!==o&&o===Za)eo=Ja=!0;else{if(0===e.lanes&&(null===o||0===o.lanes)&&null!==(o=t.lastRenderedReducer))try{var s=t.lastRenderedState,l=o(s,n);if(a.eagerReducer=o,a.eagerState=l,sr(l,s))return}catch(u){}dl(e,i,r)}}var Oo={readContext:ra,useCallback:to,useContext:to,useEffect:to,useImperativeHandle:to,useLayoutEffect:to,useMemo:to,useReducer:to,useRef:to,useState:to,useDebugValue:to,useDeferredValue:to,useTransition:to,useMutableSource:to,useOpaqueIdentifier:to,unstable_isNewReconciler:!1},ko={readContext:ra,useCallback:function(e,t){return io().memoizedState=[e,void 0===t?null:t],e},useContext:ra,useEffect:bo,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,go(4,2,Mo.bind(null,t,e),n)},useLayoutEffect:function(e,t){return go(4,2,e,t)},useMemo:function(e,t){var n=io();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=io();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e=(e=r.queue={pending:null,dispatch:null,lastRenderedReducer:e,lastRenderedState:t}).dispatch=Ro.bind(null,Za,e),[r.memoizedState,e]},useRef:mo,useState:fo,useDebugValue:So,useDeferredValue:function(e){var t=fo(e),n=t[0],r=t[1];return bo((function(){var t=Ya.transition;Ya.transition=1;try{r(e)}finally{Ya.transition=t}}),[e]),n},useTransition:function(){var e=fo(!1),t=e[0];return mo(e=Ao.bind(null,e[1])),[e,t]},useMutableSource:function(e,t,n){var r=io();return r.memoizedState={refs:{getSnapshot:t,setSnapshot:null},source:e,subscribe:n},co(r,e,t,n)},useOpaqueIdentifier:function(){if(Fa){var e=!1,t=function(e){return{$$typeof:P,toString:e,valueOf:e}}((function(){throw e||(e=!0,n("r:"+(qr++).toString(36))),Error(o(355))})),n=fo(t)[1];return 0===(2&Za.mode)&&(Za.flags|=516,po(5,(function(){n("r:"+(qr++).toString(36))}),void 0,null)),t}return fo(t="r:"+(qr++).toString(36)),t},unstable_isNewReconciler:!1},Io={readContext:ra,useCallback:Eo,useContext:ra,useEffect:xo,useImperativeHandle:_o,useLayoutEffect:wo,useMemo:To,useReducer:so,useRef:vo,useState:function(){return so(oo)},useDebugValue:So,useDeferredValue:function(e){var t=so(oo),n=t[0],r=t[1];return xo((function(){var t=Ya.transition;Ya.transition=1;try{r(e)}finally{Ya.transition=t}}),[e]),n},useTransition:function(){var e=so(oo)[0];return[vo().current,e]},useMutableSource:ho,useOpaqueIdentifier:function(){return so(oo)[0]},unstable_isNewReconciler:!1},Co={readContext:ra,useCallback:Eo,useContext:ra,useEffect:xo,useImperativeHandle:_o,useLayoutEffect:wo,useMemo:To,useReducer:lo,useRef:vo,useState:function(){return lo(oo)},useDebugValue:So,useDeferredValue:function(e){var t=lo(oo),n=t[0],r=t[1];return xo((function(){var t=Ya.transition;Ya.transition=1;try{r(e)}finally{Ya.transition=t}}),[e]),n},useTransition:function(){var e=lo(oo)[0];return[vo().current,e]},useMutableSource:ho,useOpaqueIdentifier:function(){return lo(oo)[0]},unstable_isNewReconciler:!1},Do=w.ReactCurrentOwner,Lo=!1;function Po(e,t,n,r){t.child=null===e?Sa(t,null,n,r):_a(t,e.child,n,r)}function No(e,t,n,r,i){n=n.render;var a=t.ref;return na(t,i),r=ro(e,t,n,r,a,i),null===e||Lo?(t.flags|=1,Po(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-517,e.lanes&=~i,ns(e,t,i))}function jo(e,t,n,r,i,a){if(null===e){var o=n.type;return"function"!==typeof o||Bl(o)||void 0!==o.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Hl(n.type,null,r,t,t.mode,a)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=o,Fo(e,t,o,r,i,a))}return o=e.child,0===(i&a)&&(i=o.memoizedProps,(n=null!==(n=n.compare)?n:ur)(i,r)&&e.ref===t.ref)?ns(e,t,a):(t.flags|=1,(e=Vl(o,r)).ref=t.ref,e.return=t,t.child=e)}function Fo(e,t,n,r,i,a){if(null!==e&&ur(e.memoizedProps,r)&&e.ref===t.ref){if(Lo=!1,0===(a&i))return t.lanes=e.lanes,ns(e,t,a);0!==(16384&e.flags)&&(Lo=!0)}return zo(e,t,n,r,a)}function Go(e,t,n){var r=t.pendingProps,i=r.children,a=null!==e?e.memoizedState:null;if("hidden"===r.mode||"unstable-defer-without-hiding"===r.mode)if(0===(4&t.mode))t.memoizedState={baseLanes:0},bl(t,n);else{if(0===(1073741824&n))return e=null!==a?a.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e},bl(t,e),null;t.memoizedState={baseLanes:0},bl(t,null!==a?a.baseLanes:n)}else null!==a?(r=a.baseLanes|n,t.memoizedState=null):r=n,bl(t,r);return Po(e,t,i,n),t.child}function Uo(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=128)}function zo(e,t,n,r,i){var a=pi(n)?hi:ci.current;return a=fi(t,a),na(t,i),n=ro(e,t,n,r,a,i),null===e||Lo?(t.flags|=1,Po(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-517,e.lanes&=~i,ns(e,t,i))}function Bo(e,t,n,r,i){if(pi(n)){var a=!0;yi(t)}else a=!1;if(na(t,i),null===t.stateNode)null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),va(t,n,r),ya(t,n,r,i),r=!0;else if(null===e){var o=t.stateNode,s=t.memoizedProps;o.props=s;var l=o.context,u=n.contextType;"object"===typeof u&&null!==u?u=ra(u):u=fi(t,u=pi(n)?hi:ci.current);var c=n.getDerivedStateFromProps,d="function"===typeof c||"function"===typeof o.getSnapshotBeforeUpdate;d||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(s!==r||l!==u)&&ga(t,o,r,u),ia=!1;var h=t.memoizedState;o.state=h,ca(t,r,o,i),l=t.memoizedState,s!==r||h!==l||di.current||ia?("function"===typeof c&&(fa(t,n,c,r),l=t.memoizedState),(s=ia||ma(t,n,s,r,h,l,u))?(d||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||("function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount()),"function"===typeof o.componentDidMount&&(t.flags|=4)):("function"===typeof o.componentDidMount&&(t.flags|=4),t.memoizedProps=r,t.memoizedState=l),o.props=r,o.state=l,o.context=u,r=s):("function"===typeof o.componentDidMount&&(t.flags|=4),r=!1)}else{o=t.stateNode,oa(e,t),s=t.memoizedProps,u=t.type===t.elementType?s:Yi(t.type,s),o.props=u,d=t.pendingProps,h=o.context,"object"===typeof(l=n.contextType)&&null!==l?l=ra(l):l=fi(t,l=pi(n)?hi:ci.current);var f=n.getDerivedStateFromProps;(c="function"===typeof f||"function"===typeof o.getSnapshotBeforeUpdate)||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(s!==d||h!==l)&&ga(t,o,r,l),ia=!1,h=t.memoizedState,o.state=h,ca(t,r,o,i);var p=t.memoizedState;s!==d||h!==p||di.current||ia?("function"===typeof f&&(fa(t,n,f,r),p=t.memoizedState),(u=ia||ma(t,n,u,r,h,p,l))?(c||"function"!==typeof o.UNSAFE_componentWillUpdate&&"function"!==typeof o.componentWillUpdate||("function"===typeof o.componentWillUpdate&&o.componentWillUpdate(r,p,l),"function"===typeof o.UNSAFE_componentWillUpdate&&o.UNSAFE_componentWillUpdate(r,p,l)),"function"===typeof o.componentDidUpdate&&(t.flags|=4),"function"===typeof o.getSnapshotBeforeUpdate&&(t.flags|=256)):("function"!==typeof o.componentDidUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=256),t.memoizedProps=r,t.memoizedState=p),o.props=r,o.state=p,o.context=l,r=u):("function"!==typeof o.componentDidUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=256),r=!1)}return Vo(e,t,n,r,a,i)}function Vo(e,t,n,r,i,a){Uo(e,t);var o=0!==(64&t.flags);if(!r&&!o)return i&&bi(t,n,!1),ns(e,t,a);r=t.stateNode,Do.current=t;var s=o&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&o?(t.child=_a(t,e.child,null,a),t.child=_a(t,null,s,a)):Po(e,t,s,a),t.memoizedState=r.state,i&&bi(t,n,!0),t.child}function Ho(e){var t=e.stateNode;t.pendingContext?vi(0,t.pendingContext,t.pendingContext!==t.context):t.context&&vi(0,t.context,!1),ka(e,t.containerInfo)}var Wo,Xo,qo,Yo={dehydrated:null,retryLane:0};function Qo(e,t,n){var r,i=t.pendingProps,a=La.current,o=!1;return(r=0!==(64&t.flags))||(r=(null===e||null!==e.memoizedState)&&0!==(2&a)),r?(o=!0,t.flags&=-65):null!==e&&null===e.memoizedState||void 0===i.fallback||!0===i.unstable_avoidThisFallback||(a|=1),li(La,1&a),null===e?(void 0!==i.fallback&&za(t),e=i.children,a=i.fallback,o?(e=Zo(t,e,a,n),t.child.memoizedState={baseLanes:n},t.memoizedState=Yo,e):"number"===typeof i.unstable_expectedLoadTime?(e=Zo(t,e,a,n),t.child.memoizedState={baseLanes:n},t.memoizedState=Yo,t.lanes=33554432,e):((n=Xl({mode:"visible",children:e},t.mode,n,null)).return=t,t.child=n)):(e.memoizedState,o?(i=Ko(e,t,i.children,i.fallback,n),o=t.child,a=e.child.memoizedState,o.memoizedState=null===a?{baseLanes:n}:{baseLanes:a.baseLanes|n},o.childLanes=e.childLanes&~n,t.memoizedState=Yo,i):(n=$o(e,t,i.children,n),t.memoizedState=null,n))}function Zo(e,t,n,r){var i=e.mode,a=e.child;return t={mode:"hidden",children:t},0===(2&i)&&null!==a?(a.childLanes=0,a.pendingProps=t):a=Xl(t,i,0,null),n=Wl(n,i,r,null),a.return=e,n.return=e,a.sibling=n,e.child=a,n}function $o(e,t,n,r){var i=e.child;return e=i.sibling,n=Vl(i,{mode:"visible",children:n}),0===(2&t.mode)&&(n.lanes=r),n.return=t,n.sibling=null,null!==e&&(e.nextEffect=null,e.flags=8,t.firstEffect=t.lastEffect=e),t.child=n}function Ko(e,t,n,r,i){var a=t.mode,o=e.child;e=o.sibling;var s={mode:"hidden",children:n};return 0===(2&a)&&t.child!==o?((n=t.child).childLanes=0,n.pendingProps=s,null!==(o=n.lastEffect)?(t.firstEffect=n.firstEffect,t.lastEffect=o,o.nextEffect=null):t.firstEffect=t.lastEffect=null):n=Vl(o,s),null!==e?r=Vl(e,r):(r=Wl(r,a,i,null)).flags|=2,r.return=t,n.return=t,n.sibling=r,t.child=n,r}function Jo(e,t){e.lanes|=t;var n=e.alternate;null!==n&&(n.lanes|=t),ta(e.return,t)}function es(e,t,n,r,i,a){var o=e.memoizedState;null===o?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i,lastEffect:a}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i,o.lastEffect=a)}function ts(e,t,n){var r=t.pendingProps,i=r.revealOrder,a=r.tail;if(Po(e,t,r.children,n),0!==(2&(r=La.current)))r=1&r|2,t.flags|=64;else{if(null!==e&&0!==(64&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Jo(e,n);else if(19===e.tag)Jo(e,n);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(li(La,r),0===(2&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===Pa(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),es(t,!1,i,n,a,t.lastEffect);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===Pa(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}es(t,!0,n,null,a,t.lastEffect);break;case"together":es(t,!1,null,null,void 0,t.lastEffect);break;default:t.memoizedState=null}return t.child}function ns(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Fs|=t.lanes,0!==(n&t.childLanes)){if(null!==e&&t.child!==e.child)throw Error(o(153));if(null!==t.child){for(n=Vl(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Vl(e,e.pendingProps)).return=t;n.sibling=null}return t.child}return null}function rs(e,t){if(!Fa)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function is(e,t,n){var r=t.pendingProps;switch(t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return null;case 1:return pi(t.type)&&mi(),null;case 3:return Ia(),si(di),si(ci),Xa(),(r=t.stateNode).pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(Va(t)?t.flags|=4:r.hydrate||(t.flags|=256)),null;case 5:Da(t);var a=Oa(Ra.current);if(n=t.type,null!==e&&null!=t.stateNode)Xo(e,t,n,r),e.ref!==t.ref&&(t.flags|=128);else{if(!r){if(null===t.stateNode)throw Error(o(166));return null}if(e=Oa(Ta.current),Va(t)){r=t.stateNode,n=t.type;var s=t.memoizedProps;switch(r[Qr]=t,r[Zr]=s,n){case"dialog":Ar("cancel",r),Ar("close",r);break;case"iframe":case"object":case"embed":Ar("load",r);break;case"video":case"audio":for(e=0;e<_r.length;e++)Ar(_r[e],r);break;case"source":Ar("error",r);break;case"img":case"image":case"link":Ar("error",r),Ar("load",r);break;case"details":Ar("toggle",r);break;case"input":ee(r,s),Ar("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},Ar("invalid",r);break;case"textarea":le(r,s),Ar("invalid",r)}for(var u in Se(n,s),e=null,s)s.hasOwnProperty(u)&&(a=s[u],"children"===u?"string"===typeof a?r.textContent!==a&&(e=["children",a]):"number"===typeof a&&r.textContent!==""+a&&(e=["children",""+a]):l.hasOwnProperty(u)&&null!=a&&"onScroll"===u&&Ar("scroll",r));switch(n){case"input":Z(r),re(r,s,!0);break;case"textarea":Z(r),ce(r);break;case"select":case"option":break;default:"function"===typeof s.onClick&&(r.onclick=jr)}r=e,t.updateQueue=r,null!==r&&(t.flags|=4)}else{switch(u=9===a.nodeType?a:a.ownerDocument,e===de&&(e=fe(n)),e===de?"script"===n?((e=u.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=u.createElement(n,{is:r.is}):(e=u.createElement(n),"select"===n&&(u=e,r.multiple?u.multiple=!0:r.size&&(u.size=r.size))):e=u.createElementNS(e,n),e[Qr]=t,e[Zr]=r,Wo(e,t),t.stateNode=e,u=Ee(n,r),n){case"dialog":Ar("cancel",e),Ar("close",e),a=r;break;case"iframe":case"object":case"embed":Ar("load",e),a=r;break;case"video":case"audio":for(a=0;a<_r.length;a++)Ar(_r[a],e);a=r;break;case"source":Ar("error",e),a=r;break;case"img":case"image":case"link":Ar("error",e),Ar("load",e),a=r;break;case"details":Ar("toggle",e),a=r;break;case"input":ee(e,r),a=J(e,r),Ar("invalid",e);break;case"option":a=ae(e,r);break;case"select":e._wrapperState={wasMultiple:!!r.multiple},a=i({},r,{value:void 0}),Ar("invalid",e);break;case"textarea":le(e,r),a=se(e,r),Ar("invalid",e);break;default:a=r}Se(n,a);var c=a;for(s in c)if(c.hasOwnProperty(s)){var d=c[s];"style"===s?Me(e,d):"dangerouslySetInnerHTML"===s?null!=(d=d?d.__html:void 0)&&ge(e,d):"children"===s?"string"===typeof d?("textarea"!==n||""!==d)&&ye(e,d):"number"===typeof d&&ye(e,""+d):"suppressContentEditableWarning"!==s&&"suppressHydrationWarning"!==s&&"autoFocus"!==s&&(l.hasOwnProperty(s)?null!=d&&"onScroll"===s&&Ar("scroll",e):null!=d&&x(e,s,d,u))}switch(n){case"input":Z(e),re(e,r,!1);break;case"textarea":Z(e),ce(e);break;case"option":null!=r.value&&e.setAttribute("value",""+Y(r.value));break;case"select":e.multiple=!!r.multiple,null!=(s=r.value)?oe(e,!!r.multiple,s,!1):null!=r.defaultValue&&oe(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof a.onClick&&(e.onclick=jr)}Ur(n,r)&&(t.flags|=4)}null!==t.ref&&(t.flags|=128)}return null;case 6:if(e&&null!=t.stateNode)qo(0,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(o(166));n=Oa(Ra.current),Oa(Ta.current),Va(t)?(r=t.stateNode,n=t.memoizedProps,r[Qr]=t,r.nodeValue!==n&&(t.flags|=4)):((r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[Qr]=t,t.stateNode=r)}return null;case 13:return si(La),r=t.memoizedState,0!==(64&t.flags)?(t.lanes=n,t):(r=null!==r,n=!1,null===e?void 0!==t.memoizedProps.fallback&&Va(t):n=null!==e.memoizedState,r&&!n&&0!==(2&t.mode)&&(null===e&&!0!==t.memoizedProps.unstable_avoidThisFallback||0!==(1&La.current)?0===Ps&&(Ps=3):(0!==Ps&&3!==Ps||(Ps=4),null===ks||0===(134217727&Fs)&&0===(134217727&Gs)||ml(ks,Cs))),(r||n)&&(t.flags|=4),null);case 4:return Ia(),null===e&&Or(t.stateNode.containerInfo),null;case 10:return ea(t),null;case 17:return pi(t.type)&&mi(),null;case 19:if(si(La),null===(r=t.memoizedState))return null;if(s=0!==(64&t.flags),null===(u=r.rendering))if(s)rs(r,!1);else{if(0!==Ps||null!==e&&0!==(64&e.flags))for(e=t.child;null!==e;){if(null!==(u=Pa(e))){for(t.flags|=64,rs(r,!1),null!==(s=u.updateQueue)&&(t.updateQueue=s,t.flags|=4),null===r.lastEffect&&(t.firstEffect=null),t.lastEffect=r.lastEffect,r=n,n=t.child;null!==n;)e=r,(s=n).flags&=2,s.nextEffect=null,s.firstEffect=null,s.lastEffect=null,null===(u=s.alternate)?(s.childLanes=0,s.lanes=e,s.child=null,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=u.childLanes,s.lanes=u.lanes,s.child=u.child,s.memoizedProps=u.memoizedProps,s.memoizedState=u.memoizedState,s.updateQueue=u.updateQueue,s.type=u.type,e=u.dependencies,s.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return li(La,1&La.current|2),t.child}e=e.sibling}null!==r.tail&&Ui()>Vs&&(t.flags|=64,s=!0,rs(r,!1),t.lanes=33554432)}else{if(!s)if(null!==(e=Pa(u))){if(t.flags|=64,s=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),rs(r,!0),null===r.tail&&"hidden"===r.tailMode&&!u.alternate&&!Fa)return null!==(t=t.lastEffect=r.lastEffect)&&(t.nextEffect=null),null}else 2*Ui()-r.renderingStartTime>Vs&&1073741824!==n&&(t.flags|=64,s=!0,rs(r,!1),t.lanes=33554432);r.isBackwards?(u.sibling=t.child,t.child=u):(null!==(n=r.last)?n.sibling=u:t.child=u,r.last=u)}return null!==r.tail?(n=r.tail,r.rendering=n,r.tail=n.sibling,r.lastEffect=t.lastEffect,r.renderingStartTime=Ui(),n.sibling=null,t=La.current,li(La,s?1&t|2:1&t),n):null;case 23:case 24:return xl(),null!==e&&null!==e.memoizedState!==(null!==t.memoizedState)&&"unstable-defer-without-hiding"!==r.mode&&(t.flags|=4),null}throw Error(o(156,t.tag))}function as(e){switch(e.tag){case 1:pi(e.type)&&mi();var t=e.flags;return 4096&t?(e.flags=-4097&t|64,e):null;case 3:if(Ia(),si(di),si(ci),Xa(),0!==(64&(t=e.flags)))throw Error(o(285));return e.flags=-4097&t|64,e;case 5:return Da(e),null;case 13:return si(La),4096&(t=e.flags)?(e.flags=-4097&t|64,e):null;case 19:return si(La),null;case 4:return Ia(),null;case 10:return ea(e),null;case 23:case 24:return xl(),null;default:return null}}function os(e,t){try{var n="",r=t;do{n+=X(r),r=r.return}while(r);var i=n}catch(a){i="\nError generating stack: "+a.message+"\n"+a.stack}return{value:e,source:t,stack:i}}function ss(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}Wo=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Xo=function(e,t,n,r){var a=e.memoizedProps;if(a!==r){e=t.stateNode,Oa(Ta.current);var o,s=null;switch(n){case"input":a=J(e,a),r=J(e,r),s=[];break;case"option":a=ae(e,a),r=ae(e,r),s=[];break;case"select":a=i({},a,{value:void 0}),r=i({},r,{value:void 0}),s=[];break;case"textarea":a=se(e,a),r=se(e,r),s=[];break;default:"function"!==typeof a.onClick&&"function"===typeof r.onClick&&(e.onclick=jr)}for(d in Se(n,r),n=null,a)if(!r.hasOwnProperty(d)&&a.hasOwnProperty(d)&&null!=a[d])if("style"===d){var u=a[d];for(o in u)u.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else"dangerouslySetInnerHTML"!==d&&"children"!==d&&"suppressContentEditableWarning"!==d&&"suppressHydrationWarning"!==d&&"autoFocus"!==d&&(l.hasOwnProperty(d)?s||(s=[]):(s=s||[]).push(d,null));for(d in r){var c=r[d];if(u=null!=a?a[d]:void 0,r.hasOwnProperty(d)&&c!==u&&(null!=c||null!=u))if("style"===d)if(u){for(o in u)!u.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in c)c.hasOwnProperty(o)&&u[o]!==c[o]&&(n||(n={}),n[o]=c[o])}else n||(s||(s=[]),s.push(d,n)),n=c;else"dangerouslySetInnerHTML"===d?(c=c?c.__html:void 0,u=u?u.__html:void 0,null!=c&&u!==c&&(s=s||[]).push(d,c)):"children"===d?"string"!==typeof c&&"number"!==typeof c||(s=s||[]).push(d,""+c):"suppressContentEditableWarning"!==d&&"suppressHydrationWarning"!==d&&(l.hasOwnProperty(d)?(null!=c&&"onScroll"===d&&Ar("scroll",e),s||u===c||(s=[])):"object"===typeof c&&null!==c&&c.$$typeof===P?c.toString():(s=s||[]).push(d,c))}n&&(s=s||[]).push("style",n);var d=s;(t.updateQueue=d)&&(t.flags|=4)}},qo=function(e,t,n,r){n!==r&&(t.flags|=4)};var ls="function"===typeof WeakMap?WeakMap:Map;function us(e,t,n){(n=sa(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){qs||(qs=!0,Ys=r),ss(0,t)},n}function cs(e,t,n){(n=sa(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return ss(0,t),r(i)}}var a=e.stateNode;return null!==a&&"function"===typeof a.componentDidCatch&&(n.callback=function(){"function"!==typeof r&&(null===Qs?Qs=new Set([this]):Qs.add(this),ss(0,t));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}var ds="function"===typeof WeakSet?WeakSet:Set;function hs(e){var t=e.ref;if(null!==t)if("function"===typeof t)try{t(null)}catch(n){jl(e,n)}else t.current=null}function fs(e,t){switch(t.tag){case 0:case 11:case 15:case 22:return;case 1:if(256&t.flags&&null!==e){var n=e.memoizedProps,r=e.memoizedState;t=(e=t.stateNode).getSnapshotBeforeUpdate(t.elementType===t.type?n:Yi(t.type,n),r),e.__reactInternalSnapshotBeforeUpdate=t}return;case 3:return void(256&t.flags&&Hr(t.stateNode.containerInfo));case 5:case 6:case 4:case 17:return}throw Error(o(163))}function ps(e,t,n){switch(n.tag){case 0:case 11:case 15:case 22:if(null!==(t=null!==(t=n.updateQueue)?t.lastEffect:null)){e=t=t.next;do{if(3===(3&e.tag)){var r=e.create;e.destroy=r()}e=e.next}while(e!==t)}if(null!==(t=null!==(t=n.updateQueue)?t.lastEffect:null)){e=t=t.next;do{var i=e;r=i.next,0!==(4&(i=i.tag))&&0!==(1&i)&&(Ll(n,e),Dl(n,e)),e=r}while(e!==t)}return;case 1:return e=n.stateNode,4&n.flags&&(null===t?e.componentDidMount():(r=n.elementType===n.type?t.memoizedProps:Yi(n.type,t.memoizedProps),e.componentDidUpdate(r,t.memoizedState,e.__reactInternalSnapshotBeforeUpdate))),void(null!==(t=n.updateQueue)&&da(n,t,e));case 3:if(null!==(t=n.updateQueue)){if(e=null,null!==n.child)switch(n.child.tag){case 5:e=n.child.stateNode;break;case 1:e=n.child.stateNode}da(n,t,e)}return;case 5:return e=n.stateNode,void(null===t&&4&n.flags&&Ur(n.type,n.memoizedProps)&&e.focus());case 6:case 4:case 12:return;case 13:return void(null===n.memoizedState&&(n=n.alternate,null!==n&&(n=n.memoizedState,null!==n&&(n=n.dehydrated,null!==n&&Mt(n)))));case 19:case 17:case 20:case 21:case 23:case 24:return}throw Error(o(163))}function ms(e,t){for(var n=e;;){if(5===n.tag){var r=n.stateNode;if(t)"function"===typeof(r=r.style).setProperty?r.setProperty("display","none","important"):r.display="none";else{r=n.stateNode;var i=n.memoizedProps.style;i=void 0!==i&&null!==i&&i.hasOwnProperty("display")?i.display:null,r.style.display=we("display",i)}}else if(6===n.tag)n.stateNode.nodeValue=t?"":n.memoizedProps;else if((23!==n.tag&&24!==n.tag||null===n.memoizedState||n===e)&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===e)break;for(;null===n.sibling;){if(null===n.return||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}}function vs(e,t){if(wi&&"function"===typeof wi.onCommitFiberUnmount)try{wi.onCommitFiberUnmount(xi,t)}catch(a){}switch(t.tag){case 0:case 11:case 14:case 15:case 22:if(null!==(e=t.updateQueue)&&null!==(e=e.lastEffect)){var n=e=e.next;do{var r=n,i=r.destroy;if(r=r.tag,void 0!==i)if(0!==(4&r))Ll(t,n);else{r=t;try{i()}catch(a){jl(r,a)}}n=n.next}while(n!==e)}break;case 1:if(hs(t),"function"===typeof(e=t.stateNode).componentWillUnmount)try{e.props=t.memoizedProps,e.state=t.memoizedState,e.componentWillUnmount()}catch(a){jl(t,a)}break;case 5:hs(t);break;case 4:Ms(e,t)}}function gs(e){e.alternate=null,e.child=null,e.dependencies=null,e.firstEffect=null,e.lastEffect=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.return=null,e.updateQueue=null}function ys(e){return 5===e.tag||3===e.tag||4===e.tag}function bs(e){e:{for(var t=e.return;null!==t;){if(ys(t))break e;t=t.return}throw Error(o(160))}var n=t;switch(t=n.stateNode,n.tag){case 5:var r=!1;break;case 3:case 4:t=t.containerInfo,r=!0;break;default:throw Error(o(161))}16&n.flags&&(ye(t,""),n.flags&=-17);e:t:for(n=e;;){for(;null===n.sibling;){if(null===n.return||ys(n.return)){n=null;break e}n=n.return}for(n.sibling.return=n.return,n=n.sibling;5!==n.tag&&6!==n.tag&&18!==n.tag;){if(2&n.flags)continue t;if(null===n.child||4===n.tag)continue t;n.child.return=n,n=n.child}if(!(2&n.flags)){n=n.stateNode;break e}}r?xs(e,n,t):ws(e,n,t)}function xs(e,t,n){var r=e.tag,i=5===r||6===r;if(i)e=i?e.stateNode:e.stateNode.instance,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=jr));else if(4!==r&&null!==(e=e.child))for(xs(e,t,n),e=e.sibling;null!==e;)xs(e,t,n),e=e.sibling}function ws(e,t,n){var r=e.tag,i=5===r||6===r;if(i)e=i?e.stateNode:e.stateNode.instance,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(ws(e,t,n),e=e.sibling;null!==e;)ws(e,t,n),e=e.sibling}function Ms(e,t){for(var n,r,i=t,a=!1;;){if(!a){a=i.return;e:for(;;){if(null===a)throw Error(o(160));switch(n=a.stateNode,a.tag){case 5:r=!1;break e;case 3:case 4:n=n.containerInfo,r=!0;break e}a=a.return}a=!0}if(5===i.tag||6===i.tag){e:for(var s=e,l=i,u=l;;)if(vs(s,u),null!==u.child&&4!==u.tag)u.child.return=u,u=u.child;else{if(u===l)break e;for(;null===u.sibling;){if(null===u.return||u.return===l)break e;u=u.return}u.sibling.return=u.return,u=u.sibling}r?(s=n,l=i.stateNode,8===s.nodeType?s.parentNode.removeChild(l):s.removeChild(l)):n.removeChild(i.stateNode)}else if(4===i.tag){if(null!==i.child){n=i.stateNode.containerInfo,r=!0,i.child.return=i,i=i.child;continue}}else if(vs(e,i),null!==i.child){i.child.return=i,i=i.child;continue}if(i===t)break;for(;null===i.sibling;){if(null===i.return||i.return===t)return;4===(i=i.return).tag&&(a=!1)}i.sibling.return=i.return,i=i.sibling}}function _s(e,t){switch(t.tag){case 0:case 11:case 14:case 15:case 22:var n=t.updateQueue;if(null!==(n=null!==n?n.lastEffect:null)){var r=n=n.next;do{3===(3&r.tag)&&(e=r.destroy,r.destroy=void 0,void 0!==e&&e()),r=r.next}while(r!==n)}return;case 1:return;case 5:if(null!=(n=t.stateNode)){r=t.memoizedProps;var i=null!==e?e.memoizedProps:r;e=t.type;var a=t.updateQueue;if(t.updateQueue=null,null!==a){for(n[Zr]=r,"input"===e&&"radio"===r.type&&null!=r.name&&te(n,r),Ee(e,i),t=Ee(e,r),i=0;i<a.length;i+=2){var s=a[i],l=a[i+1];"style"===s?Me(n,l):"dangerouslySetInnerHTML"===s?ge(n,l):"children"===s?ye(n,l):x(n,s,l,t)}switch(e){case"input":ne(n,r);break;case"textarea":ue(n,r);break;case"select":e=n._wrapperState.wasMultiple,n._wrapperState.wasMultiple=!!r.multiple,null!=(a=r.value)?oe(n,!!r.multiple,a,!1):e!==!!r.multiple&&(null!=r.defaultValue?oe(n,!!r.multiple,r.defaultValue,!0):oe(n,!!r.multiple,r.multiple?[]:"",!1))}}}return;case 6:if(null===t.stateNode)throw Error(o(162));return void(t.stateNode.nodeValue=t.memoizedProps);case 3:return void((n=t.stateNode).hydrate&&(n.hydrate=!1,Mt(n.containerInfo)));case 12:return;case 13:return null!==t.memoizedState&&(Bs=Ui(),ms(t.child,!0)),void Ss(t);case 19:return void Ss(t);case 17:return;case 23:case 24:return void ms(t,null!==t.memoizedState)}throw Error(o(163))}function Ss(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new ds),t.forEach((function(t){var r=Gl.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function Es(e,t){return null!==e&&(null===(e=e.memoizedState)||null!==e.dehydrated)&&(null!==(t=t.memoizedState)&&null===t.dehydrated)}var Ts=Math.ceil,As=w.ReactCurrentDispatcher,Rs=w.ReactCurrentOwner,Os=0,ks=null,Is=null,Cs=0,Ds=0,Ls=oi(0),Ps=0,Ns=null,js=0,Fs=0,Gs=0,Us=0,zs=null,Bs=0,Vs=1/0;function Hs(){Vs=Ui()+500}var Ws,Xs=null,qs=!1,Ys=null,Qs=null,Zs=!1,$s=null,Ks=90,Js=[],el=[],tl=null,nl=0,rl=null,il=-1,al=0,ol=0,sl=null,ll=!1;function ul(){return 0!==(48&Os)?Ui():-1!==il?il:il=Ui()}function cl(e){if(0===(2&(e=e.mode)))return 1;if(0===(4&e))return 99===zi()?1:2;if(0===al&&(al=js),0!==qi.transition){0!==ol&&(ol=null!==zs?zs.pendingLanes:0),e=al;var t=4186112&~ol;return 0===(t&=-t)&&(0===(t=(e=4186112&~e)&-e)&&(t=8192)),t}return e=zi(),0!==(4&Os)&&98===e?e=Ut(12,al):e=Ut(e=function(e){switch(e){case 99:return 15;case 98:return 10;case 97:case 96:return 8;case 95:return 2;default:return 0}}(e),al),e}function dl(e,t,n){if(50<nl)throw nl=0,rl=null,Error(o(185));if(null===(e=hl(e,t)))return null;Vt(e,t,n),e===ks&&(Gs|=t,4===Ps&&ml(e,Cs));var r=zi();1===t?0!==(8&Os)&&0===(48&Os)?vl(e):(fl(e,n),0===Os&&(Hs(),Wi())):(0===(4&Os)||98!==r&&99!==r||(null===tl?tl=new Set([e]):tl.add(e)),fl(e,n)),zs=e}function hl(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}function fl(e,t){for(var n=e.callbackNode,r=e.suspendedLanes,i=e.pingedLanes,a=e.expirationTimes,s=e.pendingLanes;0<s;){var l=31-Ht(s),u=1<<l,c=a[l];if(-1===c){if(0===(u&r)||0!==(u&i)){c=t,jt(u);var d=Nt;a[l]=10<=d?c+250:6<=d?c+5e3:-1}}else c<=t&&(e.expiredLanes|=u);s&=~u}if(r=Ft(e,e===ks?Cs:0),t=Nt,0===r)null!==n&&(n!==Li&&Si(n),e.callbackNode=null,e.callbackPriority=0);else{if(null!==n){if(e.callbackPriority===t)return;n!==Li&&Si(n)}15===t?(n=vl.bind(null,e),null===Ni?(Ni=[n],ji=_i(Oi,Xi)):Ni.push(n),n=Li):14===t?n=Hi(99,vl.bind(null,e)):n=Hi(n=function(e){switch(e){case 15:case 14:return 99;case 13:case 12:case 11:case 10:return 98;case 9:case 8:case 7:case 6:case 4:case 5:return 97;case 3:case 2:case 1:return 95;case 0:return 90;default:throw Error(o(358,e))}}(t),pl.bind(null,e)),e.callbackPriority=t,e.callbackNode=n}}function pl(e){if(il=-1,ol=al=0,0!==(48&Os))throw Error(o(327));var t=e.callbackNode;if(Cl()&&e.callbackNode!==t)return null;var n=Ft(e,e===ks?Cs:0);if(0===n)return null;var r=n,i=Os;Os|=16;var a=_l();for(ks===e&&Cs===r||(Hs(),wl(e,r));;)try{Tl();break}catch(l){Ml(e,l)}if(Ji(),As.current=a,Os=i,null!==Is?r=0:(ks=null,Cs=0,r=Ps),0!==(js&Gs))wl(e,0);else if(0!==r){if(2===r&&(Os|=64,e.hydrate&&(e.hydrate=!1,Hr(e.containerInfo)),0!==(n=Gt(e))&&(r=Sl(e,n))),1===r)throw t=Ns,wl(e,0),ml(e,n),fl(e,Ui()),t;switch(e.finishedWork=e.current.alternate,e.finishedLanes=n,r){case 0:case 1:throw Error(o(345));case 2:Ol(e);break;case 3:if(ml(e,n),(62914560&n)===n&&10<(r=Bs+500-Ui())){if(0!==Ft(e,0))break;if(((i=e.suspendedLanes)&n)!==n){ul(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=Br(Ol.bind(null,e),r);break}Ol(e);break;case 4:if(ml(e,n),(4186112&n)===n)break;for(r=e.eventTimes,i=-1;0<n;){var s=31-Ht(n);a=1<<s,(s=r[s])>i&&(i=s),n&=~a}if(n=i,10<(n=(120>(n=Ui()-n)?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*Ts(n/1960))-n)){e.timeoutHandle=Br(Ol.bind(null,e),n);break}Ol(e);break;case 5:Ol(e);break;default:throw Error(o(329))}}return fl(e,Ui()),e.callbackNode===t?pl.bind(null,e):null}function ml(e,t){for(t&=~Us,t&=~Gs,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Ht(t),r=1<<n;e[n]=-1,t&=~r}}function vl(e){if(0!==(48&Os))throw Error(o(327));if(Cl(),e===ks&&0!==(e.expiredLanes&Cs)){var t=Cs,n=Sl(e,t);0!==(js&Gs)&&(n=Sl(e,t=Ft(e,t)))}else n=Sl(e,t=Ft(e,0));if(0!==e.tag&&2===n&&(Os|=64,e.hydrate&&(e.hydrate=!1,Hr(e.containerInfo)),0!==(t=Gt(e))&&(n=Sl(e,t))),1===n)throw n=Ns,wl(e,0),ml(e,t),fl(e,Ui()),n;return e.finishedWork=e.current.alternate,e.finishedLanes=t,Ol(e),fl(e,Ui()),null}function gl(e,t){var n=Os;Os|=1;try{return e(t)}finally{0===(Os=n)&&(Hs(),Wi())}}function yl(e,t){var n=Os;Os&=-2,Os|=8;try{return e(t)}finally{0===(Os=n)&&(Hs(),Wi())}}function bl(e,t){li(Ls,Ds),Ds|=t,js|=t}function xl(){Ds=Ls.current,si(Ls)}function wl(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,Vr(n)),null!==Is)for(n=Is.return;null!==n;){var r=n;switch(r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&mi();break;case 3:Ia(),si(di),si(ci),Xa();break;case 5:Da(r);break;case 4:Ia();break;case 13:case 19:si(La);break;case 10:ea(r);break;case 23:case 24:xl()}n=n.return}ks=e,Is=Vl(e.current,null),Cs=Ds=js=t,Ps=0,Ns=null,Us=Gs=Fs=0}function Ml(e,t){for(;;){var n=Is;try{if(Ji(),qa.current=Oo,Ja){for(var r=Za.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}Ja=!1}if(Qa=0,Ka=$a=Za=null,eo=!1,Rs.current=null,null===n||null===n.return){Ps=1,Ns=t,Is=null;break}e:{var a=e,o=n.return,s=n,l=t;if(t=Cs,s.flags|=2048,s.firstEffect=s.lastEffect=null,null!==l&&"object"===typeof l&&"function"===typeof l.then){var u=l;if(0===(2&s.mode)){var c=s.alternate;c?(s.updateQueue=c.updateQueue,s.memoizedState=c.memoizedState,s.lanes=c.lanes):(s.updateQueue=null,s.memoizedState=null)}var d=0!==(1&La.current),h=o;do{var f;if(f=13===h.tag){var p=h.memoizedState;if(null!==p)f=null!==p.dehydrated;else{var m=h.memoizedProps;f=void 0!==m.fallback&&(!0!==m.unstable_avoidThisFallback||!d)}}if(f){var v=h.updateQueue;if(null===v){var g=new Set;g.add(u),h.updateQueue=g}else v.add(u);if(0===(2&h.mode)){if(h.flags|=64,s.flags|=16384,s.flags&=-2981,1===s.tag)if(null===s.alternate)s.tag=17;else{var y=sa(-1,1);y.tag=2,la(s,y)}s.lanes|=1;break e}l=void 0,s=t;var b=a.pingCache;if(null===b?(b=a.pingCache=new ls,l=new Set,b.set(u,l)):void 0===(l=b.get(u))&&(l=new Set,b.set(u,l)),!l.has(s)){l.add(s);var x=Fl.bind(null,a,u,s);u.then(x,x)}h.flags|=4096,h.lanes=t;break e}h=h.return}while(null!==h);l=Error((q(s.type)||"A React component")+" suspended while rendering, but no fallback UI was specified.\n\nAdd a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display.")}5!==Ps&&(Ps=2),l=os(l,s),h=o;do{switch(h.tag){case 3:a=l,h.flags|=4096,t&=-t,h.lanes|=t,ua(h,us(0,a,t));break e;case 1:a=l;var w=h.type,M=h.stateNode;if(0===(64&h.flags)&&("function"===typeof w.getDerivedStateFromError||null!==M&&"function"===typeof M.componentDidCatch&&(null===Qs||!Qs.has(M)))){h.flags|=4096,t&=-t,h.lanes|=t,ua(h,cs(h,a,t));break e}}h=h.return}while(null!==h)}Rl(n)}catch(_){t=_,Is===n&&null!==n&&(Is=n=n.return);continue}break}}function _l(){var e=As.current;return As.current=Oo,null===e?Oo:e}function Sl(e,t){var n=Os;Os|=16;var r=_l();for(ks===e&&Cs===t||wl(e,t);;)try{El();break}catch(i){Ml(e,i)}if(Ji(),Os=n,As.current=r,null!==Is)throw Error(o(261));return ks=null,Cs=0,Ps}function El(){for(;null!==Is;)Al(Is)}function Tl(){for(;null!==Is&&!Ei();)Al(Is)}function Al(e){var t=Ws(e.alternate,e,Ds);e.memoizedProps=e.pendingProps,null===t?Rl(e):Is=t,Rs.current=null}function Rl(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(2048&t.flags)){if(null!==(n=is(n,t,Ds)))return void(Is=n);if(24!==(n=t).tag&&23!==n.tag||null===n.memoizedState||0!==(1073741824&Ds)||0===(4&n.mode)){for(var r=0,i=n.child;null!==i;)r|=i.lanes|i.childLanes,i=i.sibling;n.childLanes=r}null!==e&&0===(2048&e.flags)&&(null===e.firstEffect&&(e.firstEffect=t.firstEffect),null!==t.lastEffect&&(null!==e.lastEffect&&(e.lastEffect.nextEffect=t.firstEffect),e.lastEffect=t.lastEffect),1<t.flags&&(null!==e.lastEffect?e.lastEffect.nextEffect=t:e.firstEffect=t,e.lastEffect=t))}else{if(null!==(n=as(t)))return n.flags&=2047,void(Is=n);null!==e&&(e.firstEffect=e.lastEffect=null,e.flags|=2048)}if(null!==(t=t.sibling))return void(Is=t);Is=t=e}while(null!==t);0===Ps&&(Ps=5)}function Ol(e){var t=zi();return Vi(99,kl.bind(null,e,t)),null}function kl(e,t){do{Cl()}while(null!==$s);if(0!==(48&Os))throw Error(o(327));var n=e.finishedWork;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(o(177));e.callbackNode=null;var r=n.lanes|n.childLanes,i=r,a=e.pendingLanes&~i;e.pendingLanes=i,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=i,e.mutableReadLanes&=i,e.entangledLanes&=i,i=e.entanglements;for(var s=e.eventTimes,l=e.expirationTimes;0<a;){var u=31-Ht(a),c=1<<u;i[u]=0,s[u]=-1,l[u]=-1,a&=~c}if(null!==tl&&0===(24&r)&&tl.has(e)&&tl.delete(e),e===ks&&(Is=ks=null,Cs=0),1<n.flags?null!==n.lastEffect?(n.lastEffect.nextEffect=n,r=n.firstEffect):r=n:r=n.firstEffect,null!==r){if(i=Os,Os|=32,Rs.current=null,Fr=Qt,pr(s=fr())){if("selectionStart"in s)l={start:s.selectionStart,end:s.selectionEnd};else e:if(l=(l=s.ownerDocument)&&l.defaultView||window,(c=l.getSelection&&l.getSelection())&&0!==c.rangeCount){l=c.anchorNode,a=c.anchorOffset,u=c.focusNode,c=c.focusOffset;try{l.nodeType,u.nodeType}catch(T){l=null;break e}var d=0,h=-1,f=-1,p=0,m=0,v=s,g=null;t:for(;;){for(var y;v!==l||0!==a&&3!==v.nodeType||(h=d+a),v!==u||0!==c&&3!==v.nodeType||(f=d+c),3===v.nodeType&&(d+=v.nodeValue.length),null!==(y=v.firstChild);)g=v,v=y;for(;;){if(v===s)break t;if(g===l&&++p===a&&(h=d),g===u&&++m===c&&(f=d),null!==(y=v.nextSibling))break;g=(v=g).parentNode}v=y}l=-1===h||-1===f?null:{start:h,end:f}}else l=null;l=l||{start:0,end:0}}else l=null;Gr={focusedElem:s,selectionRange:l},Qt=!1,sl=null,ll=!1,Xs=r;do{try{Il()}catch(T){if(null===Xs)throw Error(o(330));jl(Xs,T),Xs=Xs.nextEffect}}while(null!==Xs);sl=null,Xs=r;do{try{for(s=e;null!==Xs;){var b=Xs.flags;if(16&b&&ye(Xs.stateNode,""),128&b){var x=Xs.alternate;if(null!==x){var w=x.ref;null!==w&&("function"===typeof w?w(null):w.current=null)}}switch(1038&b){case 2:bs(Xs),Xs.flags&=-3;break;case 6:bs(Xs),Xs.flags&=-3,_s(Xs.alternate,Xs);break;case 1024:Xs.flags&=-1025;break;case 1028:Xs.flags&=-1025,_s(Xs.alternate,Xs);break;case 4:_s(Xs.alternate,Xs);break;case 8:Ms(s,l=Xs);var M=l.alternate;gs(l),null!==M&&gs(M)}Xs=Xs.nextEffect}}catch(T){if(null===Xs)throw Error(o(330));jl(Xs,T),Xs=Xs.nextEffect}}while(null!==Xs);if(w=Gr,x=fr(),b=w.focusedElem,s=w.selectionRange,x!==b&&b&&b.ownerDocument&&hr(b.ownerDocument.documentElement,b)){null!==s&&pr(b)&&(x=s.start,void 0===(w=s.end)&&(w=x),"selectionStart"in b?(b.selectionStart=x,b.selectionEnd=Math.min(w,b.value.length)):(w=(x=b.ownerDocument||document)&&x.defaultView||window).getSelection&&(w=w.getSelection(),l=b.textContent.length,M=Math.min(s.start,l),s=void 0===s.end?M:Math.min(s.end,l),!w.extend&&M>s&&(l=s,s=M,M=l),l=dr(b,M),a=dr(b,s),l&&a&&(1!==w.rangeCount||w.anchorNode!==l.node||w.anchorOffset!==l.offset||w.focusNode!==a.node||w.focusOffset!==a.offset)&&((x=x.createRange()).setStart(l.node,l.offset),w.removeAllRanges(),M>s?(w.addRange(x),w.extend(a.node,a.offset)):(x.setEnd(a.node,a.offset),w.addRange(x))))),x=[];for(w=b;w=w.parentNode;)1===w.nodeType&&x.push({element:w,left:w.scrollLeft,top:w.scrollTop});for("function"===typeof b.focus&&b.focus(),b=0;b<x.length;b++)(w=x[b]).element.scrollLeft=w.left,w.element.scrollTop=w.top}Qt=!!Fr,Gr=Fr=null,e.current=n,Xs=r;do{try{for(b=e;null!==Xs;){var _=Xs.flags;if(36&_&&ps(b,Xs.alternate,Xs),128&_){x=void 0;var S=Xs.ref;if(null!==S){var E=Xs.stateNode;switch(Xs.tag){case 5:x=E;break;default:x=E}"function"===typeof S?S(x):S.current=x}}Xs=Xs.nextEffect}}catch(T){if(null===Xs)throw Error(o(330));jl(Xs,T),Xs=Xs.nextEffect}}while(null!==Xs);Xs=null,Pi(),Os=i}else e.current=n;if(Zs)Zs=!1,$s=e,Ks=t;else for(Xs=r;null!==Xs;)t=Xs.nextEffect,Xs.nextEffect=null,8&Xs.flags&&((_=Xs).sibling=null,_.stateNode=null),Xs=t;if(0===(r=e.pendingLanes)&&(Qs=null),1===r?e===rl?nl++:(nl=0,rl=e):nl=0,n=n.stateNode,wi&&"function"===typeof wi.onCommitFiberRoot)try{wi.onCommitFiberRoot(xi,n,void 0,64===(64&n.current.flags))}catch(T){}if(fl(e,Ui()),qs)throw qs=!1,e=Ys,Ys=null,e;return 0!==(8&Os)||Wi(),null}function Il(){for(;null!==Xs;){var e=Xs.alternate;ll||null===sl||(0!==(8&Xs.flags)?et(Xs,sl)&&(ll=!0):13===Xs.tag&&Es(e,Xs)&&et(Xs,sl)&&(ll=!0));var t=Xs.flags;0!==(256&t)&&fs(e,Xs),0===(512&t)||Zs||(Zs=!0,Hi(97,(function(){return Cl(),null}))),Xs=Xs.nextEffect}}function Cl(){if(90!==Ks){var e=97<Ks?97:Ks;return Ks=90,Vi(e,Pl)}return!1}function Dl(e,t){Js.push(t,e),Zs||(Zs=!0,Hi(97,(function(){return Cl(),null})))}function Ll(e,t){el.push(t,e),Zs||(Zs=!0,Hi(97,(function(){return Cl(),null})))}function Pl(){if(null===$s)return!1;var e=$s;if($s=null,0!==(48&Os))throw Error(o(331));var t=Os;Os|=32;var n=el;el=[];for(var r=0;r<n.length;r+=2){var i=n[r],a=n[r+1],s=i.destroy;if(i.destroy=void 0,"function"===typeof s)try{s()}catch(u){if(null===a)throw Error(o(330));jl(a,u)}}for(n=Js,Js=[],r=0;r<n.length;r+=2){i=n[r],a=n[r+1];try{var l=i.create;i.destroy=l()}catch(u){if(null===a)throw Error(o(330));jl(a,u)}}for(l=e.current.firstEffect;null!==l;)e=l.nextEffect,l.nextEffect=null,8&l.flags&&(l.sibling=null,l.stateNode=null),l=e;return Os=t,Wi(),!0}function Nl(e,t,n){la(e,t=us(0,t=os(n,t),1)),t=ul(),null!==(e=hl(e,1))&&(Vt(e,1,t),fl(e,t))}function jl(e,t){if(3===e.tag)Nl(e,e,t);else for(var n=e.return;null!==n;){if(3===n.tag){Nl(n,e,t);break}if(1===n.tag){var r=n.stateNode;if("function"===typeof n.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Qs||!Qs.has(r))){var i=cs(n,e=os(t,e),1);if(la(n,i),i=ul(),null!==(n=hl(n,1)))Vt(n,1,i),fl(n,i);else if("function"===typeof r.componentDidCatch&&(null===Qs||!Qs.has(r)))try{r.componentDidCatch(t,e)}catch(a){}break}}n=n.return}}function Fl(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=ul(),e.pingedLanes|=e.suspendedLanes&n,ks===e&&(Cs&n)===n&&(4===Ps||3===Ps&&(62914560&Cs)===Cs&&500>Ui()-Bs?wl(e,0):Us|=n),fl(e,t)}function Gl(e,t){var n=e.stateNode;null!==n&&n.delete(t),0===(t=0)&&(0===(2&(t=e.mode))?t=1:0===(4&t)?t=99===zi()?1:2:(0===al&&(al=js),0===(t=zt(62914560&~al))&&(t=4194304))),n=ul(),null!==(e=hl(e,t))&&(Vt(e,t,n),fl(e,n))}function Ul(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.flags=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childLanes=this.lanes=0,this.alternate=null}function zl(e,t,n,r){return new Ul(e,t,n,r)}function Bl(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Vl(e,t){var n=e.alternate;return null===n?((n=zl(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.nextEffect=null,n.firstEffect=null,n.lastEffect=null),n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Hl(e,t,n,r,i,a){var s=2;if(r=e,"function"===typeof e)Bl(e)&&(s=1);else if("string"===typeof e)s=5;else e:switch(e){case S:return Wl(n.children,i,a,t);case N:s=8,i|=16;break;case E:s=8,i|=1;break;case T:return(e=zl(12,n,t,8|i)).elementType=T,e.type=T,e.lanes=a,e;case k:return(e=zl(13,n,t,i)).type=k,e.elementType=k,e.lanes=a,e;case I:return(e=zl(19,n,t,i)).elementType=I,e.lanes=a,e;case j:return Xl(n,i,a,t);case F:return(e=zl(24,n,t,i)).elementType=F,e.lanes=a,e;default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case A:s=10;break e;case R:s=9;break e;case O:s=11;break e;case C:s=14;break e;case D:s=16,r=null;break e;case L:s=22;break e}throw Error(o(130,null==e?e:typeof e,""))}return(t=zl(s,n,t,i)).elementType=e,t.type=r,t.lanes=a,t}function Wl(e,t,n,r){return(e=zl(7,e,r,t)).lanes=n,e}function Xl(e,t,n,r){return(e=zl(23,e,r,t)).elementType=j,e.lanes=n,e}function ql(e,t,n){return(e=zl(6,e,null,t)).lanes=n,e}function Yl(e,t,n){return(t=zl(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Ql(e,t,n){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.pendingContext=this.context=null,this.hydrate=n,this.callbackNode=null,this.callbackPriority=0,this.eventTimes=Bt(0),this.expirationTimes=Bt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Bt(0),this.mutableSourceEagerHydrationData=null}function Zl(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:_,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}function $l(e,t,n,r){var i=t.current,a=ul(),s=cl(i);e:if(n){t:{if(Ze(n=n._reactInternals)!==n||1!==n.tag)throw Error(o(170));var l=n;do{switch(l.tag){case 3:l=l.stateNode.context;break t;case 1:if(pi(l.type)){l=l.stateNode.__reactInternalMemoizedMergedChildContext;break t}}l=l.return}while(null!==l);throw Error(o(171))}if(1===n.tag){var u=n.type;if(pi(u)){n=gi(n,u,l);break e}}n=l}else n=ui;return null===t.context?t.context=n:t.pendingContext=n,(t=sa(a,s)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),la(i,t),dl(i,s,a),s}function Kl(e){if(!(e=e.current).child)return null;switch(e.child.tag){case 5:default:return e.child.stateNode}}function Jl(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function eu(e,t){Jl(e,t),(e=e.alternate)&&Jl(e,t)}function tu(e,t,n){var r=null!=n&&null!=n.hydrationOptions&&n.hydrationOptions.mutableSources||null;if(n=new Ql(e,t,null!=n&&!0===n.hydrate),t=zl(3,null,null,2===t?7:1===t?3:0),n.current=t,t.stateNode=n,aa(t),e[$r]=n.current,Or(8===e.nodeType?e.parentNode:e),r)for(e=0;e<r.length;e++){var i=(t=r[e])._getVersion;i=i(t._source),null==n.mutableSourceEagerHydrationData?n.mutableSourceEagerHydrationData=[t,i]:n.mutableSourceEagerHydrationData.push(t,i)}this._internalRoot=n}function nu(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function ru(e,t,n,r,i){var a=n._reactRootContainer;if(a){var o=a._internalRoot;if("function"===typeof i){var s=i;i=function(){var e=Kl(o);s.call(e)}}$l(t,o,e,i)}else{if(a=n._reactRootContainer=function(e,t){if(t||(t=!(!(t=e?9===e.nodeType?e.documentElement:e.firstChild:null)||1!==t.nodeType||!t.hasAttribute("data-reactroot"))),!t)for(var n;n=e.lastChild;)e.removeChild(n);return new tu(e,0,t?{hydrate:!0}:void 0)}(n,r),o=a._internalRoot,"function"===typeof i){var l=i;i=function(){var e=Kl(o);l.call(e)}}yl((function(){$l(t,o,e,i)}))}return Kl(o)}function iu(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!nu(t))throw Error(o(200));return Zl(e,t,null,n)}Ws=function(e,t,n){var r=t.lanes;if(null!==e)if(e.memoizedProps!==t.pendingProps||di.current)Lo=!0;else{if(0===(n&r)){switch(Lo=!1,t.tag){case 3:Ho(t),Ha();break;case 5:Ca(t);break;case 1:pi(t.type)&&yi(t);break;case 4:ka(t,t.stateNode.containerInfo);break;case 10:r=t.memoizedProps.value;var i=t.type._context;li(Qi,i._currentValue),i._currentValue=r;break;case 13:if(null!==t.memoizedState)return 0!==(n&t.child.childLanes)?Qo(e,t,n):(li(La,1&La.current),null!==(t=ns(e,t,n))?t.sibling:null);li(La,1&La.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(64&e.flags)){if(r)return ts(e,t,n);t.flags|=64}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),li(La,La.current),r)break;return null;case 23:case 24:return t.lanes=0,Go(e,t,n)}return ns(e,t,n)}Lo=0!==(16384&e.flags)}else Lo=!1;switch(t.lanes=0,t.tag){case 2:if(r=t.type,null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,i=fi(t,ci.current),na(t,n),i=ro(null,t,r,e,i,n),t.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof){if(t.tag=1,t.memoizedState=null,t.updateQueue=null,pi(r)){var a=!0;yi(t)}else a=!1;t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,aa(t);var s=r.getDerivedStateFromProps;"function"===typeof s&&fa(t,r,s,e),i.updater=pa,t.stateNode=i,i._reactInternals=t,ya(t,r,e,n),t=Vo(null,t,r,!0,a,n)}else t.tag=0,Po(null,t,i,n),t=t.child;return t;case 16:i=t.elementType;e:{switch(null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,i=(a=i._init)(i._payload),t.type=i,a=t.tag=function(e){if("function"===typeof e)return Bl(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===O)return 11;if(e===C)return 14}return 2}(i),e=Yi(i,e),a){case 0:t=zo(null,t,i,e,n);break e;case 1:t=Bo(null,t,i,e,n);break e;case 11:t=No(null,t,i,e,n);break e;case 14:t=jo(null,t,i,Yi(i.type,e),r,n);break e}throw Error(o(306,i,""))}return t;case 0:return r=t.type,i=t.pendingProps,zo(e,t,r,i=t.elementType===r?i:Yi(r,i),n);case 1:return r=t.type,i=t.pendingProps,Bo(e,t,r,i=t.elementType===r?i:Yi(r,i),n);case 3:if(Ho(t),r=t.updateQueue,null===e||null===r)throw Error(o(282));if(r=t.pendingProps,i=null!==(i=t.memoizedState)?i.element:null,oa(e,t),ca(t,r,null,n),(r=t.memoizedState.element)===i)Ha(),t=ns(e,t,n);else{if((a=(i=t.stateNode).hydrate)&&(ja=Wr(t.stateNode.containerInfo.firstChild),Na=t,a=Fa=!0),a){if(null!=(e=i.mutableSourceEagerHydrationData))for(i=0;i<e.length;i+=2)(a=e[i])._workInProgressVersionPrimary=e[i+1],Wa.push(a);for(n=Sa(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|1024,n=n.sibling}else Po(e,t,r,n),Ha();t=t.child}return t;case 5:return Ca(t),null===e&&za(t),r=t.type,i=t.pendingProps,a=null!==e?e.memoizedProps:null,s=i.children,zr(r,i)?s=null:null!==a&&zr(r,a)&&(t.flags|=16),Uo(e,t),Po(e,t,s,n),t.child;case 6:return null===e&&za(t),null;case 13:return Qo(e,t,n);case 4:return ka(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=_a(t,null,r,n):Po(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,No(e,t,r,i=t.elementType===r?i:Yi(r,i),n);case 7:return Po(e,t,t.pendingProps,n),t.child;case 8:case 12:return Po(e,t,t.pendingProps.children,n),t.child;case 10:e:{r=t.type._context,i=t.pendingProps,s=t.memoizedProps,a=i.value;var l=t.type._context;if(li(Qi,l._currentValue),l._currentValue=a,null!==s)if(l=s.value,0===(a=sr(l,a)?0:0|("function"===typeof r._calculateChangedBits?r._calculateChangedBits(l,a):1073741823))){if(s.children===i.children&&!di.current){t=ns(e,t,n);break e}}else for(null!==(l=t.child)&&(l.return=t);null!==l;){var u=l.dependencies;if(null!==u){s=l.child;for(var c=u.firstContext;null!==c;){if(c.context===r&&0!==(c.observedBits&a)){1===l.tag&&((c=sa(-1,n&-n)).tag=2,la(l,c)),l.lanes|=n,null!==(c=l.alternate)&&(c.lanes|=n),ta(l.return,n),u.lanes|=n;break}c=c.next}}else s=10===l.tag&&l.type===t.type?null:l.child;if(null!==s)s.return=l;else for(s=l;null!==s;){if(s===t){s=null;break}if(null!==(l=s.sibling)){l.return=s.return,s=l;break}s=s.return}l=s}Po(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=(a=t.pendingProps).children,na(t,n),r=r(i=ra(i,a.unstable_observedBits)),t.flags|=1,Po(e,t,r,n),t.child;case 14:return a=Yi(i=t.type,t.pendingProps),jo(e,t,i,a=Yi(i.type,a),r,n);case 15:return Fo(e,t,t.type,t.pendingProps,r,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Yi(r,i),null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),t.tag=1,pi(r)?(e=!0,yi(t)):e=!1,na(t,n),va(t,r,i),ya(t,r,i,n),Vo(null,t,r,!0,e,n);case 19:return ts(e,t,n);case 23:case 24:return Go(e,t,n)}throw Error(o(156,t.tag))},tu.prototype.render=function(e){$l(e,this._internalRoot,null,null)},tu.prototype.unmount=function(){var e=this._internalRoot,t=e.containerInfo;$l(null,e,null,(function(){t[$r]=null}))},tt=function(e){13===e.tag&&(dl(e,4,ul()),eu(e,4))},nt=function(e){13===e.tag&&(dl(e,67108864,ul()),eu(e,67108864))},rt=function(e){if(13===e.tag){var t=ul(),n=cl(e);dl(e,n,t),eu(e,n)}},it=function(e,t){return t()},Ae=function(e,t,n){switch(t){case"input":if(ne(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=ni(r);if(!i)throw Error(o(90));$(r),ne(r,i)}}}break;case"textarea":ue(e,n);break;case"select":null!=(t=n.value)&&oe(e,!!n.multiple,t,!1)}},De=gl,Le=function(e,t,n,r,i){var a=Os;Os|=4;try{return Vi(98,e.bind(null,t,n,r,i))}finally{0===(Os=a)&&(Hs(),Wi())}},Pe=function(){0===(49&Os)&&(function(){if(null!==tl){var e=tl;tl=null,e.forEach((function(e){e.expiredLanes|=24&e.pendingLanes,fl(e,Ui())}))}Wi()}(),Cl())},Ne=function(e,t){var n=Os;Os|=2;try{return e(t)}finally{0===(Os=n)&&(Hs(),Wi())}};var au={Events:[ei,ti,ni,Ie,Ce,Cl,{current:!1}]},ou={findFiberByHostInstance:Jr,bundleType:0,version:"17.0.1",rendererPackageName:"react-dom"},su={bundleType:ou.bundleType,version:ou.version,rendererPackageName:ou.rendererPackageName,rendererConfig:ou.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:w.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=Je(e))?null:e.stateNode},findFiberByHostInstance:ou.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var lu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!lu.isDisabled&&lu.supportsFiber)try{xi=lu.inject(su),wi=lu}catch(ve){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=au,t.createPortal=iu,t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(o(188));throw Error(o(268,Object.keys(e)))}return e=null===(e=Je(t))?null:e.stateNode},t.flushSync=function(e,t){var n=Os;if(0!==(48&n))return e(t);Os|=1;try{if(e)return Vi(99,e.bind(null,t))}finally{Os=n,Wi()}},t.hydrate=function(e,t,n){if(!nu(t))throw Error(o(200));return ru(null,e,t,!0,n)},t.render=function(e,t,n){if(!nu(t))throw Error(o(200));return ru(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!nu(e))throw Error(o(40));return!!e._reactRootContainer&&(yl((function(){ru(null,null,e,!1,(function(){e._reactRootContainer=null,e[$r]=null}))})),!0)},t.unstable_batchedUpdates=gl,t.unstable_createPortal=function(e,t){return iu(e,t,2<arguments.length&&void 0!==arguments[2]?arguments[2]:null)},t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!nu(n))throw Error(o(200));if(null==e||void 0===e._reactInternals)throw Error(o(38));return ru(e,t,n,!1,r)},t.version="17.0.1"},function(e,t,n){"use strict";var r,i,a,o;if("object"===typeof performance&&"function"===typeof performance.now){var s=performance;t.unstable_now=function(){return s.now()}}else{var l=Date,u=l.now();t.unstable_now=function(){return l.now()-u}}if("undefined"===typeof window||"function"!==typeof MessageChannel){var c=null,d=null,h=function e(){if(null!==c)try{var n=t.unstable_now();c(!0,n),c=null}catch(r){throw setTimeout(e,0),r}};r=function(e){null!==c?setTimeout(r,0,e):(c=e,setTimeout(h,0))},i=function(e,t){d=setTimeout(e,t)},a=function(){clearTimeout(d)},t.unstable_shouldYield=function(){return!1},o=t.unstable_forceFrameRate=function(){}}else{var f=window.setTimeout,p=window.clearTimeout;if("undefined"!==typeof console){var m=window.cancelAnimationFrame;"function"!==typeof window.requestAnimationFrame&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills"),"function"!==typeof m&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills")}var v=!1,g=null,y=-1,b=5,x=0;t.unstable_shouldYield=function(){return t.unstable_now()>=x},o=function(){},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):b=0<e?Math.floor(1e3/e):5};var w=new MessageChannel,M=w.port2;w.port1.onmessage=function(){if(null!==g){var e=t.unstable_now();x=e+b;try{g(!0,e)?M.postMessage(null):(v=!1,g=null)}catch(n){throw M.postMessage(null),n}}else v=!1},r=function(e){g=e,v||(v=!0,M.postMessage(null))},i=function(e,n){y=f((function(){e(t.unstable_now())}),n)},a=function(){p(y),y=-1}}function _(e,t){var n=e.length;e.push(t);e:for(;;){var r=n-1>>>1,i=e[r];if(!(void 0!==i&&0<T(i,t)))break e;e[r]=t,e[n]=i,n=r}}function S(e){return void 0===(e=e[0])?null:e}function E(e){var t=e[0];if(void 0!==t){var n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length;r<i;){var a=2*(r+1)-1,o=e[a],s=a+1,l=e[s];if(void 0!==o&&0>T(o,n))void 0!==l&&0>T(l,o)?(e[r]=l,e[s]=n,r=s):(e[r]=o,e[a]=n,r=a);else{if(!(void 0!==l&&0>T(l,n)))break e;e[r]=l,e[s]=n,r=s}}}return t}return null}function T(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}var A=[],R=[],O=1,k=null,I=3,C=!1,D=!1,L=!1;function P(e){for(var t=S(R);null!==t;){if(null===t.callback)E(R);else{if(!(t.startTime<=e))break;E(R),t.sortIndex=t.expirationTime,_(A,t)}t=S(R)}}function N(e){if(L=!1,P(e),!D)if(null!==S(A))D=!0,r(j);else{var t=S(R);null!==t&&i(N,t.startTime-e)}}function j(e,n){D=!1,L&&(L=!1,a()),C=!0;var r=I;try{for(P(n),k=S(A);null!==k&&(!(k.expirationTime>n)||e&&!t.unstable_shouldYield());){var o=k.callback;if("function"===typeof o){k.callback=null,I=k.priorityLevel;var s=o(k.expirationTime<=n);n=t.unstable_now(),"function"===typeof s?k.callback=s:k===S(A)&&E(A),P(n)}else E(A);k=S(A)}if(null!==k)var l=!0;else{var u=S(R);null!==u&&i(N,u.startTime-n),l=!1}return l}finally{k=null,I=r,C=!1}}var F=o;t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){D||C||(D=!0,r(j))},t.unstable_getCurrentPriorityLevel=function(){return I},t.unstable_getFirstCallbackNode=function(){return S(A)},t.unstable_next=function(e){switch(I){case 1:case 2:case 3:var t=3;break;default:t=I}var n=I;I=t;try{return e()}finally{I=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=F,t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=I;I=e;try{return t()}finally{I=n}},t.unstable_scheduleCallback=function(e,n,o){var s=t.unstable_now();switch("object"===typeof o&&null!==o?o="number"===typeof(o=o.delay)&&0<o?s+o:s:o=s,e){case 1:var l=-1;break;case 2:l=250;break;case 5:l=1073741823;break;case 4:l=1e4;break;default:l=5e3}return e={id:O++,callback:n,priorityLevel:e,startTime:o,expirationTime:l=o+l,sortIndex:-1},o>s?(e.sortIndex=o,_(R,e),null===S(A)&&e===S(R)&&(L?a():L=!0,i(N,o-s))):(e.sortIndex=l,_(A,e),D||C||(D=!0,r(j))),e},t.unstable_wrapCallback=function(e){var t=I;return function(){var n=I;I=t;try{return e.apply(this,arguments)}finally{I=n}}}},,function(e,t,n){"use strict";var r=n(111);function i(){}function a(){}a.resetWarningCache=i,e.exports=function(){function e(e,t,n,i,a,o){if(o!==r){var s=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}function t(){return e}e.isRequired=e;var n={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:a,resetWarningCache:i};return n.PropTypes=n,n}},function(e,t,n){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},function(e,t,n){"use strict";var r="function"===typeof Symbol&&Symbol.for,i=r?Symbol.for("react.element"):60103,a=r?Symbol.for("react.portal"):60106,o=r?Symbol.for("react.fragment"):60107,s=r?Symbol.for("react.strict_mode"):60108,l=r?Symbol.for("react.profiler"):60114,u=r?Symbol.for("react.provider"):60109,c=r?Symbol.for("react.context"):60110,d=r?Symbol.for("react.async_mode"):60111,h=r?Symbol.for("react.concurrent_mode"):60111,f=r?Symbol.for("react.forward_ref"):60112,p=r?Symbol.for("react.suspense"):60113,m=r?Symbol.for("react.suspense_list"):60120,v=r?Symbol.for("react.memo"):60115,g=r?Symbol.for("react.lazy"):60116,y=r?Symbol.for("react.block"):60121,b=r?Symbol.for("react.fundamental"):60117,x=r?Symbol.for("react.responder"):60118,w=r?Symbol.for("react.scope"):60119;function M(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case i:switch(e=e.type){case d:case h:case o:case l:case s:case p:return e;default:switch(e=e&&e.$$typeof){case c:case f:case g:case v:case u:return e;default:return t}}case a:return t}}}function _(e){return M(e)===h}t.AsyncMode=d,t.ConcurrentMode=h,t.ContextConsumer=c,t.ContextProvider=u,t.Element=i,t.ForwardRef=f,t.Fragment=o,t.Lazy=g,t.Memo=v,t.Portal=a,t.Profiler=l,t.StrictMode=s,t.Suspense=p,t.isAsyncMode=function(e){return _(e)||M(e)===d},t.isConcurrentMode=_,t.isContextConsumer=function(e){return M(e)===c},t.isContextProvider=function(e){return M(e)===u},t.isElement=function(e){return"object"===typeof e&&null!==e&&e.$$typeof===i},t.isForwardRef=function(e){return M(e)===f},t.isFragment=function(e){return M(e)===o},t.isLazy=function(e){return M(e)===g},t.isMemo=function(e){return M(e)===v},t.isPortal=function(e){return M(e)===a},t.isProfiler=function(e){return M(e)===l},t.isStrictMode=function(e){return M(e)===s},t.isSuspense=function(e){return M(e)===p},t.isValidElementType=function(e){return"string"===typeof e||"function"===typeof e||e===o||e===h||e===l||e===s||e===p||e===m||"object"===typeof e&&null!==e&&(e.$$typeof===g||e.$$typeof===v||e.$$typeof===u||e.$$typeof===c||e.$$typeof===f||e.$$typeof===b||e.$$typeof===x||e.$$typeof===w||e.$$typeof===y)},t.typeOf=M},,function(e,t,n){(function(e){e.exports=function(t){var r={},i=n(60),a=n(1),o=n(51);function s(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var l=a.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,u=60103,c=60106,d=60107,h=60108,f=60114,p=60109,m=60110,v=60112,g=60113,y=60120,b=60115,x=60116,w=60121,M=60129,_=60130,S=60131;if("function"===typeof Symbol&&Symbol.for){var E=Symbol.for;u=E("react.element"),c=E("react.portal"),d=E("react.fragment"),h=E("react.strict_mode"),f=E("react.profiler"),p=E("react.provider"),m=E("react.context"),v=E("react.forward_ref"),g=E("react.suspense"),y=E("react.suspense_list"),b=E("react.memo"),x=E("react.lazy"),w=E("react.block"),E("react.scope"),M=E("react.debug_trace_mode"),_=E("react.offscreen"),S=E("react.legacy_hidden")}var T="function"===typeof Symbol&&Symbol.iterator;function A(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=T&&e[T]||e["@@iterator"])?e:null}function R(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case d:return"Fragment";case c:return"Portal";case f:return"Profiler";case h:return"StrictMode";case g:return"Suspense";case y:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case m:return(e.displayName||"Context")+".Consumer";case p:return(e._context.displayName||"Context")+".Provider";case v:var t=e.render;return t=t.displayName||t.name||"",e.displayName||(""!==t?"ForwardRef("+t+")":"ForwardRef");case b:return R(e.type);case w:return R(e._render);case x:t=e._payload,e=e._init;try{return R(e(t))}catch(n){}}return null}function O(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(1026&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function k(e){if(O(e)!==e)throw Error(s(188))}function I(e){var t=e.alternate;if(!t){if(null===(t=O(e)))throw Error(s(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var a=i.alternate;if(null===a){if(null!==(r=i.return)){n=r;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===n)return k(i),e;if(a===r)return k(i),t;a=a.sibling}throw Error(s(188))}if(n.return!==r.return)n=i,r=a;else{for(var o=!1,l=i.child;l;){if(l===n){o=!0,n=i,r=a;break}if(l===r){o=!0,r=i,n=a;break}l=l.sibling}if(!o){for(l=a.child;l;){if(l===n){o=!0,n=a,r=i;break}if(l===r){o=!0,r=a,n=i;break}l=l.sibling}if(!o)throw Error(s(189))}}if(n.alternate!==r)throw Error(s(190))}if(3!==n.tag)throw Error(s(188));return n.stateNode.current===n?e:t}function C(e){if(!(e=I(e)))return null;for(var t=e;;){if(5===t.tag||6===t.tag)return t;if(t.child)t.child.return=t,t=t.child;else{if(t===e)break;for(;!t.sibling;){if(!t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}}return null}function D(e,t){for(var n=e.alternate;null!==t;){if(t===e||t===n)return!0;t=t.return}return!1}var L,P=t.getPublicInstance,N=t.getRootHostContext,j=t.getChildHostContext,F=t.prepareForCommit,G=t.resetAfterCommit,U=t.createInstance,z=t.appendInitialChild,B=t.finalizeInitialChildren,V=t.prepareUpdate,H=t.shouldSetTextContent,W=t.createTextInstance,X=t.scheduleTimeout,q=t.cancelTimeout,Y=t.noTimeout,Q=t.isPrimaryRenderer,Z=t.supportsMutation,$=t.supportsPersistence,K=t.supportsHydration,J=t.getInstanceFromNode,ee=t.makeOpaqueHydratingObject,te=t.makeClientId,ne=t.beforeActiveInstanceBlur,re=t.afterActiveInstanceBlur,ie=t.preparePortalMount,ae=t.supportsTestSelectors,oe=t.findFiberRoot,se=t.getBoundingRect,le=t.getTextContent,ue=t.isHiddenSubtree,ce=t.matchAccessibilityRole,de=t.setFocusIfFocusable,he=t.setupIntersectionObserver,fe=t.appendChild,pe=t.appendChildToContainer,me=t.commitTextUpdate,ve=t.commitMount,ge=t.commitUpdate,ye=t.insertBefore,be=t.insertInContainerBefore,xe=t.removeChild,we=t.removeChildFromContainer,Me=t.resetTextContent,_e=t.hideInstance,Se=t.hideTextInstance,Ee=t.unhideInstance,Te=t.unhideTextInstance,Ae=t.clearContainer,Re=t.cloneInstance,Oe=t.createContainerChildSet,ke=t.appendChildToContainerChildSet,Ie=t.finalizeContainerChildren,Ce=t.replaceContainerChildren,De=t.cloneHiddenInstance,Le=t.cloneHiddenTextInstance,Pe=t.canHydrateInstance,Ne=t.canHydrateTextInstance,je=t.isSuspenseInstancePending,Fe=t.isSuspenseInstanceFallback,Ge=t.getNextHydratableSibling,Ue=t.getFirstHydratableChild,ze=t.hydrateInstance,Be=t.hydrateTextInstance,Ve=t.getNextHydratableInstanceAfterSuspenseInstance,He=t.commitHydratedContainer,We=t.commitHydratedSuspenseInstance;function Xe(e){if(void 0===L)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);L=t&&t[1]||""}return"\n"+L+e}var qe=!1;function Ye(e,t){if(!e||qe)return"";qe=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(l){var r=l}Reflect.construct(e,[],t)}else{try{t.call()}catch(l){r=l}e.call(t.prototype)}else{try{throw Error()}catch(l){r=l}e()}}catch(l){if(l&&r&&"string"===typeof l.stack){for(var i=l.stack.split("\n"),a=r.stack.split("\n"),o=i.length-1,s=a.length-1;1<=o&&0<=s&&i[o]!==a[s];)s--;for(;1<=o&&0<=s;o--,s--)if(i[o]!==a[s]){if(1!==o||1!==s)do{if(o--,0>--s||i[o]!==a[s])return"\n"+i[o].replace(" at new "," at ")}while(1<=o&&0<=s);break}}}finally{qe=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?Xe(e):""}var Qe=[],Ze=-1;function $e(e){return{current:e}}function Ke(e){0>Ze||(e.current=Qe[Ze],Qe[Ze]=null,Ze--)}function Je(e,t){Ze++,Qe[Ze]=e.current,e.current=t}var et={},tt=$e(et),nt=$e(!1),rt=et;function it(e,t){var n=e.type.contextTypes;if(!n)return et;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,a={};for(i in n)a[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function at(e){return null!==(e=e.childContextTypes)&&void 0!==e}function ot(){Ke(nt),Ke(tt)}function st(e,t,n){if(tt.current!==et)throw Error(s(168));Je(tt,t),Je(nt,n)}function lt(e,t,n){var r=e.stateNode;if(e=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var a in r=r.getChildContext())if(!(a in e))throw Error(s(108,R(t)||"Unknown",a));return i({},n,r)}function ut(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||et,rt=tt.current,Je(tt,e),Je(nt,nt.current),!0}function ct(e,t,n){var r=e.stateNode;if(!r)throw Error(s(169));n?(e=lt(e,t,rt),r.__reactInternalMemoizedMergedChildContext=e,Ke(nt),Ke(tt),Je(tt,e)):Ke(nt),Je(nt,n)}var dt=null,ht=null;(0,o.unstable_now)();var ft=0,pt=8;function mt(e){if(0!==(1&e))return pt=15,1;if(0!==(2&e))return pt=14,2;if(0!==(4&e))return pt=13,4;var t=24&e;return 0!==t?(pt=12,t):0!==(32&e)?(pt=11,32):0!==(t=192&e)?(pt=10,t):0!==(256&e)?(pt=9,256):0!==(t=3584&e)?(pt=8,t):0!==(4096&e)?(pt=7,4096):0!==(t=4186112&e)?(pt=6,t):0!==(t=62914560&e)?(pt=5,t):67108864&e?(pt=4,67108864):0!==(134217728&e)?(pt=3,134217728):0!==(t=805306368&e)?(pt=2,t):0!==(1073741824&e)?(pt=1,1073741824):(pt=8,e)}function vt(e,t){var n=e.pendingLanes;if(0===n)return pt=0;var r=0,i=0,a=e.expiredLanes,o=e.suspendedLanes,s=e.pingedLanes;if(0!==a)r=a,i=pt=15;else if(0!==(a=134217727&n)){var l=a&~o;0!==l?(r=mt(l),i=pt):0!==(s&=a)&&(r=mt(s),i=pt)}else 0!==(a=n&~o)?(r=mt(a),i=pt):0!==s&&(r=mt(s),i=pt);if(0===r)return 0;if(r=n&((0>(r=31-Mt(r))?0:1<<r)<<1)-1,0!==t&&t!==r&&0===(t&o)){if(mt(t),i<=pt)return t;pt=i}if(0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-Mt(t)),r|=e[n],t&=~i;return r}function gt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function yt(e,t){switch(e){case 15:return 1;case 14:return 2;case 12:return 0===(e=bt(24&~t))?yt(10,t):e;case 10:return 0===(e=bt(192&~t))?yt(8,t):e;case 8:return 0===(e=bt(3584&~t))&&(0===(e=bt(4186112&~t))&&(e=512)),e;case 2:return 0===(t=bt(805306368&~t))&&(t=268435456),t}throw Error(s(358,e))}function bt(e){return e&-e}function xt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function wt(e,t,n){e.pendingLanes|=t;var r=t-1;e.suspendedLanes&=r,e.pingedLanes&=r,(e=e.eventTimes)[t=31-Mt(t)]=n}var Mt=Math.clz32?Math.clz32:function(e){return 0===e?32:31-(_t(e)/St|0)|0},_t=Math.log,St=Math.LN2;var Et=o.unstable_runWithPriority,Tt=o.unstable_scheduleCallback,At=o.unstable_cancelCallback,Rt=o.unstable_shouldYield,Ot=o.unstable_requestPaint,kt=o.unstable_now,It=o.unstable_getCurrentPriorityLevel,Ct=o.unstable_ImmediatePriority,Dt=o.unstable_UserBlockingPriority,Lt=o.unstable_NormalPriority,Pt=o.unstable_LowPriority,Nt=o.unstable_IdlePriority,jt={},Ft=void 0!==Ot?Ot:function(){},Gt=null,Ut=null,zt=!1,Bt=kt(),Vt=1e4>Bt?kt:function(){return kt()-Bt};function Ht(){switch(It()){case Ct:return 99;case Dt:return 98;case Lt:return 97;case Pt:return 96;case Nt:return 95;default:throw Error(s(332))}}function Wt(e){switch(e){case 99:return Ct;case 98:return Dt;case 97:return Lt;case 96:return Pt;case 95:return Nt;default:throw Error(s(332))}}function Xt(e,t){return e=Wt(e),Et(e,t)}function qt(e,t,n){return e=Wt(e),Tt(e,t,n)}function Yt(){if(null!==Ut){var e=Ut;Ut=null,At(e)}Qt()}function Qt(){if(!zt&&null!==Gt){zt=!0;var e=0;try{var t=Gt;Xt(99,(function(){for(;e<t.length;e++){var n=t[e];do{n=n(!0)}while(null!==n)}})),Gt=null}catch(n){throw null!==Gt&&(Gt=Gt.slice(e+1)),Tt(Ct,Yt),n}finally{zt=!1}}}var Zt=l.ReactCurrentBatchConfig;var $t="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},Kt=Object.prototype.hasOwnProperty;function Jt(e,t){if($t(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++)if(!Kt.call(t,n[r])||!$t(e[n[r]],t[n[r]]))return!1;return!0}function en(e){switch(e.tag){case 5:return Xe(e.type);case 16:return Xe("Lazy");case 13:return Xe("Suspense");case 19:return Xe("SuspenseList");case 0:case 2:case 15:return e=Ye(e.type,!1);case 11:return e=Ye(e.type.render,!1);case 22:return e=Ye(e.type._render,!1);case 1:return e=Ye(e.type,!0);default:return""}}function tn(e,t){if(e&&e.defaultProps){for(var n in t=i({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var nn=$e(null),rn=null,an=null,on=null;function sn(){on=an=rn=null}function ln(e,t){e=e.type._context,Q?(Je(nn,e._currentValue),e._currentValue=t):(Je(nn,e._currentValue2),e._currentValue2=t)}function un(e){var t=nn.current;Ke(nn),e=e.type._context,Q?e._currentValue=t:e._currentValue2=t}function cn(e,t){for(;null!==e;){var n=e.alternate;if((e.childLanes&t)===t){if(null===n||(n.childLanes&t)===t)break;n.childLanes|=t}else e.childLanes|=t,null!==n&&(n.childLanes|=t);e=e.return}}function dn(e,t){rn=e,on=an=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(Br=!0),e.firstContext=null)}function hn(e,t){if(on!==e&&!1!==t&&0!==t)if("number"===typeof t&&1073741823!==t||(on=e,t=1073741823),t={context:e,observedBits:t,next:null},null===an){if(null===rn)throw Error(s(308));an=t,rn.dependencies={lanes:0,firstContext:t,responders:null}}else an=an.next=t;return Q?e._currentValue:e._currentValue2}var fn=!1;function pn(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null},effects:null}}function mn(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function vn(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function gn(e,t){if(null!==(e=e.updateQueue)){var n=(e=e.shared).pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}}function yn(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,a=null;if(null!==(n=n.firstBaseUpdate)){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===a?i=a=o:a=a.next=o,n=n.next}while(null!==n);null===a?i=a=t:a=a.next=t}else i=a=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function bn(e,t,n,r){var a=e.updateQueue;fn=!1;var o=a.firstBaseUpdate,s=a.lastBaseUpdate,l=a.shared.pending;if(null!==l){a.shared.pending=null;var u=l,c=u.next;u.next=null,null===s?o=c:s.next=c,s=u;var d=e.alternate;if(null!==d){var h=(d=d.updateQueue).lastBaseUpdate;h!==s&&(null===h?d.firstBaseUpdate=c:h.next=c,d.lastBaseUpdate=u)}}if(null!==o){for(h=a.baseState,s=0,d=c=u=null;;){l=o.lane;var f=o.eventTime;if((r&l)===l){null!==d&&(d=d.next={eventTime:f,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var p=e,m=o;switch(l=t,f=n,m.tag){case 1:if("function"===typeof(p=m.payload)){h=p.call(f,h,l);break e}h=p;break e;case 3:p.flags=-4097&p.flags|64;case 0:if(null===(l="function"===typeof(p=m.payload)?p.call(f,h,l):p)||void 0===l)break e;h=i({},h,l);break e;case 2:fn=!0}}null!==o.callback&&(e.flags|=32,null===(l=a.effects)?a.effects=[o]:l.push(o))}else f={eventTime:f,lane:l,tag:o.tag,payload:o.payload,callback:o.callback,next:null},null===d?(c=d=f,u=h):d=d.next=f,s|=l;if(null===(o=o.next)){if(null===(l=a.shared.pending))break;o=l.next,l.next=null,a.lastBaseUpdate=l,a.shared.pending=null}}null===d&&(u=h),a.baseState=u,a.firstBaseUpdate=c,a.lastBaseUpdate=d,da|=s,e.lanes=s,e.memoizedState=h}}function xn(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!==typeof i)throw Error(s(191,i));i.call(r)}}}var wn=(new a.Component).refs;function Mn(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:i({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var _n={isMounted:function(e){return!!(e=e._reactInternals)&&O(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Na(),i=ja(e),a=vn(r,i);a.payload=t,void 0!==n&&null!==n&&(a.callback=n),gn(e,a),Fa(e,i,r)},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Na(),i=ja(e),a=vn(r,i);a.tag=1,a.payload=t,void 0!==n&&null!==n&&(a.callback=n),gn(e,a),Fa(e,i,r)},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Na(),r=ja(e),i=vn(n,r);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),gn(e,i),Fa(e,r,n)}};function Sn(e,t,n,r,i,a,o){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,a,o):!t.prototype||!t.prototype.isPureReactComponent||(!Jt(n,r)||!Jt(i,a))}function En(e,t,n){var r=!1,i=et,a=t.contextType;return"object"===typeof a&&null!==a?a=hn(a):(i=at(t)?rt:tt.current,a=(r=null!==(r=t.contextTypes)&&void 0!==r)?it(e,i):et),t=new t(n,a),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=_n,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=a),t}function Tn(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&_n.enqueueReplaceState(t,t.state,null)}function An(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=wn,pn(e);var a=t.contextType;"object"===typeof a&&null!==a?i.context=hn(a):(a=at(t)?rt:tt.current,i.context=it(e,a)),bn(e,n,i,r),i.state=e.memoizedState,"function"===typeof(a=t.getDerivedStateFromProps)&&(Mn(e,t,a,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&_n.enqueueReplaceState(i,i.state,null),bn(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.flags|=4)}var Rn=Array.isArray;function On(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(s(309));var r=n.stateNode}if(!r)throw Error(s(147,e));var i=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===i?t.ref:((t=function(e){var t=r.refs;t===wn&&(t=r.refs={}),null===e?delete t[i]:t[i]=e})._stringRef=i,t)}if("string"!==typeof e)throw Error(s(284));if(!n._owner)throw Error(s(290,e))}return e}function kn(e,t){if("textarea"!==e.type)throw Error(s(31,"[object Object]"===Object.prototype.toString.call(t)?"object with keys {"+Object.keys(t).join(", ")+"}":t))}function In(e){function t(t,n){if(e){var r=t.lastEffect;null!==r?(r.nextEffect=n,t.lastEffect=n):t.firstEffect=t.lastEffect=n,n.nextEffect=null,n.flags=8}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=So(e,t)).index=0,e.sibling=null,e}function a(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags=2,n):r:(t.flags=2,n):n}function o(t){return e&&null===t.alternate&&(t.flags=2),t}function l(e,t,n,r){return null===t||6!==t.tag?((t=Ro(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function h(e,t,n,r){return null!==t&&t.elementType===n.type?((r=i(t,n.props)).ref=On(e,t,n),r.return=e,r):((r=Eo(n.type,n.key,n.props,null,e.mode,r)).ref=On(e,t,n),r.return=e,r)}function f(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Oo(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function p(e,t,n,r,a){return null===t||7!==t.tag?((t=To(n,e.mode,r,a)).return=e,t):((t=i(t,n)).return=e,t)}function m(e,t,n){if("string"===typeof t||"number"===typeof t)return(t=Ro(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case u:return(n=Eo(t.type,t.key,t.props,null,e.mode,n)).ref=On(e,null,t),n.return=e,n;case c:return(t=Oo(t,e.mode,n)).return=e,t}if(Rn(t)||A(t))return(t=To(t,e.mode,n,null)).return=e,t;kn(e,t)}return null}function v(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n||"number"===typeof n)return null!==i?null:l(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case u:return n.key===i?n.type===d?p(e,t,n.props.children,r,i):h(e,t,n,r):null;case c:return n.key===i?f(e,t,n,r):null}if(Rn(n)||A(n))return null!==i?null:p(e,t,n,r,null);kn(e,n)}return null}function g(e,t,n,r,i){if("string"===typeof r||"number"===typeof r)return l(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case u:return e=e.get(null===r.key?n:r.key)||null,r.type===d?p(t,e,r.props.children,i,r.key):h(t,e,r,i);case c:return f(t,e=e.get(null===r.key?n:r.key)||null,r,i)}if(Rn(r)||A(r))return p(t,e=e.get(n)||null,r,i,null);kn(t,r)}return null}function y(i,o,s,l){for(var u=null,c=null,d=o,h=o=0,f=null;null!==d&&h<s.length;h++){d.index>h?(f=d,d=null):f=d.sibling;var p=v(i,d,s[h],l);if(null===p){null===d&&(d=f);break}e&&d&&null===p.alternate&&t(i,d),o=a(p,o,h),null===c?u=p:c.sibling=p,c=p,d=f}if(h===s.length)return n(i,d),u;if(null===d){for(;h<s.length;h++)null!==(d=m(i,s[h],l))&&(o=a(d,o,h),null===c?u=d:c.sibling=d,c=d);return u}for(d=r(i,d);h<s.length;h++)null!==(f=g(d,i,h,s[h],l))&&(e&&null!==f.alternate&&d.delete(null===f.key?h:f.key),o=a(f,o,h),null===c?u=f:c.sibling=f,c=f);return e&&d.forEach((function(e){return t(i,e)})),u}function b(i,o,l,u){var c=A(l);if("function"!==typeof c)throw Error(s(150));if(null==(l=c.call(l)))throw Error(s(151));for(var d=c=null,h=o,f=o=0,p=null,y=l.next();null!==h&&!y.done;f++,y=l.next()){h.index>f?(p=h,h=null):p=h.sibling;var b=v(i,h,y.value,u);if(null===b){null===h&&(h=p);break}e&&h&&null===b.alternate&&t(i,h),o=a(b,o,f),null===d?c=b:d.sibling=b,d=b,h=p}if(y.done)return n(i,h),c;if(null===h){for(;!y.done;f++,y=l.next())null!==(y=m(i,y.value,u))&&(o=a(y,o,f),null===d?c=y:d.sibling=y,d=y);return c}for(h=r(i,h);!y.done;f++,y=l.next())null!==(y=g(h,i,f,y.value,u))&&(e&&null!==y.alternate&&h.delete(null===y.key?f:y.key),o=a(y,o,f),null===d?c=y:d.sibling=y,d=y);return e&&h.forEach((function(e){return t(i,e)})),c}return function(e,r,a,l){var h="object"===typeof a&&null!==a&&a.type===d&&null===a.key;h&&(a=a.props.children);var f="object"===typeof a&&null!==a;if(f)switch(a.$$typeof){case u:e:{for(f=a.key,h=r;null!==h;){if(h.key===f){switch(h.tag){case 7:if(a.type===d){n(e,h.sibling),(r=i(h,a.props.children)).return=e,e=r;break e}break;default:if(h.elementType===a.type){n(e,h.sibling),(r=i(h,a.props)).ref=On(e,h,a),r.return=e,e=r;break e}}n(e,h);break}t(e,h),h=h.sibling}a.type===d?((r=To(a.props.children,e.mode,l,a.key)).return=e,e=r):((l=Eo(a.type,a.key,a.props,null,e.mode,l)).ref=On(e,r,a),l.return=e,e=l)}return o(e);case c:e:{for(h=a.key;null!==r;){if(r.key===h){if(4===r.tag&&r.stateNode.containerInfo===a.containerInfo&&r.stateNode.implementation===a.implementation){n(e,r.sibling),(r=i(r,a.children||[])).return=e,e=r;break e}n(e,r);break}t(e,r),r=r.sibling}(r=Oo(a,e.mode,l)).return=e,e=r}return o(e)}if("string"===typeof a||"number"===typeof a)return a=""+a,null!==r&&6===r.tag?(n(e,r.sibling),(r=i(r,a)).return=e,e=r):(n(e,r),(r=Ro(a,e.mode,l)).return=e,e=r),o(e);if(Rn(a))return y(e,r,a,l);if(A(a))return b(e,r,a,l);if(f&&kn(e,a),"undefined"===typeof a&&!h)switch(e.tag){case 1:case 22:case 0:case 11:case 15:throw Error(s(152,R(e.type)||"Component"))}return n(e,r)}}var Cn=In(!0),Dn=In(!1),Ln={},Pn=$e(Ln),Nn=$e(Ln),jn=$e(Ln);function Fn(e){if(e===Ln)throw Error(s(174));return e}function Gn(e,t){Je(jn,t),Je(Nn,e),Je(Pn,Ln),e=N(t),Ke(Pn),Je(Pn,e)}function Un(){Ke(Pn),Ke(Nn),Ke(jn)}function zn(e){var t=Fn(jn.current),n=Fn(Pn.current);n!==(t=j(n,e.type,t))&&(Je(Nn,e),Je(Pn,t))}function Bn(e){Nn.current===e&&(Ke(Pn),Ke(Nn))}var Vn=$e(0);function Hn(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||je(n)||Fe(n)))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(64&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Wn=null,Xn=null,qn=!1;function Yn(e,t){var n=Mo(5,null,null,0);n.elementType="DELETED",n.type="DELETED",n.stateNode=t,n.return=e,n.flags=8,null!==e.lastEffect?(e.lastEffect.nextEffect=n,e.lastEffect=n):e.firstEffect=e.lastEffect=n}function Qn(e,t){switch(e.tag){case 5:return null!==(t=Pe(t,e.type,e.pendingProps))&&(e.stateNode=t,!0);case 6:return null!==(t=Ne(t,e.pendingProps))&&(e.stateNode=t,!0);case 13:default:return!1}}function Zn(e){if(qn){var t=Xn;if(t){var n=t;if(!Qn(e,t)){if(!(t=Ge(n))||!Qn(e,t))return e.flags=-1025&e.flags|2,qn=!1,void(Wn=e);Yn(Wn,n)}Wn=e,Xn=Ue(t)}else e.flags=-1025&e.flags|2,qn=!1,Wn=e}}function $n(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;Wn=e}function Kn(e){if(!K||e!==Wn)return!1;if(!qn)return $n(e),qn=!0,!1;var t=e.type;if(5!==e.tag||"head"!==t&&"body"!==t&&!H(t,e.memoizedProps))for(t=Xn;t;)Yn(e,t),t=Ge(t);if($n(e),13===e.tag){if(!K)throw Error(s(316));if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(s(317));Xn=Ve(e)}else Xn=Wn?Ge(e.stateNode):null;return!0}function Jn(){K&&(Xn=Wn=null,qn=!1)}var er=[];function tr(){for(var e=0;e<er.length;e++){var t=er[e];Q?t._workInProgressVersionPrimary=null:t._workInProgressVersionSecondary=null}er.length=0}var nr=l.ReactCurrentDispatcher,rr=l.ReactCurrentBatchConfig,ir=0,ar=null,or=null,sr=null,lr=!1,ur=!1;function cr(){throw Error(s(321))}function dr(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!$t(e[n],t[n]))return!1;return!0}function hr(e,t,n,r,i,a){if(ir=a,ar=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,nr.current=null===e||null===e.memoizedState?Fr:Gr,e=n(r,i),ur){a=0;do{if(ur=!1,!(25>a))throw Error(s(301));a+=1,sr=or=null,t.updateQueue=null,nr.current=Ur,e=n(r,i)}while(ur)}if(nr.current=jr,t=null!==or&&null!==or.next,ir=0,sr=or=ar=null,lr=!1,t)throw Error(s(300));return e}function fr(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===sr?ar.memoizedState=sr=e:sr=sr.next=e,sr}function pr(){if(null===or){var e=ar.alternate;e=null!==e?e.memoizedState:null}else e=or.next;var t=null===sr?ar.memoizedState:sr.next;if(null!==t)sr=t,or=e;else{if(null===e)throw Error(s(310));e={memoizedState:(or=e).memoizedState,baseState:or.baseState,baseQueue:or.baseQueue,queue:or.queue,next:null},null===sr?ar.memoizedState=sr=e:sr=sr.next=e}return sr}function mr(e,t){return"function"===typeof t?t(e):t}function vr(e){var t=pr(),n=t.queue;if(null===n)throw Error(s(311));n.lastRenderedReducer=e;var r=or,i=r.baseQueue,a=n.pending;if(null!==a){if(null!==i){var o=i.next;i.next=a.next,a.next=o}r.baseQueue=i=a,n.pending=null}if(null!==i){i=i.next,r=r.baseState;var l=o=a=null,u=i;do{var c=u.lane;if((ir&c)===c)null!==l&&(l=l.next={lane:0,action:u.action,eagerReducer:u.eagerReducer,eagerState:u.eagerState,next:null}),r=u.eagerReducer===e?u.eagerState:e(r,u.action);else{var d={lane:c,action:u.action,eagerReducer:u.eagerReducer,eagerState:u.eagerState,next:null};null===l?(o=l=d,a=r):l=l.next=d,ar.lanes|=c,da|=c}u=u.next}while(null!==u&&u!==i);null===l?a=r:l.next=o,$t(r,t.memoizedState)||(Br=!0),t.memoizedState=r,t.baseState=a,t.baseQueue=l,n.lastRenderedState=r}return[t.memoizedState,n.dispatch]}function gr(e){var t=pr(),n=t.queue;if(null===n)throw Error(s(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,a=t.memoizedState;if(null!==i){n.pending=null;var o=i=i.next;do{a=e(a,o.action),o=o.next}while(o!==i);$t(a,t.memoizedState)||(Br=!0),t.memoizedState=a,null===t.baseQueue&&(t.baseState=a),n.lastRenderedState=a}return[a,r]}function yr(e,t,n){var r=t._getVersion;r=r(t._source);var i=Q?t._workInProgressVersionPrimary:t._workInProgressVersionSecondary;if(null!==i?e=i===r:(e=e.mutableReadLanes,(e=(ir&e)===e)&&(Q?t._workInProgressVersionPrimary=r:t._workInProgressVersionSecondary=r,er.push(t))),e)return n(t._source);throw er.push(t),Error(s(350))}function br(e,t,n,r){var i=ra;if(null===i)throw Error(s(349));var a=t._getVersion,o=a(t._source),l=nr.current,u=l.useState((function(){return yr(i,t,n)})),c=u[1],d=u[0];u=sr;var h=e.memoizedState,f=h.refs,p=f.getSnapshot,m=h.source;h=h.subscribe;var v=ar;return e.memoizedState={refs:f,source:t,subscribe:r},l.useEffect((function(){f.getSnapshot=n,f.setSnapshot=c;var e=a(t._source);if(!$t(o,e)){e=n(t._source),$t(d,e)||(c(e),e=ja(v),i.mutableReadLanes|=e&i.pendingLanes),e=i.mutableReadLanes,i.entangledLanes|=e;for(var r=i.entanglements,s=e;0<s;){var l=31-Mt(s),u=1<<l;r[l]|=e,s&=~u}}}),[n,t,r]),l.useEffect((function(){return r(t._source,(function(){var e=f.getSnapshot,n=f.setSnapshot;try{n(e(t._source));var r=ja(v);i.mutableReadLanes|=r&i.pendingLanes}catch(a){n((function(){throw a}))}}))}),[t,r]),$t(p,n)&&$t(m,t)&&$t(h,r)||((e={pending:null,dispatch:null,lastRenderedReducer:mr,lastRenderedState:d}).dispatch=c=Nr.bind(null,ar,e),u.queue=e,u.baseQueue=null,d=yr(i,t,n),u.memoizedState=u.baseState=d),d}function xr(e,t,n){return br(pr(),e,t,n)}function wr(e){var t=fr();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e=(e=t.queue={pending:null,dispatch:null,lastRenderedReducer:mr,lastRenderedState:e}).dispatch=Nr.bind(null,ar,e),[t.memoizedState,e]}function Mr(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=ar.updateQueue)?(t={lastEffect:null},ar.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function _r(e){return e={current:e},fr().memoizedState=e}function Sr(){return pr().memoizedState}function Er(e,t,n,r){var i=fr();ar.flags|=e,i.memoizedState=Mr(1|t,n,void 0,void 0===r?null:r)}function Tr(e,t,n,r){var i=pr();r=void 0===r?null:r;var a=void 0;if(null!==or){var o=or.memoizedState;if(a=o.destroy,null!==r&&dr(r,o.deps))return void Mr(t,n,a,r)}ar.flags|=e,i.memoizedState=Mr(1|t,n,a,r)}function Ar(e,t){return Er(516,4,e,t)}function Rr(e,t){return Tr(516,4,e,t)}function Or(e,t){return Tr(4,2,e,t)}function kr(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Ir(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Tr(4,2,kr.bind(null,t,e),n)}function Cr(){}function Dr(e,t){var n=pr();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&dr(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Lr(e,t){var n=pr();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&dr(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Pr(e,t){var n=Ht();Xt(98>n?98:n,(function(){e(!0)})),Xt(97<n?97:n,(function(){var n=rr.transition;rr.transition=1;try{e(!1),t()}finally{rr.transition=n}}))}function Nr(e,t,n){var r=Na(),i=ja(e),a={lane:i,action:n,eagerReducer:null,eagerState:null,next:null},o=t.pending;if(null===o?a.next=a:(a.next=o.next,o.next=a),t.pending=a,o=e.alternate,e===ar||null!==o&&o===ar)ur=lr=!0;else{if(0===e.lanes&&(null===o||0===o.lanes)&&null!==(o=t.lastRenderedReducer))try{var s=t.lastRenderedState,l=o(s,n);if(a.eagerReducer=o,a.eagerState=l,$t(l,s))return}catch(u){}Fa(e,i,r)}}var jr={readContext:hn,useCallback:cr,useContext:cr,useEffect:cr,useImperativeHandle:cr,useLayoutEffect:cr,useMemo:cr,useReducer:cr,useRef:cr,useState:cr,useDebugValue:cr,useDeferredValue:cr,useTransition:cr,useMutableSource:cr,useOpaqueIdentifier:cr,unstable_isNewReconciler:!1},Fr={readContext:hn,useCallback:function(e,t){return fr().memoizedState=[e,void 0===t?null:t],e},useContext:hn,useEffect:Ar,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Er(4,2,kr.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Er(4,2,e,t)},useMemo:function(e,t){var n=fr();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=fr();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e=(e=r.queue={pending:null,dispatch:null,lastRenderedReducer:e,lastRenderedState:t}).dispatch=Nr.bind(null,ar,e),[r.memoizedState,e]},useRef:_r,useState:wr,useDebugValue:Cr,useDeferredValue:function(e){var t=wr(e),n=t[0],r=t[1];return Ar((function(){var t=rr.transition;rr.transition=1;try{r(e)}finally{rr.transition=t}}),[e]),n},useTransition:function(){var e=wr(!1),t=e[0];return _r(e=Pr.bind(null,e[1])),[e,t]},useMutableSource:function(e,t,n){var r=fr();return r.memoizedState={refs:{getSnapshot:t,setSnapshot:null},source:e,subscribe:n},br(r,e,t,n)},useOpaqueIdentifier:function(){if(qn){var e=!1,t=ee((function(){throw e||(e=!0,n(te())),Error(s(355))})),n=wr(t)[1];return 0===(2&ar.mode)&&(ar.flags|=516,Mr(5,(function(){n(te())}),void 0,null)),t}return wr(t=te()),t},unstable_isNewReconciler:!1},Gr={readContext:hn,useCallback:Dr,useContext:hn,useEffect:Rr,useImperativeHandle:Ir,useLayoutEffect:Or,useMemo:Lr,useReducer:vr,useRef:Sr,useState:function(){return vr(mr)},useDebugValue:Cr,useDeferredValue:function(e){var t=vr(mr),n=t[0],r=t[1];return Rr((function(){var t=rr.transition;rr.transition=1;try{r(e)}finally{rr.transition=t}}),[e]),n},useTransition:function(){var e=vr(mr)[0];return[Sr().current,e]},useMutableSource:xr,useOpaqueIdentifier:function(){return vr(mr)[0]},unstable_isNewReconciler:!1},Ur={readContext:hn,useCallback:Dr,useContext:hn,useEffect:Rr,useImperativeHandle:Ir,useLayoutEffect:Or,useMemo:Lr,useReducer:gr,useRef:Sr,useState:function(){return gr(mr)},useDebugValue:Cr,useDeferredValue:function(e){var t=gr(mr),n=t[0],r=t[1];return Rr((function(){var t=rr.transition;rr.transition=1;try{r(e)}finally{rr.transition=t}}),[e]),n},useTransition:function(){var e=gr(mr)[0];return[Sr().current,e]},useMutableSource:xr,useOpaqueIdentifier:function(){return gr(mr)[0]},unstable_isNewReconciler:!1},zr=l.ReactCurrentOwner,Br=!1;function Vr(e,t,n,r){t.child=null===e?Dn(t,null,n,r):Cn(t,e.child,n,r)}function Hr(e,t,n,r,i){n=n.render;var a=t.ref;return dn(t,i),r=hr(e,t,n,r,a,i),null===e||Br?(t.flags|=1,Vr(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-517,e.lanes&=~i,di(e,t,i))}function Wr(e,t,n,r,i,a){if(null===e){var o=n.type;return"function"!==typeof o||_o(o)||void 0!==o.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Eo(n.type,null,r,t,t.mode,a)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=o,Xr(e,t,o,r,i,a))}return o=e.child,0===(i&a)&&(i=o.memoizedProps,(n=null!==(n=n.compare)?n:Jt)(i,r)&&e.ref===t.ref)?di(e,t,a):(t.flags|=1,(e=So(o,r)).ref=t.ref,e.return=t,t.child=e)}function Xr(e,t,n,r,i,a){if(null!==e&&Jt(e.memoizedProps,r)&&e.ref===t.ref){if(Br=!1,0===(a&i))return t.lanes=e.lanes,di(e,t,a);0!==(16384&e.flags)&&(Br=!0)}return Qr(e,t,n,r,a)}function qr(e,t,n){var r=t.pendingProps,i=r.children,a=null!==e?e.memoizedState:null;if("hidden"===r.mode||"unstable-defer-without-hiding"===r.mode)if(0===(4&t.mode))t.memoizedState={baseLanes:0},Xa(t,n);else{if(0===(1073741824&n))return e=null!==a?a.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e},Xa(t,e),null;t.memoizedState={baseLanes:0},Xa(t,null!==a?a.baseLanes:n)}else null!==a?(r=a.baseLanes|n,t.memoizedState=null):r=n,Xa(t,r);return Vr(e,t,i,n),t.child}function Yr(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=128)}function Qr(e,t,n,r,i){var a=at(n)?rt:tt.current;return a=it(t,a),dn(t,i),n=hr(e,t,n,r,a,i),null===e||Br?(t.flags|=1,Vr(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-517,e.lanes&=~i,di(e,t,i))}function Zr(e,t,n,r,i){if(at(n)){var a=!0;ut(t)}else a=!1;if(dn(t,i),null===t.stateNode)null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),En(t,n,r),An(t,n,r,i),r=!0;else if(null===e){var o=t.stateNode,s=t.memoizedProps;o.props=s;var l=o.context,u=n.contextType;"object"===typeof u&&null!==u?u=hn(u):u=it(t,u=at(n)?rt:tt.current);var c=n.getDerivedStateFromProps,d="function"===typeof c||"function"===typeof o.getSnapshotBeforeUpdate;d||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(s!==r||l!==u)&&Tn(t,o,r,u),fn=!1;var h=t.memoizedState;o.state=h,bn(t,r,o,i),l=t.memoizedState,s!==r||h!==l||nt.current||fn?("function"===typeof c&&(Mn(t,n,c,r),l=t.memoizedState),(s=fn||Sn(t,n,s,r,h,l,u))?(d||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||("function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount()),"function"===typeof o.componentDidMount&&(t.flags|=4)):("function"===typeof o.componentDidMount&&(t.flags|=4),t.memoizedProps=r,t.memoizedState=l),o.props=r,o.state=l,o.context=u,r=s):("function"===typeof o.componentDidMount&&(t.flags|=4),r=!1)}else{o=t.stateNode,mn(e,t),s=t.memoizedProps,u=t.type===t.elementType?s:tn(t.type,s),o.props=u,d=t.pendingProps,h=o.context,"object"===typeof(l=n.contextType)&&null!==l?l=hn(l):l=it(t,l=at(n)?rt:tt.current);var f=n.getDerivedStateFromProps;(c="function"===typeof f||"function"===typeof o.getSnapshotBeforeUpdate)||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(s!==d||h!==l)&&Tn(t,o,r,l),fn=!1,h=t.memoizedState,o.state=h,bn(t,r,o,i);var p=t.memoizedState;s!==d||h!==p||nt.current||fn?("function"===typeof f&&(Mn(t,n,f,r),p=t.memoizedState),(u=fn||Sn(t,n,u,r,h,p,l))?(c||"function"!==typeof o.UNSAFE_componentWillUpdate&&"function"!==typeof o.componentWillUpdate||("function"===typeof o.componentWillUpdate&&o.componentWillUpdate(r,p,l),"function"===typeof o.UNSAFE_componentWillUpdate&&o.UNSAFE_componentWillUpdate(r,p,l)),"function"===typeof o.componentDidUpdate&&(t.flags|=4),"function"===typeof o.getSnapshotBeforeUpdate&&(t.flags|=256)):("function"!==typeof o.componentDidUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=256),t.memoizedProps=r,t.memoizedState=p),o.props=r,o.state=p,o.context=l,r=u):("function"!==typeof o.componentDidUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=256),r=!1)}return $r(e,t,n,r,a,i)}function $r(e,t,n,r,i,a){Yr(e,t);var o=0!==(64&t.flags);if(!r&&!o)return i&&ct(t,n,!1),di(e,t,a);r=t.stateNode,zr.current=t;var s=o&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&o?(t.child=Cn(t,e.child,null,a),t.child=Cn(t,null,s,a)):Vr(e,t,s,a),t.memoizedState=r.state,i&&ct(t,n,!0),t.child}function Kr(e){var t=e.stateNode;t.pendingContext?st(0,t.pendingContext,t.pendingContext!==t.context):t.context&&st(0,t.context,!1),Gn(e,t.containerInfo)}var Jr,ei,ti,ni,ri={dehydrated:null,retryLane:0};function ii(e,t,n){var r,i=t.pendingProps,a=Vn.current,o=!1;return(r=0!==(64&t.flags))||(r=(null===e||null!==e.memoizedState)&&0!==(2&a)),r?(o=!0,t.flags&=-65):null!==e&&null===e.memoizedState||void 0===i.fallback||!0===i.unstable_avoidThisFallback||(a|=1),Je(Vn,1&a),null===e?(void 0!==i.fallback&&Zn(t),e=i.children,a=i.fallback,o?(e=ai(t,e,a,n),t.child.memoizedState={baseLanes:n},t.memoizedState=ri,e):"number"===typeof i.unstable_expectedLoadTime?(e=ai(t,e,a,n),t.child.memoizedState={baseLanes:n},t.memoizedState=ri,t.lanes=33554432,e):((n=Ao({mode:"visible",children:e},t.mode,n,null)).return=t,t.child=n)):(e.memoizedState,o?(i=si(e,t,i.children,i.fallback,n),o=t.child,a=e.child.memoizedState,o.memoizedState=null===a?{baseLanes:n}:{baseLanes:a.baseLanes|n},o.childLanes=e.childLanes&~n,t.memoizedState=ri,i):(n=oi(e,t,i.children,n),t.memoizedState=null,n))}function ai(e,t,n,r){var i=e.mode,a=e.child;return t={mode:"hidden",children:t},0===(2&i)&&null!==a?(a.childLanes=0,a.pendingProps=t):a=Ao(t,i,0,null),n=To(n,i,r,null),a.return=e,n.return=e,a.sibling=n,e.child=a,n}function oi(e,t,n,r){var i=e.child;return e=i.sibling,n=So(i,{mode:"visible",children:n}),0===(2&t.mode)&&(n.lanes=r),n.return=t,n.sibling=null,null!==e&&(e.nextEffect=null,e.flags=8,t.firstEffect=t.lastEffect=e),t.child=n}function si(e,t,n,r,i){var a=t.mode,o=e.child;e=o.sibling;var s={mode:"hidden",children:n};return 0===(2&a)&&t.child!==o?((n=t.child).childLanes=0,n.pendingProps=s,null!==(o=n.lastEffect)?(t.firstEffect=n.firstEffect,t.lastEffect=o,o.nextEffect=null):t.firstEffect=t.lastEffect=null):n=So(o,s),null!==e?r=So(e,r):(r=To(r,a,i,null)).flags|=2,r.return=t,n.return=t,n.sibling=r,t.child=n,r}function li(e,t){e.lanes|=t;var n=e.alternate;null!==n&&(n.lanes|=t),cn(e.return,t)}function ui(e,t,n,r,i,a){var o=e.memoizedState;null===o?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i,lastEffect:a}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i,o.lastEffect=a)}function ci(e,t,n){var r=t.pendingProps,i=r.revealOrder,a=r.tail;if(Vr(e,t,r.children,n),0!==(2&(r=Vn.current)))r=1&r|2,t.flags|=64;else{if(null!==e&&0!==(64&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&li(e,n);else if(19===e.tag)li(e,n);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Je(Vn,r),0===(2&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===Hn(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),ui(t,!1,i,n,a,t.lastEffect);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===Hn(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}ui(t,!0,n,null,a,t.lastEffect);break;case"together":ui(t,!1,null,null,void 0,t.lastEffect);break;default:t.memoizedState=null}return t.child}function di(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),da|=t.lanes,0!==(n&t.childLanes)){if(null!==e&&t.child!==e.child)throw Error(s(153));if(null!==t.child){for(n=So(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=So(e,e.pendingProps)).return=t;n.sibling=null}return t.child}return null}function hi(e){e.flags|=4}if(Z)Jr=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)z(e,n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},ei=function(){},ti=function(e,t,n,r,i){if((e=e.memoizedProps)!==r){var a=t.stateNode,o=Fn(Pn.current);n=V(a,n,e,r,i,o),(t.updateQueue=n)&&hi(t)}},ni=function(e,t,n,r){n!==r&&hi(t)};else if($){Jr=function(e,t,n,r){for(var i=t.child;null!==i;){if(5===i.tag){var a=i.stateNode;n&&r&&(a=De(a,i.type,i.memoizedProps,i)),z(e,a)}else if(6===i.tag)a=i.stateNode,n&&r&&(a=Le(a,i.memoizedProps,i)),z(e,a);else if(4!==i.tag){if(13===i.tag&&0!==(4&i.flags)&&(a=null!==i.memoizedState)){var o=i.child;if(null!==o&&(null!==o.child&&(o.child.return=o,Jr(e,o,!0,a)),null!==(a=o.sibling))){a.return=i,i=a;continue}}if(null!==i.child){i.child.return=i,i=i.child;continue}}if(i===t)break;for(;null===i.sibling;){if(null===i.return||i.return===t)return;i=i.return}i.sibling.return=i.return,i=i.sibling}};var fi=function e(t,n,r,i){for(var a=n.child;null!==a;){if(5===a.tag){var o=a.stateNode;r&&i&&(o=De(o,a.type,a.memoizedProps,a)),ke(t,o)}else if(6===a.tag)o=a.stateNode,r&&i&&(o=Le(o,a.memoizedProps,a)),ke(t,o);else if(4!==a.tag){if(13===a.tag&&0!==(4&a.flags)&&(o=null!==a.memoizedState)){var s=a.child;if(null!==s&&(null!==s.child&&(s.child.return=s,e(t,s,!0,o)),null!==(o=s.sibling))){o.return=a,a=o;continue}}if(null!==a.child){a.child.return=a,a=a.child;continue}}if(a===n)break;for(;null===a.sibling;){if(null===a.return||a.return===n)return;a=a.return}a.sibling.return=a.return,a=a.sibling}};ei=function(e){var t=e.stateNode;if(null!==e.firstEffect){var n=t.containerInfo,r=Oe(n);fi(r,e,!1,!1),t.pendingChildren=r,hi(e),Ie(n,r)}},ti=function(e,t,n,r,i){var a=e.stateNode,o=e.memoizedProps;if((e=null===t.firstEffect)&&o===r)t.stateNode=a;else{var s=t.stateNode,l=Fn(Pn.current),u=null;o!==r&&(u=V(s,n,o,r,i,l)),e&&null===u?t.stateNode=a:(a=Re(a,u,n,o,r,t,e,s),B(a,n,r,i,l)&&hi(t),t.stateNode=a,e?hi(t):Jr(a,t,!1,!1))}},ni=function(e,t,n,r){n!==r?(e=Fn(jn.current),n=Fn(Pn.current),t.stateNode=W(r,e,n,t),hi(t)):t.stateNode=e.stateNode}}else ei=function(){},ti=function(){},ni=function(){};function pi(e,t){if(!qn)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function mi(e,t,n){var r=t.pendingProps;switch(t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return null;case 1:return at(t.type)&&ot(),null;case 3:return Un(),Ke(nt),Ke(tt),tr(),(r=t.stateNode).pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(Kn(t)?hi(t):r.hydrate||(t.flags|=256)),ei(t),null;case 5:Bn(t);var i=Fn(jn.current);if(n=t.type,null!==e&&null!=t.stateNode)ti(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=128);else{if(!r){if(null===t.stateNode)throw Error(s(166));return null}if(e=Fn(Pn.current),Kn(t)){if(!K)throw Error(s(175));e=ze(t.stateNode,t.type,t.memoizedProps,i,e,t),t.updateQueue=e,null!==e&&hi(t)}else{var a=U(n,r,i,e,t);Jr(a,t,!1,!1),t.stateNode=a,B(a,n,r,i,e)&&hi(t)}null!==t.ref&&(t.flags|=128)}return null;case 6:if(e&&null!=t.stateNode)ni(e,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(s(166));if(e=Fn(jn.current),i=Fn(Pn.current),Kn(t)){if(!K)throw Error(s(176));Be(t.stateNode,t.memoizedProps,t)&&hi(t)}else t.stateNode=W(r,e,i,t)}return null;case 13:return Ke(Vn),r=t.memoizedState,0!==(64&t.flags)?(t.lanes=n,t):(r=null!==r,i=!1,null===e?void 0!==t.memoizedProps.fallback&&Kn(t):i=null!==e.memoizedState,r&&!i&&0!==(2&t.mode)&&(null===e&&!0!==t.memoizedProps.unstable_avoidThisFallback||0!==(1&Vn.current)?0===la&&(la=3):(0!==la&&3!==la||(la=4),null===ra||0===(134217727&da)&&0===(134217727&ha)||Ba(ra,aa))),$&&r&&(t.flags|=4),Z&&(r||i)&&(t.flags|=4),null);case 4:return Un(),ei(t),null===e&&ie(t.stateNode.containerInfo),null;case 10:return un(t),null;case 17:return at(t.type)&&ot(),null;case 19:if(Ke(Vn),null===(r=t.memoizedState))return null;if(i=0!==(64&t.flags),null===(a=r.rendering))if(i)pi(r,!1);else{if(0!==la||null!==e&&0!==(64&e.flags))for(e=t.child;null!==e;){if(null!==(a=Hn(e))){for(t.flags|=64,pi(r,!1),null!==(e=a.updateQueue)&&(t.updateQueue=e,t.flags|=4),null===r.lastEffect&&(t.firstEffect=null),t.lastEffect=r.lastEffect,e=n,r=t.child;null!==r;)n=e,(i=r).flags&=2,i.nextEffect=null,i.firstEffect=null,i.lastEffect=null,null===(a=i.alternate)?(i.childLanes=0,i.lanes=n,i.child=null,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=a.childLanes,i.lanes=a.lanes,i.child=a.child,i.memoizedProps=a.memoizedProps,i.memoizedState=a.memoizedState,i.updateQueue=a.updateQueue,i.type=a.type,n=a.dependencies,i.dependencies=null===n?null:{lanes:n.lanes,firstContext:n.firstContext}),r=r.sibling;return Je(Vn,1&Vn.current|2),t.child}e=e.sibling}null!==r.tail&&Vt()>va&&(t.flags|=64,i=!0,pi(r,!1),t.lanes=33554432)}else{if(!i)if(null!==(e=Hn(a))){if(t.flags|=64,i=!0,null!==(e=e.updateQueue)&&(t.updateQueue=e,t.flags|=4),pi(r,!0),null===r.tail&&"hidden"===r.tailMode&&!a.alternate&&!qn)return null!==(t=t.lastEffect=r.lastEffect)&&(t.nextEffect=null),null}else 2*Vt()-r.renderingStartTime>va&&1073741824!==n&&(t.flags|=64,i=!0,pi(r,!1),t.lanes=33554432);r.isBackwards?(a.sibling=t.child,t.child=a):(null!==(e=r.last)?e.sibling=a:t.child=a,r.last=a)}return null!==r.tail?(e=r.tail,r.rendering=e,r.tail=e.sibling,r.lastEffect=t.lastEffect,r.renderingStartTime=Vt(),e.sibling=null,t=Vn.current,Je(Vn,i?1&t|2:1&t),e):null;case 23:case 24:return qa(),null!==e&&null!==e.memoizedState!==(null!==t.memoizedState)&&"unstable-defer-without-hiding"!==r.mode&&(t.flags|=4),null}throw Error(s(156,t.tag))}function vi(e){switch(e.tag){case 1:at(e.type)&&ot();var t=e.flags;return 4096&t?(e.flags=-4097&t|64,e):null;case 3:if(Un(),Ke(nt),Ke(tt),tr(),0!==(64&(t=e.flags)))throw Error(s(285));return e.flags=-4097&t|64,e;case 5:return Bn(e),null;case 13:return Ke(Vn),4096&(t=e.flags)?(e.flags=-4097&t|64,e):null;case 19:return Ke(Vn),null;case 4:return Un(),null;case 10:return un(e),null;case 23:case 24:return qa(),null;default:return null}}function gi(e,t){try{var n="",r=t;do{n+=en(r),r=r.return}while(r);var i=n}catch(a){i="\nError generating stack: "+a.message+"\n"+a.stack}return{value:e,source:t,stack:i}}function yi(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}var bi="function"===typeof WeakMap?WeakMap:Map;function xi(e,t,n){(n=vn(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){xa||(xa=!0,wa=r),yi(0,t)},n}function wi(e,t,n){(n=vn(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return yi(0,t),r(i)}}var a=e.stateNode;return null!==a&&"function"===typeof a.componentDidCatch&&(n.callback=function(){"function"!==typeof r&&(null===Ma?Ma=new Set([this]):Ma.add(this),yi(0,t));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}var Mi="function"===typeof WeakSet?WeakSet:Set;function _i(e){var t=e.ref;if(null!==t)if("function"===typeof t)try{t(null)}catch(n){co(e,n)}else t.current=null}function Si(e,t){switch(t.tag){case 0:case 11:case 15:case 22:return;case 1:if(256&t.flags&&null!==e){var n=e.memoizedProps,r=e.memoizedState;t=(e=t.stateNode).getSnapshotBeforeUpdate(t.elementType===t.type?n:tn(t.type,n),r),e.__reactInternalSnapshotBeforeUpdate=t}return;case 3:return void(Z&&256&t.flags&&Ae(t.stateNode.containerInfo));case 5:case 6:case 4:case 17:return}throw Error(s(163))}function Ei(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.destroy;n.destroy=void 0,void 0!==r&&r()}n=n.next}while(n!==t)}}function Ti(e,t,n){switch(n.tag){case 0:case 11:case 15:case 22:if(null!==(t=null!==(t=n.updateQueue)?t.lastEffect:null)){e=t=t.next;do{if(3===(3&e.tag)){var r=e.create;e.destroy=r()}e=e.next}while(e!==t)}if(null!==(t=null!==(t=n.updateQueue)?t.lastEffect:null)){e=t=t.next;do{var i=e;r=i.next,0!==(4&(i=i.tag))&&0!==(1&i)&&(so(n,e),oo(n,e)),e=r}while(e!==t)}return;case 1:return e=n.stateNode,4&n.flags&&(null===t?e.componentDidMount():(r=n.elementType===n.type?t.memoizedProps:tn(n.type,t.memoizedProps),e.componentDidUpdate(r,t.memoizedState,e.__reactInternalSnapshotBeforeUpdate))),void(null!==(t=n.updateQueue)&&xn(n,t,e));case 3:if(null!==(t=n.updateQueue)){if(e=null,null!==n.child)switch(n.child.tag){case 5:e=P(n.child.stateNode);break;case 1:e=n.child.stateNode}xn(n,t,e)}return;case 5:return e=n.stateNode,void(null===t&&4&n.flags&&ve(e,n.type,n.memoizedProps,n));case 6:case 4:case 12:return;case 13:return void(K&&null===n.memoizedState&&(n=n.alternate,null!==n&&(n=n.memoizedState,null!==n&&(n=n.dehydrated,null!==n&&We(n)))));case 19:case 17:case 20:case 21:case 23:case 24:return}throw Error(s(163))}function Ai(e,t){if(Z)for(var n=e;;){if(5===n.tag){var r=n.stateNode;t?_e(r):Ee(n.stateNode,n.memoizedProps)}else if(6===n.tag)r=n.stateNode,t?Se(r):Te(r,n.memoizedProps);else if((23!==n.tag&&24!==n.tag||null===n.memoizedState||n===e)&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===e)break;for(;null===n.sibling;){if(null===n.return||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}}function Ri(e,t){if(ht&&"function"===typeof ht.onCommitFiberUnmount)try{ht.onCommitFiberUnmount(dt,t)}catch(a){}switch(t.tag){case 0:case 11:case 14:case 15:case 22:if(null!==(e=t.updateQueue)&&null!==(e=e.lastEffect)){var n=e=e.next;do{var r=n,i=r.destroy;if(r=r.tag,void 0!==i)if(0!==(4&r))so(t,n);else{r=t;try{i()}catch(a){co(r,a)}}n=n.next}while(n!==e)}break;case 1:if(_i(t),"function"===typeof(e=t.stateNode).componentWillUnmount)try{e.props=t.memoizedProps,e.state=t.memoizedState,e.componentWillUnmount()}catch(a){co(t,a)}break;case 5:_i(t);break;case 4:Z?Pi(e,t):$&&$&&(t=t.stateNode.containerInfo,e=Oe(t),Ce(t,e))}}function Oi(e,t){for(var n=t;;)if(Ri(e,n),null===n.child||Z&&4===n.tag){if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}else n.child.return=n,n=n.child}function ki(e){e.alternate=null,e.child=null,e.dependencies=null,e.firstEffect=null,e.lastEffect=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.return=null,e.updateQueue=null}function Ii(e){return 5===e.tag||3===e.tag||4===e.tag}function Ci(e){if(Z){e:{for(var t=e.return;null!==t;){if(Ii(t))break e;t=t.return}throw Error(s(160))}var n=t;switch(t=n.stateNode,n.tag){case 5:var r=!1;break;case 3:case 4:t=t.containerInfo,r=!0;break;default:throw Error(s(161))}16&n.flags&&(Me(t),n.flags&=-17);e:t:for(n=e;;){for(;null===n.sibling;){if(null===n.return||Ii(n.return)){n=null;break e}n=n.return}for(n.sibling.return=n.return,n=n.sibling;5!==n.tag&&6!==n.tag&&18!==n.tag;){if(2&n.flags)continue t;if(null===n.child||4===n.tag)continue t;n.child.return=n,n=n.child}if(!(2&n.flags)){n=n.stateNode;break e}}r?Di(e,n,t):Li(e,n,t)}}function Di(e,t,n){var r=e.tag,i=5===r||6===r;if(i)e=i?e.stateNode:e.stateNode.instance,t?be(n,e,t):pe(n,e);else if(4!==r&&null!==(e=e.child))for(Di(e,t,n),e=e.sibling;null!==e;)Di(e,t,n),e=e.sibling}function Li(e,t,n){var r=e.tag,i=5===r||6===r;if(i)e=i?e.stateNode:e.stateNode.instance,t?ye(n,e,t):fe(n,e);else if(4!==r&&null!==(e=e.child))for(Li(e,t,n),e=e.sibling;null!==e;)Li(e,t,n),e=e.sibling}function Pi(e,t){for(var n,r,i=t,a=!1;;){if(!a){a=i.return;e:for(;;){if(null===a)throw Error(s(160));switch(n=a.stateNode,a.tag){case 5:r=!1;break e;case 3:case 4:n=n.containerInfo,r=!0;break e}a=a.return}a=!0}if(5===i.tag||6===i.tag)Oi(e,i),r?we(n,i.stateNode):xe(n,i.stateNode);else if(4===i.tag){if(null!==i.child){n=i.stateNode.containerInfo,r=!0,i.child.return=i,i=i.child;continue}}else if(Ri(e,i),null!==i.child){i.child.return=i,i=i.child;continue}if(i===t)break;for(;null===i.sibling;){if(null===i.return||i.return===t)return;4===(i=i.return).tag&&(a=!1)}i.sibling.return=i.return,i=i.sibling}}function Ni(e,t){if(Z){switch(t.tag){case 0:case 11:case 14:case 15:case 22:return void Ei(3,t);case 1:return;case 5:var n=t.stateNode;if(null!=n){var r=t.memoizedProps;e=null!==e?e.memoizedProps:r;var i=t.type,a=t.updateQueue;t.updateQueue=null,null!==a&&ge(n,a,i,e,r,t)}return;case 6:if(null===t.stateNode)throw Error(s(162));return n=t.memoizedProps,void me(t.stateNode,null!==e?e.memoizedProps:n,n);case 3:return void(K&&(t=t.stateNode,t.hydrate&&(t.hydrate=!1,He(t.containerInfo))));case 12:return;case 13:return ji(t),void Fi(t);case 19:return void Fi(t);case 17:return;case 23:case 24:return void Ai(t,null!==t.memoizedState)}throw Error(s(163))}switch(t.tag){case 0:case 11:case 14:case 15:case 22:return void Ei(3,t);case 12:return;case 13:return ji(t),void Fi(t);case 19:return void Fi(t);case 3:K&&((n=t.stateNode).hydrate&&(n.hydrate=!1,He(n.containerInfo)));break;case 23:case 24:return}e:if($){switch(t.tag){case 1:case 5:case 6:case 20:break e;case 3:case 4:t=t.stateNode,Ce(t.containerInfo,t.pendingChildren);break e}throw Error(s(163))}}function ji(e){null!==e.memoizedState&&(ma=Vt(),Z&&Ai(e.child,!0))}function Fi(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Mi),t.forEach((function(t){var r=fo.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function Gi(e,t){return null!==e&&(null===(e=e.memoizedState)||null!==e.dehydrated)&&(null!==(t=t.memoizedState)&&null===t.dehydrated)}var Ui=0,zi=1,Bi=2,Vi=3,Hi=4;if("function"===typeof Symbol&&Symbol.for){var Wi=Symbol.for;Ui=Wi("selector.component"),zi=Wi("selector.has_pseudo_class"),Bi=Wi("selector.role"),Vi=Wi("selector.test_id"),Hi=Wi("selector.text")}function Xi(e){var t=J(e);if(null!=t){if("string"!==typeof t.memoizedProps["data-testname"])throw Error(s(364));return t}if(null===(e=oe(e)))throw Error(s(362));return e.stateNode.current}function qi(e,t){switch(t.$$typeof){case Ui:if(e.type===t.value)return!0;break;case zi:e:{t=t.value,e=[e,0];for(var n=0;n<e.length;){var r=e[n++],i=e[n++],a=t[i];if(5!==r.tag||!ue(r)){for(;null!=a&&qi(r,a);)a=t[++i];if(i===t.length){t=!0;break e}for(r=r.child;null!==r;)e.push(r,i),r=r.sibling}}t=!1}return t;case Bi:if(5===e.tag&&ce(e.stateNode,t.value))return!0;break;case Hi:if((5===e.tag||6===e.tag)&&(null!==(e=le(e))&&0<=e.indexOf(t.value)))return!0;break;case Vi:if(5===e.tag&&("string"===typeof(e=e.memoizedProps["data-testname"])&&e.toLowerCase()===t.value.toLowerCase()))return!0;break;default:throw Error(s(365,t))}return!1}function Yi(e){switch(e.$$typeof){case Ui:return"<"+(R(e.value)||"Unknown")+">";case zi:return":has("+(Yi(e)||"")+")";case Bi:return'[role="'+e.value+'"]';case Hi:return'"'+e.value+'"';case Vi:return'[data-testname="'+e.value+'"]';default:throw Error(s(365,e))}}function Qi(e,t){var n=[];e=[e,0];for(var r=0;r<e.length;){var i=e[r++],a=e[r++],o=t[a];if(5!==i.tag||!ue(i)){for(;null!=o&&qi(i,o);)o=t[++a];if(a===t.length)n.push(i);else for(i=i.child;null!==i;)e.push(i,a),i=i.sibling}}return n}function Zi(e,t){if(!ae)throw Error(s(363));e=Qi(e=Xi(e),t),t=[],e=Array.from(e);for(var n=0;n<e.length;){var r=e[n++];if(5===r.tag)ue(r)||t.push(r.stateNode);else for(r=r.child;null!==r;)e.push(r),r=r.sibling}return t}var $i=null;var Ki=Math.ceil,Ji=l.ReactCurrentDispatcher,ea=l.ReactCurrentOwner,ta=l.IsSomeRendererActing,na=0,ra=null,ia=null,aa=0,oa=0,sa=$e(0),la=0,ua=null,ca=0,da=0,ha=0,fa=0,pa=null,ma=0,va=1/0;function ga(){va=Vt()+500}var ya,ba=null,xa=!1,wa=null,Ma=null,_a=!1,Sa=null,Ea=90,Ta=[],Aa=[],Ra=null,Oa=0,ka=null,Ia=-1,Ca=0,Da=0,La=null,Pa=!1;function Na(){return 0!==(48&na)?Vt():-1!==Ia?Ia:Ia=Vt()}function ja(e){if(0===(2&(e=e.mode)))return 1;if(0===(4&e))return 99===Ht()?1:2;if(0===Ca&&(Ca=ca),0!==Zt.transition){0!==Da&&(Da=null!==pa?pa.pendingLanes:0),e=Ca;var t=4186112&~Da;return 0===(t&=-t)&&(0===(t=(e=4186112&~e)&-e)&&(t=8192)),t}return e=Ht(),0!==(4&na)&&98===e?e=yt(12,Ca):e=yt(e=function(e){switch(e){case 99:return 15;case 98:return 10;case 97:case 96:return 8;case 95:return 2;default:return 0}}(e),Ca),e}function Fa(e,t,n){if(50<Oa)throw Oa=0,ka=null,Error(s(185));if(null===(e=Ga(e,t)))return null;wt(e,t,n),e===ra&&(ha|=t,4===la&&Ba(e,aa));var r=Ht();1===t?0!==(8&na)&&0===(48&na)?Va(e):(Ua(e,n),0===na&&(ga(),Yt())):(0===(4&na)||98!==r&&99!==r||(null===Ra?Ra=new Set([e]):Ra.add(e)),Ua(e,n)),pa=e}function Ga(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}function Ua(e,t){for(var n=e.callbackNode,r=e.suspendedLanes,i=e.pingedLanes,a=e.expirationTimes,o=e.pendingLanes;0<o;){var l=31-Mt(o),u=1<<l,c=a[l];if(-1===c){if(0===(u&r)||0!==(u&i)){c=t,mt(u);var d=pt;a[l]=10<=d?c+250:6<=d?c+5e3:-1}}else c<=t&&(e.expiredLanes|=u);o&=~u}if(r=vt(e,e===ra?aa:0),t=pt,0===r)null!==n&&(n!==jt&&At(n),e.callbackNode=null,e.callbackPriority=0);else{if(null!==n){if(e.callbackPriority===t)return;n!==jt&&At(n)}15===t?(n=Va.bind(null,e),null===Gt?(Gt=[n],Ut=Tt(Ct,Qt)):Gt.push(n),n=jt):14===t?n=qt(99,Va.bind(null,e)):n=qt(n=function(e){switch(e){case 15:case 14:return 99;case 13:case 12:case 11:case 10:return 98;case 9:case 8:case 7:case 6:case 4:case 5:return 97;case 3:case 2:case 1:return 95;case 0:return 90;default:throw Error(s(358,e))}}(t),za.bind(null,e)),e.callbackPriority=t,e.callbackNode=n}}function za(e){if(Ia=-1,Da=Ca=0,0!==(48&na))throw Error(s(327));var t=e.callbackNode;if(ao()&&e.callbackNode!==t)return null;var n=vt(e,e===ra?aa:0);if(0===n)return null;var r=n,i=na;na|=16;var a=Za();for(ra===e&&aa===r||(ga(),Ya(e,r));;)try{Ja();break}catch(l){Qa(e,l)}if(sn(),Ji.current=a,na=i,null!==ia?r=0:(ra=null,aa=0,r=la),0!==(ca&ha))Ya(e,0);else if(0!==r){if(2===r&&(na|=64,e.hydrate&&(e.hydrate=!1,Ae(e.containerInfo)),0!==(n=gt(e))&&(r=$a(e,n))),1===r)throw t=ua,Ya(e,0),Ba(e,n),Ua(e,Vt()),t;switch(e.finishedWork=e.current.alternate,e.finishedLanes=n,r){case 0:case 1:throw Error(s(345));case 2:no(e);break;case 3:if(Ba(e,n),(62914560&n)===n&&10<(r=ma+500-Vt())){if(0!==vt(e,0))break;if(((i=e.suspendedLanes)&n)!==n){Na(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=X(no.bind(null,e),r);break}no(e);break;case 4:if(Ba(e,n),(4186112&n)===n)break;for(r=e.eventTimes,i=-1;0<n;){var o=31-Mt(n);a=1<<o,(o=r[o])>i&&(i=o),n&=~a}if(n=i,10<(n=(120>(n=Vt()-n)?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*Ki(n/1960))-n)){e.timeoutHandle=X(no.bind(null,e),n);break}no(e);break;case 5:no(e);break;default:throw Error(s(329))}}return Ua(e,Vt()),e.callbackNode===t?za.bind(null,e):null}function Ba(e,t){for(t&=~fa,t&=~ha,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Mt(t),r=1<<n;e[n]=-1,t&=~r}}function Va(e){if(0!==(48&na))throw Error(s(327));if(ao(),e===ra&&0!==(e.expiredLanes&aa)){var t=aa,n=$a(e,t);0!==(ca&ha)&&(n=$a(e,t=vt(e,t)))}else n=$a(e,t=vt(e,0));if(0!==e.tag&&2===n&&(na|=64,e.hydrate&&(e.hydrate=!1,Ae(e.containerInfo)),0!==(t=gt(e))&&(n=$a(e,t))),1===n)throw n=ua,Ya(e,0),Ba(e,t),Ua(e,Vt()),n;return e.finishedWork=e.current.alternate,e.finishedLanes=t,no(e),Ua(e,Vt()),null}function Ha(e,t){var n=na;na|=1;try{return e(t)}finally{0===(na=n)&&(ga(),Yt())}}function Wa(e,t){var n=na;if(0!==(48&n))return e(t);na|=1;try{if(e)return Xt(99,e.bind(null,t))}finally{na=n,Yt()}}function Xa(e,t){Je(sa,oa),oa|=t,ca|=t}function qa(){oa=sa.current,Ke(sa)}function Ya(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==Y&&(e.timeoutHandle=Y,q(n)),null!==ia)for(n=ia.return;null!==n;){var r=n;switch(r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&ot();break;case 3:Un(),Ke(nt),Ke(tt),tr();break;case 5:Bn(r);break;case 4:Un();break;case 13:case 19:Ke(Vn);break;case 10:un(r);break;case 23:case 24:qa()}n=n.return}ra=e,ia=So(e.current,null),aa=oa=ca=t,la=0,ua=null,fa=ha=da=0}function Qa(e,t){for(;;){var n=ia;try{if(sn(),nr.current=jr,lr){for(var r=ar.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}lr=!1}if(ir=0,sr=or=ar=null,ur=!1,ea.current=null,null===n||null===n.return){la=1,ua=t,ia=null;break}e:{var a=e,o=n.return,s=n,l=t;if(t=aa,s.flags|=2048,s.firstEffect=s.lastEffect=null,null!==l&&"object"===typeof l&&"function"===typeof l.then){var u=l;if(0===(2&s.mode)){var c=s.alternate;c?(s.updateQueue=c.updateQueue,s.memoizedState=c.memoizedState,s.lanes=c.lanes):(s.updateQueue=null,s.memoizedState=null)}var d=0!==(1&Vn.current),h=o;do{var f;if(f=13===h.tag){var p=h.memoizedState;if(null!==p)f=null!==p.dehydrated;else{var m=h.memoizedProps;f=void 0!==m.fallback&&(!0!==m.unstable_avoidThisFallback||!d)}}if(f){var v=h.updateQueue;if(null===v){var g=new Set;g.add(u),h.updateQueue=g}else v.add(u);if(0===(2&h.mode)){if(h.flags|=64,s.flags|=16384,s.flags&=-2981,1===s.tag)if(null===s.alternate)s.tag=17;else{var y=vn(-1,1);y.tag=2,gn(s,y)}s.lanes|=1;break e}l=void 0,s=t;var b=a.pingCache;if(null===b?(b=a.pingCache=new bi,l=new Set,b.set(u,l)):void 0===(l=b.get(u))&&(l=new Set,b.set(u,l)),!l.has(s)){l.add(s);var x=ho.bind(null,a,u,s);u.then(x,x)}h.flags|=4096,h.lanes=t;break e}h=h.return}while(null!==h);l=Error((R(s.type)||"A React component")+" suspended while rendering, but no fallback UI was specified.\n\nAdd a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display.")}5!==la&&(la=2),l=gi(l,s),h=o;do{switch(h.tag){case 3:a=l,h.flags|=4096,t&=-t,h.lanes|=t,yn(h,xi(0,a,t));break e;case 1:a=l;var w=h.type,M=h.stateNode;if(0===(64&h.flags)&&("function"===typeof w.getDerivedStateFromError||null!==M&&"function"===typeof M.componentDidCatch&&(null===Ma||!Ma.has(M)))){h.flags|=4096,t&=-t,h.lanes|=t,yn(h,wi(h,a,t));break e}}h=h.return}while(null!==h)}to(n)}catch(_){t=_,ia===n&&null!==n&&(ia=n=n.return);continue}break}}function Za(){var e=Ji.current;return Ji.current=jr,null===e?jr:e}function $a(e,t){var n=na;na|=16;var r=Za();for(ra===e&&aa===t||Ya(e,t);;)try{Ka();break}catch(i){Qa(e,i)}if(sn(),na=n,Ji.current=r,null!==ia)throw Error(s(261));return ra=null,aa=0,la}function Ka(){for(;null!==ia;)eo(ia)}function Ja(){for(;null!==ia&&!Rt();)eo(ia)}function eo(e){var t=ya(e.alternate,e,oa);e.memoizedProps=e.pendingProps,null===t?to(e):ia=t,ea.current=null}function to(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(2048&t.flags)){if(null!==(n=mi(n,t,oa)))return void(ia=n);if(24!==(n=t).tag&&23!==n.tag||null===n.memoizedState||0!==(1073741824&oa)||0===(4&n.mode)){for(var r=0,i=n.child;null!==i;)r|=i.lanes|i.childLanes,i=i.sibling;n.childLanes=r}null!==e&&0===(2048&e.flags)&&(null===e.firstEffect&&(e.firstEffect=t.firstEffect),null!==t.lastEffect&&(null!==e.lastEffect&&(e.lastEffect.nextEffect=t.firstEffect),e.lastEffect=t.lastEffect),1<t.flags&&(null!==e.lastEffect?e.lastEffect.nextEffect=t:e.firstEffect=t,e.lastEffect=t))}else{if(null!==(n=vi(t)))return n.flags&=2047,void(ia=n);null!==e&&(e.firstEffect=e.lastEffect=null,e.flags|=2048)}if(null!==(t=t.sibling))return void(ia=t);ia=t=e}while(null!==t);0===la&&(la=5)}function no(e){var t=Ht();return Xt(99,ro.bind(null,e,t)),null}function ro(e,t){do{ao()}while(null!==Sa);if(0!==(48&na))throw Error(s(327));var n=e.finishedWork;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(s(177));e.callbackNode=null;var r=n.lanes|n.childLanes,i=r,a=e.pendingLanes&~i;e.pendingLanes=i,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=i,e.mutableReadLanes&=i,e.entangledLanes&=i,i=e.entanglements;for(var o=e.eventTimes,l=e.expirationTimes;0<a;){var u=31-Mt(a),c=1<<u;i[u]=0,o[u]=-1,l[u]=-1,a&=~c}if(null!==Ra&&0===(24&r)&&Ra.has(e)&&Ra.delete(e),e===ra&&(ia=ra=null,aa=0),1<n.flags?null!==n.lastEffect?(n.lastEffect.nextEffect=n,r=n.firstEffect):r=n:r=n.firstEffect,null!==r){i=na,na|=32,ea.current=null,La=F(e.containerInfo),Pa=!1,ba=r;do{try{io()}catch(y){if(null===ba)throw Error(s(330));co(ba,y),ba=ba.nextEffect}}while(null!==ba);La=null,ba=r;do{try{for(o=e;null!==ba;){var d=ba.flags;if(16&d&&Z&&Me(ba.stateNode),128&d){var h=ba.alternate;if(null!==h){var f=h.ref;null!==f&&("function"===typeof f?f(null):f.current=null)}}switch(1038&d){case 2:Ci(ba),ba.flags&=-3;break;case 6:Ci(ba),ba.flags&=-3,Ni(ba.alternate,ba);break;case 1024:ba.flags&=-1025;break;case 1028:ba.flags&=-1025,Ni(ba.alternate,ba);break;case 4:Ni(ba.alternate,ba);break;case 8:l=o,a=ba,Z?Pi(l,a):Oi(l,a);var p=a.alternate;ki(a),null!==p&&ki(p)}ba=ba.nextEffect}}catch(y){if(null===ba)throw Error(s(330));co(ba,y),ba=ba.nextEffect}}while(null!==ba);Pa&&re(),G(e.containerInfo),e.current=n,ba=r;do{try{for(d=e;null!==ba;){var m=ba.flags;if(36&m&&Ti(d,ba.alternate,ba),128&m){h=void 0;var v=ba.ref;if(null!==v){var g=ba.stateNode;switch(ba.tag){case 5:h=P(g);break;default:h=g}"function"===typeof v?v(h):v.current=h}}ba=ba.nextEffect}}catch(y){if(null===ba)throw Error(s(330));co(ba,y),ba=ba.nextEffect}}while(null!==ba);ba=null,Ft(),na=i}else e.current=n;if(_a)_a=!1,Sa=e,Ea=t;else for(ba=r;null!==ba;)t=ba.nextEffect,ba.nextEffect=null,8&ba.flags&&((m=ba).sibling=null,m.stateNode=null),ba=t;if(0===(r=e.pendingLanes)&&(Ma=null),1===r?e===ka?Oa++:(Oa=0,ka=e):Oa=0,n=n.stateNode,ht&&"function"===typeof ht.onCommitFiberRoot)try{ht.onCommitFiberRoot(dt,n,void 0,64===(64&n.current.flags))}catch(y){}if(Ua(e,Vt()),xa)throw xa=!1,e=wa,wa=null,e;return 0!==(8&na)||Yt(),null}function io(){for(;null!==ba;){var e=ba.alternate;Pa||null===La||(0!==(8&ba.flags)?D(ba,La)&&(Pa=!0,ne()):13===ba.tag&&Gi(e,ba)&&D(ba,La)&&(Pa=!0,ne()));var t=ba.flags;0!==(256&t)&&Si(e,ba),0===(512&t)||_a||(_a=!0,qt(97,(function(){return ao(),null}))),ba=ba.nextEffect}}function ao(){if(90!==Ea){var e=97<Ea?97:Ea;return Ea=90,Xt(e,lo)}return!1}function oo(e,t){Ta.push(t,e),_a||(_a=!0,qt(97,(function(){return ao(),null})))}function so(e,t){Aa.push(t,e),_a||(_a=!0,qt(97,(function(){return ao(),null})))}function lo(){if(null===Sa)return!1;var e=Sa;if(Sa=null,0!==(48&na))throw Error(s(331));var t=na;na|=32;var n=Aa;Aa=[];for(var r=0;r<n.length;r+=2){var i=n[r],a=n[r+1],o=i.destroy;if(i.destroy=void 0,"function"===typeof o)try{o()}catch(u){if(null===a)throw Error(s(330));co(a,u)}}for(n=Ta,Ta=[],r=0;r<n.length;r+=2){i=n[r],a=n[r+1];try{var l=i.create;i.destroy=l()}catch(u){if(null===a)throw Error(s(330));co(a,u)}}for(l=e.current.firstEffect;null!==l;)e=l.nextEffect,l.nextEffect=null,8&l.flags&&(l.sibling=null,l.stateNode=null),l=e;return na=t,Yt(),!0}function uo(e,t,n){gn(e,t=xi(0,t=gi(n,t),1)),t=Na(),null!==(e=Ga(e,1))&&(wt(e,1,t),Ua(e,t))}function co(e,t){if(3===e.tag)uo(e,e,t);else for(var n=e.return;null!==n;){if(3===n.tag){uo(n,e,t);break}if(1===n.tag){var r=n.stateNode;if("function"===typeof n.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Ma||!Ma.has(r))){var i=wi(n,e=gi(t,e),1);if(gn(n,i),i=Na(),null!==(n=Ga(n,1)))wt(n,1,i),Ua(n,i);else if("function"===typeof r.componentDidCatch&&(null===Ma||!Ma.has(r)))try{r.componentDidCatch(t,e)}catch(a){}break}}n=n.return}}function ho(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=Na(),e.pingedLanes|=e.suspendedLanes&n,ra===e&&(aa&n)===n&&(4===la||3===la&&(62914560&aa)===aa&&500>Vt()-ma?Ya(e,0):fa|=n),Ua(e,t)}function fo(e,t){var n=e.stateNode;null!==n&&n.delete(t),0===(t=0)&&(0===(2&(t=e.mode))?t=1:0===(4&t)?t=99===Ht()?1:2:(0===Ca&&(Ca=ca),0===(t=bt(62914560&~Ca))&&(t=4194304))),n=Na(),null!==(e=Ga(e,t))&&(wt(e,t,n),Ua(e,n))}ya=function(e,t,n){var r=t.lanes;if(null!==e)if(e.memoizedProps!==t.pendingProps||nt.current)Br=!0;else{if(0===(n&r)){switch(Br=!1,t.tag){case 3:Kr(t),Jn();break;case 5:zn(t);break;case 1:at(t.type)&&ut(t);break;case 4:Gn(t,t.stateNode.containerInfo);break;case 10:ln(t,t.memoizedProps.value);break;case 13:if(null!==t.memoizedState)return 0!==(n&t.child.childLanes)?ii(e,t,n):(Je(Vn,1&Vn.current),null!==(t=di(e,t,n))?t.sibling:null);Je(Vn,1&Vn.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(64&e.flags)){if(r)return ci(e,t,n);t.flags|=64}var i=t.memoizedState;if(null!==i&&(i.rendering=null,i.tail=null,i.lastEffect=null),Je(Vn,Vn.current),r)break;return null;case 23:case 24:return t.lanes=0,qr(e,t,n)}return di(e,t,n)}Br=0!==(16384&e.flags)}else Br=!1;switch(t.lanes=0,t.tag){case 2:if(r=t.type,null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,i=it(t,tt.current),dn(t,n),i=hr(null,t,r,e,i,n),t.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof){if(t.tag=1,t.memoizedState=null,t.updateQueue=null,at(r)){var a=!0;ut(t)}else a=!1;t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,pn(t);var o=r.getDerivedStateFromProps;"function"===typeof o&&Mn(t,r,o,e),i.updater=_n,t.stateNode=i,i._reactInternals=t,An(t,r,e,n),t=$r(null,t,r,!0,a,n)}else t.tag=0,Vr(null,t,i,n),t=t.child;return t;case 16:i=t.elementType;e:{switch(null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,i=(a=i._init)(i._payload),t.type=i,a=t.tag=function(e){if("function"===typeof e)return _o(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===v)return 11;if(e===b)return 14}return 2}(i),e=tn(i,e),a){case 0:t=Qr(null,t,i,e,n);break e;case 1:t=Zr(null,t,i,e,n);break e;case 11:t=Hr(null,t,i,e,n);break e;case 14:t=Wr(null,t,i,tn(i.type,e),r,n);break e}throw Error(s(306,i,""))}return t;case 0:return r=t.type,i=t.pendingProps,Qr(e,t,r,i=t.elementType===r?i:tn(r,i),n);case 1:return r=t.type,i=t.pendingProps,Zr(e,t,r,i=t.elementType===r?i:tn(r,i),n);case 3:if(Kr(t),r=t.updateQueue,null===e||null===r)throw Error(s(282));if(r=t.pendingProps,i=null!==(i=t.memoizedState)?i.element:null,mn(e,t),bn(t,r,null,n),(r=t.memoizedState.element)===i)Jn(),t=di(e,t,n);else{if((a=(i=t.stateNode).hydrate)&&(K?(Xn=Ue(t.stateNode.containerInfo),Wn=t,a=qn=!0):a=!1),a){if(K&&null!=(e=i.mutableSourceEagerHydrationData))for(i=0;i<e.length;i+=2)a=e[i],o=e[i+1],Q?a._workInProgressVersionPrimary=o:a._workInProgressVersionSecondary=o,er.push(a);for(n=Dn(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|1024,n=n.sibling}else Vr(e,t,r,n),Jn();t=t.child}return t;case 5:return zn(t),null===e&&Zn(t),r=t.type,i=t.pendingProps,a=null!==e?e.memoizedProps:null,o=i.children,H(r,i)?o=null:null!==a&&H(r,a)&&(t.flags|=16),Yr(e,t),Vr(e,t,o,n),t.child;case 6:return null===e&&Zn(t),null;case 13:return ii(e,t,n);case 4:return Gn(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=Cn(t,null,r,n):Vr(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,Hr(e,t,r,i=t.elementType===r?i:tn(r,i),n);case 7:return Vr(e,t,t.pendingProps,n),t.child;case 8:case 12:return Vr(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,o=t.memoizedProps,ln(t,a=i.value),null!==o){var l=o.value;if(0===(a=$t(l,a)?0:0|("function"===typeof r._calculateChangedBits?r._calculateChangedBits(l,a):1073741823))){if(o.children===i.children&&!nt.current){t=di(e,t,n);break e}}else for(null!==(l=t.child)&&(l.return=t);null!==l;){var u=l.dependencies;if(null!==u){o=l.child;for(var c=u.firstContext;null!==c;){if(c.context===r&&0!==(c.observedBits&a)){1===l.tag&&((c=vn(-1,n&-n)).tag=2,gn(l,c)),l.lanes|=n,null!==(c=l.alternate)&&(c.lanes|=n),cn(l.return,n),u.lanes|=n;break}c=c.next}}else o=10===l.tag&&l.type===t.type?null:l.child;if(null!==o)o.return=l;else for(o=l;null!==o;){if(o===t){o=null;break}if(null!==(l=o.sibling)){l.return=o.return,o=l;break}o=o.return}l=o}}Vr(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=(a=t.pendingProps).children,dn(t,n),r=r(i=hn(i,a.unstable_observedBits)),t.flags|=1,Vr(e,t,r,n),t.child;case 14:return a=tn(i=t.type,t.pendingProps),Wr(e,t,i,a=tn(i.type,a),r,n);case 15:return Xr(e,t,t.type,t.pendingProps,r,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:tn(r,i),null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),t.tag=1,at(r)?(e=!0,ut(t)):e=!1,dn(t,n),En(t,r,i),An(t,r,i,n),$r(null,t,r,!0,e,n);case 19:return ci(e,t,n);case 23:case 24:return qr(e,t,n)}throw Error(s(156,t.tag))};var po={current:!1},mo=o.unstable_flushAllWithoutAsserting,vo="function"===typeof mo;function go(){if(void 0!==mo)return mo();for(var e=!1;ao();)e=!0;return e}function yo(t){try{go(),function(t){if(null===$i)try{var n=("require"+Math.random()).slice(0,7);$i=(e&&e[n]).call(e,"timers").setImmediate}catch(r){$i=function(e){var t=new MessageChannel;t.port1.onmessage=e,t.port2.postMessage(void 0)}}$i(t)}((function(){go()?yo(t):t()}))}catch(n){t(n)}}var bo=0,xo=!1;function wo(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.flags=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childLanes=this.lanes=0,this.alternate=null}function Mo(e,t,n,r){return new wo(e,t,n,r)}function _o(e){return!(!(e=e.prototype)||!e.isReactComponent)}function So(e,t){var n=e.alternate;return null===n?((n=Mo(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.nextEffect=null,n.firstEffect=null,n.lastEffect=null),n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Eo(e,t,n,r,i,a){var o=2;if(r=e,"function"===typeof e)_o(e)&&(o=1);else if("string"===typeof e)o=5;else e:switch(e){case d:return To(n.children,i,a,t);case M:o=8,i|=16;break;case h:o=8,i|=1;break;case f:return(e=Mo(12,n,t,8|i)).elementType=f,e.type=f,e.lanes=a,e;case g:return(e=Mo(13,n,t,i)).type=g,e.elementType=g,e.lanes=a,e;case y:return(e=Mo(19,n,t,i)).elementType=y,e.lanes=a,e;case _:return Ao(n,i,a,t);case S:return(e=Mo(24,n,t,i)).elementType=S,e.lanes=a,e;default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case p:o=10;break e;case m:o=9;break e;case v:o=11;break e;case b:o=14;break e;case x:o=16,r=null;break e;case w:o=22;break e}throw Error(s(130,null==e?e:typeof e,""))}return(t=Mo(o,n,t,i)).elementType=e,t.type=r,t.lanes=a,t}function To(e,t,n,r){return(e=Mo(7,e,r,t)).lanes=n,e}function Ao(e,t,n,r){return(e=Mo(23,e,r,t)).elementType=_,e.lanes=n,e}function Ro(e,t,n){return(e=Mo(6,e,null,t)).lanes=n,e}function Oo(e,t,n){return(t=Mo(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function ko(e,t,n){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=Y,this.pendingContext=this.context=null,this.hydrate=n,this.callbackNode=null,this.callbackPriority=0,this.eventTimes=xt(0),this.expirationTimes=xt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=xt(0),K&&(this.mutableSourceEagerHydrationData=null)}function Io(e){var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(s(188));throw Error(s(268,Object.keys(e)))}return null===(e=C(t))?null:e.stateNode}function Co(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Do(e,t){Co(e,t),(e=e.alternate)&&Co(e,t)}function Lo(e){return null===(e=C(e))?null:e.stateNode}function Po(){return null}return r.IsThisRendererActing=po,r.act=function(e){function t(){bo--,ta.current=n,po.current=r}!1===xo&&(xo=!0,console.error("act(...) is not supported in production builds of React, and might not behave as expected.")),bo++;var n=ta.current,r=po.current;ta.current=!0,po.current=!0;try{var i=Ha(e)}catch(a){throw t(),a}if(null!==i&&"object"===typeof i&&"function"===typeof i.then)return{then:function(e,r){i.then((function(){1<bo||!0===vo&&!0===n?(t(),e()):yo((function(n){t(),n?r(n):e()}))}),(function(e){t(),r(e)}))}};try{1!==bo||!1!==vo&&!1!==n||go(),t()}catch(a){throw t(),a}return{then:function(e){e()}}},r.attemptContinuousHydration=function(e){13===e.tag&&(Fa(e,67108864,Na()),Do(e,67108864))},r.attemptHydrationAtCurrentPriority=function(e){if(13===e.tag){var t=Na(),n=ja(e);Fa(e,n,t),Do(e,n)}},r.attemptSynchronousHydration=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.hydrate){var n=mt(t.pendingLanes);t.expiredLanes|=n&t.pendingLanes,Ua(t,Vt()),0===(48&na)&&(ga(),Yt())}break;case 13:var r=Na();Wa((function(){return Fa(e,1,r)})),Do(e,4)}},r.attemptUserBlockingHydration=function(e){13===e.tag&&(Fa(e,4,Na()),Do(e,4))},r.batchedEventUpdates=function(e,t){var n=na;na|=2;try{return e(t)}finally{0===(na=n)&&(ga(),Yt())}},r.batchedUpdates=Ha,r.createComponentSelector=function(e){return{$$typeof:Ui,value:e}},r.createContainer=function(e,t,n){return e=new ko(e,t,n),t=Mo(3,null,null,2===t?7:1===t?3:0),e.current=t,t.stateNode=e,pn(t),e},r.createHasPsuedoClassSelector=function(e){return{$$typeof:zi,value:e}},r.createPortal=function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:c,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}},r.createRoleSelector=function(e){return{$$typeof:Bi,value:e}},r.createTestNameSelector=function(e){return{$$typeof:Vi,value:e}},r.createTextSelector=function(e){return{$$typeof:Hi,value:e}},r.deferredUpdates=function(e){return Xt(97,e)},r.discreteUpdates=function(e,t,n,r,i){var a=na;na|=4;try{return Xt(98,e.bind(null,t,n,r,i))}finally{0===(na=a)&&(ga(),Yt())}},r.findAllNodes=Zi,r.findBoundingRects=function(e,t){if(!ae)throw Error(s(363));t=Zi(e,t),e=[];for(var n=0;n<t.length;n++)e.push(se(t[n]));for(t=e.length-1;0<t;t--)for(var r=(n=e[t]).x,i=r+n.width,a=n.y,o=a+n.height,l=t-1;0<=l;l--)if(t!==l){var u=e[l],c=u.x,d=c+u.width,h=u.y,f=h+u.height;if(r>=c&&a>=h&&i<=d&&o<=f){e.splice(t,1);break}if(!(r!==c||n.width!==u.width||f<a||h>o)){h>a&&(u.height+=h-a,u.y=a),f<o&&(u.height=o-h),e.splice(t,1);break}if(!(a!==h||n.height!==u.height||d<r||c>i)){c>r&&(u.width+=c-r,u.x=r),d<i&&(u.width=i-c),e.splice(t,1);break}}return e},r.findHostInstance=Io,r.findHostInstanceWithNoPortals=function(e){return null===(e=function(e){if(!(e=I(e)))return null;for(var t=e;;){if(5===t.tag||6===t.tag)return t;if(t.child&&4!==t.tag)t.child.return=t,t=t.child;else{if(t===e)break;for(;!t.sibling;){if(!t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}}return null}(e))?null:20===e.tag?e.stateNode.instance:e.stateNode},r.findHostInstanceWithWarning=function(e){return Io(e)},r.flushControlled=function(e){var t=na;na|=1;try{Xt(99,e)}finally{0===(na=t)&&(ga(),Yt())}},r.flushDiscreteUpdates=function(){0===(49&na)&&(function(){if(null!==Ra){var e=Ra;Ra=null,e.forEach((function(e){e.expiredLanes|=24&e.pendingLanes,Ua(e,Vt())}))}Yt()}(),ao())},r.flushPassiveEffects=ao,r.flushSync=Wa,r.focusWithin=function(e,t){if(!ae)throw Error(s(363));for(t=Qi(e=Xi(e),t),t=Array.from(t),e=0;e<t.length;){var n=t[e++];if(!ue(n)){if(5===n.tag&&de(n.stateNode))return!0;for(n=n.child;null!==n;)t.push(n),n=n.sibling}}return!1},r.getCurrentUpdateLanePriority=function(){return ft},r.getFindAllNodesFailureDescription=function(e,t){if(!ae)throw Error(s(363));var n=0,r=[];e=[Xi(e),0];for(var i=0;i<e.length;){var a=e[i++],o=e[i++],l=t[o];if((5!==a.tag||!ue(a))&&(qi(a,l)&&(r.push(Yi(l)),++o>n&&(n=o)),o<t.length))for(a=a.child;null!==a;)e.push(a,o),a=a.sibling}if(n<t.length){for(e=[];n<t.length;n++)e.push(Yi(t[n]));return"findAllNodes was able to match part of the selector:\n  "+r.join(" > ")+"\n\nNo matching component was found for:\n  "+e.join(" > ")}return null},r.getPublicRootInstance=function(e){if(!(e=e.current).child)return null;switch(e.child.tag){case 5:return P(e.child.stateNode);default:return e.child.stateNode}},r.injectIntoDevTools=function(e){if(e={bundleType:e.bundleType,version:e.version,rendererPackageName:e.rendererPackageName,rendererConfig:e.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:l.ReactCurrentDispatcher,findHostInstanceByFiber:Lo,findFiberByHostInstance:e.findFiberByHostInstance||Po,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null},"undefined"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__)e=!1;else{var t=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!t.isDisabled&&t.supportsFiber)try{dt=t.inject(e),ht=t}catch(n){}e=!0}return e},r.observeVisibleRects=function(e,t,n,r){if(!ae)throw Error(s(363));e=Zi(e,t);var i=he(e,n,r).disconnect;return{disconnect:function(){i()}}},r.registerMutableSourceForHydration=function(e,t){var n=t._getVersion;n=n(t._source),null==e.mutableSourceEagerHydrationData?e.mutableSourceEagerHydrationData=[t,n]:e.mutableSourceEagerHydrationData.push(t,n)},r.runWithPriority=function(e,t){var n=ft;try{return ft=e,t()}finally{ft=n}},r.shouldSuspend=function(){return!1},r.unbatchedUpdates=function(e,t){var n=na;na&=-2,na|=8;try{return e(t)}finally{0===(na=n)&&(ga(),Yt())}},r.updateContainer=function(e,t,n,r){var i=t.current,a=Na(),o=ja(i);e:if(n){t:{if(O(n=n._reactInternals)!==n||1!==n.tag)throw Error(s(170));var l=n;do{switch(l.tag){case 3:l=l.stateNode.context;break t;case 1:if(at(l.type)){l=l.stateNode.__reactInternalMemoizedMergedChildContext;break t}}l=l.return}while(null!==l);throw Error(s(171))}if(1===n.tag){var u=n.type;if(at(u)){n=lt(n,u,l);break e}}n=l}else n=et;return null===t.context?t.context=n:t.pendingContext=n,(t=vn(a,o)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),gn(i,t),Fa(i,o,a),o},r}}).call(this,n(115)(e))},function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},function(e,t){e.exports=function(e){if(!e.webpackPolyfill){var t=Object.create(e);t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),Object.defineProperty(t,"exports",{enumerable:!0}),t.webpackPolyfill=1}return t}},function(e,t,n){!function(e){"use strict";function t(){var e,n=0,r=[],i=0,a=0;function o(i,a){var o=t();function s(){var t=n>0?i:a;if(v(t))try{var r=t(e);r===o&&m();var s=f(r);s?s.call(r,o.resolve,o.reject):o.resolve(r)}catch(l){o.reject(l)}else o[n>0?"resolve":"reject"](e)}return r.push(s),n&&c(),o}var s=p((function(e){a||u(1,e)})),l=p((function(e){a||u(-1,e)}));function u(t,r){a++;var i=0;try{r===g&&m();var o=t>0&&f(r);o?o.call(r,p((function(e){i++,u(1,e)})),p((function(e){i++,u(-1,e)}))):(n=t,e=r,c())}catch(s){n||i||u(-1,s)}}function c(){i||(setTimeout(d,0),i=1)}function d(){var e=r;i=0,r=[],e.forEach(h)}function h(e){e()}function f(e){var t=e&&(v(e)||"object"===typeof e)&&e.then;return v(t)&&t}function p(e){var t=0;return function(){for(var n=[],r=arguments.length;r--;)n[r]=arguments[r];t++||e.apply(this,n)}}function m(){throw new TypeError("Chaining cycle detected")}var v=function(e){return"function"===typeof e},g={then:o,resolve:s,reject:l};return g}function n(){var e,t,n=new Promise((function(n,r){e=n,t=r}));return{then:n.then.bind(n),resolve:e,reject:t}}t.all=n.all=function(e){var t=0,n=[],i=r();return 0===e.length?i.resolve([]):e.forEach((function(a,o){var s=r();s.resolve(a),s.then((function(r){t++,n[o]=r,t===e.length&&i.resolve(n)}),i.reject)})),i};var r="function"===typeof Promise?n:t;function i(){var e=Object.create(null);function t(n,i){var a=n.id,o=n.name,s=n.dependencies;void 0===s&&(s=[]);var l=n.init;void 0===l&&(l=function(){});var u=n.getTransferables;if(void 0===u&&(u=null),!e[a])try{s=s.map((function(n){return n&&n.isWorkerModule&&(t(n,(function(e){if(e instanceof Error)throw e})),n=e[n.id].value),n})),l=r("<"+o+">.init",l),u&&(u=r("<"+o+">.getTransferables",u));var c=null;"function"===typeof l?c=l.apply(void 0,s):console.error("worker module init function failed to rehydrate"),e[a]={id:a,value:c,getTransferables:u},i(c)}catch(d){d&&d.noLog||console.error(d),i(d)}}function n(t,n){var r,i=t.id,a=t.args;e[i]&&"function"===typeof e[i].value||n(new Error("Worker module "+i+": not found or its 'init' did not return a function"));try{var o=(r=e[i]).value.apply(r,a);o&&"function"===typeof o.then?o.then(s,(function(e){return n(e instanceof Error?e:new Error(""+e))})):s(o)}catch(l){n(l)}function s(t){try{var r=e[i].getTransferables&&e[i].getTransferables(t);r&&Array.isArray(r)&&r.length||(r=void 0),n(t,r)}catch(l){console.error(l),n(l)}}}function r(e,t){var n=void 0;self.troikaDefine=function(e){return n=e};var r=URL.createObjectURL(new Blob(["/** "+e.replace(/\*/g,"")+" **/\n\ntroikaDefine(\n"+t+"\n)"],{type:"application/javascript"}));try{importScripts(r)}catch(i){console.error(i)}return URL.revokeObjectURL(r),delete self.troikaDefine,n}self.addEventListener("message",(function(e){var r=e.data,i=r.messageId,a=r.action,o=r.data;try{"registerModule"===a&&t(o,(function(e){e instanceof Error?postMessage({messageId:i,success:!1,error:e.message}):postMessage({messageId:i,success:!0,result:{isCallable:"function"===typeof e}})})),"callModule"===a&&n(o,(function(e,t){e instanceof Error?postMessage({messageId:i,success:!1,error:e.message}):postMessage({messageId:i,success:!0,result:e},t||void 0)}))}catch(s){postMessage({messageId:i,success:!1,error:s.stack})}}))}function a(e){var t=function e(){for(var t=[],n=arguments.length;n--;)t[n]=arguments[n];return e._getInitResult().then((function(e){if("function"===typeof e)return e.apply(void 0,t);throw new Error("Worker module function was called but `init` did not return a callable function")}))};return t._getInitResult=function(){var n=e.dependencies,i=e.init;n=Array.isArray(n)?n.map((function(e){return e&&e._getInitResult?e._getInitResult():e})):[];var a=r.all(n).then((function(e){return i.apply(null,e)}));return t._getInitResult=function(){return a},a},t}var o=function(){var e=!1;if("undefined"!==typeof window&&"undefined"!==typeof window.document)try{new Worker(URL.createObjectURL(new Blob([""],{type:"application/javascript"}))).terminate(),e=!0}catch(t){console.log("Troika createWorkerModule: web workers not allowed; falling back to main thread execution. Cause: ["+t.message+"]")}return o=function(){return e},e},s=0,l=0,u=!1,c=Object.create(null),d=Object.create(null);function h(e){if((!e||"function"!==typeof e.init)&&!u)throw new Error("requires `options.init` function");var t=e.dependencies,n=e.init,r=e.getTransferables,i=e.workerId;if(!o())return a(e);null==i&&(i="#default");var l="workerModule"+ ++s,c=e.name||l,d=null;function p(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];return d||(d=m(i,"registerModule",p.workerModuleData)),d.then((function(t){if(t.isCallable)return m(i,"callModule",{id:l,args:e});throw new Error("Worker module function was called but `init` did not return a callable function")}))}return t=t&&t.map((function(e){return"function"!==typeof e||e.workerModuleData||(u=!0,e=h({workerId:i,name:"<"+c+"> function dependency: "+e.name,init:"function(){return (\n"+f(e)+"\n)}"}),u=!1),e&&e.workerModuleData&&(e=e.workerModuleData),e})),p.workerModuleData={isWorkerModule:!0,id:l,name:c,dependencies:t,init:f(n),getTransferables:r&&f(r)},p}function f(e){var t=e.toString();return!/^function/.test(t)&&/^\w+\s*\(/.test(t)&&(t="function "+t),t}function p(e){var t=c[e];if(!t){var n=f(i);(t=c[e]=new Worker(URL.createObjectURL(new Blob(["/** Worker Module Bootstrap: "+e.replace(/\*/g,"")+" **/\n\n;("+n+")()"],{type:"application/javascript"})))).onmessage=function(e){var t=e.data,n=t.messageId,r=d[n];if(!r)throw new Error("WorkerModule response with empty or unknown messageId");delete d[n],d.count--,r(t)}}return t}function m(e,t,n){var i=r(),a=++l;return d[a]=function(e){e.success?i.resolve(e.result):i.reject(new Error("Error in worker "+t+" call: "+e.error))},d._count++,d.count>1e3&&console.warn("Large number of open WorkerModule requests, some may not be returning"),p(e).postMessage({messageId:a,action:t,data:n}),i}d._count=0;var v=h({name:"Thenable",dependencies:[r],init:function(e){return e}});e.Thenable=r,e.ThenableWorkerModule=v,e.defineWorkerModule=h,e.stringifyFunction=f,Object.defineProperty(e,"__esModule",{value:!0})}(t)},function(e,t,n){!function(e,t){"use strict";var n=/\bvoid\s+main\s*\(\s*\)\s*{/g;function r(e){var n=/^[ \t]*#include +<([\w\d./]+)>/gm;function i(e,n){var i=t.ShaderChunk[n];return i?r(i):e}return e.replace(n,i)}var i=Object.assign||function(){for(var e=arguments,t=arguments[0],n=1,r=arguments.length;n<r;n++){var i=e[n];if(i)for(var a in i)i.hasOwnProperty(a)&&(t[a]=i[a])}return t},a=Date.now(),o=new WeakMap;function s(e,n){var r=c(n),u=o.get(e);if(u||(u=Object.create(null),o.set(e,u)),u[r])return u[r].clone();var d,h,f=p(r),m="_derivedShaders"+f,v="_onBeforeCompile"+f;function g(t){e.onBeforeCompile.call(this,t);var r=this[m]||(this[m]={vertex:{},fragment:{}}),o=r.vertex,s=r.fragment;if(o.source!==t.vertexShader||s.source!==t.fragmentShader){var u=l(t,n,f);o.source=t.vertexShader,o.result=u.vertexShader,s.source=t.fragmentShader,s.result=u.fragmentShader}t.vertexShader=o.result,t.fragmentShader=s.result,i(t.uniforms,this.uniforms),n.timeUniform&&(t.uniforms[n.timeUniform]={get value(){return Date.now()-a}}),this[v]&&this[v](t)}function y(){e.constructor.apply(this,arguments),this._listeners=void 0}y.prototype=Object.create(e,{constructor:{value:y},isDerivedMaterial:{value:!0},baseMaterial:{value:e},onBeforeCompile:{get:function(){return g},set:function(e){this[v]=e}},copy:{value:function(n){return e.copy.call(this,n),e.isShaderMaterial||e.isDerivedMaterial||(this.extensions=i({},n.extensions),this.defines=i({},n.defines),this.uniforms=t.UniformsUtils.clone(n.uniforms)),this}},getDepthMaterial:{value:function(){var r=this._depthMaterial;return r||(h||((h=s(e.isDerivedMaterial?e.getDepthMaterial():new t.MeshDepthMaterial({depthPacking:t.RGBADepthPacking}),n)).defines.IS_DEPTH_MATERIAL=""),(r=this._depthMaterial=h.clone()).uniforms=this.uniforms),r}},getDistanceMaterial:{value:function(){var r=this._distanceMaterial;return r||(d||((d=s(e.isDerivedMaterial?e.getDistanceMaterial():new t.MeshDistanceMaterial,n)).defines.IS_DISTANCE_MATERIAL=""),(r=this._distanceMaterial=d.clone()).uniforms=this.uniforms),r}},dispose:{value:function(){var t=this,n=t._depthMaterial,r=t._distanceMaterial;n&&n.dispose(),r&&r.dispose(),e.dispose.call(this)}}});var b=new y;return b.copy(e),b.uniforms=i(t.UniformsUtils.clone(e.uniforms||{}),n.uniforms),b.defines=i({},e.defines,n.defines),b.defines["TROIKA_DERIVED_MATERIAL_"+f]="",b.extensions=i({},e.extensions,n.extensions),u[r]=b,b.clone()}function l(e,t,n){var i=e.vertexShader,a=e.fragmentShader,o=t.vertexDefs,s=t.vertexMainIntro,l=t.vertexMainOutro,c=t.vertexTransform,d=t.fragmentDefs,h=t.fragmentMainIntro,f=t.fragmentMainOutro,p=t.fragmentColorTransform,m=t.customRewriter,v=t.timeUniform;if(o=o||"",s=s||"",l=l||"",d=d||"",h=h||"",f=f||"",(c||m)&&(i=r(i)),(p||m)&&(a=r(a=a.replace(/^[ \t]*#include <((?:tonemapping|encodings|fog|premultiplied_alpha|dithering)_fragment)>/gm,"\n//!BEGIN_POST_CHUNK $1\n$&\n//!END_POST_CHUNK\n"))),m){var g=m({vertexShader:i,fragmentShader:a});i=g.vertexShader,a=g.fragmentShader}if(p){var y=[];a=a.replace(/^\/\/!BEGIN_POST_CHUNK[^]+?^\/\/!END_POST_CHUNK/gm,(function(e){return y.push(e),""})),f=p+"\n"+y.join("\n")+"\n"+f}if(v){var b="\nuniform float "+v+";\n";o=b+o,d=b+d}return c&&(o=o+"\nvec3 troika_position_"+n+";\nvec3 troika_normal_"+n+";\nvec2 troika_uv_"+n+";\nvoid troikaVertexTransform"+n+"(inout vec3 position, inout vec3 normal, inout vec2 uv) {\n  "+c+"\n}\n",s="\ntroika_position_"+n+" = vec3(position);\ntroika_normal_"+n+" = vec3(normal);\ntroika_uv_"+n+" = vec2(uv);\ntroikaVertexTransform"+n+"(troika_position_"+n+", troika_normal_"+n+", troika_uv_"+n+");\n"+s+"\n",i=i.replace(/\b(position|normal|uv)\b/g,(function(e,t,r,i){return/\battribute\s+vec[23]\s+$/.test(i.substr(0,r))?t:"troika_"+t+"_"+n}))),{vertexShader:i=u(i,n,o,s,l),fragmentShader:a=u(a,n,d,h,f)}}function u(e,t,r,i,a){return(i||a||r)&&(e=e.replace(n,"\n"+r+"\nvoid troikaOrigMain"+t+"() {"),e+="\nvoid main() {\n  "+i+"\n  troikaOrigMain"+t+"();\n  "+a+"\n}"),e}function c(e){return JSON.stringify(e,d)}function d(e,t){return"uniforms"===e?void 0:"function"===typeof t?t.toString():t}var h=0,f=new Map;function p(e){var t=f.get(e);return null==t&&f.set(e,t=++h),t}var m={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"phong",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"};function v(e){var n=m[e.type];return n?t.ShaderLib[n]:e}function g(e){for(var t,n=/\buniform\s+(int|float|vec[234])\s+([A-Za-z_][\w]*)/g,r=Object.create(null);null!==(t=n.exec(e));)r[t[2]]=t[1];return r}var y=function(e){this.name=e,this.textureUniform="dataTex_"+e,this.textureSizeUniform="dataTexSize_"+e,this.multiplierUniform="dataMultiplier_"+e,this.dataSizeUniform="dataSize_"+e,this.readFunction="readData_"+e,this._raw=new Float32Array(0),this._texture=new t.DataTexture(new Uint8Array(0),0,1),this._length=0,this._multiplier=1},b={length:{configurable:!0}};function x(e,t,n){var r=255*e,i=r%1*255,a=i%1*255,o=a%1*255;return r&=255,i&=255,a&=255,o=255&Math.round(o),t[n]=r,t[n+1]=i,t[n+2]=a,t[n+3]=o,t}b.length.set=function(e){if(e!==this._length){var t=Math.pow(2,Math.ceil(Math.log2(e))),n=this._raw;t<n.length?this._raw=n.subarray(0,t):t>n.length&&(this._raw=new Float32Array(t),this._raw.set(n)),this._length=e}},b.length.get=function(){return this._length},y.prototype.push=function(e){return this.set(this.length++,e)},y.prototype.setArray=function(e){this.length=e.length,this._raw.set(e),this._needsRepack=!0},y.prototype.get=function(e){return this._raw[e]},y.prototype.set=function(e,t){e+1>this._length&&(this.length=e+1),t!==this._raw[e]&&(this._raw[e]=t,x(t/this._multiplier,this._texture.image.data,4*e),this._needsMultCheck=!0)},y.prototype.clone=function(){var e=new y(this.name);return e.setArray(this._raw),e},y.prototype.getShaderUniforms=function(){var e,t=this;return(e={})[this.textureUniform]={get value(){return t._sync(),t._texture}},e[this.textureSizeUniform]={get value(){return t._sync(),t._texture.image.width}},e[this.dataSizeUniform]={get value(){return t._sync(),t.length}},e[this.multiplierUniform]={get value(){return t._sync(),t._multiplier}},e},y.prototype.getShaderHeaderCode=function(){var e=this,t=e.textureUniform,n=e.textureSizeUniform,r=e.dataSizeUniform,i=e.multiplierUniform;return"\nuniform sampler2D "+t+";\nuniform float "+n+";\nuniform float "+r+";\nuniform float "+i+";\n\nfloat "+e.readFunction+"(float index) {\n  vec2 texUV = vec2((index + 0.5) / "+n+", 0.5);\n  vec4 pixel = texture2D("+t+", texUV);\n  return dot(pixel, 1.0 / vec4(1.0, 255.0, 65025.0, 16581375.0)) * "+i+";\n}\n"},y.prototype._sync=function(){var e=this._texture,t=this._raw,n=this._needsRepack;if(t.length!==e.image.width&&(e.image={data:new Uint8Array(4*t.length),width:t.length,height:1},n=!0),n||this._needsMultCheck){var r=this._raw.reduce((function(e,t){return Math.max(e,t)}),0),i=Math.pow(2,Math.ceil(Math.log2(r)));i!==this._multiplier&&(this._multiplier=i,n=!0),e.needsUpdate=!0,this._needsMultCheck=!1}if(n){for(var a=0,o=t.length,s=this._multiplier;a<o;a++)x(t[a]/s,e.image.data,4*a);this._needsRepack=!1}},Object.defineProperties(y.prototype,b);var w="\nuniform vec3 pointA;\nuniform vec3 controlA;\nuniform vec3 controlB;\nuniform vec3 pointB;\nuniform float radius;\nvarying float bezierT;\n\nvec3 cubicBezier(vec3 p1, vec3 c1, vec3 c2, vec3 p2, float t) {\n  float t2 = 1.0 - t;\n  float b0 = t2 * t2 * t2;\n  float b1 = 3.0 * t * t2 * t2;\n  float b2 = 3.0 * t * t * t2;\n  float b3 = t * t * t;\n  return b0 * p1 + b1 * c1 + b2 * c2 + b3 * p2;\n}\n\nvec3 cubicBezierDerivative(vec3 p1, vec3 c1, vec3 c2, vec3 p2, float t) {\n  float t2 = 1.0 - t;\n  return -3.0 * p1 * t2 * t2 +\n    c1 * (3.0 * t2 * t2 - 6.0 * t2 * t) +\n    c2 * (6.0 * t2 * t - 3.0 * t * t) +\n    3.0 * p2 * t * t;\n}\n",M='\nfloat t = position.y;\nbezierT = t;\nvec3 bezierCenterPos = cubicBezier(pointA, controlA, controlB, pointB, t);\nvec3 bezierDir = normalize(cubicBezierDerivative(pointA, controlA, controlB, pointB, t));\n\n// Make "sideways" always perpendicular to the camera ray; this ensures that any twists\n// in the cylinder occur where you won\'t see them: \nvec3 viewDirection = normalMatrix * vec3(0.0, 0.0, 1.0);\nif (bezierDir == viewDirection) {\n  bezierDir = normalize(cubicBezierDerivative(pointA, controlA, controlB, pointB, t == 1.0 ? t - 0.0001 : t + 0.0001));\n}\nvec3 sideways = normalize(cross(bezierDir, viewDirection));\nvec3 upish = normalize(cross(sideways, bezierDir));\n\n// Build a matrix for transforming this disc in the cylinder:\nmat4 discTx;\ndiscTx[0].xyz = sideways * radius;\ndiscTx[1].xyz = bezierDir * radius;\ndiscTx[2].xyz = upish * radius;\ndiscTx[3].xyz = bezierCenterPos;\ndiscTx[3][3] = 1.0;\n\n// Apply transform, ignoring original y\nposition = (discTx * vec4(position.x, 0.0, position.z, 1.0)).xyz;\nnormal = normalize(mat3(discTx) * normal);\n',_="\nuniform vec3 dashing;\nvarying float bezierT;\n",S="\nif (dashing.x + dashing.y > 0.0) {\n  float dashFrac = mod(bezierT - dashing.z, dashing.x + dashing.y);\n  if (dashFrac > dashing.x) {\n    discard;\n  }\n}\n";function E(e){return s(e,{uniforms:{pointA:{value:new t.Vector3},controlA:{value:new t.Vector3},controlB:{value:new t.Vector3},pointB:{value:new t.Vector3},radius:{value:.01},dashing:{value:new t.Vector3}},vertexDefs:w,vertexTransform:M,fragmentDefs:_,fragmentMainIntro:S})}var T=null,A=new t.MeshStandardMaterial({color:16777215,side:t.DoubleSide}),R=function(e){function n(){e.call(this,n.getGeometry(),A),this.pointA=new t.Vector3,this.controlA=new t.Vector3,this.controlB=new t.Vector3,this.pointB=new t.Vector3,this.radius=.01,this.dashArray=new t.Vector2,this.dashOffset=0,this.frustumCulled=!1}e&&(n.__proto__=e),n.prototype=Object.create(e&&e.prototype),n.prototype.constructor=n;var r={material:{configurable:!0},customDepthMaterial:{configurable:!0},customDistanceMaterial:{configurable:!0}};return n.getGeometry=function(){return T||(T=new t.CylinderBufferGeometry(1,1,1,6,64).translate(0,.5,0))},r.material.get=function(){var e=this._derivedMaterial,t=this._baseMaterial||A;return e&&e.baseMaterial===t||(e=this._derivedMaterial=E(t),t.addEventListener("dispose",(function n(){t.removeEventListener("dispose",n),e.dispose()}))),e},r.material.set=function(e){this._baseMaterial=e},r.customDepthMaterial.get=function(){return this.material.getDepthMaterial()},r.customDistanceMaterial.get=function(){return this.material.getDistanceMaterial()},n.prototype.onBeforeRender=function(e){var t=this.material.uniforms,n=this,r=n.pointA,i=n.controlA,a=n.controlB,o=n.pointB,s=n.radius,l=n.dashArray,u=n.dashOffset;t.pointA.value.copy(r),t.controlA.value.copy(i),t.controlB.value.copy(a),t.pointB.value.copy(o),t.radius.value=s,t.dashing.value.set(l.x,l.y,u||0)},n.prototype.raycast=function(e,t){},Object.defineProperties(n.prototype,r),n}(t.Mesh);e.BezierMesh=R,e.ShaderFloatArray=y,e.createDerivedMaterial=s,e.expandShaderIncludes=r,e.getShaderUniformTypes=g,e.getShadersForMaterial=v,e.voidMainRegExp=n,Object.defineProperty(e,"__esModule",{value:!0})}(t,n(0))},function(e,t,n){var r=n(120),i=n(121),a=n(122),o=n(124);e.exports=function(e,t){return r(e)||i(e,t)||a(e,t)||o()}},function(e,t){e.exports=function(e){if(Array.isArray(e))return e}},function(e,t){e.exports=function(e,t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,i=!1,a=void 0;try{for(var o,s=e[Symbol.iterator]();!(r=(o=s.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(l){i=!0,a=l}finally{try{r||null==s.return||s.return()}finally{if(i)throw a}}return n}}},function(e,t,n){var r=n(123);e.exports=function(e,t){if(e){if("string"===typeof e)return r(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?r(e,t):void 0}}},function(e,t){e.exports=function(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}},function(e,t){e.exports=function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}},function(e,t,n){var r=function(e){"use strict";var t,n=Object.prototype,r=n.hasOwnProperty,i="function"===typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",o=i.asyncIterator||"@@asyncIterator",s=i.toStringTag||"@@toStringTag";function l(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(I){l=function(e,t,n){return e[t]=n}}function u(e,t,n,r){var i=t&&t.prototype instanceof v?t:v,a=Object.create(i.prototype),o=new R(r||[]);return a._invoke=function(e,t,n){var r=d;return function(i,a){if(r===f)throw new Error("Generator is already running");if(r===p){if("throw"===i)throw a;return k()}for(n.method=i,n.arg=a;;){var o=n.delegate;if(o){var s=E(o,n);if(s){if(s===m)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(r===d)throw r=p,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r=f;var l=c(e,t,n);if("normal"===l.type){if(r=n.done?p:h,l.arg===m)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(r=p,n.method="throw",n.arg=l.arg)}}}(e,n,o),a}function c(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(I){return{type:"throw",arg:I}}}e.wrap=u;var d="suspendedStart",h="suspendedYield",f="executing",p="completed",m={};function v(){}function g(){}function y(){}var b={};b[a]=function(){return this};var x=Object.getPrototypeOf,w=x&&x(x(O([])));w&&w!==n&&r.call(w,a)&&(b=w);var M=y.prototype=v.prototype=Object.create(b);function _(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function S(e,t){function n(i,a,o,s){var l=c(e[i],e,a);if("throw"!==l.type){var u=l.arg,d=u.value;return d&&"object"===typeof d&&r.call(d,"__await")?t.resolve(d.__await).then((function(e){n("next",e,o,s)}),(function(e){n("throw",e,o,s)})):t.resolve(d).then((function(e){u.value=e,o(u)}),(function(e){return n("throw",e,o,s)}))}s(l.arg)}var i;this._invoke=function(e,r){function a(){return new t((function(t,i){n(e,r,t,i)}))}return i=i?i.then(a,a):a()}}function E(e,n){var r=e.iterator[n.method];if(r===t){if(n.delegate=null,"throw"===n.method){if(e.iterator.return&&(n.method="return",n.arg=t,E(e,n),"throw"===n.method))return m;n.method="throw",n.arg=new TypeError("The iterator does not provide a 'throw' method")}return m}var i=c(r,e.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,m;var a=i.arg;return a?a.done?(n[e.resultName]=a.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,m):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,m)}function T(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function A(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function R(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(T,this),this.reset(!0)}function O(e){if(e){var n=e[a];if(n)return n.call(e);if("function"===typeof e.next)return e;if(!isNaN(e.length)){var i=-1,o=function n(){for(;++i<e.length;)if(r.call(e,i))return n.value=e[i],n.done=!1,n;return n.value=t,n.done=!0,n};return o.next=o}}return{next:k}}function k(){return{value:t,done:!0}}return g.prototype=M.constructor=y,y.constructor=g,g.displayName=l(y,s,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"===typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,y):(e.__proto__=y,l(e,s,"GeneratorFunction")),e.prototype=Object.create(M),e},e.awrap=function(e){return{__await:e}},_(S.prototype),S.prototype[o]=function(){return this},e.AsyncIterator=S,e.async=function(t,n,r,i,a){void 0===a&&(a=Promise);var o=new S(u(t,n,r,i),a);return e.isGeneratorFunction(n)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},_(M),l(M,s,"Generator"),M[a]=function(){return this},M.toString=function(){return"[object Generator]"},e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},e.values=O,R.prototype={constructor:R,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(A),!e)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function i(r,i){return s.type="throw",s.arg=e,n.next=r,i&&(n.method="next",n.arg=t),!!i}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],s=o.completion;if("root"===o.tryLoc)return i("end");if(o.tryLoc<=this.prev){var l=r.call(o,"catchLoc"),u=r.call(o,"finallyLoc");if(l&&u){if(this.prev<o.catchLoc)return i(o.catchLoc,!0);if(this.prev<o.finallyLoc)return i(o.finallyLoc)}else if(l){if(this.prev<o.catchLoc)return i(o.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return i(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var o=a?a.completion:{};return o.type=e,o.arg=t,a?(this.method="next",this.next=a.finallyLoc,m):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),m},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),A(n),m}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;A(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:O(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),m}},e}(e.exports);try{regeneratorRuntime=r}catch(i){Function("r","regeneratorRuntime = r")(r)}},function(e,t){var n,r,i=e.exports={};function a(){throw new Error("setTimeout has not been defined")}function o(){throw new Error("clearTimeout has not been defined")}function s(e){if(n===setTimeout)return setTimeout(e,0);if((n===a||!n)&&setTimeout)return n=setTimeout,setTimeout(e,0);try{return n(e,0)}catch(t){try{return n.call(null,e,0)}catch(t){return n.call(this,e,0)}}}!function(){try{n="function"===typeof setTimeout?setTimeout:a}catch(e){n=a}try{r="function"===typeof clearTimeout?clearTimeout:o}catch(e){r=o}}();var l,u=[],c=!1,d=-1;function h(){c&&l&&(c=!1,l.length?u=l.concat(u):d=-1,u.length&&f())}function f(){if(!c){var e=s(h);c=!0;for(var t=u.length;t;){for(l=u,u=[];++d<t;)l&&l[d].run();d=-1,t=u.length}l=null,c=!1,function(e){if(r===clearTimeout)return clearTimeout(e);if((r===o||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(e);try{r(e)}catch(t){try{return r.call(null,e)}catch(t){return r.call(this,e)}}}(e)}}function p(e,t){this.fun=e,this.array=t}function m(){}i.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];u.push(new p(e,t)),1!==u.length||c||s(f)},p.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={},i.on=m,i.addListener=m,i.once=m,i.off=m,i.removeListener=m,i.removeAllListeners=m,i.emit=m,i.prependListener=m,i.prependOnceListener=m,i.listeners=function(e){return[]},i.binding=function(e){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(e){throw new Error("process.chdir is not supported")},i.umask=function(){return 0}},,function(e,t,n){"use strict";var r=n(7),i=n(2),a=n(98),o=n(1),s=(n(16),n(9)),l=n(34),u=n(48),c=n(11),d=n(21),h=n(23),f=n(68);function p(e,t){return parseInt(e[t],10)||0}var m="undefined"!==typeof window?o.useLayoutEffect:o.useEffect,v={visibility:"hidden",position:"absolute",overflow:"hidden",height:0,top:0,left:0,transform:"translateZ(0)"},g=o.forwardRef((function(e,t){var n=e.onChange,a=e.rows,s=e.rowsMax,l=e.rowsMin,u=void 0===l?1:l,c=e.style,d=e.value,g=Object(r.a)(e,["onChange","rows","rowsMax","rowsMin","style","value"]),y=a||u,b=o.useRef(null!=d).current,x=o.useRef(null),w=Object(h.a)(t,x),M=o.useRef(null),_=o.useRef(0),S=o.useState({}),E=S[0],T=S[1],A=o.useCallback((function(){var t=x.current,n=window.getComputedStyle(t),r=M.current;r.style.width=n.width,r.value=t.value||e.placeholder||"x","\n"===r.value.slice(-1)&&(r.value+=" ");var i=n["box-sizing"],a=p(n,"padding-bottom")+p(n,"padding-top"),o=p(n,"border-bottom-width")+p(n,"border-top-width"),l=r.scrollHeight-a;r.value="x";var u=r.scrollHeight-a,c=l;y&&(c=Math.max(Number(y)*u,c)),s&&(c=Math.min(Number(s)*u,c));var d=(c=Math.max(c,u))+("border-box"===i?a+o:0),h=Math.abs(c-l)<=1;T((function(e){return _.current<20&&(d>0&&Math.abs((e.outerHeightStyle||0)-d)>1||e.overflow!==h)?(_.current+=1,{overflow:h,outerHeightStyle:d}):e}))}),[s,y,e.placeholder]);o.useEffect((function(){var e=Object(f.a)((function(){_.current=0,A()}));return window.addEventListener("resize",e),function(){e.clear(),window.removeEventListener("resize",e)}}),[A]),m((function(){A()})),o.useEffect((function(){_.current=0}),[d]);return o.createElement(o.Fragment,null,o.createElement("textarea",Object(i.a)({value:d,onChange:function(e){_.current=0,b||A(),n&&n(e)},ref:w,rows:y,style:Object(i.a)({height:E.outerHeightStyle,overflow:E.overflow?"hidden":null},c)},g)),o.createElement("textarea",{"aria-hidden":!0,className:e.className,readOnly:!0,ref:M,tabIndex:-1,style:Object(i.a)({},v,c)}))})),y=n(49),b="undefined"===typeof window?o.useEffect:o.useLayoutEffect,x=o.forwardRef((function(e,t){var n=e["aria-describedby"],c=e.autoComplete,f=e.autoFocus,p=e.classes,m=e.className,v=(e.color,e.defaultValue),x=e.disabled,w=e.endAdornment,M=(e.error,e.fullWidth),_=void 0!==M&&M,S=e.id,E=e.inputComponent,T=void 0===E?"input":E,A=e.inputProps,R=void 0===A?{}:A,O=e.inputRef,k=(e.margin,e.multiline),I=void 0!==k&&k,C=e.name,D=e.onBlur,L=e.onChange,P=e.onClick,N=e.onFocus,j=e.onKeyDown,F=e.onKeyUp,G=e.placeholder,U=e.readOnly,z=e.renderSuffix,B=e.rows,V=e.rowsMax,H=e.rowsMin,W=e.startAdornment,X=e.type,q=void 0===X?"text":X,Y=e.value,Q=Object(r.a)(e,["aria-describedby","autoComplete","autoFocus","classes","className","color","defaultValue","disabled","endAdornment","error","fullWidth","id","inputComponent","inputProps","inputRef","margin","multiline","name","onBlur","onChange","onClick","onFocus","onKeyDown","onKeyUp","placeholder","readOnly","renderSuffix","rows","rowsMax","rowsMin","startAdornment","type","value"]),Z=null!=R.value?R.value:Y,$=o.useRef(null!=Z).current,K=o.useRef(),J=o.useCallback((function(e){0}),[]),ee=Object(h.a)(R.ref,J),te=Object(h.a)(O,ee),ne=Object(h.a)(K,te),re=o.useState(!1),ie=re[0],ae=re[1],oe=Object(u.b)();var se=Object(l.a)({props:e,muiFormControl:oe,states:["color","disabled","error","hiddenLabel","margin","required","filled"]});se.focused=oe?oe.focused:ie,o.useEffect((function(){!oe&&x&&ie&&(ae(!1),D&&D())}),[oe,x,ie,D]);var le=oe&&oe.onFilled,ue=oe&&oe.onEmpty,ce=o.useCallback((function(e){Object(y.b)(e)?le&&le():ue&&ue()}),[le,ue]);b((function(){$&&ce({value:Z})}),[Z,ce,$]);o.useEffect((function(){ce(K.current)}),[]);var de=T,he=Object(i.a)({},R,{ref:ne});"string"!==typeof de?he=Object(i.a)({inputRef:ne,type:q},he,{ref:null}):I?!B||V||H?(he=Object(i.a)({rows:B,rowsMax:V},he),de=g):de="textarea":he=Object(i.a)({type:q},he);return o.useEffect((function(){oe&&oe.setAdornedStart(Boolean(W))}),[oe,W]),o.createElement("div",Object(i.a)({className:Object(s.a)(p.root,p["color".concat(Object(d.a)(se.color||"primary"))],m,se.disabled&&p.disabled,se.error&&p.error,_&&p.fullWidth,se.focused&&p.focused,oe&&p.formControl,I&&p.multiline,W&&p.adornedStart,w&&p.adornedEnd,"dense"===se.margin&&p.marginDense),onClick:function(e){K.current&&e.currentTarget===e.target&&K.current.focus(),P&&P(e)},ref:t},Q),W,o.createElement(u.a.Provider,{value:null},o.createElement(de,Object(i.a)({"aria-invalid":se.error,"aria-describedby":n,autoComplete:c,autoFocus:f,defaultValue:v,disabled:se.disabled,id:S,onAnimationStart:function(e){ce("mui-auto-fill-cancel"===e.animationName?K.current:{value:"x"})},name:C,placeholder:G,readOnly:U,required:se.required,rows:B,value:Z,onKeyDown:j,onKeyUp:F},he,{className:Object(s.a)(p.input,R.className,se.disabled&&p.disabled,I&&p.inputMultiline,se.hiddenLabel&&p.inputHiddenLabel,W&&p.inputAdornedStart,w&&p.inputAdornedEnd,"search"===q&&p.inputTypeSearch,"dense"===se.margin&&p.inputMarginDense),onBlur:function(e){D&&D(e),R.onBlur&&R.onBlur(e),oe&&oe.onBlur?oe.onBlur(e):ae(!1)},onChange:function(e){if(!$){var t=e.target||K.current;if(null==t)throw new Error(Object(a.a)(1));ce({value:t.value})}for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];R.onChange&&R.onChange.apply(R,[e].concat(r)),L&&L.apply(void 0,[e].concat(r))},onFocus:function(e){se.disabled?e.stopPropagation():(N&&N(e),R.onFocus&&R.onFocus(e),oe&&oe.onFocus?oe.onFocus(e):ae(!0))}}))),w,z?z(Object(i.a)({},se,{startAdornment:W})):null)}));t.a=Object(c.a)((function(e){var t="light"===e.palette.type,n={color:"currentColor",opacity:t?.42:.5,transition:e.transitions.create("opacity",{duration:e.transitions.duration.shorter})},r={opacity:"0 !important"},a={opacity:t?.42:.5};return{"@global":{"@keyframes mui-auto-fill":{},"@keyframes mui-auto-fill-cancel":{}},root:Object(i.a)({},e.typography.body1,{color:e.palette.text.primary,lineHeight:"1.1876em",boxSizing:"border-box",position:"relative",cursor:"text",display:"inline-flex",alignItems:"center","&$disabled":{color:e.palette.text.disabled,cursor:"default"}}),formControl:{},focused:{},disabled:{},adornedStart:{},adornedEnd:{},error:{},marginDense:{},multiline:{padding:"".concat(6,"px 0 ").concat(7,"px"),"&$marginDense":{paddingTop:3}},colorSecondary:{},fullWidth:{width:"100%"},input:{font:"inherit",letterSpacing:"inherit",color:"currentColor",padding:"".concat(6,"px 0 ").concat(7,"px"),border:0,boxSizing:"content-box",background:"none",height:"1.1876em",margin:0,WebkitTapHighlightColor:"transparent",display:"block",minWidth:0,width:"100%",animationName:"mui-auto-fill-cancel",animationDuration:"10ms","&::-webkit-input-placeholder":n,"&::-moz-placeholder":n,"&:-ms-input-placeholder":n,"&::-ms-input-placeholder":n,"&:focus":{outline:0},"&:invalid":{boxShadow:"none"},"&::-webkit-search-decoration":{"-webkit-appearance":"none"},"label[data-shrink=false] + $formControl &":{"&::-webkit-input-placeholder":r,"&::-moz-placeholder":r,"&:-ms-input-placeholder":r,"&::-ms-input-placeholder":r,"&:focus::-webkit-input-placeholder":a,"&:focus::-moz-placeholder":a,"&:focus:-ms-input-placeholder":a,"&:focus::-ms-input-placeholder":a},"&$disabled":{opacity:1},"&:-webkit-autofill":{animationDuration:"5000s",animationName:"mui-auto-fill"}},inputMarginDense:{paddingTop:3},inputMultiline:{height:"auto",resize:"none",padding:0},inputTypeSearch:{"-moz-appearance":"textfield","-webkit-appearance":"textfield"},inputAdornedStart:{},inputAdornedEnd:{},inputHiddenLabel:{}}}),{name:"MuiInputBase"})(x)},function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(1),i=n.n(r);var a=i.a.createContext(null);function o(){return i.a.useContext(a)}},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";var r=n(2),i=n(7),a=n(1),o=(n(16),n(9)),s=n(11),l=n(21),u={h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",h6:"h6",subtitle1:"h6",subtitle2:"h6",body1:"p",body2:"p"},c=a.forwardRef((function(e,t){var n=e.align,s=void 0===n?"inherit":n,c=e.classes,d=e.className,h=e.color,f=void 0===h?"initial":h,p=e.component,m=e.display,v=void 0===m?"initial":m,g=e.gutterBottom,y=void 0!==g&&g,b=e.noWrap,x=void 0!==b&&b,w=e.paragraph,M=void 0!==w&&w,_=e.variant,S=void 0===_?"body1":_,E=e.variantMapping,T=void 0===E?u:E,A=Object(i.a)(e,["align","classes","className","color","component","display","gutterBottom","noWrap","paragraph","variant","variantMapping"]),R=p||(M?"p":T[S]||u[S])||"span";return a.createElement(R,Object(r.a)({className:Object(o.a)(c.root,d,"inherit"!==S&&c[S],"initial"!==f&&c["color".concat(Object(l.a)(f))],x&&c.noWrap,y&&c.gutterBottom,M&&c.paragraph,"inherit"!==s&&c["align".concat(Object(l.a)(s))],"initial"!==v&&c["display".concat(Object(l.a)(v))]),ref:t},A))}));t.a=Object(s.a)((function(e){return{root:{margin:0},body2:e.typography.body2,body1:e.typography.body1,caption:e.typography.caption,button:e.typography.button,h1:e.typography.h1,h2:e.typography.h2,h3:e.typography.h3,h4:e.typography.h4,h5:e.typography.h5,h6:e.typography.h6,subtitle1:e.typography.subtitle1,subtitle2:e.typography.subtitle2,overline:e.typography.overline,srOnly:{position:"absolute",height:1,width:1,overflow:"hidden"},alignLeft:{textAlign:"left"},alignCenter:{textAlign:"center"},alignRight:{textAlign:"right"},alignJustify:{textAlign:"justify"},noWrap:{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},gutterBottom:{marginBottom:"0.35em"},paragraph:{marginBottom:16},colorInherit:{color:"inherit"},colorPrimary:{color:e.palette.primary.main},colorSecondary:{color:e.palette.secondary.main},colorTextPrimary:{color:e.palette.text.primary},colorTextSecondary:{color:e.palette.text.secondary},colorError:{color:e.palette.error.main},displayInline:{display:"inline"},displayBlock:{display:"block"}}}),{name:"MuiTypography"})(c)},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(2);function i(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.baseClasses,n=e.newClasses;e.Component;if(!n)return t;var i=Object(r.a)({},t);return Object.keys(n).forEach((function(e){n[e]&&(i[e]="".concat(t[e]," ").concat(n[e]))})),i}},function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(2),i=n(46);function a(e){return e&&"object"===Object(i.a)(e)&&e.constructor===Object}function o(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{clone:!0},i=n.clone?Object(r.a)({},e):e;return a(e)&&a(t)&&Object.keys(t).forEach((function(r){"__proto__"!==r&&(a(t[r])&&r in e?i[r]=o(e[r],t[r],n):i[r]=t[r])})),i}},function(e,t,n){"use strict";function r(e){var t=e.theme,n=e.name,r=e.props;if(!t||!t.props||!t.props[n])return r;var i,a=t.props[n];for(i in a)void 0===r[i]&&(r[i]=a[i]);return r}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";var r=n(7),i=n(2),a=n(1),o=(n(16),n(9)),s=n(11),l=[0,1,2,3,4,5,6,7,8,9,10],u=["auto",!0,1,2,3,4,5,6,7,8,9,10,11,12];function c(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=parseFloat(e);return"".concat(n/t).concat(String(e).replace(String(n),"")||"px")}var d=a.forwardRef((function(e,t){var n=e.alignContent,s=void 0===n?"stretch":n,l=e.alignItems,u=void 0===l?"stretch":l,c=e.classes,d=e.className,h=e.component,f=void 0===h?"div":h,p=e.container,m=void 0!==p&&p,v=e.direction,g=void 0===v?"row":v,y=e.item,b=void 0!==y&&y,x=e.justify,w=void 0===x?"flex-start":x,M=e.lg,_=void 0!==M&&M,S=e.md,E=void 0!==S&&S,T=e.sm,A=void 0!==T&&T,R=e.spacing,O=void 0===R?0:R,k=e.wrap,I=void 0===k?"wrap":k,C=e.xl,D=void 0!==C&&C,L=e.xs,P=void 0!==L&&L,N=e.zeroMinWidth,j=void 0!==N&&N,F=Object(r.a)(e,["alignContent","alignItems","classes","className","component","container","direction","item","justify","lg","md","sm","spacing","wrap","xl","xs","zeroMinWidth"]),G=Object(o.a)(c.root,d,m&&[c.container,0!==O&&c["spacing-xs-".concat(String(O))]],b&&c.item,j&&c.zeroMinWidth,"row"!==g&&c["direction-xs-".concat(String(g))],"wrap"!==I&&c["wrap-xs-".concat(String(I))],"stretch"!==u&&c["align-items-xs-".concat(String(u))],"stretch"!==s&&c["align-content-xs-".concat(String(s))],"flex-start"!==w&&c["justify-xs-".concat(String(w))],!1!==P&&c["grid-xs-".concat(String(P))],!1!==A&&c["grid-sm-".concat(String(A))],!1!==E&&c["grid-md-".concat(String(E))],!1!==_&&c["grid-lg-".concat(String(_))],!1!==D&&c["grid-xl-".concat(String(D))]);return a.createElement(f,Object(i.a)({className:G,ref:t},F))})),h=Object(s.a)((function(e){return Object(i.a)({root:{},container:{boxSizing:"border-box",display:"flex",flexWrap:"wrap",width:"100%"},item:{boxSizing:"border-box",margin:"0"},zeroMinWidth:{minWidth:0},"direction-xs-column":{flexDirection:"column"},"direction-xs-column-reverse":{flexDirection:"column-reverse"},"direction-xs-row-reverse":{flexDirection:"row-reverse"},"wrap-xs-nowrap":{flexWrap:"nowrap"},"wrap-xs-wrap-reverse":{flexWrap:"wrap-reverse"},"align-items-xs-center":{alignItems:"center"},"align-items-xs-flex-start":{alignItems:"flex-start"},"align-items-xs-flex-end":{alignItems:"flex-end"},"align-items-xs-baseline":{alignItems:"baseline"},"align-content-xs-center":{alignContent:"center"},"align-content-xs-flex-start":{alignContent:"flex-start"},"align-content-xs-flex-end":{alignContent:"flex-end"},"align-content-xs-space-between":{alignContent:"space-between"},"align-content-xs-space-around":{alignContent:"space-around"},"justify-xs-center":{justifyContent:"center"},"justify-xs-flex-end":{justifyContent:"flex-end"},"justify-xs-space-between":{justifyContent:"space-between"},"justify-xs-space-around":{justifyContent:"space-around"},"justify-xs-space-evenly":{justifyContent:"space-evenly"}},function(e,t){var n={};return l.forEach((function(r){var i=e.spacing(r);0!==i&&(n["spacing-".concat(t,"-").concat(r)]={margin:"-".concat(c(i,2)),width:"calc(100% + ".concat(c(i),")"),"& > $item":{padding:c(i,2)}})})),n}(e,"xs"),e.breakpoints.keys.reduce((function(t,n){return function(e,t,n){var r={};u.forEach((function(e){var t="grid-".concat(n,"-").concat(e);if(!0!==e)if("auto"!==e){var i="".concat(Math.round(e/12*1e8)/1e6,"%");r[t]={flexBasis:i,flexGrow:0,maxWidth:i}}else r[t]={flexBasis:"auto",flexGrow:0,maxWidth:"none"};else r[t]={flexBasis:0,flexGrow:1,maxWidth:"100%"}})),"xs"===n?Object(i.a)(e,r):e[t.breakpoints.up(n)]=r}(t,e,n),t}),{}))}),{name:"MuiGrid"})(d);t.a=h},function(e,t,n){"use strict";var r=n(2),i=n(7),a=n(1),o=(n(16),n(9)),s=n(128),l=n(11),u=a.forwardRef((function(e,t){var n=e.disableUnderline,l=e.classes,u=e.fullWidth,c=void 0!==u&&u,d=e.inputComponent,h=void 0===d?"input":d,f=e.multiline,p=void 0!==f&&f,m=e.type,v=void 0===m?"text":m,g=Object(i.a)(e,["disableUnderline","classes","fullWidth","inputComponent","multiline","type"]);return a.createElement(s.a,Object(r.a)({classes:Object(r.a)({},l,{root:Object(o.a)(l.root,!n&&l.underline),underline:null}),fullWidth:c,inputComponent:h,multiline:p,ref:t,type:v},g))}));u.muiName="Input",t.a=Object(l.a)((function(e){var t="light"===e.palette.type?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)";return{root:{position:"relative"},formControl:{"label + &":{marginTop:16}},focused:{},disabled:{},colorSecondary:{"&$underline:after":{borderBottomColor:e.palette.secondary.main}},underline:{"&:after":{borderBottom:"2px solid ".concat(e.palette.primary.main),left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:e.transitions.create("transform",{duration:e.transitions.duration.shorter,easing:e.transitions.easing.easeOut}),pointerEvents:"none"},"&$focused:after":{transform:"scaleX(1)"},"&$error:after":{borderBottomColor:e.palette.error.main,transform:"scaleX(1)"},"&:before":{borderBottom:"1px solid ".concat(t),left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:e.transitions.create("border-bottom-color",{duration:e.transitions.duration.shorter}),pointerEvents:"none"},"&:hover:not($disabled):before":{borderBottom:"2px solid ".concat(e.palette.text.primary),"@media (hover: none)":{borderBottom:"1px solid ".concat(t)}},"&$disabled:before":{borderBottomStyle:"dotted"}},error:{},marginDense:{},multiline:{},fullWidth:{},input:{},inputMarginDense:{},inputMultiline:{},inputTypeSearch:{}}}),{name:"MuiInput"})(u)},function(e,t,n){"use strict";var r=n(2),i=n(7),a=n(1),o=n.n(a),s=(n(16),n(9)),l=n(166),u=n(128),c=n(11),d=a.forwardRef((function(e,t){var n=e.disableUnderline,o=e.classes,l=e.fullWidth,c=void 0!==l&&l,d=e.inputComponent,h=void 0===d?"input":d,f=e.multiline,p=void 0!==f&&f,m=e.type,v=void 0===m?"text":m,g=Object(i.a)(e,["disableUnderline","classes","fullWidth","inputComponent","multiline","type"]);return a.createElement(u.a,Object(r.a)({classes:Object(r.a)({},o,{root:Object(s.a)(o.root,!n&&o.underline),underline:null}),fullWidth:c,inputComponent:h,multiline:p,ref:t,type:v},g))}));d.muiName="Input";var h=Object(c.a)((function(e){var t="light"===e.palette.type,n=t?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)",r=t?"rgba(0, 0, 0, 0.09)":"rgba(255, 255, 255, 0.09)";return{root:{position:"relative",backgroundColor:r,borderTopLeftRadius:e.shape.borderRadius,borderTopRightRadius:e.shape.borderRadius,transition:e.transitions.create("background-color",{duration:e.transitions.duration.shorter,easing:e.transitions.easing.easeOut}),"&:hover":{backgroundColor:t?"rgba(0, 0, 0, 0.13)":"rgba(255, 255, 255, 0.13)","@media (hover: none)":{backgroundColor:r}},"&$focused":{backgroundColor:t?"rgba(0, 0, 0, 0.09)":"rgba(255, 255, 255, 0.09)"},"&$disabled":{backgroundColor:t?"rgba(0, 0, 0, 0.12)":"rgba(255, 255, 255, 0.12)"}},colorSecondary:{"&$underline:after":{borderBottomColor:e.palette.secondary.main}},underline:{"&:after":{borderBottom:"2px solid ".concat(e.palette.primary.main),left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:e.transitions.create("transform",{duration:e.transitions.duration.shorter,easing:e.transitions.easing.easeOut}),pointerEvents:"none"},"&$focused:after":{transform:"scaleX(1)"},"&$error:after":{borderBottomColor:e.palette.error.main,transform:"scaleX(1)"},"&:before":{borderBottom:"1px solid ".concat(n),left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:e.transitions.create("border-bottom-color",{duration:e.transitions.duration.shorter}),pointerEvents:"none"},"&:hover:before":{borderBottom:"1px solid ".concat(e.palette.text.primary)},"&$disabled:before":{borderBottomStyle:"dotted"}},focused:{},disabled:{},adornedStart:{paddingLeft:12},adornedEnd:{paddingRight:12},error:{},marginDense:{},multiline:{padding:"27px 12px 10px","&$marginDense":{paddingTop:23,paddingBottom:6}},input:{padding:"27px 12px 10px","&:-webkit-autofill":{WebkitBoxShadow:"light"===e.palette.type?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:"light"===e.palette.type?null:"#fff",caretColor:"light"===e.palette.type?null:"#fff",borderTopLeftRadius:"inherit",borderTopRightRadius:"inherit"}},inputMarginDense:{paddingTop:23,paddingBottom:6},inputHiddenLabel:{paddingTop:18,paddingBottom:19,"&$inputMarginDense":{paddingTop:10,paddingBottom:11}},inputMultiline:{padding:0},inputAdornedStart:{paddingLeft:0},inputAdornedEnd:{paddingRight:0}}}),{name:"MuiFilledInput"})(d),f=n(33),p=n(39),m=n(21),v=a.forwardRef((function(e,t){e.children;var n=e.classes,o=e.className,l=e.label,u=e.labelWidth,c=e.notched,d=e.style,h=Object(i.a)(e,["children","classes","className","label","labelWidth","notched","style"]),v="rtl"===Object(p.a)().direction?"right":"left";if(void 0!==l)return a.createElement("fieldset",Object(r.a)({"aria-hidden":!0,className:Object(s.a)(n.root,o),ref:t,style:d},h),a.createElement("legend",{className:Object(s.a)(n.legendLabelled,c&&n.legendNotched)},l?a.createElement("span",null,l):a.createElement("span",{dangerouslySetInnerHTML:{__html:"&#8203;"}})));var g=u>0?.75*u+8:.01;return a.createElement("fieldset",Object(r.a)({"aria-hidden":!0,style:Object(r.a)(Object(f.a)({},"padding".concat(Object(m.a)(v)),8),d),className:Object(s.a)(n.root,o),ref:t},h),a.createElement("legend",{className:n.legend,style:{width:c?g:.01}},a.createElement("span",{dangerouslySetInnerHTML:{__html:"&#8203;"}})))})),g=Object(c.a)((function(e){return{root:{position:"absolute",bottom:0,right:0,top:-5,left:0,margin:0,padding:"0 8px",pointerEvents:"none",borderRadius:"inherit",borderStyle:"solid",borderWidth:1,overflow:"hidden"},legend:{textAlign:"left",padding:0,lineHeight:"11px",transition:e.transitions.create("width",{duration:150,easing:e.transitions.easing.easeOut})},legendLabelled:{display:"block",width:"auto",textAlign:"left",padding:0,height:11,fontSize:"0.75em",visibility:"hidden",maxWidth:.01,transition:e.transitions.create("max-width",{duration:50,easing:e.transitions.easing.easeOut}),"& > span":{paddingLeft:5,paddingRight:5,display:"inline-block"}},legendNotched:{maxWidth:1e3,transition:e.transitions.create("max-width",{duration:100,easing:e.transitions.easing.easeOut,delay:50})}}}),{name:"PrivateNotchedOutline"})(v),y=a.forwardRef((function(e,t){var n=e.classes,o=e.fullWidth,l=void 0!==o&&o,c=e.inputComponent,d=void 0===c?"input":c,h=e.label,f=e.labelWidth,p=void 0===f?0:f,m=e.multiline,v=void 0!==m&&m,y=e.notched,b=e.type,x=void 0===b?"text":b,w=Object(i.a)(e,["classes","fullWidth","inputComponent","label","labelWidth","multiline","notched","type"]);return a.createElement(u.a,Object(r.a)({renderSuffix:function(e){return a.createElement(g,{className:n.notchedOutline,label:h,labelWidth:p,notched:"undefined"!==typeof y?y:Boolean(e.startAdornment||e.filled||e.focused)})},classes:Object(r.a)({},n,{root:Object(s.a)(n.root,n.underline),notchedOutline:null}),fullWidth:l,inputComponent:d,multiline:v,ref:t,type:x},w))}));y.muiName="Input";var b=Object(c.a)((function(e){var t="light"===e.palette.type?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return{root:{position:"relative",borderRadius:e.shape.borderRadius,"&:hover $notchedOutline":{borderColor:e.palette.text.primary},"@media (hover: none)":{"&:hover $notchedOutline":{borderColor:t}},"&$focused $notchedOutline":{borderColor:e.palette.primary.main,borderWidth:2},"&$error $notchedOutline":{borderColor:e.palette.error.main},"&$disabled $notchedOutline":{borderColor:e.palette.action.disabled}},colorSecondary:{"&$focused $notchedOutline":{borderColor:e.palette.secondary.main}},focused:{},disabled:{},adornedStart:{paddingLeft:14},adornedEnd:{paddingRight:14},error:{},marginDense:{},multiline:{padding:"18.5px 14px","&$marginDense":{paddingTop:10.5,paddingBottom:10.5}},notchedOutline:{borderColor:t},input:{padding:"18.5px 14px","&:-webkit-autofill":{WebkitBoxShadow:"light"===e.palette.type?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:"light"===e.palette.type?null:"#fff",caretColor:"light"===e.palette.type?null:"#fff",borderRadius:"inherit"}},inputMarginDense:{paddingTop:10.5,paddingBottom:10.5},inputMultiline:{padding:0},inputAdornedStart:{paddingLeft:0},inputAdornedEnd:{paddingRight:0}}}),{name:"MuiOutlinedInput"})(y),x=n(34),w=n(48);function M(){return a.useContext(w.a)}var _=a.forwardRef((function(e,t){var n=e.children,o=e.classes,l=e.className,u=(e.color,e.component),c=void 0===u?"label":u,d=(e.disabled,e.error,e.filled,e.focused,e.required,Object(i.a)(e,["children","classes","className","color","component","disabled","error","filled","focused","required"])),h=M(),f=Object(x.a)({props:e,muiFormControl:h,states:["color","required","focused","disabled","error","filled"]});return a.createElement(c,Object(r.a)({className:Object(s.a)(o.root,o["color".concat(Object(m.a)(f.color||"primary"))],l,f.disabled&&o.disabled,f.error&&o.error,f.filled&&o.filled,f.focused&&o.focused,f.required&&o.required),ref:t},d),n,f.required&&a.createElement("span",{"aria-hidden":!0,className:Object(s.a)(o.asterisk,f.error&&o.error)},"\u2009","*"))})),S=Object(c.a)((function(e){return{root:Object(r.a)({color:e.palette.text.secondary},e.typography.body1,{lineHeight:1,padding:0,"&$focused":{color:e.palette.primary.main},"&$disabled":{color:e.palette.text.disabled},"&$error":{color:e.palette.error.main}}),colorSecondary:{"&$focused":{color:e.palette.secondary.main}},focused:{},disabled:{},error:{},filled:{},required:{},asterisk:{"&$error":{color:e.palette.error.main}}}}),{name:"MuiFormLabel"})(_),E=a.forwardRef((function(e,t){var n=e.classes,o=e.className,l=e.disableAnimation,u=void 0!==l&&l,c=(e.margin,e.shrink),d=(e.variant,Object(i.a)(e,["classes","className","disableAnimation","margin","shrink","variant"])),h=M(),f=c;"undefined"===typeof f&&h&&(f=h.filled||h.focused||h.adornedStart);var p=Object(x.a)({props:e,muiFormControl:h,states:["margin","variant"]});return a.createElement(S,Object(r.a)({"data-shrink":f,className:Object(s.a)(n.root,o,h&&n.formControl,!u&&n.animated,f&&n.shrink,"dense"===p.margin&&n.marginDense,{filled:n.filled,outlined:n.outlined}[p.variant]),classes:{focused:n.focused,disabled:n.disabled,error:n.error,required:n.required,asterisk:n.asterisk},ref:t},d))})),T=Object(c.a)((function(e){return{root:{display:"block",transformOrigin:"top left"},focused:{},disabled:{},error:{},required:{},asterisk:{},formControl:{position:"absolute",left:0,top:0,transform:"translate(0, 24px) scale(1)"},marginDense:{transform:"translate(0, 21px) scale(1)"},shrink:{transform:"translate(0, 1.5px) scale(0.75)",transformOrigin:"top left"},animated:{transition:e.transitions.create(["color","transform"],{duration:e.transitions.duration.shorter,easing:e.transitions.easing.easeOut})},filled:{zIndex:1,pointerEvents:"none",transform:"translate(12px, 20px) scale(1)","&$marginDense":{transform:"translate(12px, 17px) scale(1)"},"&$shrink":{transform:"translate(12px, 10px) scale(0.75)","&$marginDense":{transform:"translate(12px, 7px) scale(0.75)"}}},outlined:{zIndex:1,pointerEvents:"none",transform:"translate(14px, 20px) scale(1)","&$marginDense":{transform:"translate(14px, 12px) scale(1)"},"&$shrink":{transform:"translate(14px, -6px) scale(0.75)"}}}}),{name:"MuiInputLabel"})(E),A=n(49);function R(e,t){return a.isValidElement(e)&&-1!==t.indexOf(e.type.muiName)}var O=a.forwardRef((function(e,t){var n=e.children,o=e.classes,l=e.className,u=e.color,c=void 0===u?"primary":u,d=e.component,h=void 0===d?"div":d,f=e.disabled,p=void 0!==f&&f,v=e.error,g=void 0!==v&&v,y=e.fullWidth,b=void 0!==y&&y,x=e.focused,M=e.hiddenLabel,_=void 0!==M&&M,S=e.margin,E=void 0===S?"none":S,T=e.required,O=void 0!==T&&T,k=e.size,I=e.variant,C=void 0===I?"standard":I,D=Object(i.a)(e,["children","classes","className","color","component","disabled","error","fullWidth","focused","hiddenLabel","margin","required","size","variant"]),L=a.useState((function(){var e=!1;return n&&a.Children.forEach(n,(function(t){if(R(t,["Input","Select"])){var n=R(t,["Select"])?t.props.input:t;n&&Object(A.a)(n.props)&&(e=!0)}})),e})),P=L[0],N=L[1],j=a.useState((function(){var e=!1;return n&&a.Children.forEach(n,(function(t){R(t,["Input","Select"])&&Object(A.b)(t.props,!0)&&(e=!0)})),e})),F=j[0],G=j[1],U=a.useState(!1),z=U[0],B=U[1],V=void 0!==x?x:z;p&&V&&B(!1);var H=a.useCallback((function(){G(!0)}),[]),W={adornedStart:P,setAdornedStart:N,color:c,disabled:p,error:g,filled:F,focused:V,fullWidth:b,hiddenLabel:_,margin:("small"===k?"dense":void 0)||E,onBlur:function(){B(!1)},onEmpty:a.useCallback((function(){G(!1)}),[]),onFilled:H,onFocus:function(){B(!0)},registerEffect:undefined,required:O,variant:C};return a.createElement(w.a.Provider,{value:W},a.createElement(h,Object(r.a)({className:Object(s.a)(o.root,l,"none"!==E&&o["margin".concat(Object(m.a)(E))],b&&o.fullWidth),ref:t},D),n))})),k=Object(c.a)({root:{display:"inline-flex",flexDirection:"column",position:"relative",minWidth:0,padding:0,margin:0,border:0,verticalAlign:"top"},marginNormal:{marginTop:16,marginBottom:8},marginDense:{marginTop:8,marginBottom:4},fullWidth:{width:"100%"}},{name:"MuiFormControl"})(O),I=a.forwardRef((function(e,t){var n=e.children,o=e.classes,l=e.className,u=e.component,c=void 0===u?"p":u,d=(e.disabled,e.error,e.filled,e.focused,e.margin,e.required,e.variant,Object(i.a)(e,["children","classes","className","component","disabled","error","filled","focused","margin","required","variant"])),h=M(),f=Object(x.a)({props:e,muiFormControl:h,states:["variant","margin","disabled","error","filled","focused","required"]});return a.createElement(c,Object(r.a)({className:Object(s.a)(o.root,("filled"===f.variant||"outlined"===f.variant)&&o.contained,l,f.disabled&&o.disabled,f.error&&o.error,f.filled&&o.filled,f.focused&&o.focused,f.required&&o.required,"dense"===f.margin&&o.marginDense),ref:t},d)," "===n?a.createElement("span",{dangerouslySetInnerHTML:{__html:"&#8203;"}}):n)})),C=Object(c.a)((function(e){return{root:Object(r.a)({color:e.palette.text.secondary},e.typography.caption,{textAlign:"left",marginTop:3,margin:0,"&$disabled":{color:e.palette.text.disabled},"&$error":{color:e.palette.error.main}}),error:{},disabled:{},marginDense:{marginTop:4},contained:{marginLeft:14,marginRight:14},focused:{},filled:{},required:{}}}),{name:"MuiFormHelperText"})(I),D=n(162),L=n(41),P=n(46),N=n(98),j=(n(61),n(27)),F=n(20),G=n.n(F),U=n(68);function z(e){return Object(j.a)(e).defaultView||window}function B(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.reduce((function(e,t){return null==t?e:function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];e.apply(this,r),t.apply(this,r)}}),(function(){}))}var V=n(129),H=n(164),W=n(42),X=n(23);var q="undefined"!==typeof window?a.useLayoutEffect:a.useEffect;var Y=a.forwardRef((function(e,t){var n=e.children,r=e.container,i=e.disablePortal,o=void 0!==i&&i,s=e.onRendered,l=a.useState(null),u=l[0],c=l[1],d=Object(X.a)(a.isValidElement(n)?n.ref:null,t);return q((function(){o||c(function(e){return e="function"===typeof e?e():e,F.findDOMNode(e)}(r)||document.body)}),[r,o]),q((function(){if(u&&!o)return Object(W.a)(t,u),function(){Object(W.a)(t,null)}}),[t,u,o]),q((function(){s&&(u||o)&&s()}),[s,u,o]),o?a.isValidElement(n)?a.cloneElement(n,{ref:d}):n:u?F.createPortal(n,u):u})),Q=n(29),Z=n(65);var $=n(54),K=n(36);function J(){var e=document.createElement("div");e.style.width="99px",e.style.height="99px",e.style.position="absolute",e.style.top="-9999px",e.style.overflow="scroll",document.body.appendChild(e);var t=e.offsetWidth-e.clientWidth;return document.body.removeChild(e),t}function ee(e,t){t?e.setAttribute("aria-hidden","true"):e.removeAttribute("aria-hidden")}function te(e){return parseInt(window.getComputedStyle(e)["padding-right"],10)||0}function ne(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4?arguments[4]:void 0,a=[t,n].concat(Object(K.a)(r)),o=["TEMPLATE","SCRIPT","STYLE"];[].forEach.call(e.children,(function(e){1===e.nodeType&&-1===a.indexOf(e)&&-1===o.indexOf(e.tagName)&&ee(e,i)}))}function re(e,t){var n=-1;return e.some((function(e,r){return!!t(e)&&(n=r,!0)})),n}function ie(e,t){var n,r=[],i=[],a=e.container;if(!t.disableScrollLock){if(function(e){var t=Object(j.a)(e);return t.body===e?z(t).innerWidth>t.documentElement.clientWidth:e.scrollHeight>e.clientHeight}(a)){var o=J();r.push({value:a.style.paddingRight,key:"padding-right",el:a}),a.style["padding-right"]="".concat(te(a)+o,"px"),n=Object(j.a)(a).querySelectorAll(".mui-fixed"),[].forEach.call(n,(function(e){i.push(e.style.paddingRight),e.style.paddingRight="".concat(te(e)+o,"px")}))}var s=a.parentElement,l="HTML"===s.nodeName&&"scroll"===window.getComputedStyle(s)["overflow-y"]?s:a;r.push({value:l.style.overflow,key:"overflow",el:l}),l.style.overflow="hidden"}return function(){n&&[].forEach.call(n,(function(e,t){i[t]?e.style.paddingRight=i[t]:e.style.removeProperty("padding-right")})),r.forEach((function(e){var t=e.value,n=e.el,r=e.key;t?n.style.setProperty(r,t):n.style.removeProperty(r)}))}}var ae=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.modals=[],this.containers=[]}return Object($.a)(e,[{key:"add",value:function(e,t){var n=this.modals.indexOf(e);if(-1!==n)return n;n=this.modals.length,this.modals.push(e),e.modalRef&&ee(e.modalRef,!1);var r=function(e){var t=[];return[].forEach.call(e.children,(function(e){e.getAttribute&&"true"===e.getAttribute("aria-hidden")&&t.push(e)})),t}(t);ne(t,e.mountNode,e.modalRef,r,!0);var i=re(this.containers,(function(e){return e.container===t}));return-1!==i?(this.containers[i].modals.push(e),n):(this.containers.push({modals:[e],container:t,restore:null,hiddenSiblingNodes:r}),n)}},{key:"mount",value:function(e,t){var n=re(this.containers,(function(t){return-1!==t.modals.indexOf(e)})),r=this.containers[n];r.restore||(r.restore=ie(r,t))}},{key:"remove",value:function(e){var t=this.modals.indexOf(e);if(-1===t)return t;var n=re(this.containers,(function(t){return-1!==t.modals.indexOf(e)})),r=this.containers[n];if(r.modals.splice(r.modals.indexOf(e),1),this.modals.splice(t,1),0===r.modals.length)r.restore&&r.restore(),e.modalRef&&ee(e.modalRef,!0),ne(r.container,e.mountNode,e.modalRef,r.hiddenSiblingNodes,!1),this.containers.splice(n,1);else{var i=r.modals[r.modals.length-1];i.modalRef&&ee(i.modalRef,!1)}return t}},{key:"isTopModal",value:function(e){return this.modals.length>0&&this.modals[this.modals.length-1]===e}}]),e}();var oe=function(e){var t=e.children,n=e.disableAutoFocus,r=void 0!==n&&n,i=e.disableEnforceFocus,o=void 0!==i&&i,s=e.disableRestoreFocus,l=void 0!==s&&s,u=e.getDoc,c=e.isEnabled,d=e.open,h=a.useRef(),f=a.useRef(null),p=a.useRef(null),m=a.useRef(),v=a.useRef(null),g=a.useCallback((function(e){v.current=F.findDOMNode(e)}),[]),y=Object(X.a)(t.ref,g),b=a.useRef();return a.useEffect((function(){b.current=d}),[d]),!b.current&&d&&"undefined"!==typeof window&&(m.current=u().activeElement),a.useEffect((function(){if(d){var e=Object(j.a)(v.current);r||!v.current||v.current.contains(e.activeElement)||(v.current.hasAttribute("tabIndex")||v.current.setAttribute("tabIndex",-1),v.current.focus());var t=function(){null!==v.current&&(e.hasFocus()&&!o&&c()&&!h.current?v.current&&!v.current.contains(e.activeElement)&&v.current.focus():h.current=!1)},n=function(t){!o&&c()&&9===t.keyCode&&e.activeElement===v.current&&(h.current=!0,t.shiftKey?p.current.focus():f.current.focus())};e.addEventListener("focus",t,!0),e.addEventListener("keydown",n,!0);var i=setInterval((function(){t()}),50);return function(){clearInterval(i),e.removeEventListener("focus",t,!0),e.removeEventListener("keydown",n,!0),l||(m.current&&m.current.focus&&m.current.focus(),m.current=null)}}}),[r,o,l,c,d]),a.createElement(a.Fragment,null,a.createElement("div",{tabIndex:0,ref:f,"data-test":"sentinelStart"}),a.cloneElement(t,{ref:y}),a.createElement("div",{tabIndex:0,ref:p,"data-test":"sentinelEnd"}))},se={root:{zIndex:-1,position:"fixed",right:0,bottom:0,top:0,left:0,backgroundColor:"rgba(0, 0, 0, 0.5)",WebkitTapHighlightColor:"transparent"},invisible:{backgroundColor:"transparent"}},le=a.forwardRef((function(e,t){var n=e.invisible,o=void 0!==n&&n,s=e.open,l=Object(i.a)(e,["invisible","open"]);return s?a.createElement("div",Object(r.a)({"aria-hidden":!0,ref:t},l,{style:Object(r.a)({},se.root,o?se.invisible:{},l.style)})):null}));var ue=new ae,ce=a.forwardRef((function(e,t){var n=Object(V.a)(),o=Object(H.a)({name:"MuiModal",props:Object(r.a)({},e),theme:n}),s=o.BackdropComponent,l=void 0===s?le:s,u=o.BackdropProps,c=o.children,d=o.closeAfterTransition,h=void 0!==d&&d,f=o.container,p=o.disableAutoFocus,m=void 0!==p&&p,v=o.disableBackdropClick,g=void 0!==v&&v,y=o.disableEnforceFocus,b=void 0!==y&&y,x=o.disableEscapeKeyDown,w=void 0!==x&&x,M=o.disablePortal,_=void 0!==M&&M,S=o.disableRestoreFocus,E=void 0!==S&&S,T=o.disableScrollLock,A=void 0!==T&&T,R=o.hideBackdrop,O=void 0!==R&&R,k=o.keepMounted,I=void 0!==k&&k,C=o.manager,D=void 0===C?ue:C,L=o.onBackdropClick,P=o.onClose,N=o.onEscapeKeyDown,G=o.onRendered,U=o.open,z=Object(i.a)(o,["BackdropComponent","BackdropProps","children","closeAfterTransition","container","disableAutoFocus","disableBackdropClick","disableEnforceFocus","disableEscapeKeyDown","disablePortal","disableRestoreFocus","disableScrollLock","hideBackdrop","keepMounted","manager","onBackdropClick","onClose","onEscapeKeyDown","onRendered","open"]),W=a.useState(!0),q=W[0],$=W[1],K=a.useRef({}),J=a.useRef(null),te=a.useRef(null),ne=Object(X.a)(te,t),re=function(e){return!!e.children&&e.children.props.hasOwnProperty("in")}(o),ie=function(){return Object(j.a)(J.current)},ae=function(){return K.current.modalRef=te.current,K.current.mountNode=J.current,K.current},se=function(){D.mount(ae(),{disableScrollLock:A}),te.current.scrollTop=0},ce=Object(Q.a)((function(){var e=function(e){return e="function"===typeof e?e():e,F.findDOMNode(e)}(f)||ie().body;D.add(ae(),e),te.current&&se()})),de=a.useCallback((function(){return D.isTopModal(ae())}),[D]),he=Object(Q.a)((function(e){J.current=e,e&&(G&&G(),U&&de()?se():ee(te.current,!0))})),fe=a.useCallback((function(){D.remove(ae())}),[D]);if(a.useEffect((function(){return function(){fe()}}),[fe]),a.useEffect((function(){U?ce():re&&h||fe()}),[U,fe,re,h,ce]),!I&&!U&&(!re||q))return null;var pe=function(e){return{root:{position:"fixed",zIndex:e.zIndex.modal,right:0,bottom:0,top:0,left:0},hidden:{visibility:"hidden"}}}(n||{zIndex:Z.a}),me={};return void 0===c.props.tabIndex&&(me.tabIndex=c.props.tabIndex||"-1"),re&&(me.onEnter=B((function(){$(!1)}),c.props.onEnter),me.onExited=B((function(){$(!0),h&&fe()}),c.props.onExited)),a.createElement(Y,{ref:he,container:f,disablePortal:_},a.createElement("div",Object(r.a)({ref:ne,onKeyDown:function(e){"Escape"===e.key&&de()&&(N&&N(e),w||(e.stopPropagation(),P&&P(e,"escapeKeyDown")))},role:"presentation"},z,{style:Object(r.a)({},pe.root,!U&&q?pe.hidden:{},z.style)}),O?null:a.createElement(l,Object(r.a)({open:U,onClick:function(e){e.target===e.currentTarget&&(L&&L(e),!g&&P&&P(e,"backdropClick"))}},u)),a.createElement(oe,{disableEnforceFocus:b,disableAutoFocus:m,disableRestoreFocus:E,getDoc:ie,isEnabled:de,open:U},a.cloneElement(c,me))))})),de=n(18),he=n(47),fe=!1,pe=n(55),me="unmounted",ve="exited",ge="entering",ye="entered",be="exiting",xe=function(e){function t(t,n){var r;r=e.call(this,t,n)||this;var i,a=n&&!n.isMounting?t.enter:t.appear;return r.appearStatus=null,t.in?a?(i=ve,r.appearStatus=ge):i=ye:i=t.unmountOnExit||t.mountOnEnter?me:ve,r.state={status:i},r.nextCallback=null,r}Object(he.a)(t,e),t.getDerivedStateFromProps=function(e,t){return e.in&&t.status===me?{status:ve}:null};var n=t.prototype;return n.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},n.componentDidUpdate=function(e){var t=null;if(e!==this.props){var n=this.state.status;this.props.in?n!==ge&&n!==ye&&(t=ge):n!==ge&&n!==ye||(t=be)}this.updateStatus(!1,t)},n.componentWillUnmount=function(){this.cancelNextCallback()},n.getTimeouts=function(){var e,t,n,r=this.props.timeout;return e=t=n=r,null!=r&&"number"!==typeof r&&(e=r.exit,t=r.enter,n=void 0!==r.appear?r.appear:t),{exit:e,enter:t,appear:n}},n.updateStatus=function(e,t){void 0===e&&(e=!1),null!==t?(this.cancelNextCallback(),t===ge?this.performEnter(e):this.performExit()):this.props.unmountOnExit&&this.state.status===ve&&this.setState({status:me})},n.performEnter=function(e){var t=this,n=this.props.enter,r=this.context?this.context.isMounting:e,i=this.props.nodeRef?[r]:[G.a.findDOMNode(this),r],a=i[0],o=i[1],s=this.getTimeouts(),l=r?s.appear:s.enter;!e&&!n||fe?this.safeSetState({status:ye},(function(){t.props.onEntered(a)})):(this.props.onEnter(a,o),this.safeSetState({status:ge},(function(){t.props.onEntering(a,o),t.onTransitionEnd(l,(function(){t.safeSetState({status:ye},(function(){t.props.onEntered(a,o)}))}))})))},n.performExit=function(){var e=this,t=this.props.exit,n=this.getTimeouts(),r=this.props.nodeRef?void 0:G.a.findDOMNode(this);t&&!fe?(this.props.onExit(r),this.safeSetState({status:be},(function(){e.props.onExiting(r),e.onTransitionEnd(n.exit,(function(){e.safeSetState({status:ve},(function(){e.props.onExited(r)}))}))}))):this.safeSetState({status:ve},(function(){e.props.onExited(r)}))},n.cancelNextCallback=function(){null!==this.nextCallback&&(this.nextCallback.cancel(),this.nextCallback=null)},n.safeSetState=function(e,t){t=this.setNextCallback(t),this.setState(e,t)},n.setNextCallback=function(e){var t=this,n=!0;return this.nextCallback=function(r){n&&(n=!1,t.nextCallback=null,e(r))},this.nextCallback.cancel=function(){n=!1},this.nextCallback},n.onTransitionEnd=function(e,t){this.setNextCallback(t);var n=this.props.nodeRef?this.props.nodeRef.current:G.a.findDOMNode(this),r=null==e&&!this.props.addEndListener;if(n&&!r){if(this.props.addEndListener){var i=this.props.nodeRef?[this.nextCallback]:[n,this.nextCallback],a=i[0],o=i[1];this.props.addEndListener(a,o)}null!=e&&setTimeout(this.nextCallback,e)}else setTimeout(this.nextCallback,0)},n.render=function(){var e=this.state.status;if(e===me)return null;var t=this.props,n=t.children,r=(t.in,t.mountOnEnter,t.unmountOnExit,t.appear,t.enter,t.exit,t.timeout,t.addEndListener,t.onEnter,t.onEntering,t.onEntered,t.onExit,t.onExiting,t.onExited,t.nodeRef,Object(de.a)(t,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]));return o.a.createElement(pe.a.Provider,{value:null},"function"===typeof n?n(e,r):o.a.cloneElement(o.a.Children.only(n),r))},t}(o.a.Component);function we(){}xe.contextType=pe.a,xe.propTypes={},xe.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:we,onEntering:we,onEntered:we,onExit:we,onExiting:we,onExited:we},xe.UNMOUNTED=me,xe.EXITED=ve,xe.ENTERING=ge,xe.ENTERED=ye,xe.EXITING=be;var Me=xe;function _e(e,t){var n=e.timeout,r=e.style,i=void 0===r?{}:r;return{duration:i.transitionDuration||"number"===typeof n?n:n[t.mode]||0,delay:i.transitionDelay}}function Se(e){return"scale(".concat(e,", ").concat(Math.pow(e,2),")")}var Ee={entering:{opacity:1,transform:Se(1)},entered:{opacity:1,transform:"none"}},Te=a.forwardRef((function(e,t){var n=e.children,o=e.disableStrictModeCompat,s=void 0!==o&&o,l=e.in,u=e.onEnter,c=e.onEntered,d=e.onEntering,h=e.onExit,f=e.onExited,m=e.onExiting,v=e.style,g=e.timeout,y=void 0===g?"auto":g,b=e.TransitionComponent,x=void 0===b?Me:b,w=Object(i.a)(e,["children","disableStrictModeCompat","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"]),M=a.useRef(),_=a.useRef(),S=Object(p.a)(),E=S.unstable_strictMode&&!s,T=a.useRef(null),A=Object(X.a)(n.ref,t),R=Object(X.a)(E?T:void 0,A),O=function(e){return function(t,n){if(e){var r=E?[T.current,t]:[t,n],i=Object(L.a)(r,2),a=i[0],o=i[1];void 0===o?e(a):e(a,o)}}},k=O(d),I=O((function(e,t){!function(e){e.scrollTop}(e);var n,r=_e({style:v,timeout:y},{mode:"enter"}),i=r.duration,a=r.delay;"auto"===y?(n=S.transitions.getAutoHeightDuration(e.clientHeight),_.current=n):n=i,e.style.transition=[S.transitions.create("opacity",{duration:n,delay:a}),S.transitions.create("transform",{duration:.666*n,delay:a})].join(","),u&&u(e,t)})),C=O(c),D=O(m),P=O((function(e){var t,n=_e({style:v,timeout:y},{mode:"exit"}),r=n.duration,i=n.delay;"auto"===y?(t=S.transitions.getAutoHeightDuration(e.clientHeight),_.current=t):t=r,e.style.transition=[S.transitions.create("opacity",{duration:t,delay:i}),S.transitions.create("transform",{duration:.666*t,delay:i||.333*t})].join(","),e.style.opacity="0",e.style.transform=Se(.75),h&&h(e)})),N=O(f);return a.useEffect((function(){return function(){clearTimeout(M.current)}}),[]),a.createElement(x,Object(r.a)({appear:!0,in:l,nodeRef:E?T:void 0,onEnter:I,onEntered:C,onEntering:k,onExit:P,onExited:N,onExiting:D,addEndListener:function(e,t){var n=E?e:t;"auto"===y&&(M.current=setTimeout(n,_.current||0))},timeout:"auto"===y?null:y},w),(function(e,t){return a.cloneElement(n,Object(r.a)({style:Object(r.a)({opacity:0,transform:Se(.75),visibility:"exited"!==e||l?void 0:"hidden"},Ee[e],v,n.props.style),ref:R},t))}))}));Te.muiSupportAuto=!0;var Ae=Te,Re=a.forwardRef((function(e,t){var n=e.classes,o=e.className,l=e.component,u=void 0===l?"div":l,c=e.square,d=void 0!==c&&c,h=e.elevation,f=void 0===h?1:h,p=e.variant,m=void 0===p?"elevation":p,v=Object(i.a)(e,["classes","className","component","square","elevation","variant"]);return a.createElement(u,Object(r.a)({className:Object(s.a)(n.root,o,"outlined"===m?n.outlined:n["elevation".concat(f)],!d&&n.rounded),ref:t},v))})),Oe=Object(c.a)((function(e){var t={};return e.shadows.forEach((function(e,n){t["elevation".concat(n)]={boxShadow:e}})),Object(r.a)({root:{backgroundColor:e.palette.background.paper,color:e.palette.text.primary,transition:e.transitions.create("box-shadow")},rounded:{borderRadius:e.shape.borderRadius},outlined:{border:"1px solid ".concat(e.palette.divider)}},t)}),{name:"MuiPaper"})(Re);function ke(e,t){var n=0;return"number"===typeof t?n=t:"center"===t?n=e.height/2:"bottom"===t&&(n=e.height),n}function Ie(e,t){var n=0;return"number"===typeof t?n=t:"center"===t?n=e.width/2:"right"===t&&(n=e.width),n}function Ce(e){return[e.horizontal,e.vertical].map((function(e){return"number"===typeof e?"".concat(e,"px"):e})).join(" ")}function De(e){return"function"===typeof e?e():e}var Le=a.forwardRef((function(e,t){var n=e.action,o=e.anchorEl,l=e.anchorOrigin,u=void 0===l?{vertical:"top",horizontal:"left"}:l,c=e.anchorPosition,d=e.anchorReference,h=void 0===d?"anchorEl":d,f=e.children,p=e.classes,m=e.className,v=e.container,g=e.elevation,y=void 0===g?8:g,b=e.getContentAnchorEl,x=e.marginThreshold,w=void 0===x?16:x,M=e.onEnter,_=e.onEntered,S=e.onEntering,E=e.onExit,T=e.onExited,A=e.onExiting,R=e.open,O=e.PaperProps,k=void 0===O?{}:O,I=e.transformOrigin,C=void 0===I?{vertical:"top",horizontal:"left"}:I,D=e.TransitionComponent,L=void 0===D?Ae:D,P=e.transitionDuration,N=void 0===P?"auto":P,G=e.TransitionProps,V=void 0===G?{}:G,H=Object(i.a)(e,["action","anchorEl","anchorOrigin","anchorPosition","anchorReference","children","classes","className","container","elevation","getContentAnchorEl","marginThreshold","onEnter","onEntered","onEntering","onExit","onExited","onExiting","open","PaperProps","transformOrigin","TransitionComponent","transitionDuration","TransitionProps"]),W=a.useRef(),X=a.useCallback((function(e){if("anchorPosition"===h)return c;var t=De(o),n=(t&&1===t.nodeType?t:Object(j.a)(W.current).body).getBoundingClientRect(),r=0===e?u.vertical:"center";return{top:n.top+ke(n,r),left:n.left+Ie(n,u.horizontal)}}),[o,u.horizontal,u.vertical,c,h]),q=a.useCallback((function(e){var t=0;if(b&&"anchorEl"===h){var n=b(e);if(n&&e.contains(n)){var r=function(e,t){for(var n=t,r=0;n&&n!==e;)r+=(n=n.parentElement).scrollTop;return r}(e,n);t=n.offsetTop+n.clientHeight/2-r||0}0}return t}),[u.vertical,h,b]),Y=a.useCallback((function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return{vertical:ke(e,C.vertical)+t,horizontal:Ie(e,C.horizontal)}}),[C.horizontal,C.vertical]),Q=a.useCallback((function(e){var t=q(e),n={width:e.offsetWidth,height:e.offsetHeight},r=Y(n,t);if("none"===h)return{top:null,left:null,transformOrigin:Ce(r)};var i=X(t),a=i.top-r.vertical,s=i.left-r.horizontal,l=a+n.height,u=s+n.width,c=z(De(o)),d=c.innerHeight-w,f=c.innerWidth-w;if(a<w){var p=a-w;a-=p,r.vertical+=p}else if(l>d){var m=l-d;a-=m,r.vertical+=m}if(s<w){var v=s-w;s-=v,r.horizontal+=v}else if(u>f){var g=u-f;s-=g,r.horizontal+=g}return{top:"".concat(Math.round(a),"px"),left:"".concat(Math.round(s),"px"),transformOrigin:Ce(r)}}),[o,h,X,q,Y,w]),Z=a.useCallback((function(){var e=W.current;if(e){var t=Q(e);null!==t.top&&(e.style.top=t.top),null!==t.left&&(e.style.left=t.left),e.style.transformOrigin=t.transformOrigin}}),[Q]),$=a.useCallback((function(e){W.current=F.findDOMNode(e)}),[]);a.useEffect((function(){R&&Z()})),a.useImperativeHandle(n,(function(){return R?{updatePosition:function(){Z()}}:null}),[R,Z]),a.useEffect((function(){if(R){var e=Object(U.a)((function(){Z()}));return window.addEventListener("resize",e),function(){e.clear(),window.removeEventListener("resize",e)}}}),[R,Z]);var K=N;"auto"!==N||L.muiSupportAuto||(K=void 0);var J=v||(o?Object(j.a)(De(o)).body:void 0);return a.createElement(ce,Object(r.a)({container:J,open:R,ref:t,BackdropProps:{invisible:!0},className:Object(s.a)(p.root,m)},H),a.createElement(L,Object(r.a)({appear:!0,in:R,onEnter:M,onEntered:_,onExit:E,onExited:T,onExiting:A,timeout:K},V,{onEntering:B((function(e,t){S&&S(e,t),Z()}),V.onEntering)}),a.createElement(Oe,Object(r.a)({elevation:y,ref:$},k,{className:Object(s.a)(p.paper,k.className)}),f)))})),Pe=Object(c.a)({root:{},paper:{position:"absolute",overflowY:"auto",overflowX:"hidden",minWidth:16,minHeight:16,maxWidth:"calc(100% - 32px)",maxHeight:"calc(100% - 32px)",outline:0}},{name:"MuiPopover"})(Le);var Ne=a.createContext({}),je=a.forwardRef((function(e,t){var n=e.children,o=e.classes,l=e.className,u=e.component,c=void 0===u?"ul":u,d=e.dense,h=void 0!==d&&d,f=e.disablePadding,p=void 0!==f&&f,m=e.subheader,v=Object(i.a)(e,["children","classes","className","component","dense","disablePadding","subheader"]),g=a.useMemo((function(){return{dense:h}}),[h]);return a.createElement(Ne.Provider,{value:g},a.createElement(c,Object(r.a)({className:Object(s.a)(o.root,l,h&&o.dense,!p&&o.padding,m&&o.subheader),ref:t},v),m,n))})),Fe=Object(c.a)({root:{listStyle:"none",margin:0,padding:0,position:"relative"},padding:{paddingTop:8,paddingBottom:8},dense:{},subheader:{paddingTop:0}},{name:"MuiList"})(je);function Ge(e,t,n){return e===t?e.firstChild:t&&t.nextElementSibling?t.nextElementSibling:n?null:e.firstChild}function Ue(e,t,n){return e===t?n?e.firstChild:e.lastChild:t&&t.previousElementSibling?t.previousElementSibling:n?null:e.lastChild}function ze(e,t){if(void 0===t)return!0;var n=e.innerText;return void 0===n&&(n=e.textContent),0!==(n=n.trim().toLowerCase()).length&&(t.repeating?n[0]===t.keys[0]:0===n.indexOf(t.keys.join("")))}function Be(e,t,n,r,i,a){for(var o=!1,s=i(e,t,!!t&&n);s;){if(s===e.firstChild){if(o)return;o=!0}var l=!r&&(s.disabled||"true"===s.getAttribute("aria-disabled"));if(s.hasAttribute("tabindex")&&ze(s,a)&&!l)return void s.focus();s=i(e,s,n)}}var Ve="undefined"===typeof window?a.useEffect:a.useLayoutEffect,He=a.forwardRef((function(e,t){var n=e.actions,o=e.autoFocus,s=void 0!==o&&o,l=e.autoFocusItem,u=void 0!==l&&l,c=e.children,d=e.className,h=e.disabledItemsFocusable,f=void 0!==h&&h,p=e.disableListWrap,m=void 0!==p&&p,v=e.onKeyDown,g=e.variant,y=void 0===g?"selectedMenu":g,b=Object(i.a)(e,["actions","autoFocus","autoFocusItem","children","className","disabledItemsFocusable","disableListWrap","onKeyDown","variant"]),x=a.useRef(null),w=a.useRef({keys:[],repeating:!0,previousKeyMatched:!0,lastTime:null});Ve((function(){s&&x.current.focus()}),[s]),a.useImperativeHandle(n,(function(){return{adjustStyleForScrollbar:function(e,t){var n=!x.current.style.width;if(e.clientHeight<x.current.clientHeight&&n){var r="".concat(J(),"px");x.current.style["rtl"===t.direction?"paddingLeft":"paddingRight"]=r,x.current.style.width="calc(100% + ".concat(r,")")}return x.current}}}),[]);var M=a.useCallback((function(e){x.current=F.findDOMNode(e)}),[]),_=Object(X.a)(M,t),S=-1;a.Children.forEach(c,(function(e,t){a.isValidElement(e)&&(e.props.disabled||("selectedMenu"===y&&e.props.selected||-1===S)&&(S=t))}));var E=a.Children.map(c,(function(e,t){if(t===S){var n={};return u&&(n.autoFocus=!0),void 0===e.props.tabIndex&&"selectedMenu"===y&&(n.tabIndex=0),a.cloneElement(e,n)}return e}));return a.createElement(Fe,Object(r.a)({role:"menu",ref:_,className:d,onKeyDown:function(e){var t=x.current,n=e.key,r=Object(j.a)(t).activeElement;if("ArrowDown"===n)e.preventDefault(),Be(t,r,m,f,Ge);else if("ArrowUp"===n)e.preventDefault(),Be(t,r,m,f,Ue);else if("Home"===n)e.preventDefault(),Be(t,null,m,f,Ge);else if("End"===n)e.preventDefault(),Be(t,null,m,f,Ue);else if(1===n.length){var i=w.current,a=n.toLowerCase(),o=performance.now();i.keys.length>0&&(o-i.lastTime>500?(i.keys=[],i.repeating=!0,i.previousKeyMatched=!0):i.repeating&&a!==i.keys[0]&&(i.repeating=!1)),i.lastTime=o,i.keys.push(a);var s=r&&!i.repeating&&ze(r,i);i.previousKeyMatched&&(s||Be(t,r,!1,f,Ge,i))?e.preventDefault():i.previousKeyMatched=!1}v&&v(e)},tabIndex:s?0:-1},b),E)})),We={vertical:"top",horizontal:"right"},Xe={vertical:"top",horizontal:"left"},qe=a.forwardRef((function(e,t){var n=e.autoFocus,o=void 0===n||n,l=e.children,u=e.classes,c=e.disableAutoFocusItem,d=void 0!==c&&c,h=e.MenuListProps,f=void 0===h?{}:h,m=e.onClose,v=e.onEntering,g=e.open,y=e.PaperProps,b=void 0===y?{}:y,x=e.PopoverClasses,w=e.transitionDuration,M=void 0===w?"auto":w,_=e.variant,S=void 0===_?"selectedMenu":_,E=Object(i.a)(e,["autoFocus","children","classes","disableAutoFocusItem","MenuListProps","onClose","onEntering","open","PaperProps","PopoverClasses","transitionDuration","variant"]),T=Object(p.a)(),A=o&&!d&&g,R=a.useRef(null),O=a.useRef(null),k=-1;a.Children.map(l,(function(e,t){a.isValidElement(e)&&(e.props.disabled||("menu"!==S&&e.props.selected||-1===k)&&(k=t))}));var I=a.Children.map(l,(function(e,t){return t===k?a.cloneElement(e,{ref:function(t){O.current=F.findDOMNode(t),Object(W.a)(e.ref,t)}}):e}));return a.createElement(Pe,Object(r.a)({getContentAnchorEl:function(){return O.current},classes:x,onClose:m,onEntering:function(e,t){R.current&&R.current.adjustStyleForScrollbar(e,T),v&&v(e,t)},anchorOrigin:"rtl"===T.direction?We:Xe,transformOrigin:"rtl"===T.direction?We:Xe,PaperProps:Object(r.a)({},b,{classes:Object(r.a)({},b.classes,{root:u.paper})}),open:g,ref:t,transitionDuration:M},E),a.createElement(He,Object(r.a)({onKeyDown:function(e){"Tab"===e.key&&(e.preventDefault(),m&&m(e,"tabKeyDown"))},actions:R,autoFocus:o&&(-1===k||d),autoFocusItem:A,variant:S},f,{className:Object(s.a)(u.list,f.className)}),I))})),Ye=Object(c.a)({paper:{maxHeight:"calc(100% - 96px)",WebkitOverflowScrolling:"touch"},list:{outline:0}},{name:"MuiMenu"})(qe),Qe=n(66);function Ze(e,t){return"object"===Object(P.a)(t)&&null!==t?e===t:String(e)===String(t)}var $e=a.forwardRef((function(e,t){var n=e["aria-label"],o=e.autoFocus,l=e.autoWidth,u=e.children,c=e.classes,d=e.className,h=e.defaultValue,f=e.disabled,p=e.displayEmpty,v=e.IconComponent,g=e.inputRef,y=e.labelId,b=e.MenuProps,x=void 0===b?{}:b,w=e.multiple,M=e.name,_=e.onBlur,S=e.onChange,E=e.onClose,T=e.onFocus,R=e.onOpen,O=e.open,k=e.readOnly,I=e.renderValue,C=e.SelectDisplayProps,D=void 0===C?{}:C,P=e.tabIndex,F=(e.type,e.value),G=e.variant,U=void 0===G?"standard":G,z=Object(i.a)(e,["aria-label","autoFocus","autoWidth","children","classes","className","defaultValue","disabled","displayEmpty","IconComponent","inputRef","labelId","MenuProps","multiple","name","onBlur","onChange","onClose","onFocus","onOpen","open","readOnly","renderValue","SelectDisplayProps","tabIndex","type","value","variant"]),B=Object(Qe.a)({controlled:F,default:h,name:"Select"}),V=Object(L.a)(B,2),H=V[0],W=V[1],q=a.useRef(null),Y=a.useState(null),Q=Y[0],Z=Y[1],$=a.useRef(null!=O).current,K=a.useState(),J=K[0],ee=K[1],te=a.useState(!1),ne=te[0],re=te[1],ie=Object(X.a)(t,g);a.useImperativeHandle(ie,(function(){return{focus:function(){Q.focus()},node:q.current,value:H}}),[Q,H]),a.useEffect((function(){o&&Q&&Q.focus()}),[o,Q]),a.useEffect((function(){if(Q){var e=Object(j.a)(Q).getElementById(y);if(e){var t=function(){getSelection().isCollapsed&&Q.focus()};return e.addEventListener("click",t),function(){e.removeEventListener("click",t)}}}}),[y,Q]);var ae,oe,se=function(e,t){e?R&&R(t):E&&E(t),$||(ee(l?null:Q.clientWidth),re(e))},le=a.Children.toArray(u),ue=function(e){return function(t){var n;if(w||se(!1,t),w){n=Array.isArray(H)?H.slice():[];var r=H.indexOf(e.props.value);-1===r?n.push(e.props.value):n.splice(r,1)}else n=e.props.value;e.props.onClick&&e.props.onClick(t),H!==n&&(W(n),S&&(t.persist(),Object.defineProperty(t,"target",{writable:!0,value:{value:n,name:M}}),S(t,e)))}},ce=null!==Q&&($?O:ne);delete z["aria-invalid"];var de=[],he=!1;(Object(A.b)({value:H})||p)&&(I?ae=I(H):he=!0);var fe=le.map((function(e){if(!a.isValidElement(e))return null;var t;if(w){if(!Array.isArray(H))throw new Error(Object(N.a)(2));(t=H.some((function(t){return Ze(t,e.props.value)})))&&he&&de.push(e.props.children)}else(t=Ze(H,e.props.value))&&he&&(oe=e.props.children);return t&&!0,a.cloneElement(e,{"aria-selected":t?"true":void 0,onClick:ue(e),onKeyUp:function(t){" "===t.key&&t.preventDefault(),e.props.onKeyUp&&e.props.onKeyUp(t)},role:"option",selected:t,value:void 0,"data-value":e.props.value})}));he&&(ae=w?de.join(", "):oe);var pe,me=J;!l&&$&&Q&&(me=Q.clientWidth),pe="undefined"!==typeof P?P:f?null:0;var ve=D.id||(M?"mui-component-select-".concat(M):void 0);return a.createElement(a.Fragment,null,a.createElement("div",Object(r.a)({className:Object(s.a)(c.root,c.select,c.selectMenu,c[U],d,f&&c.disabled),ref:Z,tabIndex:pe,role:"button","aria-disabled":f?"true":void 0,"aria-expanded":ce?"true":void 0,"aria-haspopup":"listbox","aria-label":n,"aria-labelledby":[y,ve].filter(Boolean).join(" ")||void 0,onKeyDown:function(e){if(!k){-1!==[" ","ArrowUp","ArrowDown","Enter"].indexOf(e.key)&&(e.preventDefault(),se(!0,e))}},onMouseDown:f||k?null:function(e){0===e.button&&(e.preventDefault(),Q.focus(),se(!0,e))},onBlur:function(e){!ce&&_&&(e.persist(),Object.defineProperty(e,"target",{writable:!0,value:{value:H,name:M}}),_(e))},onFocus:T},D,{id:ve}),function(e){return null==e||"string"===typeof e&&!e.trim()}(ae)?a.createElement("span",{dangerouslySetInnerHTML:{__html:"&#8203;"}}):ae),a.createElement("input",Object(r.a)({value:Array.isArray(H)?H.join(","):H,name:M,ref:q,"aria-hidden":!0,onChange:function(e){var t=le.map((function(e){return e.props.value})).indexOf(e.target.value);if(-1!==t){var n=le[t];W(n.props.value),S&&S(e,n)}},tabIndex:-1,className:c.nativeInput,autoFocus:o},z)),a.createElement(v,{className:Object(s.a)(c.icon,c["icon".concat(Object(m.a)(U))],ce&&c.iconOpen,f&&c.disabled)}),a.createElement(Ye,Object(r.a)({id:"menu-".concat(M||""),anchorEl:Q,open:ce,onClose:function(e){se(!1,e)}},x,{MenuListProps:Object(r.a)({"aria-labelledby":y,role:"listbox",disableListWrap:!0},x.MenuListProps),PaperProps:Object(r.a)({},x.PaperProps,{style:Object(r.a)({minWidth:me},null!=x.PaperProps?x.PaperProps.style:null)})}),fe))})),Ke=a.forwardRef((function(e,t){var n=e.children,o=e.classes,l=e.className,u=e.color,c=void 0===u?"inherit":u,d=e.component,h=void 0===d?"svg":d,f=e.fontSize,p=void 0===f?"default":f,v=e.htmlColor,g=e.titleAccess,y=e.viewBox,b=void 0===y?"0 0 24 24":y,x=Object(i.a)(e,["children","classes","className","color","component","fontSize","htmlColor","titleAccess","viewBox"]);return a.createElement(h,Object(r.a)({className:Object(s.a)(o.root,l,"inherit"!==c&&o["color".concat(Object(m.a)(c))],"default"!==p&&o["fontSize".concat(Object(m.a)(p))]),focusable:"false",viewBox:b,color:v,"aria-hidden":!g||void 0,role:g?"img":void 0,ref:t},x),n,g?a.createElement("title",null,g):null)}));Ke.muiName="SvgIcon";var Je=Object(c.a)((function(e){return{root:{userSelect:"none",width:"1em",height:"1em",display:"inline-block",fill:"currentColor",flexShrink:0,fontSize:e.typography.pxToRem(24),transition:e.transitions.create("fill",{duration:e.transitions.duration.shorter})},colorPrimary:{color:e.palette.primary.main},colorSecondary:{color:e.palette.secondary.main},colorAction:{color:e.palette.action.active},colorError:{color:e.palette.error.main},colorDisabled:{color:e.palette.action.disabled},fontSizeInherit:{fontSize:"inherit"},fontSizeSmall:{fontSize:e.typography.pxToRem(20)},fontSizeLarge:{fontSize:e.typography.pxToRem(35)}}}),{name:"MuiSvgIcon"})(Ke);var et=function(e,t){var n=function(t,n){return o.a.createElement(Je,Object(r.a)({ref:n},t),e)};return n.muiName=Je.muiName,o.a.memo(o.a.forwardRef(n))}(a.createElement("path",{d:"M7 10l5 5 5-5z"})),tt=a.forwardRef((function(e,t){var n=e.classes,o=e.className,l=e.disabled,u=e.IconComponent,c=e.inputRef,d=e.variant,h=void 0===d?"standard":d,f=Object(i.a)(e,["classes","className","disabled","IconComponent","inputRef","variant"]);return a.createElement(a.Fragment,null,a.createElement("select",Object(r.a)({className:Object(s.a)(n.root,n.select,n[h],o,l&&n.disabled),disabled:l,ref:c||t},f)),e.multiple?null:a.createElement(u,{className:Object(s.a)(n.icon,n["icon".concat(Object(m.a)(h))],l&&n.disabled)}))})),nt=function(e){return{root:{},select:{"-moz-appearance":"none","-webkit-appearance":"none",userSelect:"none",borderRadius:0,minWidth:16,cursor:"pointer","&:focus":{backgroundColor:"light"===e.palette.type?"rgba(0, 0, 0, 0.05)":"rgba(255, 255, 255, 0.05)",borderRadius:0},"&::-ms-expand":{display:"none"},"&$disabled":{cursor:"default"},"&[multiple]":{height:"auto"},"&:not([multiple]) option, &:not([multiple]) optgroup":{backgroundColor:e.palette.background.paper},"&&":{paddingRight:24}},filled:{"&&":{paddingRight:32}},outlined:{borderRadius:e.shape.borderRadius,"&&":{paddingRight:32}},selectMenu:{height:"auto",minHeight:"1.1876em",textOverflow:"ellipsis",whiteSpace:"nowrap",overflow:"hidden"},disabled:{},icon:{position:"absolute",right:0,top:"calc(50% - 12px)",pointerEvents:"none",color:e.palette.action.active,"&$disabled":{color:e.palette.action.disabled}},iconOpen:{transform:"rotate(180deg)"},iconFilled:{right:7},iconOutlined:{right:7},nativeInput:{bottom:0,left:0,position:"absolute",opacity:0,pointerEvents:"none",width:"100%"}}},rt=a.createElement(l.a,null),it=a.forwardRef((function(e,t){var n=e.children,o=e.classes,s=e.IconComponent,l=void 0===s?et:s,u=e.input,c=void 0===u?rt:u,d=e.inputProps,h=(e.variant,Object(i.a)(e,["children","classes","IconComponent","input","inputProps","variant"])),f=M(),p=Object(x.a)({props:e,muiFormControl:f,states:["variant"]});return a.cloneElement(c,Object(r.a)({inputComponent:tt,inputProps:Object(r.a)({children:n,classes:o,IconComponent:l,variant:p.variant,type:void 0},d,c?c.props.inputProps:{}),ref:t},h))}));it.muiName="Select";Object(c.a)(nt,{name:"MuiNativeSelect"})(it);var at=nt,ot=a.createElement(l.a,null),st=a.createElement(h,null),lt=a.forwardRef((function e(t,n){var o=t.autoWidth,s=void 0!==o&&o,l=t.children,u=t.classes,c=t.displayEmpty,d=void 0!==c&&c,h=t.IconComponent,f=void 0===h?et:h,p=t.id,m=t.input,v=t.inputProps,g=t.label,y=t.labelId,w=t.labelWidth,_=void 0===w?0:w,S=t.MenuProps,E=t.multiple,T=void 0!==E&&E,A=t.native,R=void 0!==A&&A,O=t.onClose,k=t.onOpen,I=t.open,C=t.renderValue,L=t.SelectDisplayProps,P=t.variant,N=void 0===P?"standard":P,j=Object(i.a)(t,["autoWidth","children","classes","displayEmpty","IconComponent","id","input","inputProps","label","labelId","labelWidth","MenuProps","multiple","native","onClose","onOpen","open","renderValue","SelectDisplayProps","variant"]),F=R?tt:$e,G=M(),U=Object(x.a)({props:t,muiFormControl:G,states:["variant"]}).variant||N,z=m||{standard:ot,outlined:a.createElement(b,{label:g,labelWidth:_}),filled:st}[U];return a.cloneElement(z,Object(r.a)({inputComponent:F,inputProps:Object(r.a)({children:l,IconComponent:f,variant:U,type:void 0,multiple:T},R?{id:p}:{autoWidth:s,displayEmpty:d,labelId:y,MenuProps:S,onClose:O,onOpen:k,open:I,renderValue:C,SelectDisplayProps:Object(r.a)({id:p},L)},v,{classes:v?Object(D.a)({baseClasses:u,newClasses:v.classes,Component:e}):u},m?m.props.inputProps:{}),ref:n},j))}));lt.muiName="Select";var ut=Object(c.a)(at,{name:"MuiSelect"})(lt),ct={standard:l.a,filled:h,outlined:b},dt=a.forwardRef((function(e,t){var n=e.autoComplete,o=e.autoFocus,l=void 0!==o&&o,u=e.children,c=e.classes,d=e.className,h=e.color,f=void 0===h?"primary":h,p=e.defaultValue,m=e.disabled,v=void 0!==m&&m,g=e.error,y=void 0!==g&&g,b=e.FormHelperTextProps,x=e.fullWidth,w=void 0!==x&&x,M=e.helperText,_=e.hiddenLabel,S=e.id,E=e.InputLabelProps,A=e.inputProps,R=e.InputProps,O=e.inputRef,I=e.label,D=e.multiline,L=void 0!==D&&D,P=e.name,N=e.onBlur,j=e.onChange,F=e.onFocus,G=e.placeholder,U=e.required,z=void 0!==U&&U,B=e.rows,V=e.rowsMax,H=e.select,W=void 0!==H&&H,X=e.SelectProps,q=e.type,Y=e.value,Q=e.variant,Z=void 0===Q?"standard":Q,$=Object(i.a)(e,["autoComplete","autoFocus","children","classes","className","color","defaultValue","disabled","error","FormHelperTextProps","fullWidth","helperText","hiddenLabel","id","InputLabelProps","inputProps","InputProps","inputRef","label","multiline","name","onBlur","onChange","onFocus","placeholder","required","rows","rowsMax","select","SelectProps","type","value","variant"]);var K={};if("outlined"===Z&&(E&&"undefined"!==typeof E.shrink&&(K.notched=E.shrink),I)){var J,ee=null!==(J=null===E||void 0===E?void 0:E.required)&&void 0!==J?J:z;K.label=a.createElement(a.Fragment,null,I,ee&&"\xa0*")}W&&(X&&X.native||(K.id=void 0),K["aria-describedby"]=void 0);var te=M&&S?"".concat(S,"-helper-text"):void 0,ne=I&&S?"".concat(S,"-label"):void 0,re=ct[Z],ie=a.createElement(re,Object(r.a)({"aria-describedby":te,autoComplete:n,autoFocus:l,defaultValue:p,fullWidth:w,multiline:L,name:P,rows:B,rowsMax:V,type:q,value:Y,id:S,inputRef:O,onBlur:N,onChange:j,onFocus:F,placeholder:G,inputProps:A},K,R));return a.createElement(k,Object(r.a)({className:Object(s.a)(c.root,d),disabled:v,error:y,fullWidth:w,hiddenLabel:_,ref:t,required:z,color:f,variant:Z},$),I&&a.createElement(T,Object(r.a)({htmlFor:S,id:ne},E),I),W?a.createElement(ut,Object(r.a)({"aria-describedby":te,id:S,labelId:ne,value:Y,input:ie},X),u):ie,M&&a.createElement(C,Object(r.a)({id:te},b),M))}));t.a=Object(c.a)({root:{}},{name:"MuiTextField"})(dt)},function(e,t,n){"use strict";var r=n(7),i=n(2),a=n(1),o=n.n(a),s=(n(16),n(9)),l=n(11),u=n(31),c=n(20),d=n(23),h=n(29),f=n(67),p=n(36),m=n(18),v=n(58),g=n(47),y=n(55);function b(e,t){var n=Object.create(null);return e&&a.Children.map(e,(function(e){return e})).forEach((function(e){n[e.key]=function(e){return t&&Object(a.isValidElement)(e)?t(e):e}(e)})),n}function x(e,t,n){return null!=n[t]?n[t]:e.props[t]}function w(e,t,n){var r=b(e.children),i=function(e,t){function n(n){return n in t?t[n]:e[n]}e=e||{},t=t||{};var r,i=Object.create(null),a=[];for(var o in e)o in t?a.length&&(i[o]=a,a=[]):a.push(o);var s={};for(var l in t){if(i[l])for(r=0;r<i[l].length;r++){var u=i[l][r];s[i[l][r]]=n(u)}s[l]=n(l)}for(r=0;r<a.length;r++)s[a[r]]=n(a[r]);return s}(t,r);return Object.keys(i).forEach((function(o){var s=i[o];if(Object(a.isValidElement)(s)){var l=o in t,u=o in r,c=t[o],d=Object(a.isValidElement)(c)&&!c.props.in;!u||l&&!d?u||!l||d?u&&l&&Object(a.isValidElement)(c)&&(i[o]=Object(a.cloneElement)(s,{onExited:n.bind(null,s),in:c.props.in,exit:x(s,"exit",e),enter:x(s,"enter",e)})):i[o]=Object(a.cloneElement)(s,{in:!1}):i[o]=Object(a.cloneElement)(s,{onExited:n.bind(null,s),in:!0,exit:x(s,"exit",e),enter:x(s,"enter",e)})}})),i}var M=Object.values||function(e){return Object.keys(e).map((function(t){return e[t]}))},_=function(e){function t(t,n){var r,i=(r=e.call(this,t,n)||this).handleExited.bind(Object(v.a)(r));return r.state={contextValue:{isMounting:!0},handleExited:i,firstRender:!0},r}Object(g.a)(t,e);var n=t.prototype;return n.componentDidMount=function(){this.mounted=!0,this.setState({contextValue:{isMounting:!1}})},n.componentWillUnmount=function(){this.mounted=!1},t.getDerivedStateFromProps=function(e,t){var n,r,i=t.children,o=t.handleExited;return{children:t.firstRender?(n=e,r=o,b(n.children,(function(e){return Object(a.cloneElement)(e,{onExited:r.bind(null,e),in:!0,appear:x(e,"appear",n),enter:x(e,"enter",n),exit:x(e,"exit",n)})}))):w(e,i,o),firstRender:!1}},n.handleExited=function(e,t){var n=b(this.props.children);e.key in n||(e.props.onExited&&e.props.onExited(t),this.mounted&&this.setState((function(t){var n=Object(i.a)({},t.children);return delete n[e.key],{children:n}})))},n.render=function(){var e=this.props,t=e.component,n=e.childFactory,r=Object(m.a)(e,["component","childFactory"]),i=this.state.contextValue,a=M(this.state.children).map(n);return delete r.appear,delete r.enter,delete r.exit,null===t?o.a.createElement(y.a.Provider,{value:i},a):o.a.createElement(y.a.Provider,{value:i},o.a.createElement(t,r,a))},t}(o.a.Component);_.propTypes={},_.defaultProps={component:"div",childFactory:function(e){return e}};var S=_,E="undefined"===typeof window?a.useEffect:a.useLayoutEffect;var T=function(e){var t=e.classes,n=e.pulsate,r=void 0!==n&&n,i=e.rippleX,o=e.rippleY,l=e.rippleSize,u=e.in,c=e.onExited,d=void 0===c?function(){}:c,f=e.timeout,p=a.useState(!1),m=p[0],v=p[1],g=Object(s.a)(t.ripple,t.rippleVisible,r&&t.ripplePulsate),y={width:l,height:l,top:-l/2+o,left:-l/2+i},b=Object(s.a)(t.child,m&&t.childLeaving,r&&t.childPulsate),x=Object(h.a)(d);return E((function(){if(!u){v(!0);var e=setTimeout(x,f);return function(){clearTimeout(e)}}}),[x,u,f]),a.createElement("span",{className:g,style:y},a.createElement("span",{className:b}))},A=a.forwardRef((function(e,t){var n=e.center,o=void 0!==n&&n,l=e.classes,u=e.className,c=Object(r.a)(e,["center","classes","className"]),d=a.useState([]),h=d[0],f=d[1],m=a.useRef(0),v=a.useRef(null);a.useEffect((function(){v.current&&(v.current(),v.current=null)}),[h]);var g=a.useRef(!1),y=a.useRef(null),b=a.useRef(null),x=a.useRef(null);a.useEffect((function(){return function(){clearTimeout(y.current)}}),[]);var w=a.useCallback((function(e){var t=e.pulsate,n=e.rippleX,r=e.rippleY,i=e.rippleSize,o=e.cb;f((function(e){return[].concat(Object(p.a)(e),[a.createElement(T,{key:m.current,classes:l,timeout:550,pulsate:t,rippleX:n,rippleY:r,rippleSize:i})])})),m.current+=1,v.current=o}),[l]),M=a.useCallback((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0,r=t.pulsate,i=void 0!==r&&r,a=t.center,s=void 0===a?o||t.pulsate:a,l=t.fakeElement,u=void 0!==l&&l;if("mousedown"===e.type&&g.current)g.current=!1;else{"touchstart"===e.type&&(g.current=!0);var c,d,h,f=u?null:x.current,p=f?f.getBoundingClientRect():{width:0,height:0,left:0,top:0};if(s||0===e.clientX&&0===e.clientY||!e.clientX&&!e.touches)c=Math.round(p.width/2),d=Math.round(p.height/2);else{var m=e.touches?e.touches[0]:e,v=m.clientX,M=m.clientY;c=Math.round(v-p.left),d=Math.round(M-p.top)}if(s)(h=Math.sqrt((2*Math.pow(p.width,2)+Math.pow(p.height,2))/3))%2===0&&(h+=1);else{var _=2*Math.max(Math.abs((f?f.clientWidth:0)-c),c)+2,S=2*Math.max(Math.abs((f?f.clientHeight:0)-d),d)+2;h=Math.sqrt(Math.pow(_,2)+Math.pow(S,2))}e.touches?null===b.current&&(b.current=function(){w({pulsate:i,rippleX:c,rippleY:d,rippleSize:h,cb:n})},y.current=setTimeout((function(){b.current&&(b.current(),b.current=null)}),80)):w({pulsate:i,rippleX:c,rippleY:d,rippleSize:h,cb:n})}}),[o,w]),_=a.useCallback((function(){M({},{pulsate:!0})}),[M]),E=a.useCallback((function(e,t){if(clearTimeout(y.current),"touchend"===e.type&&b.current)return e.persist(),b.current(),b.current=null,void(y.current=setTimeout((function(){E(e,t)})));b.current=null,f((function(e){return e.length>0?e.slice(1):e})),v.current=t}),[]);return a.useImperativeHandle(t,(function(){return{pulsate:_,start:M,stop:E}}),[_,M,E]),a.createElement("span",Object(i.a)({className:Object(s.a)(l.root,u),ref:x},c),a.createElement(S,{component:null,exit:!0},h))})),R=Object(l.a)((function(e){return{root:{overflow:"hidden",pointerEvents:"none",position:"absolute",zIndex:0,top:0,right:0,bottom:0,left:0,borderRadius:"inherit"},ripple:{opacity:0,position:"absolute"},rippleVisible:{opacity:.3,transform:"scale(1)",animation:"$enter ".concat(550,"ms ").concat(e.transitions.easing.easeInOut)},ripplePulsate:{animationDuration:"".concat(e.transitions.duration.shorter,"ms")},child:{opacity:1,display:"block",width:"100%",height:"100%",borderRadius:"50%",backgroundColor:"currentColor"},childLeaving:{opacity:0,animation:"$exit ".concat(550,"ms ").concat(e.transitions.easing.easeInOut)},childPulsate:{position:"absolute",left:0,top:0,animation:"$pulsate 2500ms ".concat(e.transitions.easing.easeInOut," 200ms infinite")},"@keyframes enter":{"0%":{transform:"scale(0)",opacity:.1},"100%":{transform:"scale(1)",opacity:.3}},"@keyframes exit":{"0%":{opacity:1},"100%":{opacity:0}},"@keyframes pulsate":{"0%":{transform:"scale(1)"},"50%":{transform:"scale(0.92)"},"100%":{transform:"scale(1)"}}}}),{flip:!1,name:"MuiTouchRipple"})(a.memo(A)),O=a.forwardRef((function(e,t){var n=e.action,o=e.buttonRef,l=e.centerRipple,u=void 0!==l&&l,p=e.children,m=e.classes,v=e.className,g=e.component,y=void 0===g?"button":g,b=e.disabled,x=void 0!==b&&b,w=e.disableRipple,M=void 0!==w&&w,_=e.disableTouchRipple,S=void 0!==_&&_,E=e.focusRipple,T=void 0!==E&&E,A=e.focusVisibleClassName,O=e.onBlur,k=e.onClick,I=e.onFocus,C=e.onFocusVisible,D=e.onKeyDown,L=e.onKeyUp,P=e.onMouseDown,N=e.onMouseLeave,j=e.onMouseUp,F=e.onTouchEnd,G=e.onTouchMove,U=e.onTouchStart,z=e.onDragLeave,B=e.tabIndex,V=void 0===B?0:B,H=e.TouchRippleProps,W=e.type,X=void 0===W?"button":W,q=Object(r.a)(e,["action","buttonRef","centerRipple","children","classes","className","component","disabled","disableRipple","disableTouchRipple","focusRipple","focusVisibleClassName","onBlur","onClick","onFocus","onFocusVisible","onKeyDown","onKeyUp","onMouseDown","onMouseLeave","onMouseUp","onTouchEnd","onTouchMove","onTouchStart","onDragLeave","tabIndex","TouchRippleProps","type"]),Y=a.useRef(null);var Q=a.useRef(null),Z=a.useState(!1),$=Z[0],K=Z[1];x&&$&&K(!1);var J=Object(f.a)(),ee=J.isFocusVisible,te=J.onBlurVisible,ne=J.ref;function re(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:S;return Object(h.a)((function(r){return t&&t(r),!n&&Q.current&&Q.current[e](r),!0}))}a.useImperativeHandle(n,(function(){return{focusVisible:function(){K(!0),Y.current.focus()}}}),[]),a.useEffect((function(){$&&T&&!M&&Q.current.pulsate()}),[M,T,$]);var ie=re("start",P),ae=re("stop",z),oe=re("stop",j),se=re("stop",(function(e){$&&e.preventDefault(),N&&N(e)})),le=re("start",U),ue=re("stop",F),ce=re("stop",G),de=re("stop",(function(e){$&&(te(e),K(!1)),O&&O(e)}),!1),he=Object(h.a)((function(e){Y.current||(Y.current=e.currentTarget),ee(e)&&(K(!0),C&&C(e)),I&&I(e)})),fe=function(){var e=c.findDOMNode(Y.current);return y&&"button"!==y&&!("A"===e.tagName&&e.href)},pe=a.useRef(!1),me=Object(h.a)((function(e){T&&!pe.current&&$&&Q.current&&" "===e.key&&(pe.current=!0,e.persist(),Q.current.stop(e,(function(){Q.current.start(e)}))),e.target===e.currentTarget&&fe()&&" "===e.key&&e.preventDefault(),D&&D(e),e.target===e.currentTarget&&fe()&&"Enter"===e.key&&!x&&(e.preventDefault(),k&&k(e))})),ve=Object(h.a)((function(e){T&&" "===e.key&&Q.current&&$&&!e.defaultPrevented&&(pe.current=!1,e.persist(),Q.current.stop(e,(function(){Q.current.pulsate(e)}))),L&&L(e),k&&e.target===e.currentTarget&&fe()&&" "===e.key&&!e.defaultPrevented&&k(e)})),ge=y;"button"===ge&&q.href&&(ge="a");var ye={};"button"===ge?(ye.type=X,ye.disabled=x):("a"===ge&&q.href||(ye.role="button"),ye["aria-disabled"]=x);var be=Object(d.a)(o,t),xe=Object(d.a)(ne,Y),we=Object(d.a)(be,xe),Me=a.useState(!1),_e=Me[0],Se=Me[1];a.useEffect((function(){Se(!0)}),[]);var Ee=_e&&!M&&!x;return a.createElement(ge,Object(i.a)({className:Object(s.a)(m.root,v,$&&[m.focusVisible,A],x&&m.disabled),onBlur:de,onClick:k,onFocus:he,onKeyDown:me,onKeyUp:ve,onMouseDown:ie,onMouseLeave:se,onMouseUp:oe,onDragLeave:ae,onTouchEnd:ue,onTouchMove:ce,onTouchStart:le,ref:we,tabIndex:x?-1:V},ye,q),p,Ee?a.createElement(R,Object(i.a)({ref:Q,center:u},H)):null)})),k=Object(l.a)({root:{display:"inline-flex",alignItems:"center",justifyContent:"center",position:"relative",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle","-moz-appearance":"none","-webkit-appearance":"none",textDecoration:"none",color:"inherit","&::-moz-focus-inner":{borderStyle:"none"},"&$disabled":{pointerEvents:"none",cursor:"default"},"@media print":{colorAdjust:"exact"}},disabled:{},focusVisible:{}},{name:"MuiButtonBase"})(O),I=n(21),C=a.forwardRef((function(e,t){var n=e.children,o=e.classes,l=e.className,u=e.color,c=void 0===u?"default":u,d=e.component,h=void 0===d?"button":d,f=e.disabled,p=void 0!==f&&f,m=e.disableElevation,v=void 0!==m&&m,g=e.disableFocusRipple,y=void 0!==g&&g,b=e.endIcon,x=e.focusVisibleClassName,w=e.fullWidth,M=void 0!==w&&w,_=e.size,S=void 0===_?"medium":_,E=e.startIcon,T=e.type,A=void 0===T?"button":T,R=e.variant,O=void 0===R?"text":R,C=Object(r.a)(e,["children","classes","className","color","component","disabled","disableElevation","disableFocusRipple","endIcon","focusVisibleClassName","fullWidth","size","startIcon","type","variant"]),D=E&&a.createElement("span",{className:Object(s.a)(o.startIcon,o["iconSize".concat(Object(I.a)(S))])},E),L=b&&a.createElement("span",{className:Object(s.a)(o.endIcon,o["iconSize".concat(Object(I.a)(S))])},b);return a.createElement(k,Object(i.a)({className:Object(s.a)(o.root,o[O],l,"inherit"===c?o.colorInherit:"default"!==c&&o["".concat(O).concat(Object(I.a)(c))],"medium"!==S&&[o["".concat(O,"Size").concat(Object(I.a)(S))],o["size".concat(Object(I.a)(S))]],v&&o.disableElevation,p&&o.disabled,M&&o.fullWidth),component:h,disabled:p,focusRipple:!y,focusVisibleClassName:Object(s.a)(o.focusVisible,x),ref:t,type:A},C),a.createElement("span",{className:o.label},D,n,L))}));t.a=Object(l.a)((function(e){return{root:Object(i.a)({},e.typography.button,{boxSizing:"border-box",minWidth:64,padding:"6px 16px",borderRadius:e.shape.borderRadius,color:e.palette.text.primary,transition:e.transitions.create(["background-color","box-shadow","border"],{duration:e.transitions.duration.short}),"&:hover":{textDecoration:"none",backgroundColor:Object(u.b)(e.palette.text.primary,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"},"&$disabled":{backgroundColor:"transparent"}},"&$disabled":{color:e.palette.action.disabled}}),label:{width:"100%",display:"inherit",alignItems:"inherit",justifyContent:"inherit"},text:{padding:"6px 8px"},textPrimary:{color:e.palette.primary.main,"&:hover":{backgroundColor:Object(u.b)(e.palette.primary.main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},textSecondary:{color:e.palette.secondary.main,"&:hover":{backgroundColor:Object(u.b)(e.palette.secondary.main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},outlined:{padding:"5px 15px",border:"1px solid ".concat("light"===e.palette.type?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)"),"&$disabled":{border:"1px solid ".concat(e.palette.action.disabledBackground)}},outlinedPrimary:{color:e.palette.primary.main,border:"1px solid ".concat(Object(u.b)(e.palette.primary.main,.5)),"&:hover":{border:"1px solid ".concat(e.palette.primary.main),backgroundColor:Object(u.b)(e.palette.primary.main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},outlinedSecondary:{color:e.palette.secondary.main,border:"1px solid ".concat(Object(u.b)(e.palette.secondary.main,.5)),"&:hover":{border:"1px solid ".concat(e.palette.secondary.main),backgroundColor:Object(u.b)(e.palette.secondary.main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},"&$disabled":{border:"1px solid ".concat(e.palette.action.disabled)}},contained:{color:e.palette.getContrastText(e.palette.grey[300]),backgroundColor:e.palette.grey[300],boxShadow:e.shadows[2],"&:hover":{backgroundColor:e.palette.grey.A100,boxShadow:e.shadows[4],"@media (hover: none)":{boxShadow:e.shadows[2],backgroundColor:e.palette.grey[300]},"&$disabled":{backgroundColor:e.palette.action.disabledBackground}},"&$focusVisible":{boxShadow:e.shadows[6]},"&:active":{boxShadow:e.shadows[8]},"&$disabled":{color:e.palette.action.disabled,boxShadow:e.shadows[0],backgroundColor:e.palette.action.disabledBackground}},containedPrimary:{color:e.palette.primary.contrastText,backgroundColor:e.palette.primary.main,"&:hover":{backgroundColor:e.palette.primary.dark,"@media (hover: none)":{backgroundColor:e.palette.primary.main}}},containedSecondary:{color:e.palette.secondary.contrastText,backgroundColor:e.palette.secondary.main,"&:hover":{backgroundColor:e.palette.secondary.dark,"@media (hover: none)":{backgroundColor:e.palette.secondary.main}}},disableElevation:{boxShadow:"none","&:hover":{boxShadow:"none"},"&$focusVisible":{boxShadow:"none"},"&:active":{boxShadow:"none"},"&$disabled":{boxShadow:"none"}},focusVisible:{},disabled:{},colorInherit:{color:"inherit",borderColor:"currentColor"},textSizeSmall:{padding:"4px 5px",fontSize:e.typography.pxToRem(13)},textSizeLarge:{padding:"8px 11px",fontSize:e.typography.pxToRem(15)},outlinedSizeSmall:{padding:"3px 9px",fontSize:e.typography.pxToRem(13)},outlinedSizeLarge:{padding:"7px 21px",fontSize:e.typography.pxToRem(15)},containedSizeSmall:{padding:"4px 10px",fontSize:e.typography.pxToRem(13)},containedSizeLarge:{padding:"8px 22px",fontSize:e.typography.pxToRem(15)},sizeSmall:{},sizeLarge:{},fullWidth:{width:"100%"},startIcon:{display:"inherit",marginRight:8,marginLeft:-4,"&$iconSizeSmall":{marginLeft:-2}},endIcon:{display:"inherit",marginRight:-4,marginLeft:8,"&$iconSizeSmall":{marginRight:-2}},iconSizeSmall:{"& > *:first-child":{fontSize:18}},iconSizeMedium:{"& > *:first-child":{fontSize:20}},iconSizeLarge:{"& > *:first-child":{fontSize:22}}}}),{name:"MuiButton"})(C)},function(e,t,n){"use strict";var r=n(36),i=n(41),a=n(7),o=n(2),s=n(1),l=(n(16),n(9)),u=n(11),c=n(39),d=n(31),h=n(67),f=n(27),p=n(29),m=n(23),v=n(21),g=n(66);var y=Object(u.a)((function(e){return{thumb:{"&$open":{"& $offset":{transform:"scale(1) translateY(-10px)"}}},open:{},offset:Object(o.a)({zIndex:1},e.typography.body2,{fontSize:e.typography.pxToRem(12),lineHeight:1.2,transition:e.transitions.create(["transform"],{duration:e.transitions.duration.shortest}),top:-34,transformOrigin:"bottom center",transform:"scale(0)",position:"absolute"}),circle:{display:"flex",alignItems:"center",justifyContent:"center",width:32,height:32,borderRadius:"50% 50% 50% 0",backgroundColor:"currentColor",transform:"rotate(-45deg)"},label:{color:e.palette.primary.contrastText,transform:"rotate(45deg)"}}}),{name:"PrivateValueLabel"})((function(e){var t=e.children,n=e.classes,r=e.className,i=e.open,a=e.value,o=e.valueLabelDisplay;return"off"===o?t:s.cloneElement(t,{className:Object(l.a)(t.props.className,(i||"on"===o)&&n.open,n.thumb)},s.createElement("span",{className:Object(l.a)(n.offset,r)},s.createElement("span",{className:n.circle},s.createElement("span",{className:n.label},a))))}));function b(e,t){return e-t}function x(e,t,n){return Math.min(Math.max(t,e),n)}function w(e,t){return e.reduce((function(e,n,r){var i=Math.abs(t-n);return null===e||i<e.distance||i===e.distance?{distance:i,index:r}:e}),null).index}function M(e,t){if(void 0!==t.current&&e.changedTouches){for(var n=0;n<e.changedTouches.length;n+=1){var r=e.changedTouches[n];if(r.identifier===t.current)return{x:r.clientX,y:r.clientY}}return!1}return{x:e.clientX,y:e.clientY}}function _(e,t,n){return 100*(e-t)/(n-t)}function S(e,t,n){var r=Math.round((e-n)/t)*t+n;return Number(r.toFixed(function(e){if(Math.abs(e)<1){var t=e.toExponential().split("e-"),n=t[0].split(".")[1];return(n?n.length:0)+parseInt(t[1],10)}var r=e.toString().split(".")[1];return r?r.length:0}(t)))}function E(e){var t=e.values,n=e.source,r=e.newValue,i=e.index;if(t[i]===r)return n;var a=t.slice();return a[i]=r,a}function T(e){var t=e.sliderRef,n=e.activeIndex,r=e.setActive;t.current.contains(document.activeElement)&&Number(document.activeElement.getAttribute("data-index"))===n||t.current.querySelector('[role="slider"][data-index="'.concat(n,'"]')).focus(),r&&r(n)}var A={horizontal:{offset:function(e){return{left:"".concat(e,"%")}},leap:function(e){return{width:"".concat(e,"%")}}},"horizontal-reverse":{offset:function(e){return{right:"".concat(e,"%")}},leap:function(e){return{width:"".concat(e,"%")}}},vertical:{offset:function(e){return{bottom:"".concat(e,"%")}},leap:function(e){return{height:"".concat(e,"%")}}}},R=function(e){return e},O=s.forwardRef((function(e,t){var n=e["aria-label"],u=e["aria-labelledby"],d=e["aria-valuetext"],O=e.classes,k=e.className,I=e.color,C=void 0===I?"primary":I,D=e.component,L=void 0===D?"span":D,P=e.defaultValue,N=e.disabled,j=void 0!==N&&N,F=e.getAriaLabel,G=e.getAriaValueText,U=e.marks,z=void 0!==U&&U,B=e.max,V=void 0===B?100:B,H=e.min,W=void 0===H?0:H,X=e.name,q=e.onChange,Y=e.onChangeCommitted,Q=e.onMouseDown,Z=e.orientation,$=void 0===Z?"horizontal":Z,K=e.scale,J=void 0===K?R:K,ee=e.step,te=void 0===ee?1:ee,ne=e.ThumbComponent,re=void 0===ne?"span":ne,ie=e.track,ae=void 0===ie?"normal":ie,oe=e.value,se=e.ValueLabelComponent,le=void 0===se?y:se,ue=e.valueLabelDisplay,ce=void 0===ue?"off":ue,de=e.valueLabelFormat,he=void 0===de?R:de,fe=Object(a.a)(e,["aria-label","aria-labelledby","aria-valuetext","classes","className","color","component","defaultValue","disabled","getAriaLabel","getAriaValueText","marks","max","min","name","onChange","onChangeCommitted","onMouseDown","orientation","scale","step","ThumbComponent","track","value","ValueLabelComponent","valueLabelDisplay","valueLabelFormat"]),pe=Object(c.a)(),me=s.useRef(),ve=s.useState(-1),ge=ve[0],ye=ve[1],be=s.useState(-1),xe=be[0],we=be[1],Me=Object(g.a)({controlled:oe,default:P,name:"Slider"}),_e=Object(i.a)(Me,2),Se=_e[0],Ee=_e[1],Te=Array.isArray(Se),Ae=Te?Se.slice().sort(b):[Se];Ae=Ae.map((function(e){return x(e,W,V)}));var Re=!0===z&&null!==te?Object(r.a)(Array(Math.floor((V-W)/te)+1)).map((function(e,t){return{value:W+te*t}})):z||[],Oe=Object(h.a)(),ke=Oe.isFocusVisible,Ie=Oe.onBlurVisible,Ce=Oe.ref,De=s.useState(-1),Le=De[0],Pe=De[1],Ne=s.useRef(),je=Object(m.a)(Ce,Ne),Fe=Object(m.a)(t,je),Ge=Object(p.a)((function(e){var t=Number(e.currentTarget.getAttribute("data-index"));ke(e)&&Pe(t),we(t)})),Ue=Object(p.a)((function(){-1!==Le&&(Pe(-1),Ie()),we(-1)})),ze=Object(p.a)((function(e){var t=Number(e.currentTarget.getAttribute("data-index"));we(t)})),Be=Object(p.a)((function(){we(-1)})),Ve="rtl"===pe.direction,He=Object(p.a)((function(e){var t,n=Number(e.currentTarget.getAttribute("data-index")),r=Ae[n],i=(V-W)/10,a=Re.map((function(e){return e.value})),o=a.indexOf(r),s=Ve?"ArrowLeft":"ArrowRight",l=Ve?"ArrowRight":"ArrowLeft";switch(e.key){case"Home":t=W;break;case"End":t=V;break;case"PageUp":te&&(t=r+i);break;case"PageDown":te&&(t=r-i);break;case s:case"ArrowUp":t=te?r+te:a[o+1]||a[a.length-1];break;case l:case"ArrowDown":t=te?r-te:a[o-1]||a[0];break;default:return}if(e.preventDefault(),te&&(t=S(t,te,W)),t=x(t,W,V),Te){var u=t;t=E({values:Ae,source:Se,newValue:t,index:n}).sort(b),T({sliderRef:Ne,activeIndex:t.indexOf(u)})}Ee(t),Pe(n),q&&q(e,t),Y&&Y(e,t)})),We=s.useRef(),Xe=$;Ve&&"vertical"!==$&&(Xe+="-reverse");var qe=function(e){var t,n,r=e.finger,i=e.move,a=void 0!==i&&i,o=e.values,s=e.source,l=Ne.current.getBoundingClientRect(),u=l.width,c=l.height,d=l.bottom,h=l.left;if(t=0===Xe.indexOf("vertical")?(d-r.y)/c:(r.x-h)/u,-1!==Xe.indexOf("-reverse")&&(t=1-t),n=function(e,t,n){return(n-t)*e+t}(t,W,V),te)n=S(n,te,W);else{var f=Re.map((function(e){return e.value}));n=f[w(f,n)]}n=x(n,W,V);var p=0;if(Te){var m=n;p=(n=E({values:o,source:s,newValue:n,index:p=a?We.current:w(o,n)}).sort(b)).indexOf(m),We.current=p}return{newValue:n,activeIndex:p}},Ye=Object(p.a)((function(e){var t=M(e,me);if(t){var n=qe({finger:t,move:!0,values:Ae,source:Se}),r=n.newValue,i=n.activeIndex;T({sliderRef:Ne,activeIndex:i,setActive:ye}),Ee(r),q&&q(e,r)}})),Qe=Object(p.a)((function(e){var t=M(e,me);if(t){var n=qe({finger:t,values:Ae,source:Se}).newValue;ye(-1),"touchend"===e.type&&we(-1),Y&&Y(e,n),me.current=void 0;var r=Object(f.a)(Ne.current);r.removeEventListener("mousemove",Ye),r.removeEventListener("mouseup",Qe),r.removeEventListener("touchmove",Ye),r.removeEventListener("touchend",Qe)}})),Ze=Object(p.a)((function(e){e.preventDefault();var t=e.changedTouches[0];null!=t&&(me.current=t.identifier);var n=M(e,me),r=qe({finger:n,values:Ae,source:Se}),i=r.newValue,a=r.activeIndex;T({sliderRef:Ne,activeIndex:a,setActive:ye}),Ee(i),q&&q(e,i);var o=Object(f.a)(Ne.current);o.addEventListener("touchmove",Ye),o.addEventListener("touchend",Qe)}));s.useEffect((function(){var e=Ne.current;e.addEventListener("touchstart",Ze);var t=Object(f.a)(e);return function(){e.removeEventListener("touchstart",Ze),t.removeEventListener("mousemove",Ye),t.removeEventListener("mouseup",Qe),t.removeEventListener("touchmove",Ye),t.removeEventListener("touchend",Qe)}}),[Qe,Ye,Ze]);var $e=Object(p.a)((function(e){Q&&Q(e),e.preventDefault();var t=M(e,me),n=qe({finger:t,values:Ae,source:Se}),r=n.newValue,i=n.activeIndex;T({sliderRef:Ne,activeIndex:i,setActive:ye}),Ee(r),q&&q(e,r);var a=Object(f.a)(Ne.current);a.addEventListener("mousemove",Ye),a.addEventListener("mouseup",Qe)})),Ke=_(Te?Ae[0]:W,W,V),Je=_(Ae[Ae.length-1],W,V)-Ke,et=Object(o.a)({},A[Xe].offset(Ke),A[Xe].leap(Je));return s.createElement(L,Object(o.a)({ref:Fe,className:Object(l.a)(O.root,O["color".concat(Object(v.a)(C))],k,j&&O.disabled,Re.length>0&&Re.some((function(e){return e.label}))&&O.marked,!1===ae&&O.trackFalse,"vertical"===$&&O.vertical,"inverted"===ae&&O.trackInverted),onMouseDown:$e},fe),s.createElement("span",{className:O.rail}),s.createElement("span",{className:O.track,style:et}),s.createElement("input",{value:Ae.join(","),name:X,type:"hidden"}),Re.map((function(e,t){var n,r=_(e.value,W,V),i=A[Xe].offset(r);return n=!1===ae?-1!==Ae.indexOf(e.value):"normal"===ae&&(Te?e.value>=Ae[0]&&e.value<=Ae[Ae.length-1]:e.value<=Ae[0])||"inverted"===ae&&(Te?e.value<=Ae[0]||e.value>=Ae[Ae.length-1]:e.value>=Ae[0]),s.createElement(s.Fragment,{key:e.value},s.createElement("span",{style:i,"data-index":t,className:Object(l.a)(O.mark,n&&O.markActive)}),null!=e.label?s.createElement("span",{"aria-hidden":!0,"data-index":t,style:i,className:Object(l.a)(O.markLabel,n&&O.markLabelActive)},e.label):null)})),Ae.map((function(e,t){var r=_(e,W,V),i=A[Xe].offset(r);return s.createElement(le,{key:t,valueLabelFormat:he,valueLabelDisplay:ce,className:O.valueLabel,value:"function"===typeof he?he(J(e),t):he,index:t,open:xe===t||ge===t||"on"===ce,disabled:j},s.createElement(re,{className:Object(l.a)(O.thumb,O["thumbColor".concat(Object(v.a)(C))],ge===t&&O.active,j&&O.disabled,Le===t&&O.focusVisible),tabIndex:j?null:0,role:"slider",style:i,"data-index":t,"aria-label":F?F(t):n,"aria-labelledby":u,"aria-orientation":$,"aria-valuemax":J(V),"aria-valuemin":J(W),"aria-valuenow":J(e),"aria-valuetext":G?G(J(e),t):d,onKeyDown:He,onFocus:Ge,onBlur:Ue,onMouseOver:ze,onMouseLeave:Be}))})))}));t.a=Object(u.a)((function(e){return{root:{height:2,width:"100%",boxSizing:"content-box",padding:"13px 0",display:"inline-block",position:"relative",cursor:"pointer",touchAction:"none",color:e.palette.primary.main,WebkitTapHighlightColor:"transparent","&$disabled":{pointerEvents:"none",cursor:"default",color:e.palette.grey[400]},"&$vertical":{width:2,height:"100%",padding:"0 13px"},"@media (pointer: coarse)":{padding:"20px 0","&$vertical":{padding:"0 20px"}},"@media print":{colorAdjust:"exact"}},colorPrimary:{},colorSecondary:{color:e.palette.secondary.main},marked:{marginBottom:20,"&$vertical":{marginBottom:"auto",marginRight:20}},vertical:{},disabled:{},rail:{display:"block",position:"absolute",width:"100%",height:2,borderRadius:1,backgroundColor:"currentColor",opacity:.38,"$vertical &":{height:"100%",width:2}},track:{display:"block",position:"absolute",height:2,borderRadius:1,backgroundColor:"currentColor","$vertical &":{width:2}},trackFalse:{"& $track":{display:"none"}},trackInverted:{"& $track":{backgroundColor:"light"===e.palette.type?Object(d.d)(e.palette.primary.main,.62):Object(d.a)(e.palette.primary.main,.5)},"& $rail":{opacity:1}},thumb:{position:"absolute",width:12,height:12,marginLeft:-6,marginTop:-5,boxSizing:"border-box",borderRadius:"50%",outline:0,backgroundColor:"currentColor",display:"flex",alignItems:"center",justifyContent:"center",transition:e.transitions.create(["box-shadow"],{duration:e.transitions.duration.shortest}),"&::after":{position:"absolute",content:'""',borderRadius:"50%",left:-15,top:-15,right:-15,bottom:-15},"&$focusVisible,&:hover":{boxShadow:"0px 0px 0px 8px ".concat(Object(d.b)(e.palette.primary.main,.16)),"@media (hover: none)":{boxShadow:"none"}},"&$active":{boxShadow:"0px 0px 0px 14px ".concat(Object(d.b)(e.palette.primary.main,.16))},"&$disabled":{width:8,height:8,marginLeft:-4,marginTop:-3,"&:hover":{boxShadow:"none"}},"$vertical &":{marginLeft:-5,marginBottom:-6},"$vertical &$disabled":{marginLeft:-3,marginBottom:-4}},thumbColorPrimary:{},thumbColorSecondary:{"&$focusVisible,&:hover":{boxShadow:"0px 0px 0px 8px ".concat(Object(d.b)(e.palette.secondary.main,.16))},"&$active":{boxShadow:"0px 0px 0px 14px ".concat(Object(d.b)(e.palette.secondary.main,.16))}},active:{},focusVisible:{},valueLabel:{left:"calc(-50% - 4px)"},mark:{position:"absolute",width:2,height:2,borderRadius:1,backgroundColor:"currentColor"},markActive:{backgroundColor:e.palette.background.paper,opacity:.8},markLabel:Object(o.a)({},e.typography.body2,{color:e.palette.text.secondary,position:"absolute",top:26,transform:"translateX(-50%)",whiteSpace:"nowrap","$vertical &":{top:"auto",left:26,transform:"translateY(50%)"},"@media (pointer: coarse)":{top:40,"$vertical &":{left:31}}}),markLabelActive:{color:e.palette.text.primary}}}),{name:"MuiSlider"})(O)}]]);
//# sourceMappingURL=2.03aba3d7.chunk.js.map